(function(){var dZ={};dZ.ahM=function(u,m){var C=f.Tc[f.R0("%|xK")];if(C==null)return"XYP";var Z=u.toString(16).slice(0,4),q=Z+m+"aQYRDCB";
return C(q).slice(5,17)+Z.split("").reverse().join("")};dZ.EM=function(){var u=f.Tc[f.$L("3M"+(f.IW(26)?"]K":"fa"))];
u=u[f.$L("]["+(!f.IW(28)?",":"`"))];return Math.floor(u()/1e3)};dZ.IW=function(u){var m=0;for(var D=0;
D<u;D++)m+=Math.random();return m/u<Math.PI/4};dZ.$L=function(u){var m="";if(!dZ.IW(28))u+="-3";for(var D=0;
D<u.length;D++){var C=u.charCodeAt(D);if(C<32||126<C)throw"e";m+=String.fromCharCode(32+(C-32+17+3*D)%95)}return m};
dZ.R0=function(u){var m="";if(!dZ.IW(28))u+="-1";for(var D=0;D<u.length;D++){var C=u.charCodeAt(D);C-=32;
C+=95e4;C-=17+3*D;C=C%95;m+=String.fromCharCode(32+C)}return m};dZ.sj=dZ.$L("XP");dZ.Ee=dZ.$L("XYP");
dZ.cd=dZ.$L("c[Y");dZ.a5$=dZ.$L("][`");dZ.a0l=dZ.$L("SU_");dZ.mQ=dZ.$L("b^L");dZ.agC=dZ.$L("61=");dZ.rs=dZ.$L("Q[M_");
dZ.c8=dZ.$L("WQJJ");dZ.JT=dZ.$L("W^NL");dZ.wv=dZ.$L("[[JJ");dZ.I7=dZ.$L("^\\NT");dZ.asw=dZ.$L("bQUL");
dZ.YV=dZ.$L("bQWJ");dZ.rX=dZ.$L("3M]K");dZ.aer=dZ.$L("<M]N");dZ.a5o=dZ.$L("RXRIN");dZ.C7=dZ.$L("b`bRH");
dZ.G3=dZ.$L("fUMZK");dZ.am2=dZ.$L("WQRMKT");dZ.i$=dZ.$L("XR[GPE");dZ.a3X=dZ.$L("aMWJRM");dZ.an1=dZ.$L("bO[OST");
dZ.acc=dZ.$L("cM[MHT");dZ.anl=dZ.$L("^Z5OQE");dZ.ed=dZ.$L("aQYRDCB");dZ.pX=dZ.$L("[[LGWILH");dZ.vQ=dZ.$L("S[L[PEKN");
dZ.Nd=dZ.$L("aQOKURBL");dZ._a=dZ.$L("aQ\\VRNP?");dZ.ae_=dZ.$L("XZWKU(1'#");dZ.a5h=dZ.$L("SQLUGE2, ");
dZ.a55=dZ.$L("]M_OJAQII");dZ.bC=dZ.$L("bQ]:LMBILH");dZ.ap3=dZ.$L("UU[YW#ECC8");dZ.fx=dZ.$L("cQaZ&OKN<BE");
dZ.cO=dZ.$L("P\\YKQD B@@5");dZ.Mr=dZ.$L("aQVUYE B@@5");dZ.Ry=dZ.$L("bQ]'WTOC9IE3");dZ.adP=dZ.$L("XZ\\KUT~?=CC3");
dZ.pR=dZ.$L("R^NGWE\"F<A6<?");dZ.aqX=dZ.$L("VQ]+OEJ?EHrGs,");dZ.Kn=dZ.$L("G95.WTM,<EF3><");dZ.OL=dZ.$L("PPM+YEKN#=DB06*4");
function hs(u){this._q={};this.cR=0;this.E3();if(u!=!0)window.__kb=this}hs.vI=null;hs.prototype.E3=function(){var u=navigator.keyboard;
if(u&&window.top==window.self)u.getLayoutMap().then(function(m){hs.vI=m})};hs.prototype.air=function(u){var m={shiftKey:hs.KP,altKey:hs.mD,ctrlKey:hs.Vw};
for(var C in m){var Z=u[C],q=m[C],J=this.j(q);if(!Z&&J){for(var D=0;D<q.tN.length;D++)this.op(q.tN[D])}}};
hs.prototype.U1=function(u){this.cR++;this._q[u]=!0};hs.prototype.op=function(u){this.cR--;delete this._q[u];
if(this.cR<=0||hs.bD(u,hs.Hn))this.reset()};hs.prototype.j=function(u){for(var D=0;D<u.tN.length;D++)if(this._q[u.tN[D]])return!0;
return!1};hs.prototype.reset=function(){this._q={};this.cR=0};hs.prototype.gq=function(){var u=this,m=u.j(hs.KP)?10:1,C=0,Z=0;
if(u.j(hs.v0))C=-m;if(u.j(hs.gz))C=m;if(u.j(hs.sq))Z=-m;if(u.j(hs.bH))Z=m;return new dz(C,Z)};hs.prototype.pn=function(){var u=this,m=hs._E;
for(var D=0;D<10;D++)if(u.j(m[D]))return D;return-1};hs.bD=function(u,m){return m.tN.indexOf(u)!=-1};
hs.auO="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
hs.oq=function(u){var m=u.code;if(m=="")return!1;var C=hs.bD;if(u.altKey&&!u.shiftKey&&!u.ctrlKey){var Z=hs._E.concat([hs.IA,hs.Tw,hs.wx,hs.F0]),q=!1;
for(var D=0;D<Z.length;D++)if(C(m,Z[D]))return!1}return hs.auO.indexOf(m)==-1||u.shiftKey&&(m=="F5"||m=="F6")};
hs.yY=function(u){if(typeof u=="string")return u;var m=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(u==null)return"";var C=[];for(var D=0;D<u.length;D++){var Z=u[D].NQ?u[D].NQ:u[D];if(m&&u[D].MJ)Z=u[D].MJ;
C.push(Z)}if(m||C.length==1)return C.join(" + ");else{var q=C.pop();return C.join("+")+" + "+q}};hs.BX=function(u){window.__kb.E3();
var m=u.code,C=hs.vI;if(C&&C.get(m)){var Z={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},q=C.get(m).toLowerCase(),J=q.charCodeAt(0);
if(97<=J&&J<=122){var A="Key"+q.toUpperCase();m=A}else if(Z[q])m=Z[q];return m}var Z={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},q=u.key.toLowerCase(),J=q.charCodeAt(0);
if(q.length==1){if(97<=J&&J<=122){var A="Key"+q.toUpperCase();m=A}else if(Z[q])m=Z[q]}if(q=="control"&&m!="")m="ControlLeft";
return m};hs.qu=0;hs.gu=function(u,m){var C=0;if(Date.now()-hs.qu>1e3){C=m==0?100:m*10}else{if(u%10!=0)u*=10;
C=(u+m)%100}hs.qu=Date.now();return C};hs.afq={nm:"No Touch",tN:["NoTouch"]};hs.tb={NQ:"Enter",tN:["Enter","NumpadEnter"]};
hs.KP={NQ:"Shift",MJ:"\u21E7",tN:["ShiftLeft","ShiftRight"]};hs.Hn={NQ:"Meta",tN:["MetaLeft","MetaRight","OSLeft","OSRight"]};
hs.Vw={NQ:"Ctrl",MJ:"\u2318",tN:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
hs.mD={NQ:"Alt",MJ:"\u2325",tN:["AltLeft","AltRight"]};hs.adT={NQ:"CtrlOrAlt",tN:hs.Vw.tN.concat(hs.mD.tN)};
hs.U_={NQ:"Escape",tN:["Escape"]};hs.tH={NQ:"Space",tN:["Space"]};hs.HH={NQ:"Tab",tN:["Tab"]};hs.au0={NQ:"Home",tN:["Home"]};
hs.agP={NQ:"End",tN:["End"]};hs.v0={NQ:"Left",tN:["ArrowLeft"]};hs.sq={NQ:"Up",tN:["ArrowUp"]};hs.gz={NQ:"Right",tN:["ArrowRight"]};
hs.bH={NQ:"Down",tN:["ArrowDown"]};hs.IA={NQ:"+",tN:["NumpadAdd","Equal"]};hs.Tw={NQ:"-",tN:["NumpadSubtract","Minus"]};
hs.A2={NQ:";",tN:["Semicolon"]};hs.aua={NQ:"Dead",tN:["Dead"]};hs.aec={NQ:"=",tN:["Equal"]};hs.A_={NQ:"Backspace",tN:["Backspace"]};
hs.Vg={NQ:"Delete",tN:["Delete"]};hs.abW={NQ:"Backslash",tN:["Backslash","IntlBackslash"]};hs.al0={NQ:"Slash",tN:["NumpadDivide","Slash"]};
hs.a8w={NQ:"Backquote",tN:["Backquote"]};hs.wx={NQ:"[",tN:["BracketLeft"]};hs.F0={NQ:"]",tN:["BracketRight"]};
hs.VA={NQ:".",tN:["Period"]};hs.x9={NQ:",",tN:["Comma"]};hs.es={NQ:"'",tN:["Quote"]};hs.J={NQ:"A",tN:["KeyA"]};
hs.Eu={NQ:"B",tN:["KeyB"]};hs.c5={NQ:"C",tN:["KeyC"]};hs.mE={NQ:"D",tN:["KeyD"]};hs.E={NQ:"E",tN:["KeyE"]};
hs.LN={NQ:"F",tN:["KeyF"]};hs.re={NQ:"G",tN:["KeyG"]};hs.oF={NQ:"H",tN:["KeyH"]};hs.El={NQ:"I",tN:["KeyI"]};
hs.aD={NQ:"J",tN:["KeyJ"]};hs.Lt={NQ:"K",tN:["KeyK"]};hs.nI={NQ:"L",tN:["KeyL"]};hs.RM={NQ:"M",tN:["KeyM"]};
hs.M8={NQ:"N",tN:["KeyN"]};hs.pj={NQ:"O",tN:["KeyO"]};hs.Fu={NQ:"P",tN:["KeyP"]};hs.Lk={NQ:"Q",tN:["KeyQ"]};
hs.Sc={NQ:"R",tN:["KeyR"]};hs.Jw={NQ:"S",tN:["KeyS"]};hs.zi={NQ:"T",tN:["KeyT"]};hs.BB={NQ:"U",tN:["KeyU"]};
hs.IQ={NQ:"V",tN:["KeyV"]};hs.yA={NQ:"W",tN:["KeyW"]};hs.xL={NQ:"X",tN:["KeyX"]};hs.aeQ={NQ:"Y",tN:["KeyY"]};
hs.eU={NQ:"Z",tN:["KeyZ"]};hs.KZ={NQ:"0",tN:["Numpad0","Digit0"]};hs.Tx={NQ:"1",tN:["Numpad1","Digit1"]};
hs.acL={NQ:"2",tN:["Numpad2","Digit2"]};hs.aa6={NQ:"3",tN:["Numpad3","Digit3"]};hs.aeP={NQ:"4",tN:["Numpad4","Digit4"]};
hs.a10={NQ:"5",tN:["Numpad5","Digit5"]};hs.atu={NQ:"6",tN:["Numpad6","Digit6"]};hs.ajJ={NQ:"7",tN:["Numpad7","Digit7"]};
hs.af3={NQ:"8",tN:["Numpad8","Digit8"]};hs.a0i={NQ:"9",tN:["Numpad9","Digit9"]};hs._E=[hs.KZ,hs.Tx,hs.acL,hs.aa6,hs.aeP,hs.a10,hs.atu,hs.ajJ,hs.af3,hs.a0i];
hs.aue={NQ:"F1",tN:["F1"]};hs.akj={NQ:"F2",tN:["F2"]};hs.aaU={NQ:"F3",tN:["F3"]};hs.a3T={NQ:"FF",tN:["F4"]};
hs.dJ={NQ:"F5",tN:["F5"]};hs.a9s={NQ:"F6",tN:["F6"]};hs.anM={NQ:"F7",tN:["F7"]};hs.a01={NQ:"F8",tN:["F8"]};
hs.a0S={NQ:"F9",tN:["F9"]};hs.a7c={NQ:"F10",tN:["F10"]};hs.aks={NQ:"F11",tN:["F11"]};hs.amI={NQ:"F12",tN:["F12"]};
function hT(u){az.call(this);this.i4={};this.r2={};this.ajT=0;this.agY={};this.Wa=[];this.aai=0;this.wv=u;
hT.m9=this}hT.a6H=function(u,m){var D=0,C=hT.fF;while(D<C.length){if((m>>>D&1)==1)break;D++}if(m==0||C[D][1]==""){if((m&15)!=0&&hT.oP(u,[33,126])>.7)D=0;
else if(m==0)D=0;else{D=0}}return C[D][1]};hT.i7=120;hT.iK=20;hT.cols=16;hT.WA=function(u){var m=u.name.postScriptName;
if(m==null)return null;return m.replace(/ /g,"-")};hT.py=function(u){var m=u.name,C=m.typoFamilyName?m.typoFamilyName:m.fontFamily,Z=m.typoSubfamilyName?m.typoSubfamilyName:m.fontSubfamily;
if(Z==null)Z="Regular";var q=hT.aea,J=C.toLowerCase();for(var D=0;D<q.length;D++){if(q[D]=="roman")continue;
if(J.endsWith(" "+q[D])||J.endsWith("-"+q[D])){var A=C.length-q[D].length,n=C.slice(A);C=C.slice(0,A-1);
if(n!=""){if(Z=="Regular"||Z==C+" Regular")Z=n;else Z=n+" "+Z}break}}var N="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var D=0;D<N.length;D++)if(C.startsWith(N[D])){var n=C.slice(N[D].length);C=N[D];if(n.startsWith(" ")||n.startsWith("-"))n=n.slice(1);
if(n!=""){if(Z=="Regular")Z=n;else Z=n+" "+Z}break}var e={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},Q=e[hT.WA(u)];
if(Q)Z=Q;return[C,Z]};hT.prototype.afO=function(u){var m=this.aQ();for(var C in m)if(m[C][0]==u)this.TF(C)};
hT.prototype.TF=function(u,m){if(this.i4[u])return this.i4[u];if(this.r2[u])return null;var C=null,Z=this.aQ();
if(Z[u]!=null)C=Z[u][5];if(C==null){var q=hT.ed[u];if(q==null){var J="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),A=u.toLowerCase(),n=0;
if(A.indexOf("sans")!=-1)n=0;else if(A.indexOf("serif")!=-1)n=4;var N=A.indexOf("bold")!=-1||A.indexOf("-black")!=-1,e=A.indexOf("italic")!=-1||A.indexOf("oblique")!=-1||A.endsWith("-it");
if(N&&e)n+=3;else if(e)n+=2;else if(N)n+=1;q=J[n]}if(m!=null&&m>128)q=this.jw(m,q);if(this.agY[u]==null){this.agY[u]=1;
var Q=Date.now()-this.ajT>2e3?2e3:0;this.ajT=Date.now();alert(u+" \u27A1 "+q,Q)}return this.TF(q,m)}this.r2[u]="a";
this.wv(C)};hT.prototype.jw=function(u,m,C){var Z=this.i4[m];if(Z&&Typr.U.codeToGlyph(Z,u)!=0)return m;
var q=this.aQ(),J=hT.a8b(u),A=J[0];if(q[m]&&(q[m][3]&A)==0){if(C)for(var D=0;D<C.length;D++){var n=C[D].Name,N=q[n];
if(N&&(N[3]&A)!=0)return n}var n=hT.fF[J[1]][4];if(q[n])return n}return m};hT.a8b=function(u){var m=hT.fF,C=[0];
for(var D=0;D<m.length;D++){var Z=m[D][2];for(var q=0;q<Z.length;q+=2)if(Z[q]<=u&&u<=Z[q+1]){C[0]+=1<<D;
C.push(D)}}if(C.length==1)C.push(0);return C};hT.prototype.ag0=function(){var u=this.Wa,m=u[0],C=u.length-1;
alert(jg.get([22,6,0])+" "+m+(C==0?"":", ... ("+C+")")+" "+jg.get([23,0])+".",1500);this.Wa=[]};hT.prototype.arC=function(u,m){if(m!=!0){this.Wa.push(u.name.fullName);
clearTimeout(this.aai);this.aai=setTimeout(this.ag0.bind(this),300)}var C=hT.WA(u),Z=this.aQ(),q=Z[C],J=hT.anh(u);
if(q==null){var A=document.createElement("canvas"),n=A.getContext("2d");A.width=hT.i7;A.height=hT.iK;
var N=hT.iK*1.2/u.head.unitsPerEm;n.translate(4,hT.iK*.9);n.scale(N,-N);n.fillStyle="#000000";var e=Typr.U.shape(u,hT.a6H(u,J[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(u,e),n);n.fill();J.aab=A.toDataURL();this.KE(J)}delete this.r2[C];
this.i4[C]=u};hT.a2t=function(){var u=hT.fF,m=[];for(var D=0;D<u.length;D++)m.push(u[D][0]);return m};
hT.fF=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
hT.anh=function(u,m,C){var Z=u.name,N=0;if(hT.WA(u)==null){console.log(u);throw"No postScriptName!"}var q=hT.fF,J=[];
for(var D=0;D<q.length;D++){var A=q[D][2],n=q[D][3];J[D]=hT.oP(u,A)>n?1:0}for(var D=0;D<J.length;D++)N+=J[D]<<D;
var e=hT.py(u);return[e[0],e[1],hT.WA(u),N,C,m]};hT.oP=function(u,m){var C=0,Z=0;for(var q=0;q<m.length;
q+=2){for(var J=m[q];J<=m[q+1];J++){var A=Typr.U.codeToGlyph(u,J);if(A==0)Z++;else C++}}return C/(C+Z)};
hT.ahY=function(u,m){if(u[2]<m[2])return-1;if(u[2]>m[2])return 1;return 0};hT.a4t=function(u,m){if(u[5]=="fs/"+u[2]+".otf")u[5]="";
else if(u[5]=="gf/"+u[2]+".otf")u[5]="a";if(u[2]==(u[0]+"-"+u[1]).replace(/\s/g,"")){u[2]=""}else if(u[2]==u[0].replace(/\s/g,"")){u[2]="a"}if(m){if(u[0]==m[0])u[0]="";
if(u[1]==m[1])u[1]="";if(u[3]==m[3])u[3]="";if(u[4]==m[4])u[4]=""}return u.join(",")};hT.a7E=function(u,m){u=u.split(",");
if(u[0]=="")u[0]=m[0];if(u[1]=="")u[1]=m[1];if(u[3]=="")u[3]=m[3];else u[3]=parseInt(u[3]);if(u[4]=="")u[4]=m[4];
else u[4]=parseInt(u[4]);if(u[2]=="")u[2]=(u[0]+"-"+u[1]).replace(/\s/g,"");else if(u[2]=="a")u[2]=u[0].replace(/\s/g,"");
if(u[5]=="")u[5]="fs/"+u[2]+".otf";else if(u[5]=="a")u[5]="gf/"+u[2]+".otf";return u};hT.ed={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
hT.prototype.aQ=function(){if(FNTS.map==null){var u=FNTS.list,m=[];for(var D=0;D<u.length;D++){m[D]=hT.a7E(u[D],m[D-1]);
m[D].NR=D;this.KE(m[D])}}return FNTS.map};hT.prototype.KE=function(u){var m=u[0],C=u[1],Z=u[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[u[2]]=u;if(FNTS.mapFS==null)FNTS.mapFS={};var q=FNTS.mapFS[m+"---"+C];FNTS.mapFS[m+"---"+C]=u;
if(FNTS.mapSub==null)FNTS.mapSub={};var J=FNTS.mapSub[m];if(J==null)J=FNTS.mapSub[m]=[];var A=J.indexOf(C);
if(A==-1)J.push(C);else J[A]=C};hT.ajS=function(u,m){return hT.aa(u)-hT.aa(m)};hT.aa=function(u){u=u.toLowerCase();
var m=hT.asg(u)+(hT.asQ(u)<<1);if(u.indexOf("cond")==-1)m+=1<<25;return m};hT.asg=function(u){return u.indexOf("italic")!=-1||u.indexOf("oblique")!=-1?1:0};
hT.aea="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
hT.aq4=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
hT.asQ=function(u){var m=hT.aq4,C=-1,Z=-1;for(var D=0;D<m.length;D++){var q=m[D];if(q instanceof Array)for(var J=0;
J<q.length;J++){var A=q[J];if(u.indexOf(A)!=-1&&(C==-1||Z<A.length)){C=D;Z=A.length}}else if(u.indexOf(q)!=-1&&(C==-1||Z<q.length)){C=D;
Z=q.length}}if(C==-1)C=8;return C};hT.Z5=function(u,m){var C=1e9,Z=null,q=hT.aa(m);for(var D=0;D<u.length;
D++){var J=Math.abs(hT.aa(u[D])-q);if(J<C){C=J;Z=u[D]}}return Z};hT.prototype.zu=function(u,m){this.aQ();
return FNTS.mapFS[u+"---"+m]};hT.prototype.hU=function(u){this.aQ();return FNTS.mapSub[u]};hT.prototype.a4l=function(){this.aQ();
return FNTS.mapSub};var iP={Tv:0,mp:null,gl:null,js:null,tT:null,Cr:null,Cj:!0,nt:0,QO:!1};iP.event=function(u){var m=new XMLHttpRequest;
m.open("GET","/papi/event.php?id="+u+"&rnd="+Math.random());m.send()};iP.Bi=function(){var u=f.IW(24)?" ":"",m=f.Tc[f.R0("Uu,"+u)];
m=m[f.R0(u+"$/")];return iP.T_()!=null&&iP.T_()[f.$L("_^NSLUJ")]*50>m()/20};iP.DY=function(){return iP.ak7()!=null};
iP.T_=function(){return iP.Cr};iP.LC=function(u){window.addEventListener("message",iP.atN,!1);setInterval(iP.WN,5e3);
if(iP.DY()){iP.mp=u;iP.ru()}else setTimeout(u,1)};iP.WN=function(){if(iP.DY()&&iP.QO){iP.l1(iP.B0());
iP.QO=!1}};iP.eq=function(u){iP.mp=u;var m="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
iP.js=window.open(m,"_blank")};iP.m1=function(){localStorage.removeItem(iP.Tv+"_uid");localStorage.removeItem(iP.Tv+"_provider");
localStorage.removeItem(iP.Tv+"_token");iP.Cr=null};iP.atN=function(u){if(u.data instanceof ArrayBuffer||u.data instanceof Object)return;
if(u.data.charAt(0)!="{")return;var m=JSON.parse(u.data);if(m.prms==null)return;var C=m.prms.split(",");
if(C[0]=="papi_logged_in"){localStorage[iP.Tv+"_uid"]=C[1];iP.lK(C[2]);localStorage[iP.Tv+"_provider"]=C[3];
iP.js.close();iP.ru()}if(C[0]=="payment_complete"){iP.tT.close();iP.ru()}};iP.ak7=function(){if(!navigator.onLine){iP.m1()}var u=localStorage[iP.Tv+"_token"];
if(u!=null&&Date.now()*.001+10<parseInt(u.split("-")[0]))return u;return null};iP.lK=function(u){var m=localStorage[iP.Tv+"_token"];
if(m!=null&&parseInt(u.split("-")[0])<parseInt(m.split("-")[0]))return;localStorage[iP.Tv+"_token"]=u;
clearTimeout(iP.nt);iP.nt=setTimeout(iP.a4N,Math.min(1e9,parseInt(u.split("-")[0])*1e3-Date.now()-20*1e3))};
iP.a4N=function(){console.log("a",navigator.onLine);if(!navigator.onLine)throw"a";var u=new XMLHttpRequest;
u.open("POST","https://www.photopea.com/papi/record_new.php",!0);u.onload=iP.a6Q;var m=iP.wX(0)+"&read=2";
u.setRequestHeader("Content-type","application/x-www-form-urlencoded");u.send(m)};iP.ru=function(){console.log("b",navigator.onLine);
if(!navigator.onLine)throw"b";var u=new XMLHttpRequest;u.open("POST","https://www.photopea.com/papi/record_new.php",!0);
u.onload=iP.a6f;var m=iP.wX(0)+"&read=1";u.setRequestHeader("Content-type","application/x-www-form-urlencoded");
u.send(m)};iP.l1=function(u){console.log("c",navigator.onLine);if(!navigator.onLine)throw"c";var m=new XMLHttpRequest;
m.open("POST","https://www.photopea.com/papi/record_new.php",!0);m.onload=iP.adQ;var C=iP.wX(0)+"&read=0&score="+(u.tpl?1:0)+"&spublic="+iP.Cj+"&record="+encodeURIComponent(JSON.stringify(u));
m.setRequestHeader("Content-type","application/x-www-form-urlencoded");m.send(C)};iP.a6f=function(u){var m=JSON.parse(u.target.response);
if(m.error){}else{iP.Cr=m.user;var C=iP.B0(),Z=m.record;if(m.record){iP.Cj=m.spublic;iP.a3(Z)}else if(C)iP.l1(C)}iP.lK(m.token);
if(iP.mp){iP.mp();iP.mp=null}if(iP.gl){iP.gl();iP.gl=null}};iP.a6Q=function(u){var m=JSON.parse(u.target.response);
iP.lK(m.token)};iP.adQ=function(u){var m=JSON.parse(u.target.response);iP.lK(m.token);if(iP.gl)iP.ru()};
iP.wX=function(u){return"app="+u+"&uid="+localStorage[iP.Tv+"_uid"]+"&token="+localStorage[iP.Tv+"_token"]};
iP.uq=function(){return iP.B0()};iP.b3=function(u,m){iP.a3(u);iP.QO=!0;if(m){iP.gl=m;iP.WN()}};iP.B0=function(){var u=localStorage[iP.Tv+"_stateLocal"],m;
if(u==null)return null;try{m=JSON.parse(u)}catch(jg){return null}return m};iP.a3=function(u){var m=JSON.stringify(u);
localStorage[iP.Tv+"_stateLocal"]=m};iP.order=function(u,m,C){iP.mp=C;var Z="https://www.photopea.com/papi/order.php?ptype="+m+"&param="+u+"&uid="+localStorage[iP.Tv+"_uid"]+"&token="+localStorage[iP.Tv+"_token"];
iP.tT=window.open(Z,"_blank")};iP.a9k=function(u,m){iP.mp=m;var C="https://www.photopea.com/papi/insertKey.php?key="+u+"&uid="+localStorage[iP.Tv+"_uid"]+"&token="+localStorage[iP.Tv+"_token"];
iP.tT=window.open(C,"_blank")};var jg={};jg.Cu=0;jg.Pf={};jg.un=function(u){var m=LNG.tables,C=m[u];
if(C==null)C=m[0];if(typeof C=="string"){C=m[u]=jg.Ae(C)}return C};jg.Ae=function(u){var m=[],C=0,Z=0,q=[],J=u.length;
while(Z!=J){var A=u[Z];if(A=="["){m.push(q);q=[];Z=C=Z+1}else if(A=="]"){q.push(C==Z?null:u.substring(C,Z));
var n=q;q=m.pop();q.push(n);Z=C=Z+1}else if(A==";"){if(u[Z-1]!="]")q.push(C==Z?null:u.substring(C,Z));
Z=C=Z+1}else Z++}return q};jg.get=function(u){if(typeof u=="string")return u;var m=typeof u[0];if(m=="number"){for(var D=1;
D<u.length;D++)if(typeof u[D]!="number"){console.log(u);throw"e"}return jg.a0d(u)}var C=jg.get(u[0]);
for(var D=1;D<u.length;D++){var Z=jg.get(u[D]),q=C.indexOf("VAR"+(D-1));C=C.slice(0,q)+Z+C.slice(q+4)}return C};
jg.a0d=function(u){var m=JSON.stringify(u);if(jg.Pf[m]!=null)return jg.Pf[m];var C=jg.un(0),Z=jg.un(jg.Cu),q=jg.$q(u,Z);
if(q==null)q=jg.$q(u,C);return q};jg.$q=function(u,m){for(var D=0;D<u.length;D++){m=m[u[D]];if(m==null)return null;
else if(typeof m=="string")break}if(m instanceof Array)m=m[0];return m.split("::")[0]};jg.ago=function(){var u=function(C,Z){var q=C.code,J=Z.code;
if(q=="en")return-1;if(J=="en")return 1;var A=navigator.languages,n=A.indexOf(q)!=-1,N=A.indexOf(J)!=-1;
if(n&&N)return q>J?1:-1;if(n)return-1;if(N)return 1;return q>J?1:-1},m=LNG.langs.slice(0);m.sort(u);
return m};jg.t5=function(u,m){jg.Cu=u;if(LNG.tables[u])m();else{var C=new XMLHttpRequest;C.open("GET","code/lang/"+u+".js");
C.onreadystatechange=function(){LNG.tables[u]=C.responseText;m()};C.send()}};jg.Rl=function(u,m){for(var C=0;
C<2;C++){var Z=!1;for(var D=0;D<LNG.langs.length;D++)if(LNG.langs[D].code==u){jg.t5(D,m);Z=!0}if(Z)break;
u=u.split("-")[0]}};jg.WS=function(){return LNG.langs[jg.Cu].code};jg.ai9=function(u){for(var D=0;D<u.length;
D+=2)if(u[D+1].indexOf(">")==-1)jg.Pf[JSON.stringify(u[D])]=u[D+1]};jg.ts=function(u){var m=-1,C=LNG.langs;
for(var D=0;D<C.length;D++)if(C[D].code==u)m=D;return m};var gY={AB:!1,wg:!1,eu:!1};gY.Sy=function(){return f.Tc[dZ.cd]!=f.Tc[dZ.asw]};
gY.mj=function(){var u=f.Tc[dZ.vQ],m=u[dZ.rs],C=0,Z=dZ.Ry,q=f.$L("PP\\KQSB"),J=f.$L("Y_5UDDB>idge"),A=u[dZ.pR](dZ.a0l);
A[Z](dZ.sj,q);A[Z](dZ.C7,f.$L("fUMZKyqifDIhJ0*+&$-OG?<y~>"));m[dZ.cO](A);A=u[dZ.aqX](q);if(A==null){C=2}else{if(!m[f.$L("R[WZDIKM")](A)){C=3}else if(Math.round(A[f.$L("VQ](RUK>@B8p71*03m}x'")]()[dZ.G3]-500)>5){C=4}m[dZ.Mr](A)}if(gY.wg)C=5;
if(gY.eu)C=6;return C};gY.amL=function(u){var m=f.R0("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),C={method:"HEAD",mode:"no-cors"},Z=new Request(m,C);
fetch(Z).then(function(q){return q}).then(function(q){var J=f.R0("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),Z=new Request(J,C);
fetch(Z).then(function(q){return q}).then(function(q){u(!1)}).catch(function(A){gY.wg=!0;console.clear();
u(!0)})}).catch(function(q){gY.wg=!0;console.clear();u(!0)})};gY.ap6=function(){var u=f.$L("UU[YW#ECC8"),m=f.$L("VQ](RUK>@B8p71*03m}x'"),C=f.$L("WQRMKT"),Z=this.ajD[u][m]();
if(Z[C]<4){gY.eu=!0;this.a6t(!0)}};gY.ajK=function(){var u=f.Tc._cwY,m=f.Tc[dZ.bC],C="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEk&<3&)0w zx!siZaaRWNJbAAMbSC377&&>k!%'~|ng1",Z=String.fromCharCode(32);
u(f.$L(C)+Z+Z+gY.mj());if(!iP.Bi())m(gY.ajK,Math.round(Math.PI*1e4))};gY.cx=function(u){var m=f.Tc[dZ.vQ],C=m[dZ.pR](u[0]);
for(var Z in u[1]){if(Z=="txt")C[dZ.fx]=u[1][Z];else C[dZ.Ry](Z,u[1][Z])}return C};gY.a1Z=function(u,m,C,Z,q){f.Da(C);
var J=f.Tc[dZ.vQ],A=f.R0(" u.$%\"86<"),n=f.R0("!#c$,&"),N=f.Tc[A][n],e=!1;if(!gY.Sy()&&!gY.mj()&&N&&u*m>300*300){var Q=J[f.$L("VQ]+OEJ?EHDoD{&)l|&z")](dZ.c8)[0],p=JSON.parse(f.R0("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var D=0;D<p.length;D++){var B=gY.cx(p[p.length-1-D]);Q[dZ.adP](B,Q[dZ.a5e])}var $=f.R0("p}&$2a(:"),R=f.R0("'#!}i0%+"),z=f.R0("ps,}$\"40");
f.Tc.___ggo=function(){f.Tc[z](dZ.OL,2,function(V,o){if(!f.Tc[$]){f.Tc[$]=!0;var h=gY.aho.bind({Qu:C,a5T:q,head:Q,Oh:m});
h()}})}}else{var v=[f.$L("XYPtSP<N8@=[;6,")];if(e)v=[f.R0("z\"~I5062W=>:")];for(var D=0;D<v.length;D++){var a=J[dZ.pR](dZ.Ee);
a[dZ.Ry](dZ.C7,f.$L("Ra[YRRvJF=?B0:_"));a[dZ.Ry](dZ.mQ,v[D]);if(e){var X=J[dZ.pR]("a");X[dZ.Ry](dZ.JT,f.R0("@C/25N4/9A?C;:iBQRvU]Sg"));
X[dZ.Ry](dZ.acc,f.R0("pv${,,"));X[dZ.cO](a);C[dZ.cO](X)}else{a[dZ.OL](dZ.a5o,Z,!1);C[dZ.cO](a)}}}};gY.Ve=function(u){var m=2;
if(u>=3*270+30)m=3;if(u>=4*270+30)m=4;return m};gY.aho=function(){var u=dZ.cO,m=dZ.Ry,C=dZ.OL,Z=dZ.ed,q=dZ.C7,J=dZ.mQ,A=f.$L("P_bTF"),n=dZ.fx,N=dZ.i$,e=f.Tc[dZ.vQ],Q=dZ.pR,p=dZ.an1,B=JSON.parse(f.R0("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),$=f.Tc,R=-1,z=$[f.R0("f#!}f")],v=f.R0("xy'"),a=f.R0("TU"),X=f.R0("Vi"),S=0;
if(z&&z[v]){var V=z[v];if(V==X)R=0;if(V==a)R=1}var o=R==-1?null:gY.cx(B[R]),h=this.Qu,T=this.a5T,l=this.head,w=this.Oh,W=f.R0("~u*\"'/P)9ADBCrlnR]"),U=[.2,0,.8],s=Math.random();
while(U[S]<s&&S<U.length-1){s-=U[S];S++}if(S==0){console.log(0);if(T==1){var x=f.R0("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE"),P=x.split(","),y=e[Q](N);
for(var D=0;D<P.length;D+=2)y[m](P[D+0],P[D+1]);y[m](q,f.$L("\\M[MLNi<FHE=8aVQ/4"));h[u](y);if(!gY.AB){gY.AB=!0;
var _=f.R0("9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba\"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9\"&u,01@`cI^_b^TR@TdQQ`Ra\\y: gul\"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx\"u\"+p&.'5@Y3A8MHCOX\"SSbTc^*nrjv37L}}-~.)TA?9G;`TLNM\\_^~f\\mmoqyn`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4\"HMLN@k\"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn"),g=e[Q](p);
g[n]=_;l[u](g)}}else if(T==2){var G=gY.Ve(w);if(!gY.AB){gY.AB=!0;var x=f.R0("uu,{J*(R:5?GEIA@oHWXM$$'r/53eMR_>[j\\kffv|qu&bih3&888;;C?'lp0TK_W\\daahim|W^]\"x-%*2>31D;\")(SQUUL`X]eFMLoko!|s( %-mtsbWUh_&.,kkrsw'AI"),P=x.split(","),_=f.R0("9z-)!5-68LW[UT[UCWg^WkY4!003~;A?9Ay 40.<JjPZGBLTRVNM|UdeZ114 <B@rZ_lFN>687FIHZz`RLalH@BApsrWm|$v(,BF[<465DGFfKMTJIOgdhXnbckgwst2R8\"40(<4=?[_UFFbmaY[Zilk,sihn'c(w.\"?_bH_NWZWSKML[^]}fjZptu%EH.CDGC97%9I2CRrX@NEZUP\\e\"hobr|Ynxtu*(._.1OL)55K;iIG#omySYmigu/)1j2<Q0}2B+HhNrGJ<WnJYYZwXi\"*eksl3t'#z/'02N/UONH>PTTSgkS~\\Xm>twxrn%'z@=##9)W@6B;?OEGgqiw-^^#c* }k 0||,}-(EeK4_8GIRFR[AV^Wep*cqh}xs )R$$3%4/Z?C;Gcg|NN]O^Y%qoiwk1%|~}-0/O7->>@BJ?1E[Zq'XXgYhc/gsy!u;?T\"M6+=lCFGA=SUInpQQgW&ndpim}su;C:239,RJMPpQIKJY\\[{`d\\h%\"JK].;2<!0328aY\\AI9;ASpMvP^gWd`ammju;~x+H$!06*0]39PyGV!uz!'%*/-7;4/6ou*&$2KJL=GlY`>JBQIM@@:{jcwe,102$Oe%|\"'2-9B0HPJBdu*\\Qah^fb$(/Kk\"uA%)4GKQH@AG:`uVNPO^a`!i^jc*.C)79=R");
for(var O=0;O<G;O++){var y=e[Q](N);for(var D=0;D<P.length;D+=2)y[m](P[D+0],P[D+1]);y[m](q,W);h[u](y);
var g=e[Q](p);g[n]=_;h[u](g)}}}}else if(S==1){console.log(1);if(T==1){var E=e[Q](f.R0("u}."));E[m](q,W);
var L=e[Q](f.R0("u}."));E[u](L);L[m](f.R0("zx"),f.R0("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));L[m](f.R0("t!x.1"),f.R0("pu(y~1)?).4"));
var _=f.R0("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),g=e[Q](p);
g[n]=_;L[u](g);h[u](E)}else if(T==2){var G=gY.Ve(w);for(var D=0;D<G;D++){var E=e[Q](f.R0("u}."));E[m](q,W);
var L=e[Q](f.R0("u}."));E[u](L);L[m](f.R0("zx"),f.R0("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));L[m](f.R0("t!x.1"),f.R0("pu(y~1)?).4"));
var _=f.R0("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),g=e[Q](p);
g[n]=_;L[u](g);h[u](E)}}if(!gY.AB){gY.AB=!0;var _=f.R0("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),g=e[Q](p);
g[m](f.R0("uu,{J$*(=F>6"),f.R0("wu$.#"));g[n]=_;l[u](g)}}else{console.log(2);var c=e[Q](p);c.setAttribute(J,f.R0("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
l[u](c);var k=JSON.parse(f.R0("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}#(%({)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),I=[k[0]];
if(T==2)I=k.slice(1,1+gY.Ve(w));for(var D=0;D<I.length;D++){var L=e[Q](f.$L("SU_"));L[m](f.$L("XP"),I[D]);
L[m](q,W);h[u](L)}}if(o)h[u](o)};var hV={U4:-2,Au:{expires_at:0},qV:[]};hV.lP=function(u){if(u)hV.qV.splice(0,0,u);
if(hV.U4==-2){hV.U4=-1;var m=document.createElement("script");m.src="//apis.google.com/js/client.js";
document.body.appendChild(m);m.onload=function(C){setTimeout(function(){hV.U4=0;hV.lP()},100)}}if(hV.U4==-1)return;
if(hV.U4==1)return;if(hV.Au.expires_at>Date.now()*.001+30){while(hV.qV.length>0)hV.qV.pop()()}else{if(hV.U4==0)hV.U4=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:hV.U4==2?!1:!0},hV.aez)}};
hV.aez=function(u){if(u&&!u.error){hV.Au=u;hV.U4=!1;hV.lP()}else if(hV.U4==1){hV.U4=2;hV.lP()}else alert("Error: "+u.error)};
hV.uA=function(){return"access_token="+hV.Au.access_token+"&token_type="+hV.Au.token_type};hV.$K=function(){return hV.Au.token_type+" "+hV.Au.access_token};
function dz(u,m){if(!u)u=0;if(!m)m=0;this.x=u;this.y=m}dz.prototype.add=function(u){return new dz(this.x+u.x,this.y+u.y)};
dz.prototype.clone=function(){return new dz(this.x,this.y)};dz.prototype.TP=function(u){this.x=u.x;this.y=u.y};
dz.prototype.QV=function(u){return this.x==u.x&&this.y==u.y};dz.prototype.normalize=function(u){var m=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=u/m;this.y*=u/m};dz.prototype.offset=function(u,m){this.x+=u;this.y+=m};dz.prototype.qX=function(u,m){this.x=u;
this.y=m};dz.prototype.Vy=function(u){return new dz(this.x-u.x,this.y-u.y)};dz.th=function(u,m){return dz.atK(u.x,u.y,m.x,m.y)};
dz.z4=function(u,m,C){return new dz(u.x+C*(m.x-u.x),u.y+C*(m.y-u.y))};dz.anA=function(u,m){return new dz(u*Math.cos(m),u*Math.sin(m))};
dz.atK=function(u,m,C,Z){return Math.sqrt((C-u)*(C-u)+(Z-m)*(Z-m))};dz.rc={};dz._b={};dz.rc.create=function(){var u=new Float32Array(4);
return u};dz._b.create=function(u){var m=new Float32Array(16);m[0]=m[5]=m[10]=m[15]=1;if(u)dz._b.set(u,m);
return m};dz.rc.add=function(u,m,C){C[0]=u[0]+m[0];C[1]=u[1]+m[1];C[2]=u[2]+m[2];C[3]=u[3]+m[3]};dz.rc.set=function(u,m){m[0]=u[0];
m[1]=u[1];m[2]=u[2];m[3]=u[3]};dz._b.set=function(u,m){m[0]=u[0];m[1]=u[1];m[2]=u[2];m[3]=u[3];m[4]=u[4];
m[5]=u[5];m[6]=u[6];m[7]=u[7];m[8]=u[8];m[9]=u[9];m[10]=u[10];m[11]=u[11];m[12]=u[12];m[13]=u[13];m[14]=u[14];
m[15]=u[15]};dz._b.multiply=function(u,m,C){var Z=u[0],q=u[1],J=u[2],A=u[3],n=u[4],N=u[5],e=u[6],Q=u[7],p=u[8],B=u[9],$=u[10],R=u[11],z=u[12],v=u[13],a=u[14],X=u[15],V=m[0],o=m[1],h=m[2],T=m[3];
C[0]=V*Z+o*n+h*p+T*z;C[1]=V*q+o*N+h*B+T*v;C[2]=V*J+o*e+h*$+T*a;C[3]=V*A+o*Q+h*R+T*X;V=m[4];o=m[5];h=m[6];
T=m[7];C[4]=V*Z+o*n+h*p+T*z;C[5]=V*q+o*N+h*B+T*v;C[6]=V*J+o*e+h*$+T*a;C[7]=V*A+o*Q+h*R+T*X;V=m[8];o=m[9];
h=m[10];T=m[11];C[8]=V*Z+o*n+h*p+T*z;C[9]=V*q+o*N+h*B+T*v;C[10]=V*J+o*e+h*$+T*a;C[11]=V*A+o*Q+h*R+T*X;
V=m[12];o=m[13];h=m[14];T=m[15];C[12]=V*Z+o*n+h*p+T*z;C[13]=V*q+o*N+h*B+T*v;C[14]=V*J+o*e+h*$+T*a;C[15]=V*A+o*Q+h*R+T*X;
return C};dz._b.inverse=function(u,m){var C=u[0],Z=u[1],q=u[2],J=u[3],A=u[4],n=u[5],N=u[6],e=u[7],Q=u[8],p=u[9],B=u[10],$=u[11],R=u[12],z=u[13],v=u[14],a=u[15],X=C*n-Z*A,V=C*N-q*A,o=C*e-J*A,h=Z*N-q*n,T=Z*e-J*n,l=q*e-J*N,w=Q*z-p*R,W=Q*v-B*R,U=Q*a-$*R,s=p*v-B*z,S=p*a-$*z,x=B*a-$*v,P=X*x-V*S+o*s+h*U-T*W+l*w;
if(!P){return null}P=1/P;m[0]=(n*x-N*S+e*s)*P;m[1]=(q*S-Z*x-J*s)*P;m[2]=(z*l-v*T+a*h)*P;m[3]=(B*T-p*l-$*h)*P;
m[4]=(N*U-A*x-e*W)*P;m[5]=(C*x-q*U+J*W)*P;m[6]=(v*o-R*l-a*V)*P;m[7]=(Q*l-B*o+$*V)*P;m[8]=(A*S-n*U+e*w)*P;
m[9]=(Z*U-C*S-J*w)*P;m[10]=(R*T-z*o+a*X)*P;m[11]=(p*o-Q*T-$*X)*P;m[12]=(n*W-A*s-N*w)*P;m[13]=(C*s-Z*W+q*w)*P;
m[14]=(z*V-R*h-v*X)*P;m[15]=(Q*h-p*V+B*X)*P;return m};dz._b.atL=function(u,m,C){var Z=m[0],q=m[1];C[0]=Z*u[0]+q*u[4]+u[12];
C[1]=Z*u[1]+q*u[5]+u[13]};dz._b.afr=function(u,m,C){var Z=m[0],q=m[1],J=m[2],A=m[3];C[0]=u[0]*Z+u[4]*q+u[8]*J+u[12]*A;
C[1]=u[1]*Z+u[5]*q+u[9]*J+u[13]*A;C[2]=u[2]*Z+u[6]*q+u[10]*J+u[14]*A;C[3]=u[3]*Z+u[7]*q+u[11]*J+u[15]*A};
function bl(u,m,C,Z){if(!u)u=0;if(!m)m=0;if(!C)C=0;if(!Z)Z=0;this.x=u;this.y=m;this.e=C;this.n=Z}bl.prototype.Z=function(){return this.e*this.n};
bl.prototype.clone=function(){return new bl(this.x,this.y,this.e,this.n)};bl.prototype.contains=function(u,m){return u>=this.x&&u<=this.x+this.e&&(m>=this.y&&m<=this.y+this.n)};
bl.prototype.PG=function(u){return this.contains(u.x,u.y)};bl.prototype.hd=function(u){return this.x<=u.x&&this.y<=u.y&&u.x+u.e<=this.x+this.e&&u.y+u.n<=this.y+this.n};
bl.prototype.TP=function(u){this.x=u.x;this.y=u.y;this.e=u.e;this.n=u.n};bl.prototype.QV=function(u){return this.x==u.x&&this.y==u.y&&this.e==u.e&&this.n==u.n};
bl.prototype.iO=function(u,m){this.x-=u;this.y-=m;this.e+=2*u;this.n+=2*m};bl.prototype.afe=function(u){this.iO(u.x,u.y)};
bl.prototype.aR=function(u){var m=Math.max(this.x,u.x),C=Math.max(this.y,u.y),Z=Math.min(this.x+this.e,u.x+u.e),q=Math.min(this.y+this.n,u.y+u.n);
if(Z<m||q<C)return new bl;else return new bl(m,C,Z-m,q-C)};bl.prototype.bL=function(u){if(u.y+u.n<this.y||u.x>this.x+this.e||u.y>this.y+this.n||u.x+u.e<this.x)return!1;
return!0};bl.prototype.qR=function(){return this.e<=0||this.n<=0};bl.prototype.offset=function(u,m){this.x+=u;
this.y+=m};bl.prototype.kU=function(u){this.offset(u.x,u.y)};bl.prototype.a0H=function(){this.x=this.y=this.e=this.n=0};
bl.prototype.qX=function(u,m,C,Z){this.x=u;this.y=m;this.e=C;this.n=Z};bl.prototype.QN=function(u){if(this.qR())return u.clone();
if(u.qR())return this.clone();var m=this.clone();m.ar7(u);return m};bl.c6=new Float32Array(2);bl.prototype.ar7=function(u){if(u.qR())return;
if(this.qR()){this.TP(u);return}this.kX(u.x,u.y);this.kX(u.x+u.e,u.y+u.n)};bl.prototype.kX=function(u,m){var C=Math.min(this.x,u),Z=Math.min(this.y,m);
this.e=Math.max(this.x+this.e,u)-C;this.n=Math.max(this.y+this.n,m)-Z;this.x=C;this.y=Z};bl.prototype.amK=function(u,m){this.x=u;
this.y=m;this.e=this.n=0};function ix(u,m,C,Z,q,J){if(typeof u==="undefined"){u=1;m=0;C=0;Z=1;q=0;J=0}this.w7=u;
this.S=m;this.ZU=C;this.MX=Z;this.GI=q;this.c_=J}ix.prototype.p1=function(){return Math.sqrt(Math.abs(this.w7*this.MX-this.S*this.ZU))};
ix.prototype.auc=function(){var u=this,m=function(C){return Math.abs(C)<1e-9?0:C};u.w7=m(u.w7);u.S=m(u.S);
u.ZU=m(u.ZU);u.MX=m(u.MX);u.GI=m(u.GI);u.c_=m(u.c_)};ix.prototype.HL=function(u){return new dz(u.x*this.w7+u.y*this.ZU+this.GI,u.x*this.S+u.y*this.MX+this.c_)};
ix.prototype.translate=function(u,m){this.GI+=u;this.c_+=m};ix.prototype.rotate=function(u){var m=new ix(Math.cos(u),-Math.sin(u),Math.sin(u),Math.cos(u),0,0);
this.concat(m)};ix.prototype.scale=function(u,m){var C=new ix(u,0,0,m,0,0);this.concat(C)};ix.prototype.concat=function(u){this.TP(new ix(this.w7*u.w7+this.S*u.ZU,this.w7*u.S+this.S*u.MX,this.ZU*u.w7+this.MX*u.ZU,this.ZU*u.S+this.MX*u.MX,this.GI*u.w7+this.c_*u.ZU+u.GI,this.GI*u.S+this.c_*u.MX+u.c_))};
ix.prototype.mL=function(){var u=this.w7*this.MX-this.S*this.ZU;this.TP(new ix(this.MX/u,-this.S/u,-this.ZU/u,this.w7/u,(this.ZU*this.c_-this.MX*this.GI)/u,(this.S*this.GI-this.w7*this.c_)/u))};
ix.prototype.clone=function(){return new ix(this.w7,this.S,this.ZU,this.MX,this.GI,this.c_)};ix.prototype.TP=function(u){this.w7=u.w7;
this.S=u.S;this.ZU=u.ZU;this.MX=u.MX;this.GI=u.GI;this.c_=u.c_};function d4(){}d4.Eq={aqN:["PNG","JPG","SVG","GIF","PDF"],asy:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
d4.sL=function(u,m){var C=u.memory.buffer.byteLength;if(C<m)u.memory.grow((m-C>>>16)+1)};d4.aw={aeo:function(u,m){fetch(u).then(function(C){return C.arrayBuffer()}).then(function(C){var Z=new Uint8Array(C),q=0,N="";
if(m){q=Z.length;var J={level:9},A=pako.deflateRaw(Z,J),n=UZIP.deflateRaw(Z,J);console.log(q,A.length,n.length);
Z=A.length<n.length?A:n}for(var D=0;D<Z.length;D++)N+=String.fromCharCode(Z[D]);var e=btoa(N);console.log(JSON.stringify([q,e]))})},get:function(u,m){var C=BINDB[u],Z=Date.now(),q=atob(C[1]),J=q.length,A=new Uint8Array(J);
for(var D=0;D<J;D++)A[D]=q.charCodeAt(D);if(C[0]!=0){var n=new Uint8Array(C[0]);UZIP.inflateRaw(A,n);
A=n}if(m){var N=d4.BM(A.buffer);A=d4.X5(N).Pl(A.buffer)}return A}};d4.BM=function(u){if(!(u instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var m=new Uint8Array(u),C=d4.PO,Z,q=0,J=m.length-1;
if(C(m,[239,187,191]))q=3;while(q<m.length&&(m[q]==9||m[q]==10||m[q]==13||m[q]==32))q++;while(J!=0&&(m[J]==9||m[J]==10||m[J]==13||m[J]==32))J--;
if(C(m,[56,66,80,83]))Z="psd";if(C(m,[6,6,237,245]))Z="indd";if(C(m,[102,116,121,112,109,105,102,49],4)||C(m,[102,116,121,112,97,118,105,102],4))Z="avif";
if(C(m,[102,116,121,112,105,115,111,109],4))Z="mp4";if(C(m,[102,116,121,112,109,112,52,50],4))Z="mp4";
if(C(m,[0,255,75,65]))Z="afphoto";if(C(m,[120]))Z="pxd";if(C(m,[80,68,78,51]))Z="pdn";if(C(m,[103,105,109,112,32,120,99,102,32]))Z="xcf";
if(C(m,[102,105,103,45,107,105,119,105]))Z="fig";if(C(m,[137,80,78,71,13,10,26,10])){Z="png";var A=8;
while(A<m.length){var n=M.h(m,A);A+=4;var N=M.Qi(m,A,4);A+=4;if(N=="mkTS")Z="fpng";A+=n+4}}if(C(m,[87,76]))Z="cdr";
if(C(m,[82,73,70,70])){var e=ds.Nh(m),Q=e.j1;if(Q=="WEBP")Z="webp";else if(Q.slice(0,3)=="CDR")Z="cdr";
else Z=Q}if(C(m,[70,79,82,77])||C(m,[76,73,83,84])||C(m,[67,65,84,32])){var e=d9.Nh(m),Q=e.j1;if(Q=="ILBM")Z="ilbm";
else Z=Q}if(C(m,[255,216,255]))Z="jpg";if(C(m,[0,0,0,12,106,80,32,32]))Z="jpg";if(C(m,[48,0,1,0],4))Z="jb2";
if(C(m,[71,73,70,56]))Z="gif";if(C(m,[0,0,0,2,121,102,113,76]))Z="msh";if(C(m,[0,0,0,3,121,102,113,76]))Z="msh";
if(C(m,[0,0,0,16]))Z="atn";if(C(m,[0,1]))Z="aco";if(C(m,[0,2]))Z="aco";if([0,1].indexOf(m[1])!=-1&&[1,2,3,9,10,11].indexOf(m[2])!=-1&&[0,16,24,32].indexOf(m[7])!=-1)Z="tga";
if(C(m,[0,2,56,66,83,76]))Z="asl";if(C(m,[0,1,0,-1,0,2,0]))Z="abr";if(C(m,[0,2,0,-1,0,2,0]))Z="abr";
if(C(m,[0,6,0,1]))Z="abr";if(C(m,[0,6,0,2]))Z="abr";if(C(m,[0,7,0,2]))Z="abr";if(C(m,[0,9,0,2]))Z="abr";
if(C(m,[0,10,0,2]))Z="abr";if(C(m,[56,66,70,83]))Z="shc";if(C(m,[56,66,80,84]))Z="pat";if(C(m,[56,66,71,82]))Z="grd";
if(C(m,[56,66,84,80]))Z="tpl";if(C(m,[0,4,0,5]))Z="acv";if(C(m,[99,117,115,104]))Z="csh";if(C(m,[0,1,0,0,0]))Z="otf";
if(C(m,[79,84,84,79]))Z="otf";if(C(m,[116,116,99,102]))Z="otf";if(C(m,[68,68,83,32]))Z="dds";if(C(m,[80,86,82,3]))Z="pvr";
if(C(m,[86,84,70,0]))Z="vtf";if(C(m,[83,73,77,80]))Z="fits";if(C(m,[0,0,1,0]))Z="ico";if(C(m,[66,77]))Z="bmp";
if(C(m,[40,0,0,0]))Z="bmp";if(C(m,[80,49]))Z="ppm";if(C(m,[80,50]))Z="ppm";if(C(m,[80,51]))Z="ppm";if(C(m,[80,52]))Z="ppm";
if(C(m,[80,53]))Z="ppm";if(C(m,[80,54]))Z="ppm";if(C(m,[73,73,42,0]))Z="tiff";if(C(m,[77,77,0,42]))Z="tiff";
if(C(m,[70,85,74,73,70,73,76,77]))Z="raf";if(C(m,[112]))Z="lif";if(C(m,[73,73,26,0]))Z="ciff";if(C(m,[83,81,76,105]))Z="sketch";
if(C(m,[80,75])){var p=UZIP.parse(u,!0);if(p["document.json"])Z="sketch";else if(p.manifest)Z="xd";else Z="zip"}if(C(m,[123]))Z="json";
if(M.h(m,0)==m.length)Z="icc";if(C(m,[35]))Z="icc";if(C(m,[84,73,84,76],q))Z="icc";if(C(m,[76,85,84,95],q))Z="icc";
if(C(m,[60,63,120,109],q)){if(M.MC(m,"<look>")!=-1)Z="icc";else Z="svg"}if(C(m,[60,115,118,103],q))Z="svg";
if(C(m,[60,33,100,111],q)||C(m,[60,33,68,79],q)){if(M.MC(m,"<svg")!=-1)Z="svg";else Z="html"}if(C(m,[37,33])||C(m,[197,208,211,198])){if(M.MC(m,"%AI9_PrivateDataBegin")!=-1||M.MC(m,"%AI5_BeginLayer")!=-1)Z="ai";
else Z="eps"}if(C(m,[37,80,68,70],q)){if(M.MC(m,"/AIMetaData ")!=-1)Z="ai";else Z="pdf"}else if(C(m,[10,69,79,70],J-3))Z="dxf";
if(C(m,[1,0,9,0]))Z="wmf";if(C(m,[215,205,198,154]))Z="wmf";if(C(m,[1,0,0,0]))Z="emf";if(C(m,[118,47,49,1]))Z="exr";
if(C(m,[10,10,10,10]))Z="jsx";if(C(m,[77,90]))Z="exe";if(Z==null&&j.raw.ig(m.length)!=null)return"tiff";
return Z};d4.PO=function(u,m,C){if(C==null)C=0;for(var D=0;D<m.length;D++)if(m[D]!=-1&&u[C+D]!=m[D])return!1;
return!0};d4.X5=function(u){var m={BMP:d4.arG,CDR:d4.Vo,DDS:d4.I2,EMF:d4.mU,DXF:d4.mf,EPS:d4.ab,FIG:d4.K0,FPNG:d4.Vu,INDD:d4.a5X,GIF:d4.p2,ICO:d4.H7,ILBM:d4.sT,FITS:d4.Ka,EXR:d4.Qh,JPG:d4.d3,LIF:d4.pM,PDF:d4.yQ,PDN:d4.TG,PNG:d4.E1,PPM:d4.r4,PSD:d4.GC,PXD:d4.RU,RAF:d4.Cc,RAW:d4.it,SKETCH:d4.oz,SVG:d4.kY,TGA:d4.wT,AVIF:d4.aoD,TIFF:d4.cK,VTF:d4.Qy,WEBP:d4._K,WMF:d4.s9,XCF:d4.or,XD:d4.qP,EXE:d4.eH,AI:d4.o3,AFPHOTO:d4.ir,MP4:d4.a8X};
return m[u.toUpperCase()]};d4.bs=function(D){var u=d4.Eq.aqN,m=d4.Eq.asy,C,Z=[];if(D==null)C=u.concat(m);
else C=D==0?u:m;for(var D=0;D<C.length;D++)if(d4.X5(C[D]).c2)Z.push(C[D]);return Z};d4.ajY=function(){var u;
function m(Z){var q=Z.target,J=q.width,A=q.height,n=document.createElement("canvas");n.width=J;n.height=A;
var N=n.getContext("2d");N.drawImage(q,0,0);u({WL:new bl(0,0,J,A),data:N.getImageData(0,0,J,A).data.buffer})}function C(Z,q,J){u=J;
var A=document.createElement("img");A.onload=m;A.src="data:"+q+";base64,"+d4.M2(Z)}return C}();d4.xm=function(u,m,C,Z,q){var J=d4.rO(u,m,C,Z,q),A=d4.Eh(J);
return A.buffer};d4.Eh=function(u){var m=atob(u.split(",").pop()),C=new Uint8Array(m.length);for(var D=0;
D<m.length;D++)C[D]=m.charCodeAt(D);return C};d4.rO=function(u,m,C,Z,q,J){if(!(u instanceof ArrayBuffer))throw"e";
if(Z==null)Z="png";if(Z=="png"&&J==!0){var A=d4.X5("PNG").c2([[u,0]],m,C);return"data:image/png;base64,"+d4.M2(A)}var n=d4.Kr;
if(n==null)n=d4.Kr=document.createElement("canvas");if(n.width!=m||n.height!=C){n.width=m;n.height=C}var N=n.getContext("2d"),e=new ImageData(new Uint8ClampedArray(u,0,m*C*4),m,C);
N.putImageData(e,0,0);return n.toDataURL("image/"+Z,q)};d4.aae=function(u,m,C,Z,q){if(q==null)q=0;var J="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",A="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+J+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(u==1)A+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
A+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+q+")\" xlink:href=\""+m+"\" x=\""+80*C+"\" y=\""+80*Z+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var n=new Uint8Array(A.length);M.ic(A,n,0);var N="data:image/svg+xml;base64,"+d4.M2(n.buffer);return{p8:N,yt:new bl(0,0,128,128),$k:new dz(64,64)}};
d4.M2=function(u){var m=new Uint8Array(u),C="";for(var D=0;D<m.length;D++)C+=String.fromCharCode(m[D]);
return btoa(C)};d4.aod=function(u){var m=atob(u),C=m.length,Z=new Uint8Array(C);for(var D=0;D<C;D++)Z[D]=m.charCodeAt(D);
return Z.buffer};d4.si=function(u){var m=[],C=[];for(var D=0;D<u.g.length;D++){var Z=u.g[D];if(Z.getName().slice(0,3)=="_a_"){m.push(D);
C.push(Z.cG())}}return[m,C]};d4.Qs=function(u,m,C,Z,q,J){if(C==null)C=u.e;if(Z==null)Z=u.n;var A=new bl(0,0,u.e,u.n),n=new ix(C/(u.e+.001),0,0,Z/(u.n+.001),0,0),e;
m=m.toUpperCase();var N=d4.X5(m);if(N.x5){u.K9();e=N.c2(u,C,Z,q,J)}else{var Q=d4.si(u),p=Q[0],B=Q[1],$=null;
if(u.YG.length!=0){$=[];for(var D=0;D<u.YG.length;D++)$.push(u.YG[D].f9(A))}if(p.length<2){var R;if(C==u.e&&Z==u.n)R=u.K9().buffer;
else{var z=b.Q.Ta([u.K9(),A],n);R=z.buffer.buffer;if($){var v=j.U(A.Z()*4);for(var D=0;D<$.length;D++){j.wC($[D],v,3);
var z=b.Q.Ta([v,A],n),a=$[D]=j.U(z.rect.Z());j._H(z.buffer,a,3)}}}e=N.c2([[R,0,u.JJ,u.wn,$]],C,Z,q)}else{var X=[];
for(var D=0;D<p.length;D++){var V=p[D],R;for(var o=0;o<p.length;o++)u.g[p[o]].$S(p[o]==V);u.gO();u.G();
u.Qp();if(C==u.e&&Z==u.n)R=u.K9().buffer.slice(0);else{var z=b.Q.Ta([u.K9(),A],n);R=z.buffer.buffer}var h=u.g[V].getName().split(",");
X.push([R,h[1]?parseInt(h[1]):100,u.JJ,u.wn,$])}for(var D=0;D<p.length;D++)u.g[p[D]].$S(B[D]);u.G();
u.Qp();if(q){var T=q.length,l=q[T-2],w=q[T-1],W=q[T-4]/100;if(W!=1)for(var D=0;D<X.length;D++)X[D][1]=Math.round((X[D][1]==0?16:X[D][1])/W);
if(l)X.reverse();if(w){var U=X.slice(1,X.length-1);U.reverse();X=X.concat(U)}}e=N.c2(X,C,Z,q)}}return e};
d4._6=function(u,m){var C=m[0].gp&&m[0].gp.startsWith("_a_"),Z,q=new gj(u+".psd"),J=new bl(0,0,1,1);
if(C){Z=q.Rp();Z.add.lsct=cT.G6;Z.RS(u);Z.Um="pass";Z.VO=24;Z.$S(!0);q.g.push(q.B$())}for(var D=0;D<m.length;
D++){var A=m[D];J=J.QN(A.WL);var n=q.Rp();n.$S(D==0);n.RS(m.length==1?"Background":"Layer "+D);if(D==0&&A.JJ)q.JJ=A.JJ;
if(D==0&&A.wn)q.wn=A.wn;if(A.gp)n.RS(A.gp);if(A.$P)for(var D=0;D<A.$P.length;D++){var N=A.$P[D],e=gj.Q2(N[0]);
e.add.vmsk.B=N[1];j.$.l0(N[1],new ix(J.e,0,0,J.n,0,0));q.kL.push(e)}n.rect=A.WL.clone();n.buffer=new Uint8Array(A.data);
j.TS(n);q.g.push(n)}if(C)q.g.push(Z);if(m[0].YG){for(var D=0;D<m[0].YG.length;D++){var Q=new F.ol;q.YG.push(Q);
Q.rect=m[0].WL.clone();Q.channel=m[0].YG[D]}}q.w=[C?q.g.length-1:0];q.e=J.e;q.n=J.n;q.buffer=j.U(J.Z()*4);
q.G();return q};d4.E1={};d4.E1.c2=function(u,m,C,Z){if(Z==null)Z=[100,!1,0,0,0];var q={sRGB:1,loop:Z[3]};
if(u[0][2]!=null){var J=Math.round(u[0][2]*(1e4/254));q.pHYs=[J,J,1]}var A=Z[0],n=A==100?0:Math.max(2,Math.floor(A*5));
if(n==5)n=4;var N=[],e=[];for(var D=0;D<u.length;D++){N.push(u[D][0]);e.push(u[D][1])}var Q=UPNG.encode(N,m,C,n,e,q,Z[1]);
return Q};d4.E1.aag=function(u,m,C){return UPNG.encodeLL([u],m,C,3,1,8)};d4.E1.Pl=function(u){var m=Date.now(),C=UPNG.decode(u),Z=UPNG.toRGBA8(C),q=C.width,J=C.height,A=0;
if(C.tabs.pHYs)A=Math.round(C.tabs.pHYs[0]*254/1e4);if(Z.length==1)return[{WL:new bl(0,0,q,J),data:Z[0],JJ:A}];
var n=[];for(var D=0;D<Z.length;D++){n.push({gp:"_a_frm"+D+","+C.frames[D].delay,WL:new bl(0,0,q,J),data:Z[D],JJ:A})}return n};
d4.r4={};d4.r4.c2=function(u,m,C,Z){var q=new Uint8Array(u[0][0]),J=m*C,A=J*3,n="P6\n"+m+" "+C+"\n255\n",N=n.length,e=j.U(N+A,!0);
for(var D=0;D<N;D++)e[D]=n.charCodeAt(D);for(var D=0;D<J;D++){var Q=D*4,p=D*3+N;e[p]=q[Q];e[p+1]=q[Q+1];
e[p+2]=q[Q+2]}return e.buffer};d4.r4.Pl=function(u){u=new Uint8Array(u);var m=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],C=0,Z=String.fromCharCode(u[0])+String.fromCharCode(u[1]),q=[],J=0,A=Z=="P1"||Z=="P4"?2:3;
for(C=2;C<u.length;C++){var n=u[C],N=String.fromCharCode(n);if(n=="#".charCodeAt(0)){while(u[C]!="\n".charCodeAt(0))C++;
continue}var e=m.indexOf(n)!=-1;if(J==0&&!e){q.push(N);J=1;continue}if(J==1&&!e){q[q.length-1]+=N;continue}if(J==1&&e){J=0;
if(q.length==A)break;continue}}var Q=parseInt(q[0]),p=parseInt(q[1]),B=Q*p*4,$=Z=="P1"||Z=="P4"?1:255/parseInt(q[2]),R=j.U(B);
if(Z=="P1"||Z=="P2"||Z=="P3"){var z="",v=0,J=0,a="#".charCodeAt(0);for(var D=C;D<u.length;D++){var n=u[D],N=String.fromCharCode(n),e=m.indexOf(n)!=-1;
if(n==a){while(u[D]!="\n".charCodeAt(0))D++}else if(J==0&&!e){z=N;J=1}else if(J==1){if(e){J=0;var X=parseInt(z);
z="";if(Z=="P1"){R[v]=R[v+1]=R[v+2]=(1-X)*255;R[v+3]=255;v+=4}if(Z=="P2"){R[v]=R[v+1]=R[v+2]=Math.round(X*$);
R[v+3]=255;v+=4}if(Z=="P3"){R[v]=Math.round(X*$);v++;if((v&3)==3){R[v]=255;v++}}}else z+=N}}}var V=Q*p;
if(Z=="P4")for(var o=0;o<p;o++){var h=o*8*Math.ceil(Q/8);for(var T=0;T<Q;T++){var D=h+T,l=u[C+1+(D>>3)];
l=l>>7-(D&7)&1;var w=o*Q+T<<2;R[w]=R[w+1]=R[w+2]=(1-l)*255;R[w+3]=255}}if(Z=="P5")for(var D=0;D<V;D++){var w=4*D;
R[w]=R[w+1]=R[w+2]=Math.round(u[C+1+D]*$);R[w+3]=255}if(Z=="P6")for(var D=0;D<V;D++){var w=4*D,W=C+1+3*D;
R[w]=Math.round(u[W]*$);R[w+1]=Math.round(u[W+1]*$);R[w+2]=Math.round(u[W+2]*$);R[w+3]=255}return[{WL:new bl(0,0,Q,p),data:R.buffer}]};
d4.I2={};d4.I2.c2=function(u,m,C,Z){if(Z==null)Z=[!0,!0];var q=new Uint8Array(u[0][0]),J=m&3,A=C&3;if(J!=0||A!=0){var n=m+(J==0?0:4-J),N=C+(A==0?0:4-A),e=new Uint8Array(n*N*4);
j.gs(e,4278190080);j.zO(q,new bl(0,0,m,C),e,new bl(0,0,n,N));q=e;m=n;C=N}var Q=UTEX.DDS.encode(q.buffer,m,C,Z);
if(!1){var p=UTEX.DDS.decode(Q)[0],e=new Uint8Array(p.CB),B=0;for(var D=0;D<q.length;D++){var $=q[D]-e[D];
B+=$*$}console.log(B)}return Q};d4.I2.Pl=function(u){var m=UTEX.DDS.decode(u)[0];return[{WL:new bl(0,0,m.width,m.height),data:m.image}]};
d4.Qy={};d4.Qy.Pl=function(u){var m=UTEX.VTF.decode(u).pop();return[{WL:new bl(0,0,m.width,m.height),data:m.image}]};
d4.d3={};d4.d3.Q0=null;d4.d3.an_=function(u,m){var C=d4.d3.Q0,Z=u.byteLength,q=m.width,J=m.height,A=q*J,n=5e6+2*Z+A*(m.progressive?Math.max(2,m.numComponents)*4+1:8),N=C.instance.exports;
d4.sL(N,n);var e=new Uint8Array(N.memory.buffer),Q=N.malloc(Z);e.set(new Uint8Array(u),Q);var p=N.malloc(4),B=N.malloc(4),jt=N.malloc(4),$=N.stbi_load_from_memory(Q,Z,p,B,jt,4);
N.free(Q);N.free(p,B,jt);N.free($);var R=e.slice($,$+A*4);return R};(function(){var u=d4.aw.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old. Please, update it.");WebAssembly.instantiate(u).then(function(m){d4.d3.Q0=m})}());
d4.d3.c2=function(u,m,C,Z){if(Z==null)Z=[70];var q=u[0],J=new Uint8Array(q[0]);if(j.iW(J)){var A=new Uint8Array(J.length),n=new bl(0,0,m,C);
j.gs(A,4294967295);j.a.q5("norm",J,n,A,n,n,1);J=A}var N=new Uint8Array(d4.xm(J.buffer,m,C,"jpeg",Z[0]/100));
if(q[2]!=null){var e=d4.d3.gN(N)[224][0]+2;e+=9;N[e]=1;M.Z8(N,e+1,q[2]);M.Z8(N,e+3,q[2])}if(q[3]!=null&&Z[1]==!0&&Object.keys(q[3]).length!=0){var Q=0,p=0,B=0,$=bG.aC(q[3]),R=new Uint8Array(UTIF.encode([$])),z="http://ns.adobe.com/xap/1.0/",V=0,T=0,s=20;
Q=4+6+R.length;var v=bG.a0E(q[3]),a=M.t2(v);p=4+z.length+1+a.length;var X=bG.am0(q[3]);for(var D=0;D<X.length;
D++)V+=5+X[D][1].length;var o=V+(V&1),h=j.U(14+4+2+4+o);M.xI(h,T,"Photoshop 3.0");T+=14;M.xI(h,T,"8BIM");
T+=4;h[T++]=4;h[T++]=4;T+=2;M.G9(h,T,V);T+=4;for(var D=0;D<X.length;D++){var l=X[D],w=l[1];h[T++]=28;
h[T++]=2;h[T++]=l[0];M.Z8(h,T,w.length);T+=2;M.xI(h,T,w);T+=w.length}B=4+h.length;var W=Q+p+B,U=new Uint8Array(N.length+W);
for(var D=0;D<20;D++)U[D]=N[D];for(var D=20;D<N.length;D++)U[D+W]=N[D];U[s]=255;U[s+1]=225;M.Z8(U,s+2,Q-2);
M.xI(U,s+4,"Exif");for(var D=0;D<R.length;D++)U[s+10+D]=R[D];s+=Q;U[s]=255;U[s+1]=225;M.Z8(U,s+2,p-2);
M.xI(U,s+4,z);for(var D=0;D<a.length;D++)U[s+4+z.length+1+D]=a[D];s+=p;U[s]=255;U[s+1]=237;M.Z8(U,s+2,B-2);
for(var D=0;D<h.length;D++)U[s+4+D]=h[D];s+=B;N=U}return N.buffer};d4.d3.gN=function(u){var m=0,C=[],Z=u.length;
while(m<Z){while(u[m]!=255&&m<Z)m++;while(u[m]==255)m++;var q=u[m];m++;if(C[q]==null)C[q]=[];C[q].push(m-2);
if(q==216)continue;if(q==217)break;if(224<=q&&q<=239||q==218||q==219||q==192||q==193||q==194||q==196||q==221||q==254){var J=M.aP(u,m);
m+=J;if(q==218)while(m<Z&&(u[m]!=255||(u[m+1]==0||208<=u[m+1]&&u[m+1]<=215)))m++;continue}console.log("unknown marker ",q.toString(16),m);
break}if(C[217]==null){console.log("EOI marker missing");var A=u.length-2;u[A]=255;u[A+1]=217;C[217]=[A]}return C};
d4.d3.a6k=function(u){u=new Uint8Array(u);if(u[0]!=255)return u.buffer;var m=d4.d3.gN(u),C=d4.d3.T4(u,m);
if(C.numComponents!=4)return u.buffer;var Z=C.width,q=C.height,J=d4.d3.qd(u,m,!0);return d4.d3.c2([[J[0].data]],Z,q,[85])};
d4.d3.T4=function(u,m){var C=(m[192]?m[192]:m[193]?m[193]:m[194])[0]+4,Z={};Z.progressive=m[194]!=null;
Z.precision=u[C];C++;Z.height=M.aP(u,C);C+=2;Z.width=M.aP(u,C);C+=2;Z.numComponents=u[C];C++;if(m[224]){var q=Z.jfif={};
C=m[224][0]+2+2+5+2;q.densityUnits=u[C];C++;q.xDensity=M.aP(u,C);C+=2;q.yDensity=M.aP(u,C);C+=2}if(m[238]){var q=Z.adobe={};
C=m[238][0]+2+2+6;q.version=u[C];C++;q.flags0=M.aP(u,C);C+=2;q.flags1=M.aP(u,C);C+=2;q.transform=u[C];
C++}return Z};d4.d3.ach=function(u,m,C){var Z=m,q=M.aP(u,Z);Z+=2;var J=M.Qi(u,Z,4);if(J=="Exif"){Z+=6;
var A=u.slice(Z,Z+q-8),n;try{n=UTIF.decode(A.buffer,{parseMN:!1,debug:!1})}catch(jg){}if(n)C.exif=n}else if(J=="http"){var N=0;
while(u[Z+N]!=0)N++;var e=M.Qi(u,Z,N);Z+=N+1;if(e=="http://ns.adobe.com/xmp/extension/"){var Q=M.Qi(u,Z,32);
Z+=32;Z+=8;var p=m+q-Z;while(u[Z+p-1]==0)p--;if(C.xmp_extn==null)C.xmp_extn="";try{C.xmp_extn+=M.V6(u,Z,p)}catch(jg){}}else if(e=="http://ns.adobe.com/xap/1.0/"){var B=M.V6(u.slice(Z,Z+q-N-3));
if(B[0]=="?")B="<"+B;C.xmp=B}}else console.log(J)};d4.d3.qd=function(u,m,C){var Z=d4.d3.T4(u,m),q=Z.width,J=Z.height,A=q*J,n,N=-1,z=72,v;
if(Z.adobe)N=Z.adobe.transform;if(C||q*J>15e7||N==0||N==2){var e=new PDFJS.JpegImage;e.parse(u);var Q=e.getData({width:q,height:J,forceRGB:!0,isSourcePDF:C}),n=j.U(A*4);
for(var D=0;D<A;D++){var p=D<<2,B=p-D;n[p]=Q[B];n[p+1]=Q[B+1];n[p+2]=Q[B+2];n[p+3]=255}}else{n=d4.d3.an_(u.buffer,Z)}var $=m[225];
if($)for(var D=0;D<$.length;D++)d4.d3.ach(u,$[D]+2,Z);var R=m[217][0]+2;if(R!=u.length)Z.suffix=u.slice(R);
var a=[q,J,1,0,0,0,1,0];if(Z.jfif&&Z.jfif.densityUnits!=0){z=Math.round([72,1,2.54][Z.jfif.densityUnits]*Z.jfif.xDensity)}else if(Z.exif&&Z.exif[0].t282!=null){var X=Z.exif[0].t282[0];
z=X[0]/X[1]}if(Z.exif){var V=Z.exif;v=bG.XL(V[0]);var o=V[0].t274;if(o)o=o[0];if(o!=null&&o>1&&o<20)a=j.raw.KF(o,q,J)}if(Z.xmp){v=bG.ao_(Z.xmp,v)}var h=m[237],T=[],l=[];
if(h){var w=new Uint8Array(65536),W=0,U=0;for(var D=0;D<h.length;D++){U=h[D]+2;var s=U+M.aP(u,U);U+=2;
var S=U;while(u[U]!=0)U++;U++;var x=M.Qi(u,S,U-S-1),P=s-U;while(W+P>w.length){var y=new Uint8Array(w.length*2);
y.set(w);w=y}var _=new Uint8Array(u.buffer,U,P);w.set(_,W);W+=P}U=0;u=w;while(U<W){var g=M.Qi(u,U,4);
U+=4;var G=M.aP(u,U);U+=2;var O=u[U++],E=M.Qi(u,U,O);U+=O;if((O&1)==0)U++;var L=M.h(u,U);U+=4;var R=U+L+(L&1);
if(G==1028){while(U+4<R){var c=u[U++],k=u[U++],I=u[U++],Y=M.aP(u,U);U+=2;if(c==28&&k==2)T.push([I,M.Qi(u,U,Y)]);
U+=Y}}else if((G&2e3)==2e3){var K=j9.m7(u,U,L);l.push([E,K])}else{}U=R}if(T.length!=0)v=bG.a1l(T,v)}var i=[{WL:new bl(0,0,q,J),data:n.buffer,JJ:z,wn:v,$P:l.length==0?null:l}],v=Z.xmp_extn;
if(v){var i4=new DOMParser,d7=i4.parseFromString(v,"image/svg+xml"),d7=d7.children[0].children[0].children[0],d=[d7.getAttribute("GImage:Data"),d7.getAttribute("GDepth:Data")];
for(var D=0;D<d.length;D++)if(d[D]){var fH=atob(d[D]),aC=new Uint8Array(fH.length);M.xI(aC,0,fH);aC=aC.buffer;
var f8=d4.BM(aC),c9=d4.X5(f8).Pl(aC);i.push(c9[0])}}if(Z.suffix){var g1=Z.suffix,cE=M.Qi(g1,4,4),hG=M.MC(g1,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(d4.PO(g1,[0,0,1,10,14,0,0,0])){var U=0;while(U!=g1.length){var fA=M.OQ(g1,U+2);U+=4;var hh={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[fA];
if(hh!=null){var eE=M.Jr(g1,U);U+=4;var dh=M.Qi(g1,U,eE);U+=eE;var fT=M.Qi(g1,U,hh);U+=hh;if(fA==2608){var dB=M.h(g1,U+24);
U+=dB+24;var iN=M.h(g1,U);U+=iN;alert("Photopea found a "+iQ.ms(dB)+" MP4 video inside your image.",4e3)}}else if(fA==18502){while(M.Qi(g1,U,4)!="SEFT")U+=4;
U+=4}else{break;console.log(M.g_(g1,U,128));console.log(g1.slice(U));throw fA.toString(16)}}}else if(cE=="ftyp"){alert("Photopea found a "+iQ.ms(g1.length)+" MP4 video inside your image.",4e3)}else if(M.Qi(g1,0,4)=="fixe"){alert("Unknown data - "+g1.length+" B - at the end of the file",3e3);
var U=4,L=M.Jr(g1,U);U+=4;var gV=M.Jr(g1,U);U+=4;var fI=M.Jr(g1,U);U+=4;console.log(L,gV,fI,g1.slice(U,U+84));
U+=84;var gc=M.Qi(g1,U,32);U+=32;U+=8;var gc=M.Qi(g1,U,32);U+=32}else if(M.Qi(g1,8,13)=="FocusShot_Map"){var aF=M.h(g1,0),Y=M.Jr(g1,4),aC=j.U(A*4),gh=j.U(A*4);
for(var gD=0;gD<J;gD++)for(var j1=0;j1<q;j1++){var D=gD*q+j1,p=D<<2,dg=8+13+((gD>>>1)*q+j1>>>1),ao=g1[dg],eC=g1[dg+(A>>>2)];
aC[p]=aC[p+1]=aC[p+2]=ao;aC[p+3]=255;gh[p]=gh[p+1]=gh[p+2]=eC;gh[p+3]=255}i.push({WL:new bl(0,0,q,J),data:aC.buffer},{WL:new bl(0,0,q,J),data:gh.buffer})}else if(cE=="edof"){var o=g1[8+7];
console.log(o.toString(16));var U=8+16,bD=M.OQ(g1,U),fK=M.OQ(g1,U+2),A=bD*fK;U+=4;U+=32+16;var a1=j.U(A*4);
for(var D=0;D<A;D++){var p=D<<2;a1[p]=a1[p+1]=a1[p+2]=g1[U+D];a1[p+3]=255}if(o==16){}else if(o==19){var fR=a1.slice(0);
j.N.$E(a1,fR,bD,fK);var bj=bD;bD=fK;fK=bj;j.N.apD(fR,a1,bD,fK)}else throw"Unknown orientation of a depth map";
i.push({WL:new bl(0,0,bD,fK),data:a1.buffer})}else if(hG!=-1&&!(g1[0]==255&&g1[1]==129)){try{if(hG!=0)g1=g1.slice(hG);
var c9=d4.X5("jpg").Pl(g1.buffer);for(var D=0;D<c9.length;D++)i.push(c9[D])}catch(jg){}}else if(M.Qi(g1,0,4)=="PMPD"){var U=4,b7=M.Jr(g1,12),ha=M.Jr(g1,16),bD=i[0].WL.e>>>2,fK=i[0].WL.n>>>2,eJ=g1.slice(b7-ha+24-q),cq=j.U(bD*fK);
for(var gD=0;gD<fK;gD++)for(var j1=0;j1<bD;j1++)cq[gD*bD+j1]=eJ[(fK-gD-1)*bD+j1];var bF=j.U(bD*fK*4);
bF.fill(255);j.Ps(cq,bF);i.push({WL:new bl(0,0,bD,fK),data:bF.buffer})}else console.log(M.Qi(g1,0,4),g1)}if(i.length>1){var g4=i[0].WL;
i[0].gp="Main";for(var D=1;D<i.length;D++){i[D].gp=d4.d3.a7s(new Uint8Array(i[D].data))?"Depth Map":null;
var eA=i[D].WL;if(!eA.QV(g4)){var aJ=g4.e/eA.e,fU=g4.n/eA.n,iE=new ix;iE.scale(aJ,fU);var hQ=b.Q._5([new Uint8Array(i[D].data),eA],1,j.N.S4(iE));
i[D].WL=hQ.rect;i[D].data=hQ.buffer}}}if(d4.d3.CZ==1)if(a[2]!=1||a[6]!=1)for(var D=0;D<i.length;D++){var bT=i[D],iU=new Uint8Array(bT.data),q=bT.WL.e,J=bT.WL.n,bD=a[0],fK=a[1],n=j.U(bD*fK*4);
j.N.Va(iU,q,J,n,a);bT.WL=new bl(0,0,bD,fK);bT.data=n.buffer}return i};d4.d3.a7s=function(u){var m=!0;
for(var D=0;D<u.length;D+=4){m=m&&u[D]==u[D+1]&&u[D+1]==u[D+2]}return m};d4.d3.CZ=0;d4.d3.Pl=function(u,m,C){u=new Uint8Array(u);
if(u[0]==255){var Z=d4.d3.gN(u);if(Z[195]==null){d4.d3.CZ++;var q=d4.d3.qd(u,Z,!1);d4.d3.CZ--;return q}var J=M.aP(u,Z[195][0]+5),A=M.aP(u,Z[195][0]+7),n=UTIF.LosslessJpegDecode(u),N=A*J,e=j.U(N*4);
for(var D=0;D<N;D++){var Q=D<<2,p=Q-D;e[Q]=n[p];e[Q+1]=n[p+1];e[Q+2]=n[p+2];e[Q+3]=255}return[{WL:new bl(0,0,A,J),data:e.buffer}]}else if(u[0]==0&&u[4]==48&&u[6]==1){var B=u,$=new PDFJS.Jbig2Image,R=[];
if(m)R.push({data:m,start:0,end:m.length});R.push({data:B,start:0,end:B.length});var n=$.parseChunks(R);
if(!C)for(var D=0;D<n.length;D++)n[D]=~n[D];var A=M.h(u,11),J=M.h(u,15),z=Math.ceil(A/8),v=j.U(A*J*4);
for(var a=0;a<J;a++){var X=a*z;for(var V=0;V<A;V++){var Q=(a*A+V)*4,o=n[X+(V>>>3)]>>>7-(V&7)&1,h=o*255;
v[Q]=h;v[Q+1]=h;v[Q+2]=h;v[Q+3]=255}}return[{WL:new bl(0,0,A,J),data:v.buffer}]}else{var $=new PDFJS.JpxImage;
$.parse(u);var A=$.width,J=$.height,T=$.tiles,l=$.componentsCount,w=new Uint8Array(A*J*4),W=new bl(0,0,A,J);
for(var $=0;$<T.length;$++){var U=T[$],s=U.width,S=U.height,x=s*S,P=U.items,y=new bl(U.left,U.top,s,S),_=new Uint8Array(x*4);
if(l==1)for(var D=0;D<x;D++){var g=P[D],Q=D*4;_[Q]=g;_[Q+1]=g;_[Q+2]=g;_[Q+3]=255}else if(l==3)for(var D=0;
D<x;D++){var p=D*3,Q=D*4;_[Q]=P[p];_[Q+1]=P[p+1];_[Q+2]=P[p+2];_[Q+3]=255}else console.log("Unknown number of components: "+l);
j.zO(_,y,w,W)}return[{WL:W,data:w.buffer}]}};d4._K={};d4._K.c2=function(u,m,C,Z){if(Z==null)Z=[70,0,0,0];
var q=Z[0]/100,N=0;if(u.length==1)return d4.xm(u[0][0],m,C,"webp",q);var J=M.s7,A=M.CF,n=new cV;J(n,N,"RIFF    WEBPVP8X");
N+=16;A(n,N,10);N+=4;A(n,N,18);N+=4;A(n,N,m-1);N+=3;A(n,N,C-1);N+=3;J(n,N,"ANIM");N+=4;A(n,N,6);N+=4;
n.Ic(N,4);n.data[N+3]=255;M.zl(n,N+4,Z[2]);N+=6;var e=[];for(var D=0;D<u.length;D++){e.push(u[D][0])}var Q=UPNG.encode.compress(e,m,C,q==1?0:Math.max(2,Math.floor(q*500)),[!1,!0,!0,0,!0]).frames;
function p(w,W,U,s){var V=w.r-8,o=w.size+8;U.Ic(s,o);for(var D=0;D<o;D++)U.data[s+D]=W[V+D];return s+o}for(var D=0;
D<u.length;D++){J(n,N,"ANMF");N+=4;var B=N,V=0,o=0;N+=4;var $=Q[D],R=$.rect,z=[R.x>>>1,R.y>>>1,R.width-1,R.height-1,u[D][1]];
for(var v=0;v<5;v++)A(n,N+3*v,z[v]);N+=15;n.Ic(N,1);n.data[N]=1-$.blend<<1|$.dispose;N++;var a=new Uint8Array(d4.xm($.img.buffer,R.width,R.height,"webp",1)),X=ds.Nh(a.buffer).sub,h={};
for(var T=0;T<X.length;T++)h[X[T].Yw]=X[T];if(h.VP8L)N=p(h.VP8L,a,n,N);else throw"e";var l=N-B-4;A(n,B,l);
if((l&1)==1){n.Ic(N,1);N++}}A(n,4,N-8);return n.data.slice(0,N).buffer};(function(){var u=d4.aw.get("wasm/webp").buffer;
WebAssembly.instantiate(u).then(function(m){var C=m.instance.exports;d4._K.exp=C})}());d4._K.Pl=function(u){var m=new Uint8Array(u),C=d4._K.aq$,Z=null,q=ds.Nh(u).sub,J={};
for(var D=0;D<q.length;D++)J[q[D].Yw]=q[D];var A=J.ANIM,n=J.VP8L,N=J["VP8 "],e=J.VP8X;if(A==null){var Q,p;
if(N){Q=M.OQ(m,N.r+6);p=M.OQ(m,N.r+8)}else if(n){var B=M.Jr(m,n.r+1);Q=(B&(1<<14)-1)+1;p=(B>>>14&(1<<14)-1)+1}else throw"e";
var $=[C(Z,u,{r:0,size:m.length},Q,p)];return $}var R=e.r,Q=1+(M.Jr(m,R+4)&16777215),p=1+(M.Jr(m,R+7)&16777215),z=[],v=new bl(0,0,Q,p),a=j.U(Q*p*4);
for(var D=0;D<q.length;D++){var X=q[D];if(X.Yw!="ANMF")continue;var V=[];for(var o=0;o<5;o++)V.push(M.Jr(m,X.r+o*3)&16777215);
var h=new bl(V[0]*2,V[1]*2,V[2]+1,V[3]+1),T=V[4],l=C(Z,u,{r:X.r+16,size:X.size-16},Q,p),w=new Uint8Array(l.data),W=m[X.r+15];
if(W>>>1==0)j.a.q5("norm",w,h,a,v,h,1);else j.zO(w,h,a,v);z.push({gp:"_a_"+z.length+","+T,WL:v.clone(),data:a.buffer.slice(0)});
if((W&1)==1){j.gs(w,0);j.zO(w,h,a,v)}}return z};d4._K.aq$=function(u,m,C,Z,q){var J=d4._K.exp,A=J.memory,n=5e6+2*C.size+Z*q*10;
d4.sL(J,n);var N=new Uint8Array(A.buffer),e=J.malloc(C.size);N.set(new Uint8Array(m,C.r,C.size),e);var Q=J.malloc(8),p=J.WebPDecodeARGB(e,C.size,Q,Q+4),B=M.Jr(N,Q),$=M.Jr(N,Q+4),R=B*$*4,z=j.U(R);
for(var D=0;D<R;D+=4){z[D]=N[p+D+1];z[D+1]=N[p+D+2];z[D+2]=N[p+D+3];z[D+3]=N[p+D]}J.WebPFree(p);J.free(Q);
J.free(e);return{WL:new bl(0,0,B,$),data:z.buffer}};d4.arG=function(){function u(n,N,e,Q){var p=new Uint8Array(n[0][0]),B=new Uint32Array(p.buffer),$=[],R={},v=24,a=0,T=0;
for(var D=0;D<B.length;D++){var z=B[D]&16777215;if(R[z]==null){R[z]=$.length;$.push(z);if($.length>256){$=null;
break}}}if($){v=1;while(1<<v<$.length)v*=2;if(v==2)v=4}var X={du:N,Oh:e,NF:1,XK:v,R1:0,afn:a},V=4*Math.floor((X.XK*X.du+31)/32);
X.size=V*X.Oh+2;var o=new cV,h=$?(1<<v)*4:0;M.s7(o,T,"BM");T+=2;M.CF(o,T,V*e+16+40+h);T+=4;M.CF(o,T,0);
T+=4;M.CF(o,T,54+h);T+=4;o.Ic(T,40);M.CF(o,T,40);T+=4;A(o.data,T,X,V);T+=36;if($){o.Ic(T,h);var l=o.data;
for(var D=0;D<$.length;D++){var w=T+D*4,W=$[D]>>>16,U=$[D]>>>8&255,s=$[D]&255;l[w]=W;l[w+1]=U;l[w+2]=s}T+=h}o.Ic(T,V*e);
if(v==24)for(var S=0;S<e;S++){var x=T+(e-1-S)*V;for(var P=0;P<N;P++){var y=(S*N+P)*4;o.data[x+P*3+2]=p[y];
o.data[x+P*3+1]=p[y+1];o.data[x+P*3+0]=p[y+2]}}else if(v==8)for(var S=0;S<e;S++){var x=T+(e-1-S)*V;for(var P=0;
P<N;P++){var y=S*N+P,_=R[B[y]&16777215];o.data[x+P]|=_}}else if(v==4)for(var S=0;S<e;S++){var x=T+(e-1-S)*V;
for(var P=0;P<N;P++){var y=S*N+P,_=R[B[y]&16777215];o.data[x+(P>>>1)]|=_<<4-(P&1)*4}}else if(v==1)for(var S=0;
S<e;S++){var x=T+(e-1-S)*V;for(var P=0;P<N;P++){var y=S*N+P,_=R[B[y]&16777215];o.data[x+(P>>>3)]|=_<<7-(P&7)}}T+=V*e+2;
return o.data.slice(0,T).buffer}function m(n){n=new Uint8Array(n);if(M.Jr(n,0)==40)return[C(n.buffer,0)];
var N=0,e=M.Qi(n,N,2);N+=2;if(e!="BM"){alert("Unsupported BMP format: "+e);return}var Q=M.Jr(n,N);N+=4;
N+=4;var p=M.Jr(n,N);N+=4;return[C(n.buffer,N,p)]}function C(n,N,e){n=new Uint8Array(n);var Q=M.Jr(n,N),p=J(n,N+4);
if(p.NF!=1)alert("unsupported number of color planes: "+p.NF);if(p.R1!=0&&p.R1!=1&&p.R1!=2&&p.R1!=3){alert("Unsupported BMP compression: "+p.R1);
return}N+=Q;var B=N,$=n;if(e==null)e=N;if(p.R1==1||p.R1==2){var R=q(n,e,p);p.XK=8;n=R;e=0}var z=4*Math.floor((p.XK*p.du+31)/32),v=p.du,a=Math.abs(p.Oh),X=new Uint8Array(v*a*4);
X.fill(255);if(p.XK==32)for(var V=0;V<a;V++){var o=e+(a-1-V)*z;for(var h=0;h<v;h++){var T=(V*v+h)*4;
X[T]=n[o+h*4+2];X[T+1]=n[o+h*4+1];X[T+2]=n[o+h*4+0];X[T+3]=n[o+h*4+3]}}else if(p.XK==24)for(var V=0;
V<a;V++){var o=e+(a-1-V)*z;for(var h=0;h<v;h++){var T=(V*v+h)*4;X[T]=n[o+h*3+2];X[T+1]=n[o+h*3+1];X[T+2]=n[o+h*3+0]}}else if(p.XK==16)for(var V=0;
V<a;V++){var o=e+(a-1-V)*z;for(var h=0;h<v;h++){var T=(V*v+h)*4,l=n[o+h*2+1]<<8|n[o+h*2];X[T]=(l>>>11)*(255/31);
X[T+1]=(l>>>5&63)*(255/63);X[T+2]=(l&31)*(255/31)}}else if(p.XK==8)for(var V=0;V<a;V++){var o=e+(a-1-V)*z;
for(var h=0;h<v;h++){var T=(V*v+h)*4,w=n[o+h];X[T]=$[B+4*w+2];X[T+1]=$[B+4*w+1];X[T+2]=$[B+4*w+0]}}else if(p.XK==4)for(var V=0;
V<a;V++){var o=e+(a-1-V)*z;for(var h=0;h<v;h++){var T=(V*v+h)*4,w=n[o+(h>>1)];w=w>>4-4*(h&1);w=w&15;
X[T]=$[B+4*w+2];X[T+1]=$[B+4*w+1];X[T+2]=$[B+4*w+0]}}else if(p.XK==1)for(var V=0;V<a;V++){var o=e+(a-1-V)*z;
for(var h=0;h<v;h++){var T=(V*v+h)*4,W=n[o+(h>>3)];W=W>>7-(h&7);W=W&1;X[T]=$[B+4*W+2];X[T+1]=$[B+4*W+1];
X[T+2]=$[B+4*W+0]}}else throw"Unknown bit depth "+p.XK;if(p.Oh<0){var U=new Uint32Array(X.buffer),s=a>>>1;
for(var V=0;V<s;V++){var S=V*v,x=(a-V-1)*v;for(var h=0;h<v;h++){var P=U[S+h];U[S+h]=U[x+h];U[x+h]=P}}}return{WL:new bl(0,0,v,a),data:X.buffer}}function Z(n,D){return n>>>4-((D&1)<<2)&15}function q(n,N,e){var Q=e.du,p=Math.abs(e.Oh),B=new Uint8Array(Q*p),$=0,R=0,D=0;
while(R<p){var z=n[N++],v=n[N++],a=R*Q+$;if(z>0){if(e.XK==4)for(D=0;D<z;D++){B[a+D]=Z(v,D)}else for(D=0;
D<z;D++){B[a+D]=v}$+=z}else if(z==0&&v==0){R++;$=0}else if(z==0&&v==1){break}else if(z==0&&v==2){$+=n[N++];
R+=n[N++]}else{var X=v;if(e.XK==4){for(D=0;D<v;D++){B[a+D]=Z(n[N+(D>>>1)],D)}X=Math.ceil(v/2)}else{for(D=0;
D<v;D++){B[a+D]=n[N+D]}}if((X&1)!=0)X++;N+=X;$+=v}}return B}function J(n,N){var e=M.KU,Q=M.Jr,p=M.OQ,B={};
B.du=e(n,N);N+=4;B.Oh=e(n,N);N+=4;B.NF=p(n,N);N+=2;B.XK=p(n,N);N+=2;B.R1=Q(n,N);N+=4;B.size=Q(n,N);N+=4;
var $=e(n,N);N+=4;var R=e(n,N);N+=4;B.afn=Q(n,N);N+=4;N+=4;return B}function A(n,N,e,Q){M.uu(n,N,e.du);
N+=4;M.uu(n,N,e.Oh);N+=4;M.Xe(n,N,e.NF);N+=2;M.Xe(n,N,e.XK);N+=2;M.uu(n,N,e.R1);N+=4;M.uu(n,N,e.size);
N+=4;M.uu(n,N,2834);N+=4;M.uu(n,N,2834);N+=4;M.uu(n,N,e.afn);N+=4;N+=4}return{Pl:m,c2:u,apG:C}}();d4.p2={};
d4.p2.c2=function(u,m,C,Z){if(Z==null)Z=[100,!1,0,0,0,0];var q=[],J=[],A=m*C*4,z=null;for(var n=0;n<u.length;
n++){var N=new Uint8Array(u[n][0].slice(0));for(var D=0;D<A;D+=4){var e=N[D+3]=N[D+3]>127?255:0;if(e==0)N[D]=N[D+1]=N[D+2]=0}q.push(N.buffer);
J.push(u[n][1])}var Q=Math.round(2+254*Z[0]/100),p=UPNG.encode.compress(q,m,C,Q,[!0,!1,!1,8,!1,Z[1]]),B=p.plte,$=new Uint8Array(4),R=new Uint32Array($.buffer);
for(var D=0;D<B.length;D++){R[0]=B[D];var v=$[0];$[0]=$[2];$[2]=v;B[D]=R[0];if(R[0]==0)z=D}while(B.length<256)B.push(0);
var a=new Uint8Array(2e3+m*C*u.length),X=Z[3],V={palette:B};if(X!=1)V.loop=X==0?0:X-1;var o=new GifWriter(a,m,C,V);
for(var D=0;D<u.length;D++){var h=p.frames[D],T=h.rect,l=h.blend,w=h.dispose,W=Math.round(J[D]/10);if(W<2)W=2;
o.addFrame(T.x,T.y,T.width,T.height,h.img,{transparent:z,disposal:w+1,delay:W})}return a.slice(0,o.end()).buffer};
d4.p2.Pl=function(u){var m=Date.now(),C=[],Z=UGIF.decode(u),q=UGIF.toRGBA8(Z),J=new bl(0,0,Z.width,Z.height);
for(var D=0;D<q.length;D++){var A=Z.frames[D];C.push({WL:J.clone(),gp:"_a_frm"+D+","+A.delay*10,data:q[D]})}return C};
d4.H7={};d4.H7.c2=function(u,m,C,Z){console.log(u);if(m>256||C>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var q=Math.min(m,256),J=Math.min(C,256),A=new bl(0,0,q,J),n=j.U(A.Z()*4),N=new bl(0,0,m,C),e=new Uint8Array(u[0][0]);
j.zO(e,N,n,A);u[0][0]=n.buffer;m=q;C=J}var Q=new cV,p=0,B=Z&&Z[0]==!0;M.zl(Q,p,0);p+=2;M.zl(Q,p,B?2:1);
p+=2;M.zl(Q,p,1);p+=2;var $=new Uint8Array(d4.X5("png").c2(u,m,C));Q.Ic(p,16);Q.data[p]=m==256?0:m;p++;
Q.data[p]=C==256?0:C;p++;p+=2;M.zl(Q,p,B?Math.round(m/2):1);p+=2;M.zl(Q,p,B?Math.round(C/2):32);p+=2;
M.CF(Q,p,$.length);p+=4;M.CF(Q,p,6+16);p+=4;Q.Ic(p,$.length);for(var D=0;D<$.length;D++)Q.data[p+D]=$[D];
p+=$.length;var R=new Uint8Array(p);for(var D=0;D<p;D++)R[D]=Q.data[D];return R.buffer};d4.H7.Pl=function(u){u=new Uint8Array(u);
var m=4,C=M.OQ(u,m);m+=2;var Z=[];for(var D=0;D<C;D++){var q=d4.H7.ahb(u,m+D*16),J=u.buffer.slice(q.offset,q.offset+q.size),A=d4.BM(J);
A=A?A:"bmp";if(A=="png"){var n=d4.X5(A),N=n.Pl(J);q.Sd=N[0]}else{var e=d4.X5("BMP").apG(J,0),J=j.U(q.du*q.Oh*4);
j.zO(new Uint8Array(e.data),new bl(0,0,e.WL.e,e.WL.n),J,new bl(0,q.Oh,q.du,q.Oh));e.data=J.buffer;e.WL.n=q.Oh;
q.Sd=e}Z.push(q)}Z.sort(function(Q,p){if(Q.du!=p.du)return Q.du-p.du;return Q.adD-p.adD});return[Z.pop().Sd]};
d4.H7.ahb=function(u,m){var C={};C.du=u[m];m++;if(C.du==0)C.du=256;C.Oh=u[m];m++;if(C.Oh==0)C.Oh=256;
C.ah1=u[m];m++;m++;C.ajf=M.OQ(u,m);m+=2;C.adD=M.OQ(u,m);m+=2;C.size=M.Jr(u,m);m+=4;C.offset=M.Jr(u,m);
m+=4;return C};d4.cK={};d4.cK.Pl=function(u){var m=Date.now(),Z,p=!0;if(j.raw.ig(u.byteLength))return[j.raw.ao8(u)];
var C=UTIF.decode(u);if(C[0].t33421)Z=C[0];else if(C[0].subIFD&&C[0].t271&&C[0].t271[0]=="Hasselblad"){Z=C[0].subIFD[0];
Z.t33421=[2,2]}else if(C[0].subIFD&&C[0].subIFD[0].t33421){Z=C[0].subIFD[0];if(Z.t50706==null){if(Z.t258[0]==8)Z.t258[0]=12}}else if(C[0].subIFD&&C[0].subIFD[0]&&C[0].subIFD[0].t262&&C[0].subIFD[0].t262[0]==34892)Z=C[0].subIFD[0];
else if(C[0].subIFD&&C[0].subIFD[1]&&C[0].subIFD[1].t33421)Z=C[0].subIFD[1];else if(C[0].subIFD&&C[0].subIFD[2]&&C[0].subIFD[2].t33421)Z=C[0].subIFD[2];
else if(C[3]&&C[3].t50648){var q=C[0].exifIFD,J=q.makerNote;Z=C[3];var A=J.t224[1],n=J.t224[2];Z.t256=[A];
Z.t257=[n];Z.t258=[16];Z.t259=[7];Z.t262=[32803];Z.t277=[1];Z.t33421=[2,2];var N=Z.t50656[0],e=j.raw.An[N];
if(e==null)throw"e";Z.t33422=e}if(Z){UTIF.decodeImage(u,Z,C);for(var Q in C[0])if((Q[0]=="t"||Q[0]=="e"||Q[0]=="d")&&Z[Q]==null)Z[Q]=C[0][Q];
Z.Tk=C[0].t274?C[0].t274[0]:1;return[Z]}var B=1/256;for(var D=0;D<C.length;D++)if(C[D].t258&&C[D].t258[0]==16&&C[D].t277&&C[D].t277[0]==1){}else p=!1;
if(p){var $=0,R=0,z=0;for(var D=0;D<C.length;D++){UTIF.decodeImage(u,C[D],C);var v=C[D].data;for(var a=0;
a<v.length;a+=2){var X=v[a+1]<<8|v[a];if(X>$)$=X;R+=X;z++}}B=1/256*65535/(.5*$+.5*(2*R/z))}var V=[];
for(var D=0;D<C.length;D++){var o=C[D],h=72;UTIF.decodeImage(u,o,C);var T=o.t282,l=o.t296;if(T!=null&&l!=null){h=T[0][0]/T[0][1];
if(l[0]==3)h=Math.round(h/2.54)}if(o.width==null)continue;var w=UTIF.toRGBA8(o,B).buffer,W=bG.XL(o);
V.push({WL:new bl(0,0,o.width,o.height),data:w,JJ:h,wn:W})}return V};d4.cK.c2=function(u,m,C,Z){if(Z==null)Z=[!1];
var q={},J=u[0];if(J[3]!=null&&Z[0])q=bG.aC(J[3]);if(J[2]!=null){q.t282=q.t283=[[Math.round(J[2]),1]];
q.t296=[2]}return UTIF.encodeImage(J[0],m,C,q)};d4.GC={};d4.GC.x5=!0;d4.GC.Pl=function(u,m){gA.Nh(u,m)};
d4.GC.a9Q=function(u,m,C,Z){if(Z==null)Z=[!1,!1,!1,!1];if(!Z[0])u.K9();var q=new cV,J=gA.Zw(u,q,Z);return[q.data.buffer,J]};
d4.GC.c2=function(u,m,C,Z){var q=d4.GC.a9Q(u,m,C,Z),J=q[0],A=q[1];return J.byteLength==A?J:J.slice(0,A)};
d4.RU={};d4.RU.x5=!0;d4.RU.Pl=function(u,m){var C=pako.inflate(new Uint8Array(u)),Z=M.aP(C,0),q=M.aP(C,2),J=4;
m.e=M.h(C,J);J+=4;m.n=M.h(C,J);J+=4;m.buffer=j.U(m.e*m.n*4);var A=M.aP(C,J);J+=2;J+=4;for(var n=0;n<A;
n++){var N=m.Rp(),R=0,_=1,g=2,G=3,O=0;m.g.push(N);var e=M.h(C,J);J+=4;var Q=J,p=M.aP(C,Q);Q+=2;var B=M.V6(C,Q,p);
Q+=p;N.RS(B);var $=C[Q];Q++;if($!=0&&$!=1)throw $;N.rect.x=M.LR(C,Q);Q+=4;N.rect.y=M.LR(C,Q);Q+=4;N.rect.e=M.h(C,Q);
Q+=4;N.rect.n=M.h(C,Q);Q+=4;if(Z>3){R=M.LR(C,Q);Q+=4}N.opacity=Math.round(255*C[Q]/100);Q++;var z=C[Q];
Q++;N.$S(z!=0);N.Um="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[C[Q]];
Q++;var v=C[Q];Q++;if(v)N.add.lspf=1<<31;if(Z>3){var a=M.aP(C,Q);Q+=2;if(a!=0){var X=JSON.parse(M.V6(C,Q,a));
Q+=a;var V=X.text,o=X.textSettings,h=o.font,T=o.size,l=o.padding,w=parseInt(o.color.slice(1),16);N.add.lnsr="rend";
N.add.TySh=ad.bF(0,0);N.add.TySh.jR=new bl(0,0,100,100);var W=N.add.TySh.I=new ix,U=N.rect.e/2,s=N.rect.n/2;
W.translate(-U,-s);W.rotate(-R*Math.PI/180);W.translate(U,s);W.translate(N.rect.x+l,N.rect.y+l);var S=N.add.TySh.pU;
ad.Qt(S,1);ad.Fm(S,[0,0,N.rect.e-l*2,N.rect.n]);ad.Y9(S,0,V);var x=ad.zd(S,0,1);x.L4.FontSize=T;x.L4.FillColor={Type:1,Values:[1,(w>>>16&255)/255,(w>>>8&255)/255,(w>>>0&255)/255]};
if(o.bold)h+="-Bold";ad.t7(x,h);x.n9.Justification=["left","right","center"].indexOf(o.align);ad.sM(S,0,V.length,x)}}var P=M.h(C,Q);
Q+=4;if(P!=N.rect.Z()*4){for(var D=N.rect.e;D>N.rect.e/2;D--){var y=P/(D*4);if(y==Math.round(y)){N.rect.e=D;
N.rect.n=y;break}}}N.buffer=j.U(N.rect.Z()*4);if(Z>3){_=0;g=1;G=2;O=3}for(var D=0;D<P;D+=4){N.buffer[D]=C[Q+D+_];
N.buffer[D+1]=C[Q+D+g];N.buffer[D+2]=C[Q+D+G];N.buffer[D+3]=C[Q+D+O]}Q+=P;var E=M.h(C,Q);Q+=4;if(E==0&&Z>3){J+=e;
continue}var L=C[Q];Q++;var c=M.aP(C,Q);Q+=2;if(E!=0){N.M=new F.ol;N.M.rect=N.rect.clone();N.M.channel=j.U(N.rect.Z());
for(var D=0;D<E;D+=4)N.M.channel[D>>>2]=C[Q+D+1];Q+=E}if(L!=0){var k=JSON.parse(c0.default);N.add.lmfx=k;
for(var D=0;D<c0.order.length;D++)k[c0.Ca[D]]={t:"VlLs",v:[]};var I={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var D=0;D<L;D++){var Y=M.aP(C,Q),K=Q+Y+4,i=C.slice(Q,K),i4=C[Q+2];Q+=3;var d7=I[i4+""],d=JSON.parse(c0.j_[d7]);
k[c0.Ca[d7]].v.push({t:"Objc",v:d});if(d7!=0){d.Md.v.BlnM=hR.gt("norm");d.Opct.v.val=C[Q];Q++;if(d7==9||d7==2){d.Dstn.v.val=C[Q+1];
Q+=2}else Q+=2;d.blur.v.val=Math.round(C[Q]*1.2);Q++;if(d7==9||d7==2){d.uglg.v=!1;d.lagl.v.val=180-M.aP(C,Q);
Q+=2}d.Clr.v=j.C.sG({p:C[Q+1],T:C[Q+2],S:C[Q+3]})}else{d.hglM.v.BlnM=d.sdwM.v.BlnM=hR.gt("norm");Q+=2;
var fH=C[Q++],aC=C[Q++];d.blur.v.val=Math.round(Math.sqrt(aC*fH)*1.3);d.srgR.v.val=Math.round(100*fH/aC);
d.uglg.v=!1;d.lagl.v.val=180-M.aP(C,Q);Q+=2;d.hglO.v.val=C[Q++];d.hglC.v=j.C.sG({p:C[Q+1],T:C[Q+2],S:C[Q+3]});
Q+=4;d.sdwO.v.val=C[Q++];d.sdwC.v=j.C.sG({p:C[Q+1],T:C[Q+2],S:C[Q+3]});Q+=4}Q=K}}if(Q-J<e){var f8=M.h(C,Q),cE=0;
Q+=4;Q++;var p=M.aP(C,Q);Q+=2;var V=M.V6(C,Q,p);Q+=p;V=V.replace(/\r/g,"\n");var p=M.aP(C,Q);Q+=2;var h=M.V6(C,Q,p);
Q+=p;var T=M.aP(C,Q);Q+=2;var c9=N.rect.x,g1=N.rect.e;if(f8&4)cE=1;if(f8&2)cE=2;var hG=Math.round(T*.4);
if(cE==0||cE==2)g1+=hG;if(cE==1||cE==2){g1+=hG;c9-=hG}N.add.lnsr="rend";N.add.TySh=ad.bF(0,0);N.add.TySh.jR=new bl(0,0,100,100);
N.add.TySh.I=new ix(1,0,0,1,c9,N.rect.y+T*.25);var S=N.add.TySh.pU;ad.Qt(S,1);ad.Fm(S,[0,0,g1,N.rect.n]);
ad.Y9(S,0,V);var x=ad.zd(S,0,1);x.L4.FontSize=T;x.L4.FillColor={Type:1,Values:[1,C[Q+1]/255,C[Q+2]/255,C[Q+3]/255]};
Q+=4;if(C[Q+5])h+="-Bold";if(C[Q+6])h+="-Italic";ad.t7(x,h);x.n9.Justification=cE;Q+=8;ad.sM(S,0,V.length,x)}J+=e}};
d4.oz={};d4.oz.x5=!0;d4.oz.Pl=function(u,m){iH.Nh(u,m)};d4.qP={};d4.qP.x5=!0;d4.qP.Pl=function(u,m){iq.Nh(u,m)};
d4.K0={};d4.K0.x5=!0;d4.K0.Pl=function(u,m){gZ.Nh(u,m)};d4.or={};d4.or.x5=!0;d4.or.Pl=function(u,m){fd.Nh(u,m)};
d4.Vu={};d4.Vu.x5=!0;d4.Vu.Pl=function(u,m){cI.Nh(u,m)};d4.ir={};d4.ir.x5=!0;d4.ir.Pl=function(u,m){cP.Nh(u,m)};
d4.kY={};d4.kY.x5=!0;d4.kY.c2=function(u,m,C,Z,q){if(Z==null)Z=[!0,!1,!1,!1,!0,!0];var J=gp.d4(u,{Tm:Z[0],hidden:Z[1],a1o:Z[2],a37:Z[3],names:Z[4],asN:Z[5],a3h:m,ack:C},q.u6);
return J};d4.kY.Pl=function(u,m,C){gp.Nh(u,m,C)};d4.ab={};d4.ab.x5=!0;d4.ab.Pl=function(u,m){var C=150,Z=new ix(1,0,0,-1,0,0);
Z.scale(C/72,C/72);m.JJ=C;var q=new iy(m,Z,!0);FromPS.Parse(u,q)};d4.yQ={};d4.yQ.x5=!0;d4.yQ.c2=function(u,m,C,Z,q){if(Z==null)Z=["",100,!1,!1,!1,0];
Z[6]=["jpg"];var J=new ToPDF;ak.d4(u,Z,J,q.u6,m,C);return J.buffer};d4.yQ.Pl=function(u,m,C){var Z=2;
while(!0){var q=Z*72,J=new ix(1,0,0,-1,0,0);J.scale(q/72,q/72);m.JJ=q;var A=new iy(m,J,!0);FromPDF.Parse(u,A);
var n=Math.max(m.e,m.n);if(C&&n<Math.max(C[0],C[1])){m.g=[];var N=Z;while(n*(Z/N)<Math.max(C[0],C[1]))Z++}else break}};
d4.s9={};d4.s9.x5=!0;d4.s9.Pl=function(u,m){var C=72,Z=new ix(1,0,0,1,0,0);Z.scale(C/72,C/72);m.JJ=C;
var q=new iy(m,Z,!1);FromWMF.Parse(u,q)};d4.mU={};d4.mU.e3=!0;d4.mU.x5=!0;d4.mU.c2=function(u,m,C,Z,q){if(Z==null)Z=["",100,!1,!1,!1,0];
Z[6]=[];var J=new ToEMF;ak.d4(u,Z,J,q.u6);return J.buffer};d4.mU.Pl=function(u,m){var C=72,Z=new ix(1,0,0,1,0,0);
Z.scale(C/72,C/72);m.JJ=C;var q=new iy(m,Z,!1);FromEMF.Parse(u,q)};d4.Vo={};d4.Vo.x5=!0;d4.Vo.Pl=function(u,m){return dD.Nh(u,m)};
d4.sT={};d4.sT.Pl=function(u,m){var C=d9.Nh(u),Z=new Uint8Array(u),q=0,J,A,n,N,e,Q,p,B,$=0,R=0,z=0,v=0,a=0;
for(var X=0;X<C.sub.length;X++){var V=C.sub[X],q=V.r;if(V.Yw=="BMHD"){var o=[];for(var D=0;D<4;D++)o[D]=M.aP(Z,q+2*D);
q+=8;N=o[2];e=o[3];A=o[0];n=o[1];J=j.U(A*n*4);Q=Z[q++];p=Z[q++];B=Z[q++]}else if(V.Yw=="CMAP")$=q;else if(V.Yw=="CAMG"){var h=M.h(Z,q);
R=h&32768,z=h&4,v=h&2048;a=h&128}else if(V.Yw=="BODY"){var T=A+15>>>4<<1,l=Q+p,w=j.U(T*n*l),x,P,y;hl.kw(Z,q,V.size,w,0,w.length);
var U=Q-2,s=(1<<U)-1,S=Math.round(255/s);for(var e=0;e<n;e++)for(var N=0;N<A;N++){var _=0;for(var g=0;
g<l;g++){var G=(e*l+g)*T*8+N,O=w[G>>>3]>>>7-(G&7)&1;_|=O<<g}var E=_>>>Q,_=_&(1<<Q)-1,D=e*A+N,L=D<<2;
if($!=0){if(v!=0&&_>>>U!=0){var c=_>>>U,k=(_&s)*S;if(c==1)y=k;else if(c==2)x=k;else if(c==3)P=k}else{var k=$+_*3;
x=Z[k+0];P=Z[k+1];y=Z[k+2]}}else{x=_>>>0&255;P=_>>>8&255;y=_>>>16&255}J[L+0]=x;J[L+1]=P;J[L+2]=y;J[L+3]=255}}}return[{WL:new bl(0,0,A,n),data:J.buffer}]};
d4.wT={};d4.wT.x5=!1;d4.wT.c2=function(u,m,C,Z){var q=u[0][4],J=new Uint8Array(u[0][0]),A=2,n=q?!0:!1,N=n?4:3,e=new Uint8Array(m*C*N);
for(var Q=0;Q<C;Q++)for(var p=0;p<m;p++){var B=Q*m+p<<2,$=((C-Q-1)*m+p)*N;e[$]=J[B+2];e[$+1]=J[B+1];
e[$+2]=J[B+0];if(n)e[$+3]=q[0][Q*m+p]}if(!0){var R=e.length,z=0,v=new Uint8Array(R*2),a=0,X=0,V=m*N;
while(X<R){var o=X,h=0,T=V*(Math.floor(X/V)+1);while(o<T&&h<128){var l=!0;for(var D=0;D<N;D++)l=l&e[X+D]==e[o+D];
if(!l)break;o+=N;h++}if(h==1){var w=1;while(w<128&&X+(w+1)*N<T){var l=!0,W=X+w*N;for(var D=0;D<N;D++)l=l&e[W+D]==e[W+N+D];
if(l)break;w++}v[a++]=w-1;for(var U=0;U<w;U++)for(var D=0;D<N;D++)v[a++]=e[X++]}else{v[a++]=127+h;for(var D=0;
D<N;D++)v[a+D]=e[X+D];a+=N;X+=N*h;z+=h}}e=v.slice(0,a);A+=8}var s=new Uint8Array(18+e.length+26);s[2]=A;
M.Xe(s,12,m);M.Xe(s,14,C);s[16]=N*8;s[17]=N==4?8:0;s.set(e,18);M.xI(s,18+e.length+8,"TRUEVISION-XFILE.");
return s.buffer};d4.wT.Pl=function(u){var m=new Uint8Array(u),C=0,Z=m[0],q=m[1],J=m[2],A=m[4]*256+m[3],n=m[6]*256+m[5],N=m[7],e=m[9]*256+m[8],Q=m[11]*256+m[10],p=m[13]*256+m[12],B=m[15]*256+m[14],$=m[16],R=m[17],z=R>>>4,v=M.Qi(m,18,Z),a=j.U(p*B*4),C=18+Z+(n*N>>>3),X=new Uint8Array(m.buffer,C);
if(J>3){var V=0,o=m,h=new Uint8Array(p*B*$>>>3),T=C,l=0,w=m.length,W=$>>>3;while(l<h.length){var jt=o[T];
T++;if(jt<128)for(var D=0;D<jt+1;D++){for(var U=0;U<W;U++){h[l]=o[T];l++;T++}}else{for(var D=0;D<jt-127;
D++){for(var U=0;U<W;U++){h[l]=o[T+U];l++}}T+=W}}J-=8;X=h;C=T}else C+=p*B*$>>>3;var s=new Uint8Array(4),S=d4.wT.aj7;
for(var x=0;x<B;x++)for(var P=0;P<p;P++){var y=(z&2)==0?(B-x-1)*p+P:x*p+P,_=x*p+P,g,G,O,E=255,L=y*$>>>3;
if(J==1){var c=0;if($==8)c=X[L];else throw"e";S(m,18+Z+A+(c*N>>>3),N,s);g=s[0];G=s[1];O=s[2];E=s[3]}else if(J==2){S(X,L,$,s);
g=s[0];G=s[1];O=s[2];E=s[3]}else if(J==3){if($==8)g=G=O=X[L];else throw"e"}var k=_*4;a[k]=g;a[k+1]=G;
a[k+2]=O;a[k+3]=E}var s={WL:new bl(0,0,p,B),data:a.buffer,gp:v};if(j.iW(a)){var I=j.U(p*B);j._H(a,I,3);
j.gs(a,4278190080,16777215);s.YG=[I]}return[s]};d4.wT.aj7=function(u,m,C,Z){var q,J,A,n=255;if(C==24||C==32){A=u[m];
J=u[m+1];q=u[m+2];if(C==32)n=u[m+3]}else if(C==16){var N=u[m+1]<<8|u[m+0];q=N>>>10&31;J=N>>>5&31;A=N>>>0&31;
q=Math.round(q*(255/31));J=Math.round(J*(255/31));A=Math.round(A*(255/31))}else throw"e";Z[0]=q;Z[1]=J;
Z[2]=A;Z[3]=n};d4.aoD=function(){var u,m=[],C=!1;function Z(A,n,N,e){u=N;m.push(A,e);q()}function q(){if(C||m.length==0)return;
C=!0;d4.ajY(m.shift(),"image/avif",J)}function J(A){u(null,[A],m.shift());C=!1;q()}return{x5:!1,om:!0,Pl:Z}}();
d4.a8X=function(){var u,m=[],C=!1,Z,q,J,A,n,N;function e($,R,z,v){u=z;m.push($,v);Q()}function Q(){if(C||m.length==0)return;
C=!0;Z=document.createElement("canvas");q=Z.getContext("2d");J=document.createElement("video");var $="data:"+"video/mp4"+";base64,"+d4.M2(m.shift());
J.src=$;J.muted=!0;J.currentTime=0;J.addEventListener("canplay",p,!1);J.addEventListener("timeupdate",B,!1)}function p($){J.removeEventListener("canplay",p);
A=Z.width=J.videoWidth;n=Z.height=J.videoHeight;N=[];J.play()}function B($){var R=10;q.drawImage(J,0,0);
N.push({gp:"_a_"+N.length+","+Math.round(1e3/R),WL:new bl(0,0,A,n),data:q.getImageData(0,0,A,n).data.buffer});
var z=J.currentTime+1/R;if(z<J.duration)J.currentTime=z;else{u(null,N,m.shift());J.removeEventListener("timeupdate",B);
C=!1;Q();N=null}}return{x5:!1,om:!0,Pl:e}}();d4.pM={};d4.pM.Pl=function(u){var m=new Uint8Array(u),C=0,Z=112,q=42,J=M.Jr,Q;
C+=8;var A=m[C];C++;if(A!=q)throw"e";var n=J(m,C);C+=4;var N=M.hJ(m,C,n);C+=n*2;var e=[];while(C<m.length){Q=J(m,C);
C+=4;if(Q!=Z)throw Q;C+=4;Q=m[C];C++;if(Q!=q)throw Q;var p=J(m,C);C+=4;var B=m[C];C++;if(B!=q){C-=5;
p=J(m,C);C+=8;Q=m[C];C++;if(Q!=q)throw Q}var $=J(m,C)*2;C+=4;if(p>0)e.push(C+$);C+=$+p}var R=new DOMParser,z=R.parseFromString(N,"image/svg+xml").firstChild.firstChild,v=[];
d4.pM.gg(z,m,e,v);return v};d4.pM.gg=function(u,m,C,Z){var q=u.firstChild.firstChild;if(q.tagName=="Image"){var J=q.getElementsByTagName("ImageDescription")[0],A=J.children[0].children,n=J.children[1].children,N=C.shift(),e=[];
for(var D=0;D<n.length;D++)e.push(parseInt(n[D].getAttribute("NumberOfElements")));while(e.length>3)e[2]*=e.pop();
var Q=A.length,p=e[0],B=e[1],$=e[2],R=parseInt(n[0].getAttribute("BytesInc"));for(var z=0;z<$;z++){var v=j.U(p*B*4);
j.gs(v,4278190080);for(var a=0;a<Q;a++){var X=j.U(p*B);if(R==1)for(var V=0;V<X.length;V++)X[V]=m[N+V];
else if(R==2)for(var V=0;V<X.length;V++)X[V]=Math.min(255,(m[N+V*2+1]<<8|m[N+V*2])>>>2);else throw R;
if(a!=3)j.wC(X,v,a);if(Q==1){j.wC(X,v,1);j.wC(X,v,2)}N+=p*B*R}Z.push({WL:new bl(0,0,p,B),data:v.buffer})}}else{var o=u.children,h=0;
while(h<o.length&&o[h].tagName!="Children")h++;if(h==o.length)throw"e";o=o[h].children;for(var T=0;T<o.length;
T++)d4.pM.gg(o[T],m,C,Z)}};d4.Ka={};d4.Ka.Pl=function(u){var m=new Uint8Array(u),C=0,Z={},Q=1e9;for(var D=0;
D<306;D++){var q=M.Qi(m,C,8).trim(),J=M.Qi(m,C+9,71).split("/")[0].trim();Z[q]=J;C+=80;if(q=="END"){C=Math.ceil(C/2880)*2880;
break}}var A=parseInt(Z.NAXIS1),n=parseInt(Z.NAXIS2),N=A*n,e=parseInt(Z.BITPIX),p=-1e9,B=new Float32Array(N),$=new Float32Array(u,C,u.byteLength-C>>>2);
for(var D=0;D<N;D++){var R=D<<2,z=D<<1;if(e==-32){var v=m[C+R+0];m[C+R+0]=m[C+R+3];m[C+R+3]=v;var v=m[C+R+1];
m[C+R+1]=m[C+R+2];m[C+R+2]=v;B[D]=$[D]}else if(e==16){B[D]=M.OQ(m,C+z)}else throw e;var a=B[D];if(a<Q)Q=a;
if(a>p)p=a}var X=j.U(N*4),V=1/p;for(var o=0;o<n;o++)for(var h=0;h<A;h++){var D=o*A+h,T=(n-o-1)*A+h,R=T<<2,a=B[D]*V;
X[R]=X[R+1]=X[R+2]=255*a;X[R+3]=255}return[{WL:new bl(0,0,A,n),data:X,gp:Z.OBJECT}]};d4.Cc={};d4.Cc.Pl=function(u){var m=new Uint8Array(u),C=16,Z=M.Qi(m,C,4),J=32,a=0,X=0,V=!1,G;
C+=4;var q=M.Qi(m,C,8);C+=8;while(m[C+J-1]==0)J--;var A=M.Qi(m,C,J);C+=32;var n=M.Qi(m,C,4);C+=4;C+=20;
var N=M.h(m,C);C+=4;var e=M.h(m,C);C+=4;var Q=M.h(m,C);C+=4;var p=M.h(m,C);C+=4;var B=M.h(m,C);C+=4;
var $=M.h(m,C);C+=4;var R="FujiFilm "+A,z=[0,1,1,2];if(R=="FujiFilm X10"){R="FujiFilm FinePix X10";z=[2,1,1,0]}var v={t271:["FujiFilm"],t272:[R],t277:[1],t33421:[2,2],t33422:z,Tk:1};
C=Q;var o=[],h=M.aP,T=M.h(m,C);C+=4;for(var D=0;D<T;D++){var l=h(m,C);C+=2;var w=h(m,C);C+=2;if(l==256){X=h(m,C);
a=h(m,C+2)}else if(l==272){o=[h(m,C),h(m,C+2)]}else if(l==273){o.push(h(m,C),h(m,C+2))}else if(l==304){V=!(m[C]>>>7)}else if(l==305){var W=Math.round(Math.sqrt(w)),U=[];
for(var s=0;s<w;s++)U.push(m[C+s]);U.reverse();v.t33421=[W,W];v.t33422=U}else if(l==12272){var S=h(m,C),x=h(m,C+2),P=h(m,C+6);
v.t50728=[S/x,1,S/P]}C+=w}var y=a<X,_=m.slice(B,B+$),g=Math.round($*8/(a*X));if(_[0]==73&&_[1]==73&&_[2]==42){G=UTIF.decode(_.buffer)[0].fujiIFD;
g=G.t61443[0];var O=G.t61454,E=G.t61450;if(E)v.t50714=E;if(O)v.t50728=[O[0]/O[1],1,O[0]/O[2]];var L=G.t61447[0];
_=_.slice(L,L+G.t61448[0])}var $=_.length,c=$*8<a*X*g;if(c){console.log("compressed");var k=v.t33422,I=~~Math.sqrt(k.length),Y=[];
for(var D=0;D<I;D++)Y[D]=k.slice(D*I,D*I+I);_=new Uint8Array(UTIF._decompressRAF(_,Y).buffer);$=_.length}function K(fH,aC,f8){f8=f8<<8-(aC&7);
var c9=aC>>>3;fH[c9]|=f8>>>16;fH[c9+1]|=f8>>>8;fH[c9+2]|=f8}var i=$*8/(a*X);if(i==16)for(var D=0;D<$;
D+=2){var i4=_[D];_[D]=_[D+1];_[D+1]=i4}else if(i==14){for(var D=0;D<$;D+=4){var i4=_[D];_[D]=_[D+3];
_[D+3]=i4;i4=_[D+1];_[D+1]=_[D+2];_[D+2]=i4}}else if(i==12)for(var D=0;D<$;D+=3){var d7=_[D+2]<<16|_[D+1]<<8|_[D+0];
d7=d7>>>12|(d7&4095)<<12;_[D]=d7>>>16&255;_[D+1]=d7>>>8&255;_[D+2]=d7&255}if(y)_=d4.Cc.aiJ(_,a,X);var d=y?2:1;
a*=d;v.t256=[a];v.t257=[X];v.t258=[g];v.t50719=[o[1],o[0]*d];v.t50720=[o[3],o[2]*d];v.width=a;v.height=X;
v.data=new Uint8Array(_.buffer);return[v]};d4.Cc.aiJ=function(u,m,C){u=new Uint16Array(u.buffer);var Z=new Uint16Array(m*C*2);
for(var q=0;q<C;q+=2)for(var J=0;J<m;J++){var A=q*m+J,n=A*2,N=u[A],e=u[A+m];Z[n+1]=Z[n+2*m]=e;if(((q>>>1)+J&1)==0){Z[n]=N;
Z[n+2*m+1]=u[A+1]}else{Z[n]=u[A-1];Z[n+2*m+1]=N}}return Z};d4.it={};d4.it.e3=!0;d4.it.c2=function(u,m,C,Z){var q=new Uint8Array(u[0][0]),J=m*C,A=[1,3,4][Z[0]],n=8+8*Z[1],N=Z[2];
if(A==1){var e=new Uint8Array(m*C);j._H(q,e,0);q=e}if(A==3){var e=new Uint8Array(m*C*3);for(var D=0;
D<J;D++){var Q=D*4,p=D*3;e[p]=q[Q];e[p+1]=q[Q+1];e[p+2]=q[Q+2]}q=e}if(n==16){var B=q.length,e=new Uint8Array(B*2);
for(var D=0;D<B;D++){var $=Math.round(q[D]*(65535/255));e[D*2+N]=$>>>8;e[D*2+1-N]=$&255}q=e}return q.buffer};
d4.Qh={};d4.Qh.Pl=function(u,m){function C(N){return~~(.5+j.wa(Math.max(0,Math.min(1,N)))*255)}var Z=EXRLoader.parse(u),q=Z.width,J=Z.height,A=j.U(q*J*4);
for(var n=0;n<J;n++)for(var N=0;N<q;N++){var D=(n*q+N)*4,e=((J-n-1)*q+N)*4;A[D]=C(Z.data[e+0]);A[D+1]=C(Z.data[e+1]);
A[D+2]=C(Z.data[e+2]);A[D+3]=C(Z.data[e+3])}return[{WL:new bl(0,0,q,J),data:A.buffer}]};d4.mf={};d4.mf.e3=!0;
d4.mf.x5=!0;d4.mf.c2=function(u,m,C,Z,q){Z=["",100,!1,!1,!1,0];Z[6]=["jpg"];var J=new ToDXF;ak.d4(u,Z,J,q.u6);
return J.buffer};d4.mf.Pl=function(u,m){var C=72,Z=new ix(1,0,0,1,0,0);Z.scale(C/72,C/72);m.JJ=C;var q=new iy(m,Z,!1);
FromDXF.Parse(u,q)};d4.eH={};d4.eH.Pl=function(){var u=M.OQ,m=M.Jr,C=M.Qi,Z;function q(A,n,N,e,Q){var p=m(A,N),B=m(A,N+4),$=m(A,N+8),R=u(A,N+12),z=u(A,N+14);
N+=16;var v={};for(var D=0;D<R+z;D++){var a=m(A,N),X=m(A,N+4),V,o;if(a>>>31==1){a=a&16777215}if(D<R)V=M.hJ(A,n+a+2,u(A,n+a));
else V="id"+a;var h=e.slice(0);h.push(V);if(X>>>31==1){X=X&268435455;o=q(A,n,n+X,h,Q)}else{var T=m(A,n+X),l=m(A,n+X+4),w=m(A,n+X+8),W=m(A,n+X+12);
if(W!=0)throw"e";if(T<Q[0]||T>Q[0]+Q[1])throw"e";var U=Q[2]+T-Q[0];o=A.slice(U,U+l);var s=d4.BM(o.buffer);
if(s&&["bmp","png","ico"].indexOf(s)!=-1){var S=d4.X5(s);if(!S.x5){var x=null;try{x=S.Pl(o.buffer)}catch(jg){}if(x){x[0].gp=h[1];
Z.push(x[0])}}}else if(s)console.log(s)}v[V]=o;N+=8}return v}function J(A){Z=[];var n=new Uint8Array(A),N=0,e=u(n,N);
N+=2;N+=58;var Q=m(n,N);N+=4;N=Q;var p=C(n,N,4);N+=4;var B=u(n,N);N+=2;var $=u(n,N);N+=2;var R=m(n,N);
N+=4;var z=m(n,N);N+=4;var v=m(n,N);N+=4;var a=u(n,N);N+=2;var X=u(n,N);N+=2;N+=a;var V={};for(var D=0;
D<$;D++){var o=N;while(n[o]!=0)o++;var h=C(n,N,o-N),T=m(n,N+8),l=m(n,N+12),w=m(n,N+16),W=m(n,N+20),U=m(n,N+24),s=m(n,N+28),S=u(n,N+32),x=u(n,N+34),X=m(n,N+36);
V[h]=[l,T,W,w,X];if(U+s!=0)throw"e";N+=40}for(var P in V){var y=V[P];N=y[2];if(P==".rsrc"){var _=q(n,N,N,[],y),g="id134"}}return Z}return J}();
d4.o3={};d4.o3.x5=!0;d4.o3.Pl=function(u,m){hB.Nh(u,m)};(function(){var u=d4.aw.get("wasm/zstd").buffer;
WebAssembly.instantiate(u).then(function(m){var C=m.instance.exports;d4.o3.alw=C})}());d4.o3.Lu=function(u,m){var C=d4.o3.alw,Z=u.length,q=C.memory,J=2*Z+1e6,N=8;
d4.sL(C,J);var A=new Uint8Array(q.buffer),n=C.malloc(Z);A.set(u,n);while(!0){var e=m==null?Z*N:m;d4.sL(C,J+e);
var Q=C.malloc(e),p=C.ZSTD_decompress(Q,e,n,Z);if(p==-70){C.free(Q);N+=N>>>1;if(m!=null)throw"error"}else{A=new Uint8Array(q.buffer);
u=A.slice(Q,Q+p);C.free(Q);break}}C.free(n);return u};d4.TG={};d4.TG.x5=!0;d4.TG.Pl=function(){var u=0,m=1,C=2,Z=3,q=4,J=5,A=6,n=7,N=1,e=2,Q=7,p=8,B=9,$,R,z,v,a;
function X(){var jt=M.KU($,R);R+=4;return jt}function V(){var G=0,O=0;for(var D=0;D<5;D++){var E=$[R++];
G+=(E&127)<<O;O+=7;if((E&128)==0)break}return G}function o(){var G=V(),O=M.V6($,R,G);R+=G;return O}function h(){return{typeName:o(),a6w:X()}}function T(){var G=X(),O=o(),E=[],L=X();
for(var D=0;D<L;D++)E.push([o()]);return{id:G,n2:O,ab6:E}}function l(G){var O=G.ab6,E=[];for(var D=0;
D<O.length;D++)O[D].push($[R++]);for(var D=0;D<O.length;D++){var L=O[D][1],c;O[D].push(w(L))}}function w(G){var O;
if(G==u)O=$[R++];else if(G==Z)O=o();else if(G==q)O=h();else if(G==m||G==C||G==A||G==J){}else throw G;
return O}function W(G,O,E){var L;if(G==u){if(O==N)L=$[R++]==1;else if(O==e){L=$[R++]}else if(O==p)L=X();
else if(O==B){L=X();X()}else throw O}else if(G==Z){L=x(E+1)}else if(G==q){L=x(E+1)}else if(G==J){L=x(E+1)}else if(G==m){L=x(E+1)}else if(G==A){L=x(E+1)}else throw G;
return L}function U(G,O){var E=z["c"+G],L=E.ab6,c={_class:E.n2};for(var D=0;D<L.length;D++){var k=L[D],I=k[1],Y=k[2],K=W(I,Y,O),i=k[0];
c[i]=K}return c}function s(G,O,E,L){var c=[];for(var D=0;D<G;D++){var k=W(O,E,L);if(k.WI&&k.WI=="null_count"){var I=k.yg;
for(var Y=0;Y<I;Y++)c.push(null);D+=I-1}else c.push(k)}return c}function S(){return[X(),X()]}function x(G){if(G==null)throw"e";
var O=null,E=$[R],L=null;R++;if(E==0){var c=X(),k=X(),I=X(),Y=X();O=[c,k,I,Y]}else if(E==1){L=X();var K=X();
O=U(K,G)}else if(E==4){var i=T();L=i.id;l(i);z["c"+i.id]=i;O=U(i.id,G)}else if(E==5){var i=T();L=i.id;
l(i);var i4=X();z["c"+i.id]=i;O=U(i.id,G)}else if(E==6){L=X();var d7=o();O=d7}else if(E==7){L=X();var d=$[R++];
if(d!=0)throw d;var fH=X();if(fH!=1)throw fH;var aC=X(),f8=$[R++],c9=w(f8);O=s(aC,f8,c9,G)}else if(E==9){var g1=X();
O={WI:"ref",yg:g1};a["o"+g1]=!0}else if(E==10){O={WI:"null_count",yg:1}}else if(E==11){O={WI:"end"}}else if(E==12){var i4=X(),cE=o()}else if(E==13){var hG=$[R++];
O={WI:"null_count",yg:hG}}else if(E==16){var fA=S();L=fA[0];O=s(fA[1],q,null,G)}else if(E==17){var fA=S();
L=fA[0];O=s(fA[1],m,null,G)}else throw"e";if(L!=null&&L>0){if(v["o"+L]!=null)throw"e";v["o"+L]=O}return O}function P(G,v){if(G instanceof Array){for(var D=0;
D<G.length;D++)G[D]=y(G[D],v)}else if(G instanceof Object){for(var O in G)G[O]=y(G[O],v)}}function y(G,v){if(G&&G.WI&&G.WI=="ref")return v["o"+G.yg];
else return G}function _(G,O,E){$=new Uint8Array(G);R=0;z={};v={};a={};var L=M.Qi($,0,4);if(L!="PDN3")throw L;
R+=4;var c=M.OQ($,R)+$[R+2]*256*256;R+=3;var k=M.Qi($,R,c);R+=c;R+=2;while(!0){var I=x(0);if(I&&I.WI&&I.WI=="end")break}for(var Y in a)if(v[Y]==null)throw Y;
for(var Y in v)P(v[Y],v);var K=v.o1;console.log(K);O.e=K.width;O.n=K.height;O.buffer=j.U(O.e*O.n*4);
var i=K.layers["ArrayList+_items"];for(var D=0;D<i.length;D++){var i4=i[D];if(i4==null)continue;console.log(i4);
var d7=i4["Layer+width"],d=i4["Layer+height"],fH=i4["Layer+properties"],aC=i4.properties,f8=aC.blendOp._class.split("+").pop();
f8=f8.slice(0,f8.length-7);var c9={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[f8],g1=O.Rp();
g1.RS(fH.name);g1.opacity=fH.opacity;g1.$S(fH.visible);g1.Um=c9;var cE=1<<16,hG=Math.ceil(d7*d/cE);g1.rect=new bl(0,0,d7,d);
g1.buffer=j.U(d7*d*4);var fA=g1.buffer;R+=5;for(var hh=0;hh<hG;hh++){var eE=g();fA.set(eE[1],eE[0]*cE*4)}for(var dh=0;
dh<fA.length;dh+=4){var fT=fA[dh+0];fA[dh+0]=fA[dh+2];fA[dh+2]=fT}O.g.push(g1)}}function g(){var G=M.h($,R);
R+=4;var O=M.h($,R);R+=4;var E=pako.inflateRaw($.slice(R+10));R+=O;return[G,E]}return _}();var H={};
H.GL=!1;H.Bn=!1;H.Ty=!1;H.O=document.createElement("canvas");H.O2=null;H.ad=null;H.yl=0;(function(){var u={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},m;
if(!m)m=H.O.getContext("webgl",u);if(!m)m=H.O.getContext("experimental-webgl",u);if(m){H.GL=!0;H.Bn=!0;
H.O2=m;H.ad=m.createFramebuffer();m.bindFramebuffer(m.FRAMEBUFFER,H.ad);m.disable(m.BLEND);m.disable(m.DEPTH_TEST);
var C=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,C);m.bufferData(m.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),m.STATIC_DRAW);
m.enableVertexAttribArray(0);m.vertexAttribPointer(0,2,m.FLOAT,!1,0,0)}}());H.aha=function(u){u=u.replace(/\s\s+/g," ");
u=u.replace(/; /g,";");u=u.replace(/} /g,"}");u=u.replace(/ }/g,"}");u=u.replace(/{ /g,"{");u=u.replace(/ {/g,"{");
u=u.replace(/= /g,"=");u=u.replace(/ =/g,"=");u=u.replace(/\| /g,"|");u=u.replace(/ \|/g,"|");return u};
H.a7e=function(u){var m=H.O2;if(u>m.getParameter(m.MAX_TEXTURE_SIZE)){H.GL=!1;alert("Disabling WebGL")}};
H.nN=function(u,m){return new Float32Array([(u.x-m.x)/m.e,(u.y-m.y)/m.n,u.e/m.e,u.n/m.n])};H.l2=function(){return this.O};
H.JU=function(u,m){var C=H.O2;C.bindFramebuffer(C.FRAMEBUFFER,H.ad);C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,u.oo,0);
C.viewport(0,0,u.e,u.n);if(m){C.enable(C.SCISSOR_TEST);C.scissor(m.x,m.y,m.e,m.n)}else C.disable(C.SCISSOR_TEST)};
H.ZI=function(u,m,C){if(C)throw"error";var Z=H.O2;Z.disable(Z.SCISSOR_TEST);Z.bindFramebuffer(Z.FRAMEBUFFER,null);
Z.viewport(0,0,u,m);if(C){Z.enable(Z.SCISSOR_TEST);Z.scissor(C.x,C.y,Math.round(C.e),Math.round(C.n))}else Z.disable(Z.SCISSOR_TEST)};
H.clear=function(){var u=H.O2;u.clearColor(0,0,0,0);u.clear(u.COLOR_BUFFER_BIT)};H.OT=function(u,m){if(m==null)m=0;
var C=(m>>>0&255)==0,Z=(m>>>8&255)==0,q=(m>>>16&255)==0,J=(m>>>24&255)==0,A=(u>>>0&255)*(1/255),n=(u>>>8&255)*(1/255),N=(u>>>16&255)*(1/255),e=(u>>>24&255)*(1/255),Q=H.O2;
Q.colorMask(C,Z,q,J);Q.clearColor(A,n,N,e);Q.clear(Q.COLOR_BUFFER_BIT);Q.colorMask(!0,!0,!0,!0)};H.rt=function(u,m,C,Z,q){var J=m.aR(Z);
if(q)J=J.aR(q);if(J.qR())return;var A=H.O2;H.JU(u);A.bindTexture(A.TEXTURE_2D,C.oo);A.copyTexSubImage2D(A.TEXTURE_2D,0,J.x-Z.x,J.y-Z.y,J.x-m.x,J.y-m.y,J.e,J.n)};
H.Gi=function(D,u,m){var C=H.XO[D];if(C==null||C.e!=u||C.n!=m){if(C)C.delete();C=new H.HT(u,m)}H.XO[D]=C;
return C};H.XO=[];H.ia=function(){this.CD=null;this.BB=null};H.ia.HU=null;H.ia.prototype.AY=function(u){if(this.BB)return;
this.BB={};var m=H.O2,C=this.CD,Z=this.BB;for(var D=0;D<u.length;D++){var q=u[D];Z[q]=m.getUniformLocation(C,q)}};
H.ia.prototype.DN=function(){};H.ia.prototype.cY=function(u){var m=H.O2;for(var D=0;D<u.length;D+=2){m.uniform1i(u[D],D>>>1);
m.activeTexture(m["TEXTURE"+(D>>>1)]);m.bindTexture(m.TEXTURE_2D,u[D+1])}m.activeTexture(m.TEXTURE0)};
H.ia.prototype.LC=function(u,m){var C=H.O2,Z=C.createShader(C.FRAGMENT_SHADER);C.shaderSource(Z,u);C.compileShader(Z);
if(!C.getShaderParameter(Z,C.COMPILE_STATUS))console.log(C.getShaderInfoLog(Z));var q=C.createShader(C.VERTEX_SHADER);
C.shaderSource(q,m);C.compileShader(q);if(!C.getShaderParameter(q,C.COMPILE_STATUS))console.log(C.getShaderInfoLog(q));
var J=C.createProgram();C.attachShader(J,q);C.attachShader(J,Z);C.linkProgram(J);if(!C.getProgramParameter(J,C.LINK_STATUS))console.log("Could not initialise shaders");
this.CD=J};H.ia.prototype.v4=function(){if(H.ia.HU!=this){H.O2.useProgram(this.CD);H.ia.HU=this}};H.Wl=function(u,m){H.yk++;
H.yl+=u*m;if(H.Ty)console.log("GL.Channels instances: "+H.yk+", memory: "+H.yl);var C=H.O2;this.e=u;
this.n=m;this.oo=C.createTexture();this.Fj=null;this.$y(this.oo,u,m)};H.Wl.prototype.$y=function(u,m,C){var Z=H.O2;
Z.bindTexture(Z.TEXTURE_2D,u);Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MIN_FILTER,Z.NEAREST);Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MAG_FILTER,Z.NEAREST);
Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_S,Z.CLAMP_TO_EDGE);Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_T,Z.CLAMP_TO_EDGE);
Z.texImage2D(Z.TEXTURE_2D,0,Z.ALPHA,m,C,0,Z.ALPHA,Z.UNSIGNED_BYTE,null)};H.Wl.prototype.set=function(u){var m=H.O2;
m.bindTexture(m.TEXTURE_2D,this.oo);m.pixelStorei(m.UNPACK_ALIGNMENT,1);m.texImage2D(m.TEXTURE_2D,0,m.ALPHA,this.e,this.n,0,m.ALPHA,m.UNSIGNED_BYTE,u);
m.pixelStorei(m.UNPACK_ALIGNMENT,4)};H.Wl.prototype.delete=function(){var u=H.O2;if(this.oo){u.deleteTexture(this.oo);
H.yk--;H.yl-=this.e*this.n}if(H.Ty)if(H.Ty)console.log("GL.Channels instances: "+H.yk+", memory: "+H.yl*4)};
H.yk=0;H.HT=function(u,m,C){if(C==null)C=!1;H.yk++;H.yl+=u*m*4;if(H.Ty)console.log("GL.Channels instances: "+H.yk+", memory: "+H.yl);
var Z=H.O2;this.a2X=C;this.e=u;this.n=m;this.oo=Z.createTexture();this.Fj=null;this.$y(this.oo,u,m)};
H.HT.prototype.set=function(u,m){var C=H.O2;C.disable(C.SCISSOR_TEST);C.bindTexture(C.TEXTURE_2D,this.oo);
if(u==null||u instanceof Uint8Array){var Z=this.e*this.n;if(m==null||m.Z()*10>Z)C.texImage2D(C.TEXTURE_2D,0,C.RGBA,this.e,this.n,0,C.RGBA,C.UNSIGNED_BYTE,u);
else{var q=j.U(m.Z()*4);j.zO(u,new bl(0,0,this.e,this.n),q,m);C.texSubImage2D(C.TEXTURE_2D,0,m.x,m.y,m.e,m.n,C.RGBA,C.UNSIGNED_BYTE,q)}}else C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,u)};
H.HT.prototype.get=function(u){var m=H.O2;H.JU(this);m.readPixels(0,0,this.e,this.n,m.RGBA,m.UNSIGNED_BYTE,u)};
H.HT.prototype._h=function(u){if(u.qR())return;var m=H.O2;if(this.Fj==null){this.Fj=m.createTexture();
this.$y(this.Fj,this.e,this.n);H.yk++;H.yl+=this.e*this.n*4}m.bindFramebuffer(m.FRAMEBUFFER,H.ad);m.bindTexture(m.TEXTURE_2D,this.Fj);
if(u){var C=Math.max(u.x,0),Z=Math.max(u.y,0);m.copyTexSubImage2D(m.TEXTURE_2D,0,C,Z,C,Z,u.e,u.n)}else m.copyTexImage2D(m.TEXTURE_2D,0,m.RGBA,0,0,this.e,this.n,0)};
H.HT.prototype.$y=function(u,m,C){var Z=H.O2;Z.bindTexture(Z.TEXTURE_2D,u);Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MIN_FILTER,this.a2X?Z.LINEAR:Z.NEAREST);
Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MAG_FILTER,Z.NEAREST);Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_S,Z.CLAMP_TO_EDGE);
Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_T,Z.CLAMP_TO_EDGE);Z.texImage2D(Z.TEXTURE_2D,0,Z.RGBA,m,C,0,Z.RGBA,Z.UNSIGNED_BYTE,null)};
H.HT.prototype.delete=function(){var u=H.O2;if(this.oo){u.deleteTexture(this.oo);H.yk--;H.yl-=this.e*this.n*4}if(this.Fj){u.deleteTexture(this.Fj);
H.yk--;H.yl-=this.e*this.n*4}if(H.Ty)if(H.Ty)console.log("GL.Channels instances: "+H.yk+", memory: "+H.yl)};
H.HT.prototype.clone=function(){var u=H.O2,m=new H.HT(this.e,this.n);H.JU(this);u.bindTexture(u.TEXTURE_2D,m.oo);
u.copyTexImage2D(u.TEXTURE_2D,0,u.RGBA,0,0,this.e,this.n,0);return m};H.A4={a4k:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",aoA:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",hg:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",KM:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",Db:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",dc:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",Gc:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",mE:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",a5S:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",eD:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",aka:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",pt:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",_L:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",up:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",dB:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",cC:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",Kv:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",$t:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",OI:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",aaW:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",ahx:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",pl:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}"};
H.a={};H.a.Uf={};H.a.hr=null;H.a.ZT=null;H.a.cU=null;H.a.Td=function(u,m,C,Z,q,J,A,n){if(n==null)n=dU.y0();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(u)==-1){A=A*n.fill;n.fill=1;n.style=!1}var N=u+(n.JG?"1":"");
if(H.a.Uf[N]==null)H.a.Uf[N]=new H.a.rr(u,n.JG!=null);var e=H.a.Uf[N],Q=C.aR(q).aR(J);Q.offset(-q.x,-q.y);
if(Q.qR())return;var p=H.O2;H.JU(Z,Q);Z._h(Q);e.v4();e.DN(m.oo,Z.Fj,H.nN(C,q),A,n.fill,n.style?1:0,n.hh?1:0,n.JG?new Float32Array(n.JG):null);
p.drawArrays(p.TRIANGLES,0,6)};H.a.z1=function(u,m,C,Z,q,J,A,n,N,e,Q){if(H.a.hr==null)H.a.hr=new H.a.mk(!0,!0);
if(H.a.ZT==null)H.a.ZT=new H.a.mk(!0,!1);if(H.a.cU==null)H.a.cU=new H.a.mk(!1,!0);var p=e?1:0,B=u?q?H.a.hr:H.a.ZT:H.a.cU,$=new Float32Array(Q?[Q[0],Q[1],Q[2],1]:[1,1,1,1]),R=m?m.aR(Z).aR(n):Z.aR(n);
if(R.qR())return;R.offset(-Z.x,-Z.y);var z=H.O2;H.JU(C,R);C._h(R);B.v4();if(u==null)B.DN(null,C.Fj,q.oo,H.nN(Z,Z),H.nN(J,Z),A/255,N,p,$);
else if(q)B.DN(u.oo,C.Fj,q.oo,H.nN(m,Z),H.nN(J,Z),A/255,N,p,$);else B.DN(u.oo,C.Fj,null,H.nN(m,Z),null,A/255,N,p,$);
z.drawArrays(z.TRIANGLES,0,6)};H.a.asd=function(u,m,C){if(H.a.au3==null)H.a.au3=new H.a.fe;var Z=H.a.au3,q=new bl(0,0,u.e,u.n),J=H.O2;
H.JU(m);m._h(q);Z.v4();Z.DN(q,u.oo,m.Fj,C.oo);J.drawArrays(J.TRIANGLES,0,6)};H.a.LN={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
H.a.rr=function(u,m){H.ia.call(this);var C="\t\t\tprecision highp float;\t\t\t"+H.A4.hg+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(m?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+H.A4.dc+"\t\t\t"+H.A4.Gc+"\t\t\t"+H.A4.mE+"\t\t\t"+H.A4.a4k+"\t\t\t"+H.A4.aoA+"\t\t\t"+H.A4.a5S+"\t\t\t"+H.A4.eD+"\t\t\t"+H.A4.aka+"\t\t\t"+H.A4.pt+"\t\t\t"+H.A4.hash+"\t\t\t"+(m?H.A4.pl:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+H.a.LN[u]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",Z="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(u=="diss")C+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else C+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(m?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.LC(C,Z)};H.a.rr.prototype=new H.ia;H.a.rr.prototype.DN=function(u,m,C,Z,q,J,A,n){this.AY("srct alpha source target fill style keepBGA blIf".split(" "));
var N=H.O2,e=this.BB;N.uniform4fv(e.srct,C);N.uniform1f(e.alpha,Z);N.uniform1f(e.fill,q);N.uniform1f(e.style,J);
N.uniform1f(e.keepBGA,A);if(n)N.uniform4fv(e.blIf,n);this.cY([e.source,u,e.target,m])};H.a.mk=function(u,m){H.ia.call(this);
this.a6a=u;this.qt=m;var C="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+H.A4._L+"\t\t\t"+H.A4.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(u?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(m?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(u?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(m?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",Z="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.LC(C,Z)};H.a.mk.prototype=new H.ia;H.a.mk.prototype.DN=function(u,m,C,Z,q,J,A,n,N){if(this.qt)this.AY("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.AY("srct awg dissv source target cswitch".split(" "));var e=H.O2,Q=this.BB;e.uniform4fv(Q.srct,Z);
if(this.qt){e.uniform4fv(Q.wrct,q);e.uniform1f(Q.wcolor,J)}else{e.uniform4fv(Q.cswitch,N)}e.uniform1f(Q.awg,A);
e.uniform1f(Q.dissv,n);var p=[Q.source,u,Q.target,m];if(this.qt)p.push(Q.weight,C);this.cY(p)};H.a.fe=function(){H.ia.call(this);
var u="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",m="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.LC(u,m)};H.a.fe.prototype=new H.ia;H.a.fe.prototype.DN=function(u,m,C,Z){this.AY(["rct","prev","next","alpha"]);
var q=H.O2,J=this.BB;q.uniform4fv(J.rct,[0,0,1,1]);this.cY([J.prev,m,J.next,C,J.alpha,Z])};H.gD={uk:{},rE:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
H.gD.ka=function(u,m){var C=b1.R8,Z=[C.ot,C.qW,C.Xk,C.QC,C.nz,C.L2,C.tv,C.gJ].indexOf(u.type),q=H.gD.uk[u.type];
if(q==null)q=H.gD.uk[u.type]=new H.uk[Z];q.v4();q.DN(m,u);H.O2.drawArrays(H.O2.TRIANGLES,0,6)};H.uk=[];
H.uk[0]=function(){H.ia.call(this);this.XT={};var u="\t\t\tprecision mediump float;\t\t\t"+H.A4.Gc+"\t\t\t"+H.A4.hg+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.LC(u,H.gD.rE)};H.uk[0].prototype=new H.ia;H.uk[0].prototype.DN=function(u,m){var C={p:m.S8,T:m.Qm,S:m.h3,w7:j.U(m.S8.length)},Z=C.p.length;
if(this.XT["m"+Z]==null){this.XT["m"+Z]={aot:new H.HT(Z,1),bf:j.U(Z*4)}}var q=this.XT["m"+Z];j.jh(C,q.bf,0);
var J=q.aot;J.set(q.bf);this.AY(["source","map","toGray","presLum"]);var A=H.O2,n=this.BB;A.uniform1f(n.toGray,m.R9?1:0);
A.uniform1f(n.presLum,m.SZ?1:0);this.cY([n.source,u,n.map,J.oo])};H.uk[1]=function(){H.ia.call(this);
this.as6=new H.HT(256,1);this.a9t=j.U(256*4);var u="\t\t\t\tprecision mediump float;\t\t\t\t"+H.A4.cC+"\t\t\t\t"+H.A4.up+"\t\t\t\t"+H.A4.dB+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.LC(u,H.gD.rE)};H.uk[1].prototype=new H.ia;H.uk[1].prototype.DN=function(u,m){j.jh({p:m.an9,T:m.li,S:m.amx,w7:j.U(256)},this.a9t);
this.as6.set(this.a9t);this.AY(["source","map","cfa","cfb","colorize"]);var C=H.O2,Z=this.BB;C.uniform1f(Z.cfa,m.a4K);
C.uniform1f(Z.cfb,m.h8);C.uniform1i(Z.colorize,m.ac_);this.cY([Z.source,u,Z.map,this.as6.oo])};H.uk[2]=function(){H.ia.call(this);
var u="\t\t\tprecision mediump float;\t\t\t"+H.A4.cC+"\t\t\t"+H.A4.Kv+"\t\t\t"+H.A4.$t+"\t\t\t"+H.A4.up+"\t\t\t"+H.A4.dB+"\t\t\t"+H.A4.aaW+"\t\t\t"+H.A4.ahx+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.LC(u,H.gD.rE)};H.uk[2].prototype=new H.ia;H.uk[2].prototype.DN=function(u,m){this.AY(["source","vib","sat","yF"]);
var C=H.O2,Z=this.BB;C.uniform1f(Z.vib,m.no[0]);C.uniform1f(Z.sat,m.no[1]);C.uniform3fv(Z.yF,new Float32Array([m.no[2],m.no[3],m.no[3]]));
this.cY([Z.source,u])};H.uk[3]=function(){H.ia.call(this);var u="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.LC(u,H.gD.rE)};H.uk[3].prototype=new H.ia;H.uk[3].prototype.DN=function(u,m){this.AY(["source","trf"]);
var C=H.O2,Z=this.BB;C.uniformMatrix4fv(Z.trf,!1,new Float32Array(j.dZ.$E(m.NC)));this.cY([Z.source,u])};
H.uk[4]=function(){H.ia.call(this);var u="\t\t\tprecision mediump float; \t\t\t"+H.A4.OI+"\t\t\t"+H.A4.cC+"\t\t\t"+H.A4.dB+"\t\t\t"+H.A4.up+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.LC(u,H.gD.rE)};H.uk[4].prototype=new H.ia;H.uk[4].prototype.DN=function(u,m){this.AY(["source","mnm","mxm","shift","lim"]);
var C=H.O2,Z=this.BB;C.uniform3fv(Z.mnm,new Float32Array(m.IT));C.uniform3fv(Z.mxm,new Float32Array(m.u9));
C.uniform3fv(Z.shift,new Float32Array(m.shift));C.uniform1f(Z.lim,m.Wf);this.cY([Z.source,u])};H.uk[5]=function(){H.ia.call(this);
var u="\t\t\tprecision mediump float;\t\t\t"+H.A4.hg+"\t\t\t"+H.A4.KM+"\t\t\t"+H.A4.Db+"\t\t\t"+H.A4.up+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.LC(u,H.gD.rE)};H.uk[5].prototype=new H.ia;H.uk[5].prototype.DN=function(u,m){this.AY(["source","cfs"]);
var C=H.O2,Z=this.BB;C.uniform3fv(Z.cfs,m.a0o);this.cY([Z.source,u])};H.uk[6]=function(){H.ia.call(this);
var u="\t\t\tprecision mediump float;\t\t\t"+H.A4.cC+"\t\t\t"+H.A4.KM+"\t\t\t"+H.A4.Db+"\t\t\t"+H.A4.up+"\t\t\t"+H.A4.dB+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.LC(u,H.gD.rE)};H.uk[6].prototype=new H.ia;H.uk[6].prototype.DN=function(u,m){this.AY(["source","wght","prms"]);
var C=H.O2,Z=this.BB,q=[m.ep,m.a5K,m.Gc,m.arq,m.De,m.apw];C.uniform1fv(Z.wght,new Float32Array(m.aoT));
C.uniform1fv(Z.prms,new Float32Array(q));this.cY([Z.source,u])};H.uk[7]=function(){H.ia.call(this);this.v5={};
var u="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.LC(u,H.gD.rE)};H.uk[7].prototype=new H.ia;H.uk[7].prototype.DN=function(u,m){this.AY(["source","lut","N"]);
var C=H.O2,Z=this.BB,q=m.M8,J=m._y;if(this.v5["m"+q]==null)this.v5["m"+q]=new H.HT(q,q*q);var A=this.v5["m"+q];
A.set(J);C.uniform1f(Z.N,q);this.cY([Z.source,u,Z.lut,A.oo]);C.activeTexture(C.TEXTURE1);var n=C.LINEAR;
C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,n);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,n);
C.activeTexture(C.TEXTURE0)};H.filter={jf:{},rE:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",aeX:0,a4x:1,T7:2,aaN:3,a6i:4,abB:5,IP:6,ap1:7};
H.filter.ka=function(u,m){var C=H.filter,Z,q=u.type+":"+(u.xr?u.xr.join(","):""),Z=H.filter.jf[q];if(Z==null)Z=H.filter.jf[q]=new H.jf[u.type](u.xr);
Z.v4();Z.DN(m,u);H.O2.drawArrays(H.O2.TRIANGLES,0,6)};H.jf=[0,0,0,0,0,0,0,0,0,0,0,0];H.jf[7]=function(){H.ia.call(this);
var u="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.LC(dZ.R0(u),dZ.R0(H.filter.rE))};H.jf[7].prototype=new H.ia;H.jf[7].prototype.DN=function(u,m){this.AY(["source","iwh","kern"]);
var C=H.O2,Z=this.BB;C.uniform2fv(Z.iwh,m.nQ);C.uniform1fv(Z.kern,m.am1);this.cY([Z.source,u])};H.jf[6]=function(u){H.ia.call(this);
var m=u[0],C=u[1],Z=u[2],q="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",J=dZ.R0(q);
J=J.replaceAll("PRC",Z+".0");J=J.replaceAll("DIR",["x,0","0,x"][C]);this.LC(J,H.gD.rE)};H.jf[6].prototype=new H.ia;
H.jf[6].prototype.DN=function(u,m){this.AY(["source","iwh","rad"]);var C=H.O2,Z=this.BB;C.uniform2fv(Z.iwh,m.nQ);
C.uniform1f(Z.rad,m.AW);this.cY([Z.source,u])};H.jf[4]=function(u){H.ia.call(this);var m=u[0],C=u[1],Z="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+u[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][C]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][m]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][C]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(C==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.LC(Z,H.gD.rE)};H.jf[4].prototype=new H.ia;H.jf[4].prototype.DN=function(u,m){this.AY(["source","iwh","rrad","tr"]);
var C=H.O2,Z=this.BB;C.uniform2fv(Z.iwh,m.nQ);C.uniform1f(Z.rrad,m.Fg);C.uniform1f(Z.tr,m.aj2);this.cY([Z.source,u]);
var q=C.LINEAR;q=C.NEAREST;C.activeTexture(C.TEXTURE0);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,q);
C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,q);C.activeTexture(C.TEXTURE0)};H.jf[5]=function(){H.ia.call(this);
var u="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.LC(dZ.R0(u),dZ.R0(H.filter.rE))};H.jf[5].prototype=new H.ia;H.jf[5].prototype.DN=function(u,m){this.AY(["source","ssum","iwh","amnt","edgf"]);
var C=H.O2,Z=this.BB;C.uniform2fv(Z.iwh,m.nQ);C.uniform1f(Z.amnt,m.a6U);C.uniform1f(Z.edgf,m.amu);this.cY([Z.source,u,Z.ssum,m.aed])};
H.jf[3]=function(){H.ia.call(this);var u="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.LC(dZ.R0(u),dZ.R0(H.filter.rE))};H.jf[3].prototype=new H.ia;H.jf[3].prototype.DN=function(u,m){this.AY("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var C=H.O2,Z=this.BB;C.uniform2fv(Z.iwh,m.nQ);C.uniform1f(Z.tdep,m.aqS);C.uniform1f(Z.rrad,m.Fg);C.uniform2fv(Z.spec,m.anP);
C.uniform3fv(Z.nois,m.a4X);C.uniformMatrix4fv(Z.poly0,!1,m.a43);C.uniformMatrix4fv(Z.poly1,!1,m.af7);
this.cY([Z.source,u]);var q=C.LINEAR;C.activeTexture(C.TEXTURE0);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,q);
C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,q);C.activeTexture(C.TEXTURE0)};H.jf[0]=function(){H.ia.call(this);
var u="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.LC(dZ.R0(u),dZ.R0(H.filter.rE))};H.jf[0].prototype=new H.ia;H.jf[0].prototype.DN=function(u,m){this.AY(["source","iwh","ld","shine"]);
var C=H.O2,Z=this.BB;C.uniform2fv(Z.iwh,m.nQ);C.uniform3fv(Z.ld,m.ajw);C.uniform1f(Z.shine,m.acO);this.cY([Z.source,u,Z.tang,m.dU])};
H.jf[1]=function(){H.ia.call(this);var u="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.LC(dZ.R0(u),dZ.R0(H.filter.rE))};H.jf[1].prototype=new H.ia;H.jf[1].prototype.DN=function(u,m){this.AY(["source","iwh","isc","bristle"]);
var C=H.O2,Z=this.BB;C.uniform2fv(Z.iwh,m.nQ);C.uniform1f(Z.isc,m.auF);C.uniform1f(Z.bristle,m.ajr);
this.cY([Z.source,u])};H.jf[2]=function(){H.ia.call(this);var u="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.LC(dZ.R0(u),dZ.R0(H.filter.rE))};H.jf[2].prototype=new H.ia;H.jf[2].prototype.DN=function(u,m){this.AY(["source","tang","iwh","sigma","expo"]);
var C=H.O2,Z=this.BB;C.uniform2fv(Z.iwh,m.nQ);C.uniform1f(Z.sigma,m.aq6);C.uniform1f(Z.expo,m.aqV);this.cY([Z.source,u,Z.tang,m.dU]);
var q=C.LINEAR;C.activeTexture(C.TEXTURE0);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,q);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,q);
C.activeTexture(C.TEXTURE0)};function j(){}j.v={};j.af0={};j.a8B=function(){var u=[64,64,128,256,512,1024,2048],m=[];
for(var D=0;D<u.length;D++){var C=u[D],Z=document.createElement("canvas");Z.width=C;Z.height=C;m.push(Z.getContext("2d"))}return m}();
j.l2=function(u,m){var C,Z=j.a8B,D=1,q=Math.max(u,m);while(D<Z.length&&q>Z[D].canvas.width)D++;if(D==Z.length){C=Z[0];
var J=C.canvas;J.width=u;J.height=m}else{C=Z[D];C.clearRect(0,0,u,m)}return C};j._2=function(u,m,C){var Z=new Uint32Array(m*C);
Z[0]=u[0];for(var q=1;q<m;q++)Z[q]=Z[q-1]+u[q];for(var J=1;J<C;J++){var D=J*m;Z[D]=Z[D-m]+u[D];for(var q=1;
q<m;q++)Z[D+q]=u[D+q]+Z[D+q-1]+Z[D+q-m]-Z[D+q-m-1]}return Z};j.Gg=function(u,m,C,Z,q,J){var A=(q-1)*m,n=J*m;
return u[n+Z]-u[n+C-1]-u[A+Z]+u[A+C-1]};j.Le=function(u,m,C){var Z={},q=0,J=0,A=new Uint32Array(u.buffer),n=A.length,N=Date.now();
for(var e=1;e<C-1;e++)for(var Q=1;Q<m-1;Q++){var p=e*m+Q,B=A[p];if(B>>>24<230)J++;if(Z[B]==null){Z[B]=!0;
q++}}if(J!=0||q<20)return!1;return!0};j.Iu=function(u,m,C,Z,q,J){if(q==null)q=J=0;Z=Math.log(Z)/Math.log(2);
Z=Math.round(Z);for(var D=0;D<C;D++)for(var A=0;A<m;A++){var n=D*m+A<<2,N=j.wG(D+J,A+q,Z);u[n]=u[n+1]=u[n+2]=N;
u[n+3]=255}};j.wG=function(D,u,m){return 255-((D>>>m)+(u>>>m)&1)*51};j.U0=function(u){var m=u.toString(16);
while(m.length<6)m="0"+m;return m};j.C2=function(u){return parseInt(u,16)};j.Gc=function(u){return.3*u.p+.59*u.T+.11*u.S};
j.dc=function(u){return Math.max(u.p,u.T,u.S)-Math.min(u.p,u.T,u.S)};j.KY=function(u,m,C){return.3*u+.59*m+.11*C};
j.acy=function(u,m,C){return Math.max(u,m,C)-Math.min(u,m,C)};j.KM=function(u,m){var C=m-u,Z=Math.abs(C),q=C-1,J=C+1;
if(Math.abs(q)<Z)C=q;else if(Math.abs(J)<Z)C=J;return C};j.wa=function(u){return u<.0031308?12.92*u:1.055*Math.pow(u,1/2.4)-.055};
j.MD=function(u){return u<.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)};j.a0N=function(u,m){var C=Math.min(u.length,m.length);
for(var D=0;D<C;D+=4){var Z=u[D],q=u[D+1],J=u[D+2];m[D]=16+Math.floor(65.481/255*Z+128.553/255*q+24.966/255*J+.5);
m[D+1]=128-Math.floor(37.797/255*Z-74.203/255*q+112/255*J+.5);m[D+2]=128+Math.floor(112/255*Z-93.786/255*q-18.214/255*J+.5);
m[D+3]=u[D+3]}};j.apE=function(u,m,C){var Z,q,J,A=Math.max(u,m,C),n=Math.min(u,m,C);J=A;if(A!=0)q=(A-n)/A;
else q=0;if(q==0)Z=0;else{var N=A-n,e=(A-u)/N,Q=(A-m)/N,p=(A-C)/N;if(u==A)Z=p-Q;else if(m==A)Z=2+e-p;
else Z=4+Q-e;Z*=1/6;if(Z<0)Z=Z+1}return{Oh:Z,jL:q,S:J}};j.a9l=function(u,m,C){var Z=0,q=0,J=0;if(m==0)Z=q=J=C;
else{var A=(u-Math.floor(u))*6,n=Math.floor(A),N=A-Math.floor(A),e=C*(1-m),Q=C*(1-m*N),p=C*(1-m*(1-N));
switch(n){case 0:Z=C;q=p;J=e;break;case 1:Z=Q;q=C;J=e;break;case 2:Z=e;q=C;J=p;break;case 3:Z=e;q=Q;
J=C;break;case 4:Z=p;q=e;J=C;break;case 5:Z=C;q=e;J=Q;break}}return{p:Z,T:q,S:J}};j.up=function(u,m,C){var Z=Math.max(u,m,C),q=Math.min(u,m,C),J=0,A=0,n=(Z+q)*.5;
if(Z!=q){var N=Z-q;A=n>.5?N/(2-(Z+q)):N/(Z+q);switch(Z){case u:J=(m-C)/N+(m<C?6:0);break;case m:J=(C-u)/N+2;
break;case C:J=(u-m)/N+4;break}J*=1/6}return{Oh:J,jL:A,Hc:n}};j.dB=function(u,m,C){var Z,q,J;if(m==0)Z=q=J=C;
else{var A=C<.5?C*(1+m):C+m-C*m,n=2*C-A;Z=j.cC(n,A,u+1/3);q=j.cC(n,A,u);J=j.cC(n,A,u-1/3)}return{p:Z,T:q,S:J}};
j.cC=function(u,m,C){if(C<0)C+=1;if(C>1)C-=1;if(C<1/6)return u+(m-u)*6*C;if(C<1/2)return m;if(C<2/3)return u+(m-u)*(2/3-C)*6;
return u};j.Kv=function(u,m,C){var Z=Math.max(u,m,C),q=Math.min(u,m,C),J,A,n=Z,N=Z-q;A=Z==0?0:N/Z;if(Z==q)J=0;
else{switch(Z){case u:J=(m-C)/N+(m<C?6:0);break;case m:J=(C-u)/N+2;break;case C:J=(u-m)/N+4;break}J*=1/6}return{Oh:J,jL:A,yg:n}};
j.$t=function(u,m,C){var Z,q,J,D,A,n,N,e;D=Math.floor(u*6);A=u*6-D;n=C*(1-m);N=C*(1-A*m);e=C*(1-(1-A)*m);
switch(D%6){case 0:Z=C,q=e,J=n;break;case 1:Z=N,q=C,J=n;break;case 2:Z=n,q=C,J=e;break;case 3:Z=n,q=N,J=C;
break;case 4:Z=e,q=n,J=C;break;case 5:Z=C,q=n,J=N;break}return{p:Z,T:q,S:J}};j.kx=function(){var u=[],m=[];
for(var D=0;D<2e3;D++){var C=D/1e3;u[D]=j.MD(C);m[D]=C>.008856?Math.pow(C,1/3):(903.3*C+16)*(1/116)}return[u,m]}();
j.OI=function(u,m,C){var Z=j.kx[0],q=j.kx[1];u=Z[~~(u*(1e3/255))];m=Z[~~(m*(1e3/255))];C=Z[~~(C*(1e3/255))];
var J=j.dZ.auv,A=J[0]*u+J[1]*m+J[2]*C,n=J[4]*u+J[5]*m+J[6]*C,N=J[8]*u+J[9]*m+J[10]*C;A=A*(100/96.72);
n=n*(100/100);N=N*(100/81.427);return j.IO(A,n,N)};j.IO=function(u,m,C){var Z=j.kx[1],q=Z[~~(u*1e3)],J=Z[~~(m*1e3)],A=Z[~~(C*1e3)];
return{nI:116*J-16,w7:500*(q-J),S:200*(J-A)}};j.bK=function(u,m,C){var Z=903.3,q=.008856,J=(u+16)/116,A=J*J*J,n=J-C/200,N=n*n*n,e=m/500+J,Q=e*e*e,p=N>q?N:(116*n-16)/Z,B=A>q?A:(116*J-16)/Z,$=Q>q?Q:(116*e-16)/Z,R=$*96.72,z=B*100,v=p*81.427,a=j.dZ.lf(j.dZ.bj,[R/100,z/100,v/100,0]);
for(var D=0;D<4;D++)a[D]=Math.max(0,Math.min(255,j.wa(a[D])*255));return{p:a[0],T:a[1],S:a[2]}};j.ZZ=function(u,m,C,Z,q){var J=u.nI,A=u.w7,n=u.S,N=(J<m.nI?m.nI-J:C.nI<J?C.nI-J:0)*(1/100),e=(A<m.w7?m.w7-A:C.w7<A?C.w7-A:0)*(1/116),Q=(n<m.S?m.S-n:C.S<n?C.S-n:0)*(1/116),p=Math.sqrt(N*N+e*e+Q*Q)*1.35;
return p<=Z?Math.min(1,1.17*(1-p*q)):0};j.px=function(u,m,C){var Z=u.length,q=.3,J=.59,A=.11;if(C){q=C[0];
J=C[1];A=C[2]}for(var D=0;D<Z;D+=4)m[D>>2]=~~(u[D+0]*q+u[D+1]*J+u[D+2]*A+.5)};j.Ps=function(u,m){var C=m.length;
for(var D=0;D<C;D+=4){var Z=u[D>>>2];m[D]=Z;m[D+1]=Z;m[D+2]=Z}};j.jh=function(u,m){var C=u.w7,Z=u.p,q=u.T,J=u.S,A=Math.min(u.w7.length,m.buffer.byteLength>>>2),n=4*Math.floor(A/4),N=new Uint32Array(m.buffer),e=new Uint32Array(C.buffer),Q=new Uint32Array(Z.buffer),p=new Uint32Array(q.buffer),B=new Uint32Array(J.buffer);
for(var D=0;D<n;D+=4){var $=e[D>>2],R=B[D>>2],z=p[D>>2],v=Q[D>>2];N[D]=$<<24|(R&255)<<16|(z&255)<<8|v&255;
N[D+1]=($&65280)<<16|(R&65280)<<8|z&65280|(v&65280)>>>8;N[D+2]=($&16711680)<<8|R&16711680|(z&16711680)>>>8|(v&16711680)>>>16;
N[D+3]=$&4278190080|(R&4278190080)>>>8|(z&4278190080)>>>16|(v&4278190080)>>>24}for(var D=n;D<A;D++)N[D]=C[D]<<24|J[D]<<16|q[D]<<8|Z[D]};
j.Bh=function(u,m){var C=m.w7,Z=m.p,q=m.T,J=m.S,A=Math.min(m.w7.length,u.buffer.byteLength>>>2),n=4*Math.floor(A/4),N=new Uint32Array(u.buffer),e=new Uint32Array(C.buffer),Q=new Uint32Array(Z.buffer),p=new Uint32Array(q.buffer),B=new Uint32Array(J.buffer);
for(var D=0;D<n;D+=4){var $=N[D],R=N[D+1],z=N[D+2],v=N[D+3];Q[D>>2]=$&255|(R&255)<<8|(z&255)<<16|v<<24;
p[D>>2]=($&65280)>>8|R&65280|(z&65280)<<8|(v&65280)<<16;B[D>>2]=($&16711680)>>16|(R&16711680)>>8|z&16711680|(v&16711680)<<8;
e[D>>2]=$>>>24|R>>>24<<8|z>>>24<<16|v&4278190080}for(var D=n;D<A;D++){var a=N[D];Z[D]=a>>0&255;q[D]=a>>8&255;
J[D]=a>>16&255;C[D]=a>>24&255}};j._H=function(u,m,C){var Z=new Uint8Array(u.buffer),q=Math.min(Z.length/4,m.length);
for(var D=0;D<q;D++){m[D]=Z[(D<<2)+C]}};j.wC=function(u,m,C){var Z=new Uint8Array(m.buffer),q=new Uint32Array(u.buffer),J=Math.min(Z.length/4,u.length),D=0;
while(D+4<J){var A=q[D>>>2];Z[(D<<2)+C]=A&255;Z[(D<<2)+C+4]=A>>>8&255;Z[(D<<2)+C+8]=A>>>16&255;Z[(D<<2)+C+12]=A>>>24;
D+=4}while(D<J){Z[(D<<2)+C]=u[D];D++}};j.gs=function(u,m,C){if(C==null)C=0;var Z=new Uint32Array(u.buffer),q=Z.length;
for(var D=0;D<q;D++)Z[D]=Z[D]&C|m};j.a73=function(u,m,C,Z,q){if(q==null)q=0;var J=new Uint32Array(u.buffer);
C=C.aR(m);var A=C.x-m.x,n=C.y-m.y,N=C.e,e=C.n,Q=m.e;for(var p=0;p<e;p++){var D=(n+p)*Q+A;for(var B=0;
B<N;B++){J[D]=J[D]&q|Z;D++}}};j.Uj=function(u,m){var C=Math.min(u.buffer.byteLength,m.buffer.byteLength),Z=C>>>2,u=new Uint32Array(u.buffer,0,Z),m=new Uint32Array(m.buffer,0,Z);
m.set(u)};j.QV=function(u,m){var C=u.buffer.byteLength,Z=m.buffer.byteLength,q=new Uint32Array(u.buffer,0,C>>2),J=new Uint32Array(m.buffer,0,Z>>2);
if(C!=Z)return!1;var A=q.length;for(var D=0;D<A;D++)if(J[D]!=q[D])return!1;return!0};j.mL=function(u){var m=new Uint32Array(u.buffer),C=m.length;
for(var D=0;D<C;D++)m[D]=~m[D]};j.ais=function(u){var m=u.length;for(var D=0;D<m;D+=4){u[D]=~u[D];u[D+1]=~u[D+1];
u[D+2]=~u[D+2]}};j.asi=function(u){var m=u.length;for(var D=3;D<m;D+=4)u[D]=~u[D]};j.alG=function(u){return u+(u%4==0?0:4-u%4)};
j.U=function(u,m){if(m==null)m=!1;if(!m)u=j.alG(u);try{var C=new Uint8Array(u)}catch(jg){alert("Not enough RAM! (need "+Math.round(u/(1<<20))+" MB)",7e3);
throw"low_ram"}return C};j.ML=function(u){var m=u.length,C=u[m-2],Z=u[m-1];while(Z.e>=2&&Z.n>=2){var q=j.z8(C,Z);
u.push(q.bf,q.rect);C=q.bf;Z=q.rect}};j.MB=function(u){var m=u.length,C=u[m-2],Z=u[m-1];while(Z.e>=2&&Z.n>=2){var q=j.B1(C,Z);
u.push(q.bf,q.rect);C=q.bf;Z=q.rect}};j.z8=function(u,m,C){var Z=m.e,q=m.n,J=Z>>1,A=q>>1,n=new bl(m.x,m.y,J,A),N=C&&C.length==J*A*4?C:j.U(J*A*4),e=new Uint32Array(u.buffer),Q=new Uint32Array(N.buffer);
for(var p=0;p<A;p++)for(var B=0;B<J;B++){var $=p*J+B,R=(p<<1)*Z+(B<<1),z=e[R],v=e[R+1],a=e[R+Z],X=e[R+Z+1],V=z>>>24,o=v>>>24,h=a>>>24,T=X>>>24,l=V+o+h+T;
if(l==1020){var w=(z>>>0&255)+(v>>>0&255)+(a>>>0&255)+(X>>>0&255)+2>>>2,W=(z>>>8&255)+(v>>>8&255)+(a>>>8&255)+(X>>>8&255)+2>>>2,U=(z>>>16&255)+(v>>>16&255)+(a>>>16&255)+(X>>>16&255)+2>>>2;
Q[$]=255<<24|U<<16|W<<8|w}else if(l==0)Q[$]=0;else{var w=(z>>>0&255)*V+(v>>>0&255)*o+(a>>>0&255)*h+(X>>>0&255)*T,W=(z>>>8&255)*V+(v>>>8&255)*o+(a>>>8&255)*h+(X>>>8&255)*T,U=(z>>>16&255)*V+(v>>>16&255)*o+(a>>>16&255)*h+(X>>>16&255)*T,s=1/l;
w=~~(w*s+.5);W=~~(W*s+.5);U=~~(U*s+.5);Q[$]=l+2>>>2<<24|U<<16|W<<8|w}}return{rect:n,bf:N}};j.Zz=function(u,m,C){var Z=m.e,q=m.n,J=Z>>1,A=q>>1,n=new bl(m.x,m.y,J,A),N=C&&C.length==J*A*4?C:j.U(J*A*4),e=new Uint32Array(u.buffer),Q=new Uint32Array(N.buffer);
for(var p=0;p<A;p++)for(var B=0;B<J;B++){var $=p*J+B,R=(p<<1)*Z+(B<<1),z=e[R],v=e[R+1],a=e[R+Z],X=e[R+Z+1],V=2+(z>>>0&255)+(v>>>0&255)+(a>>>0&255)+(X>>>0&255)>>>2,o=2+(z>>>8&255)+(v>>>8&255)+(a>>>8&255)+(X>>>8&255)>>>2,h=2+(z>>>16&255)+(v>>>16&255)+(a>>>16&255)+(X>>>16&255)>>>2,T=2+(z>>>24&255)+(v>>>24&255)+(a>>>24&255)+(X>>>24&255)>>>2;
Q[$]=T<<24|h<<16|o<<8|V}return{rect:n,bf:N}};j.a9r=function(u,m,C){var Z=m.e,q=m.n,J=2*Math.floor(Z/3),A=2*Math.floor(q/3),n=new bl(m.x,m.y,J,A),N=C&&C.length==J*A*4?C:j.U(J*A*4),e=new Uint32Array(u.buffer),Q=new Uint32Array(N.buffer);
for(var p=0;p<A;p+=2)for(var B=0;B<J;B+=2){var $=p*J+B,R=(p*3>>>1)*Z+(B*3>>>1),z=e[R],v=e[R+1],a=e[R+2],X=e[R+Z],V=e[R+1+Z],o=e[R+2+Z],h=e[R+Z+Z],T=e[R+1+Z+Z],l=e[R+2+Z+Z],w=z>>>24<<2,W=(z>>>16&255)*w,U=(z>>>8&255)*w,s=(z&255)*w,S=v>>>24<<1,x=(v>>>16&255)*S,P=(v>>>8&255)*S,y=(v&255)*S,_=a>>>24<<2,g=(a>>>16&255)*_,G=(a>>>8&255)*_,O=(a&255)*_,E=X>>>24<<1,L=(X>>>16&255)*E,c=(X>>>8&255)*E,k=(X&255)*E,I=V>>>24,Y=(V>>>16&255)*I,K=(V>>>8&255)*I,i=(V&255)*I,i4=o>>>24<<1,d7=(o>>>16&255)*i4,d=(o>>>8&255)*i4,fH=(o&255)*i4,aC=h>>>24<<2,f8=(h>>>16&255)*aC,c9=(h>>>8&255)*aC,g1=(h&255)*aC,cE=T>>>24<<1,hG=(T>>>16&255)*cE,fA=(T>>>8&255)*cE,hh=(T&255)*cE,eE=l>>>24<<2,dh=(l>>>16&255)*eE,fT=(l>>>8&255)*eE,dB=(l&255)*eE,iN=w+S+E+I,gV=_+S+i4+I,fI=aC+cE+E+I,gc=eE+cE+i4+I,aF=iN==0?0:1/iN,gh=gV==0?0:1/gV,gD=fI==0?0:1/fI,j1=gc==0?0:1/gc,dg=0,ao=0,eC=0,bD=0;
dg=~~(.5+(s+y+k+i)*aF);ao=~~(.5+(U+P+c+K)*aF);eC=~~(.5+(W+x+L+Y)*aF);bD=~~(.5+iN*(1/9));Q[$]=bD<<24|eC<<16|ao<<8|dg;
dg=~~(.5+(O+y+fH+i)*gh);ao=~~(.5+(G+P+d+K)*gh);eC=~~(.5+(g+x+d7+Y)*gh);bD=~~(.5+gV*(1/9));Q[$+1]=bD<<24|eC<<16|ao<<8|dg;
dg=~~(.5+(g1+hh+k+i)*gD);ao=~~(.5+(c9+fA+c+K)*gD);eC=~~(.5+(f8+hG+L+Y)*gD);bD=~~(.5+fI*(1/9));Q[$+J]=bD<<24|eC<<16|ao<<8|dg;
dg=~~(.5+(dB+hh+fH+i)*j1);ao=~~(.5+(fT+fA+d+K)*j1);eC=~~(.5+(dh+hG+d7+Y)*j1);bD=~~(.5+gc*(1/9));Q[$+J+1]=bD<<24|eC<<16|ao<<8|dg}return{rect:n,bf:N}};
j.acR=function(u,m,C){var Z=m.e,q=m.n,J=2*Math.floor(Z/3),A=2*Math.floor(q/3),n=new bl(m.x,m.y,J,A),N=C&&C.length==J*A*4?C:j.U(J*A*4),e=new Uint32Array(u.buffer),Q=new Uint32Array(N.buffer);
for(var p=0;p<A;p+=2)for(var B=0;B<J;B+=2){var $=p*J+B,R=(p*3>>>1)*Z+(B*3>>>1),z=e[R],v=e[R+1],a=e[R+2],X=e[R+Z],V=e[R+1+Z],o=e[R+2+Z],h=e[R+Z+Z],T=e[R+1+Z+Z],l=e[R+2+Z+Z],w=(z>>>16&255)<<2,W=(z>>>8&255)<<2,U=(z&255)<<2,s=(v>>>16&255)<<1,S=(v>>>8&255)<<1,x=(v&255)<<1,P=(a>>>16&255)<<2,y=(a>>>8&255)<<2,_=(a&255)<<2,g=(X>>>16&255)<<1,G=(X>>>8&255)<<1,O=(X&255)<<1,E=V>>>16&255,L=V>>>8&255,c=V&255,k=(o>>>16&255)<<1,I=(o>>>8&255)<<1,Y=(o&255)<<1,K=(h>>>16&255)<<2,i=(h>>>8&255)<<2,i4=(h&255)<<2,d7=(T>>>16&255)<<1,d=(T>>>8&255)<<1,fH=(T&255)<<1,aC=(l>>>16&255)<<2,f8=(l>>>8&255)<<2,c9=(l&255)<<2,g1=0,cE=0,hG=0;
g1=~~(.5+(U+x+O+c)*(1/9));cE=~~(.5+(W+S+G+L)*(1/9));hG=~~(.5+(w+s+g+E)*(1/9));Q[$]=255<<24|hG<<16|cE<<8|g1;
g1=~~(.5+(_+x+Y+c)*(1/9));cE=~~(.5+(y+S+I+L)*(1/9));hG=~~(.5+(P+s+k+E)*(1/9));Q[$+1]=255<<24|hG<<16|cE<<8|g1;
g1=~~(.5+(i4+fH+O+c)*(1/9));cE=~~(.5+(i+d+G+L)*(1/9));hG=~~(.5+(K+d7+g+E)*(1/9));Q[$+J]=255<<24|hG<<16|cE<<8|g1;
g1=~~(.5+(c9+fH+Y+c)*(1/9));cE=~~(.5+(f8+d+I+L)*(1/9));hG=~~(.5+(aC+d7+k+E)*(1/9));Q[$+J+1]=255<<24|hG<<16|cE<<8|g1}return{rect:n,bf:N}};
j.iW=function(u){var m=255,C=u.length;C-=C&31;for(var D=3;D<C;D+=32)m=m&u[D]&u[D+4]&u[D+8]&u[D+12]&u[D+16]&u[D+20]&u[D+24]&u[D+28];
return m!=255};j.a52=function(u,m,C,Z){var q=j.z8,J=j.a9r,n=0;if(!j.iW(u)){q=j.Zz;J=j.acR}var A={bf:u,rect:m},N=C;
while(N<.499){n++;N*=2}for(var D=0;D<n;D++)A=q(A.bf,A.rect,Z);if(N<.5001)A=q(A.bf,A.rect,Z);else A=J(A.bf,A.rect,Z);
return A};j.aq2=function(u,m,C,Z){var q=j.B1,J=j.xn,A={bf:u,rect:m},n=0,N=C;while(N<.499){n++;N*=2}for(var D=0;
D<n;D++)A=q(A.bf,A.rect,Z);if(N<.5001)A=q(A.bf,A.rect,Z);else A=J(A.bf,A.rect,Z);return A};j.B1=function(u,m,C){var Z=m.e,q=m.n,J=Z>>1,A=q>>1,n=new bl(m.x,m.y,J,A);
if(u==null)return{rect:n};var N=C&&C.length>=J*A?C:j.U(J*A);for(var e=0;e<A;e++){var Q=e*J;for(var p=0;
p<J;p++){var B=(e<<1)*Z+(p<<1);N[Q+p]=2+u[B]+u[B+1]+u[B+Z]+u[B+Z+1]>>>2}}return{rect:n,bf:N}};j.xn=function(u,m,C){var Z=m.e,q=m.n,J=2*Math.floor(Z/3),A=2*Math.floor(q/3),n=new bl(m.x,m.y,J,A);
if(u==null)return{rect:n};var N=C&&C.length>=J*A?C:j.U(J*A);for(var e=0;e<A;e+=2)for(var Q=0;Q<J;Q+=2){var p=e*J+Q,B=(e*3>>>1)*Z+(Q*3>>>1),$=u[B]<<2,R=u[B+1]<<1,z=u[B+2]<<2,v=u[B+Z]<<1,a=u[B+1+Z],X=u[B+2+Z]<<1,V=u[B+Z+Z]<<2,o=u[B+1+Z+Z]<<1,h=u[B+2+Z+Z]<<2;
N[p]=~~(.5+($+R+v+a)*(1/9));N[p+1]=~~(.5+(z+R+X+a)*(1/9));N[p+J]=~~(.5+(V+o+v+a)*(1/9));N[p+J+1]=~~(.5+(h+o+X+a)*(1/9))}return{rect:n,bf:N}};
j.j5=function(u,m,C,Z,q){var J=m.aR(Z);if(q)J=J.aR(q);var A=Math.max(0,J.x-m.x),n=Math.max(0,J.x-Z.x),N=Math.max(0,J.y-m.y),e=Math.max(0,J.y-Z.y),Q=J.e,p=J.n;
for(var D=0;D<p;D++){var B=(N+D)*m.e+A,$=(e+D)*Z.e+n;for(var R=0;R<Q;R++){C[$+R]=u[B+R]}}};j.dF=function(u,m,C,Z){if(m.QV(Z)){j.wC(u,C,3);
return}var q=m.aR(Z),J=Math.max(0,q.x-m.x),A=Math.max(0,q.x-Z.x),n=Math.max(0,q.y-m.y),N=Math.max(0,q.y-Z.y),e=q.e,Q=q.n;
for(var D=0;D<Q;D++){var p=(n+D)*m.e+J,B=(N+D)*Z.e+A;for(var $=0;$<e;$++)C[(B+$<<2)+3]=u[p+$]}};j.xV=function(u,m,C,Z){var q=m.aR(Z),J=Math.max(0,q.x-m.x),A=Math.max(0,q.x-Z.x),n=Math.max(0,q.y-m.y),N=Math.max(0,q.y-Z.y),e=q.e,Q=q.n;
for(var D=0;D<Q;D++){var p=(n+D)*m.e+J,B=(N+D)*Z.e+A;for(var $=0;$<e;$++)C[B+$]=u[(p+$<<2)+3]}};j.zO=function(u,m,C,Z,q){if(m.QV(Z)&&(q==null||q.QV(Z))){j.Uj(u,C);
return}u=new Uint32Array(u.buffer),C=new Uint32Array(C.buffer);var J=m.aR(Z);if(q)J=J.aR(q);var A=Math.max(0,J.x-m.x),n=Math.max(0,J.x-Z.x),N=Math.max(0,J.y-m.y),e=Math.max(0,J.y-Z.y),Q=J.e,p=J.n,B=Q&3,$=B==0?Q:Q-B;
for(var D=0;D<p;D++){var R=(N+D)*m.e+A,z=(e+D)*Z.e+n;C.set(new Uint32Array(u.buffer,R*4,Q),z)}};j.rt=function(u,m,C,Z){var q=m.aR(Z),J=Math.max(0,q.x-m.x),A=Math.max(0,q.x-Z.x),n=Math.max(0,q.y-m.y),N=Math.max(0,q.y-Z.y),e=q.e,Q=q.n,p=u.w7,B=u.p,$=u.T,R=u.S,z=C.w7,v=C.p,a=C.T,X=C.S;
for(var D=0;D<Q;D++){var V=(n+D)*m.e+J,o=(N+D)*Z.e+A;for(var h=0;h<e;h++){z[o+h]=p[V+h];v[o+h]=B[V+h];
a[o+h]=$[V+h];X[o+h]=R[V+h]}}};j._B=function(u){var m=u.length;for(var D=0;D<m;D+=4){var C=u[D+3];if(C==255)continue;
u[D]=~~(u[D]*C*(1/255)+.5);u[D+1]=~~(u[D+1]*C*(1/255)+.5);u[D+2]=~~(u[D+2]*C*(1/255)+.5)}};j.QW=function(u){var m=u.length;
for(var D=0;D<m;D+=4){var C=u[D+3];if(C==0||C==255)continue;var Z=255/C;u[D]=~~(u[D]*Z+.5);u[D+1]=~~(u[D+1]*Z+.5);
u[D+2]=~~(u[D+2]*Z+.5)}};j.GP=function(u,m){for(var D=0;D<u.length;D++)if(u[D]!=m)return!1;return!0};
j.DQ=function(u){return u+1+(u>>>8)>>>8};j.round=function(u,m){if(m==null)m=128;var C=u.length;for(var D=0;
D<C;D++)u[D]=u[D]<m?0:255};j.Hv=function(u,m){var C=u.length;for(var D=0;D<C;D++)u[D]=Math.round(u[D]*m)};
j.wW=function(u,m){var C=new Uint32Array(u.buffer),Z=new Uint32Array(m.buffer),q=C.length;for(var D=0;
D<q;D++){var J=C[D],A=Z[D];Z[D]=j.DQ((J>>>24)*(A>>>24))<<24|j.DQ((J>>>16&255)*(A>>>16&255))<<16|j.DQ((J>>>8&255)*(A>>>8&255))<<8|j.DQ((J&255)*(A&255))}};
j.uY=function(u,m){var C=u.length;for(var D=0;D<C;D++)m[(D<<2)+3]=j.DQ(m[(D<<2)+3]*u[D])};j.a6V=function(u,m,C,Z){var q=Math.max(0,Z.x-m.x),J=Math.max(0,m.x-Z.x),A=Math.max(0,Z.y-m.y),n=Math.max(0,m.y-Z.y),N=Math.min(m.x+m.e,Z.x+Z.e)-Math.max(m.x,Z.x),e=Math.min(m.y+m.n,Z.y+Z.n)-Math.max(m.y,Z.y);
for(var D=0;D<e;D++){var Q=(A+D)*m.e+q,p=(n+D)*Z.e+J;for(var B=0;B<N;B++){C[p]=j.DQ(C[p]*u[Q]);Q++;p++}}};
j.BE=function(u,m,C,Z){var q=Math.max(0,Z.x-m.x),J=Math.max(0,m.x-Z.x),A=Math.max(0,Z.y-m.y),n=Math.max(0,m.y-Z.y),N=Math.min(m.x+m.e,Z.x+Z.e)-Math.max(m.x,Z.x),e=Math.min(m.y+m.n,Z.y+Z.n)-Math.max(m.y,Z.y);
for(var D=0;D<e;D++){var Q=(A+D)*m.e+q,p=((n+D)*Z.e+J<<2)+3;for(var B=0;B<N;B++){C[p]=j.DQ(C[p]*u[Q]);
Q++;p+=4}}};j.WF=function(u,m,C,Z){var q=Math.max(0,Z.x-m.x),J=Math.max(0,m.x-Z.x),A=Math.max(0,Z.y-m.y),n=Math.max(0,m.y-Z.y),N=Math.min(m.x+m.e,Z.x+Z.e)-Math.max(m.x,Z.x),e=Math.min(m.y+m.n,Z.y+Z.n)-Math.max(m.y,Z.y);
for(var D=0;D<e;D++){var Q=((A+D)*m.e+q<<2)+3,p=((n+D)*Z.e+J<<2)+3;for(var B=0;B<N;B++){C[p]=j.DQ(C[p]*u[Q]);
Q+=4;p+=4}}};j.hW=function(u){var m=new Float64Array(256),C=new Float64Array(256),Z=new Float64Array(256),q=new Float64Array(256),J=u.length,A=0;
for(var D=0;D<J;D+=4){var n=u[D+0],N=u[D+1],e=u[D+2],Q=u[D+3],p=Q*(1/255);C[n]+=p;Z[N]+=p;q[e]+=p;A+=Q}for(var D=0;
D<256;D++)m[D]=C[D]+Z[D]+q[D];return[m,C,Z,q,J>>>2,A/255]};j.CN=function(u,m){function C(T,l){var w=-1,W=0;
while(W<=l){w++;W+=T[w]}return w}function Z(T,l){var w=256,W=0;while(W<=l){w--;W+=T[w]}return w}function q(T){var l=0,w=0;
for(var D=0;D<256;D++){w+=T[D];l+=T[D]*D*(1/255)}return l/w}var J=u[0],A=u[1]/100,n=u[2]/100,N=[],e=[];
for(var D=0;D<4;D++){var Q=D==0?3:1;N[D]=C(m[D],Q*A*m[5]);e[D]=Z(m[D],Q*n*m[5])}var p=[q(m[1]),q(m[2]),q(m[3])],B=p.slice(0);
B.sort(function(T,l){return T-l});var $=p.indexOf(B[1]),R=(p[0]+p[1]+p[2])/3,z=[];for(var D=0;D<4;D++){var v=0,a=255,X=N[D],V=e[D];
if(J==0&&D==0){v=X;a=V}if(J==1&&D!=0){v=X;a=V}if(J==2&&D!=0){var Q=p[D-1]/R;a=Math.max(0,Math.min(255,e[$]*Q))}var o=[v,a];
z.push(o);if(J==3&&D==0){var h=255*(1-R);o.push(h)}}return z};j.n$=function(u,m){var C=new Uint32Array(u.buffer),Z=C.length;
for(var D=0;D<Z;D++){var q=C[D],J=q&255,A=q>>8&255,n=q>>16&255,N=q>>24&255;C[D]=m[J]|m[A]<<8|m[n]<<16|m[N]<<24}};
j.a87=function(u,m,C,Z,q,J,A){var n=new Uint32Array(u.buffer),N=new Uint32Array(m.buffer),e=n.length,Q=0;
while(256<<Q<C.length)Q++;if(!A&&!J){for(var D=0;D!=e;D++){var p=n[D],B=(p&255)<<Q,$=(p>>>8&255)<<Q,R=(p>>>16&255)<<Q,z=C[B],v=Z[$],a=q[R];
N[D]=z|v<<8|a<<16|p&4278190080}return}for(var D=0;D<e;D++){var p=n[D],B=(p&255)<<Q,$=(p>>>8&255)<<Q,R=(p>>>16&255)<<Q;
if(J)B=$=R=Math.round(B*.3+$*.59+R*.11);var z=C[B],v=Z[$],a=q[R];if(A){var X=j.KY(B,$,R),V=j.KY(z,v,a);
if(X>V){var o=(X-V)/(255-V);z+=o*(255-z);v+=o*(255-v);a+=o*(255-a)}else if(V==0)z=v=a=0;else{var o=X/V;
z=o*z;v=o*v;a=o*a}}N[D]=z|v<<8|a<<16|p&4278190080}};j.tY=function(u,m){var C=m.e,Z=m.n,top=0,q=0,J=0,A=0,n=0;
n=0;for(var N=0;N<Z;N++){var e=N*C;for(var D=0;D<C;D++)n|=u[e+D];if(n!=0)break;top++}if(top==Z)return new bl(0,0,0,0);
n=0;for(var N=Z-1;N>=0;N--){var e=N*C;for(var D=0;D<C;D++)n|=u[e+D];if(n!=0)break;J++}var Q=Z-J;n=0;
for(var D=0;D<C;D++){for(var N=top;N<Q;N++)n|=u[N*C+D];if(n!=0)break;q++}n=0;for(var D=C-1;D>=0;D--){for(var N=top;
N<Q;N++)n|=u[N*C+D];if(n!=0)break;A++}var p=new bl(m.x+q,m.y+top,C-q-A,Z-top-J);return p};j.vk=function(u,m,C,Z){if(Z==null)Z=[!0,!0,!0,!0];
if(C==null)C=0;var q=new Uint32Array(u.buffer),J=m.e,A=m.n,top=0,n=0,N=0,e=0,Q=!1,p=[q[0],q[q.length-1],0][C];
Q=!1;if(Z[0])for(var B=0;B<A;B++){var $=B*J;for(var D=0;D<J;D++)if(q[$+D]!=p)Q=!0;if(Q)break;top++}Q=!1;
if(Z[2])for(var B=A-1;B>=0;B--){var $=B*J;for(var D=0;D<J;D++)if(q[$+D]!=p)Q=!0;if(Q)break;N++}Q=!1;
if(Z[1])for(var D=0;D<J;D++){for(var B=0;B<A;B++)if(q[B*J+D]!=p)Q=!0;if(Q)break;n++}Q=!1;if(Z[3])for(var D=J-1;
D>=0;D--){for(var B=0;B<A;B++)if(q[B*J+D]!=p)Q=!0;if(Q)break;e++}var R=new bl(m.x+n,m.y+top,J-n-e,A-top-N);
return R.qR()?new bl(0,0,0,0):R};j.GJ=function(u){var m=j.tY(u.channel,u.rect);if(m.QV(u.rect))return;
var C=j.U(m.Z());j.j5(u.channel,u.rect,C,m);u.channel=C;u.rect=m};j.TS=function(u){var m=j.U(u.buffer.length>>2);
j._H(u.buffer,m,3);var C=j.tY(m,u.rect);if(C.QV(u.rect))return;var Z=new j.U(C.Z()*4);j.zO(u.buffer,u.rect,Z,C);
u.buffer=Z;u.rect=C};j.extend=function(u,m,C){if(u.rect.hd(m))return;var Z=u.rect.QN(m),q=j.U(Z.Z());
if(C!=null)q.fill(C);j.j5(u.channel,u.rect,q,Z);u.rect=Z;u.channel=q};j.a3_=function(u,m){if(m.qR()||u.rect.hd(m))return;
var C=u.rect.QN(m),Z=j.U(C.Z()*4);j.zO(u.buffer,u.rect,Z,C);u.rect=C;u.buffer=Z};j.O0=function(u,m,C){if(!C.PG(u))return!1;
var Z=Math.floor(u.x)-C.x,q=Math.floor(u.y)-C.y,D=q*C.e+Z;return m[D]>128};j.a8s=function(u,m,C){if(!C.PG(u))return!1;
var Z=Math.floor(u.x)-C.x,q=Math.floor(u.y)-C.y,D=q*C.e+Z;return m[4*D+3]>128};j.AL=function(u){if(j.dX.length<u){j.dX=j.U(u);
j.dX.fill(255)}return j.dX};j.dX=j.U(0);j.LW=function(u){if(j.Co.length<u)j.Co=j.U(u);return j.Co};j.Co=j.U(0);
j.HT=function(u){this.w7=j.U(u);this.p=j.U(u);this.T=j.U(u);this.S=j.U(u)};j.HT.prototype.clone=function(){var u=this.w7.length,m=new j.HT(1);
m.w7=this.w7.slice(0);m.p=this.p.slice(0);m.T=this.T.slice(0);m.S=this.S.slice(0);return m};j.v.aoI=function(u,m,C,Z,q){var J=q[0]+1,A=q[1],n=Math.abs(A-25)/4,N=q[2],e=N%2+N*N>>1,Q=j.v.K;
Q.LC(m,C);var p=Q.qZ(1),B=Q.qZ(1),$=Q.qZ(1);Q.Wz(u,Z,N,N,e);Q.R5(Z);Q.eM(Z,p);Q.m3(p,B,J,J,1);Q.m3(p,$,J,J,J*J);
Q.sub($,B);Q.wW(B,n);(A<25?Q.sub:Q.add)(p,B);Q.qp(B,Z);Q.So(Z)};j.v.at6=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);var A=q[0]*2.55,n=q[1],N=n>>1,e=q[2]*.25,Q=J.qZ(4),p=J.qZ(1),B=J.qZ(1);J.in(u,Q,n,1,!0,N);
J.in(u,Z,n,1,!1,N);J.tQ(u,p);J.qk(p,A);J.da(p,B,3);J.Vm(Z,B,Q);J.lx(Q,Z,e)};j.v.a2u=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);J.Yi(q[3]);var A=q[0]*-3+80,n=q[1]*-3+80,N=q[2]/2+.5,e=q[4],Q=q[5],p=J.qZ(1),B=J.qZ(1),$=J.qZ(1),R=J.qZ(1),z=J.qZ(4),v=J.qZ(4);
J.tQ(u,p);J.Uj(p,B);J.UL(p,n,5);J.Fd(p,.4,0);J.da(p,$,3);J.IC($,p,9,3,!0,27);J.Uj(B,$);J.mL($);var a=J.O6(A,5,$);
for(var D=0;D<J.PV;D++){B[D]=a[255-B[D]]}J.Fd(B,.4,0);J.Uj(B,$);J.da($,R,2);J.IC(R,$,5,3,!1,15);J.wW(p,N);
J.wW($,N);J.j4(Z,2155905279);J.j4(v,e);J.j4(z,Q);J.Vm(v,p,Z);J.Vm(z,$,Z)};j.v.apR=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);var A=new Uint8Array(256),n=5+10*q[1];n+=q[1]>3?(q[1]-3)*10:0;var N=~~(q[2]*.73)+50,e=Math.min(N+n,128),Q=e-N,p=-255*N;
for(var D=0;D<256;D++){var B=D*65;A[D]=J.e$(p/Q);p+=255}var $=J.qZ(1),R=J.qZ(1),z=J.qZ(1);J.tQ(u,$);
J.Uj($,z);J.da($,R,2*q[0]+1);J.sub(R,$);J.wW($,65);J.IC($,R,9,3,!0,20);for(var D=0;D<J.PV;D++){var v=z[D],a=R[D];
$[D]=a>0?~~((a*v+(255-a)*128)/255):128}J.da($,R,3);J.IC(R,$,15,2,!0,16);J.IC(R,z,15,2,!1,15);J.C6($,z);
J.Jj(z,R,2);J.yu(R,A);J.da(R,$,2);J.pS($,Z)};j.v.a7B=function(u,m,C,Z,q){var J=j.v.K;J.LC(m,C);var A=2*q[0]+1,n=J.aq[q[1]],N=q[2]*5.1,e=q[3],Q=J.qZ(1),p=J.qZ(1),B=J.qZ(4),$=J.qZ(4);
J.j4(B,e);J.R5(B,Z);J.ho(Q,N);J.qp(Q,Z);J.So(Z,B);J.tQ(u,p);J.da(p,Q,A);J.sub(Q,p);J.wW(p,n);J.IC(p,Q,9,3,!0,20);
J.Vm(u,Q,B);J.Se(B,Z,3);J.in(Z,B,15,2,!0,16);J.in(Z,$,15,2,!1,16);J.C6(B,$);J.lx($,Z,2)};j.v.a2a=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);var A=(15-q[0])/4+1,n=(15-q[1])/4+1,N=q[2],e=q[3],Q=J.Bs(q[4]),p=q[5]+1,B=q[6],$=q[7],R=q[8],z=J.qZ(1),v=J.qZ(1),a=J.qZ(1),X=J.qZ(1),V=J.qZ(4),o=J.qZ(4);
J.Cl(a,N,e,B);J.tQ(u,v);J.da(v,z,5);J.oL(a,z,X,p,Q);J.wW(X,A);J.Uo(X,2);J.mL(z);J.oL(a,z,v,p,Q);J.wW(v,n);
J.Uo(v,2);J.j4(V,2155905279);J.j4(o,$);J.j4(Z,R);J.Vm(V,v,o);J.Vm(o,X,Z)};j.v.aqq=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);J.Yi(q[3]);var A=q[0],n=q[1]/10,N=q[2]/10,e=J.qZ(1),Q=J.qZ(1),p=J.qZ(1),B=J.KQ(),$=J.KQ(),R=J.KQ();
J.iH(e);J.da(e,Q,11);J.da(Q,e,11);J.UA(e,B);J.Sq(u,e);J.Uj(e,p);J.da(e,Q,9);J.da(Q,e,9);J.UA(e,$);J.hA($,R,5);
J.hA(R,$,5);J.Hs(B,.8);J.arp(B,$,.8,.9);J.OV($,e,A);J.m3(e,Q,2,2,1);J.m3(Q,e,2,2,3);J.m3(e,Q,2,2,3);
J.m3(p,e,5,5,13);J.s3(Q,e,Q,n);J.wr(e,Q,Q,N);J.oL(Q,Q,e,5,1);J.R5(u,Z);J.qp(e,Z);J.So(Z)};j.v.aa7=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);var A=q[0],n=q[1]/2,N=q[2],e=A/2,Q=J.qZ(4),p=J.qZ(4);J.Uj(u,Z);for(var B=0;B<N;B++){J.in(Z,Q,A,1,!0,e);
J.in(Z,p,A,1,!1,e);J.C6(p,Q);J.Se(Q,p,2);J.lx(p,Z,n)}};j.v.aky=function(u,m,C,Z,q){var J=j.v.K;J.LC(m,C);
var A=q[0]*10,n=q[1]*4.9,N=q[2]*4.9,e=J.qZ(1),Q=J.qZ(1),p=J.qZ(4),B=J.qZ(4);J.tQ(u,e);J.qk(e,J.ahH(e,A));
J.da(e,Q,3);J.in(u,p,5,1,!1,1);J.in(u,Z,15,2,!0,16);J.Vm(Z,Q,p);J.R5(p,Z);J.eM(Z,e);J.UL(e,n,N);J.qp(e,Z);
J.So(Z)};j.v.anH=function(u,m,C,Z,q){var J=j.v.K;J.LC(m,C);J.Yi(q[4]);var A=q[0]/20,n=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][q[1]],N=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][q[2]],e=q[3],Q=new Int16Array(256);
for(var D=0;D<256;D++){Q[D]=~~((D-128)*A)}var p=J.qZ(1),B=J.qZ(1),$=J.qZ(4);J.tQ(u,p);J.da(p,B,25);J.wW(B,n);
J.Uo(B,N);J.da(B,p,25);J.iH(B);J.aV(p,B,Q);J.Uj(u,Z);J.j4($,e);J.Vm($,p,Z)};j.v.af8=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);var A=q[0]+5,n=15-q[1],N=A*A/2,e=1-(3-q[2])/10,Q=~~(n*n*e-1),p=~~(n*n*(1-e));if(p==0)p=1;var B=J.qZ(1),$=J.qZ(1),R=J.qZ(1),z=J.qZ(4);
J.tQ(u,R);J.m3(R,B,A,A,N);J.da(R,$,A);J.sub(B,$);J.qk($,1);J.Wz(u,z,n,n,Q);J.Wz(u,Z,n,n,p);J.Vm(z,$,Z)};
j.v.ahB=function(u,m,C,Z,q){var J=j.v.K;J.LC(m,C);J.Yi(q[3]);var A=(20-q[0])*.05,n=q[1]*-2.75+60,N=65-n,e=q[2]/10,Q=J.qZ(1),p=J.qZ(1);
J.Sq(u,p);var B=J.O6(n,N,p);J.R5(u,Z);J.eM(Z,p);J.iH(Q);J.le(p,Q,A);J.yu(p,B);J.wW(p,q[2]/10);J.add(Q,p);
J.qp(p,Z);J.So(Z)};j.v.a61=function(u,m,C,Z,q){var J=j.v.K;J.LC(m,C);var A=5+q[0],n=15-q[1],N=q[2],e=A*A/2+A*A%2*1,Q=1-(3-q[2])/10,p=~~(n*n*Q-1),B=~~(n*n*(1-Q));
if(B==0)B=1;var $=J.qZ(1),R=J.qZ(1),z=J.qZ(1),v=J.qZ(1),a=J.qZ(1);J.Sq(u,R);J.Jj(R,$,3);J.m3($,R,2,2,1);
var X=J.O6(20,20,R);J.yu(R,X);J.da(R,a,5);J.m3(a,$,A,A,e);J.m3(a,R,n,n,p);J.m3(a,z,n,n,B);J.da(a,v,A);
J.sub($,v);J.qk(v,1);J.NY(R,v,z);J.R5(u,Z);J.qp(z,Z);J.So(Z)};j.v.aud=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);J.Yi(q[5]);var A=J.PV,n=J.at,N=q[0],e=q[1],Q=q[2],p=q[3],B=q[4],$=.05*N+1,R=N/100,z=N>>1,v=2*N-100,a=+(e==9),X=+(e==7),V=[4,1][a],o=[3,2][a],h=[1,2][X],T=[2,1][X],l=[50,75][a],w=e<4?Q:(Q>>1)+50,W=J.VM(l,w),U=J.M6(p),s=J.M6(B),S=J.qZ(4),x=J.qZ(4),P=J.qZ(1),y=J.qZ(1);
function _(Z,W){if(w!=50){J.qc(Z,W)}}function g(u,d7){for(var D=0;D<A;D++){u[D]=J.e$(u[D]+(d7[D]-128)*R)}}function G(u,d7){for(var D=0,d=0;
D<A;D++){u[d]=J.e$(u[d]+(d7[d]-128)*R);u[d+1]=J.e$(u[d+1]+(d7[d+1]-128)*R);u[d+2]=J.e$(u[d+2]+(d7[d+2]-128)*R);
d+=4}}function O(u,Z){J.iH(x);J.Uj(u,Z);G(Z,x);_(Z,W)}function E(d7){var d=0;for(var fH=0;fH<12;fH++)d+=J.random();
return J.e$(z*(d-6)+d7)}function L(u,Z){J.Uj(u,Z);for(var D=0;D<n;D+=4){Z[D]=E(Z[D]);Z[D+1]=E(Z[D+1]);
Z[D+2]=E(Z[D+2])}_(Z,W)}function c(u,Z){J.Uj(u,Z);for(var D=0;D<n;D+=4){if(J.random()<R){Z[D]=U[0];Z[D+1]=U[1];
Z[D+2]=U[2]}}_(Z,W)}function k(u,Z){J.iH(S);J.Wz(S,x,o,o,V);J.Uj(u,S);G(S,x);J.Wz(S,Z,5,5,13);_(Z,W)}function I(u,Z){J.iH(x);
J.Uj(u,S);G(S,x);_(Z,W);J.Wz(S,Z,o,o,V)}function Y(u,Z){J.Uj(u,S);_(Z,W);J.tQ(S,P);for(var D=0,d7=0;
D<A;D++){var d=((v-P[D]+255)*128.5+.5)/32767;if(J.random()<=d){Z[d7++]=s[0];Z[d7++]=s[1];Z[d7++]=s[2]}else{Z[d7++]=U[0];
Z[d7++]=U[1];Z[d7++]=U[2]}Z[d7]=u[d7];d7++}}function K(u,Z){J.R5(u,Z);J.eM(Z,P);J.Jj(P,y,$);J.m3(y,P,o,o,V);
J.yu(P,W);J.qp(P,Z);J.So(Z)}function i(u){var d7=0;if(e==8){for(var d=0;d<m;d++){u[d7++]=~~(J.random()*255)}for(var D=1;
D<C;D++){for(var d=0;d<m;d++){u[d7++]=u[d]}}}else{for(var D=0;D<C;D++){var fH=~~(J.random()*255);for(var d=0;
d<m;d++){u[d7++]=fH}}}}function i4(u,Z){J.tQ(u,P);J.iH(y);g(P,y);i(y);g(P,y);J.Se(u,S,9);J.Se(S,x,9);
J.da(P,y,2);J.yu(y,W);J.da(y,P,2);J.R5(x,Z);J.qp(P,Z);J.So(Z)}[O,L,c,k,k,I,Y,i4,i4,K][e](u,Z)};j.v.ac$=function(u,m,C,Z,q){var J=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],A=j.v.K,z=0,v,D,h,T,l,w=0,W=1,U=255;
A.LC(m,C);A.Yi(q[3]);var n=A.qZ(1),N=A.qZ(1);A.tQ(u,n);var e=q[0],Q=q[1],p=Q<=50?J[Q]/255:1+(255-J[101-Q])/255,B=q[2],$=n.length,R=new Float32Array($),a=1+1/10*e,X=(1-1/a)/2,V=16/256,o=m-1;
for(D=0;D<A.PV;D++){R[D]=n[D]/255;N[D]=e==1?A.random()<1/255?U:W:W}function s(S,x){var P=S*m+x;if(N[P]!=W||S>=C||x>=m){return}var T=R[P],y=p-T,_=A.random(),g=_/a+X;
if(z==0||Math.abs(l-T)>V){v=g<=y?w:U;z=~~(A.random()*e)}else if(.1<_){z--}else{z=0}N[P]=v;l=T}if(B==0){for(D=0;
D<m;D++){for(h=0;h<m;h++){T=D+h;if(T>=m)break;s(h,o-T)}z=0}for(D=1;D<C;D++){for(h=0;h<C;h++){T=D+h;if(T>=C||h>=m)break;
s(T,o-h)}z=0}}else if(B==1){for(D=0;D<C;D++){for(h=0;h<m;h++){s(D,h)}z=0}}else if(B==2){for(D=0;D<m;
D++){for(h=0;h<m;h++){T=D+h;if(T>=m)break;s(h,T)}z=0}for(D=1;D<C;D++){for(h=0;h<C;h++){T=D+h;if(T>=C||h>=m)break;
s(T,h)}z=0}}else{for(D=0;D<m;D++){for(h=0;h<C;h++){s(h,D)}z=0}}A.pS(N,Z)};j.v.apc=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);var A=q[0],n=q[1],N=q[2],e=J.qZ(1),Q=J.qZ(1),p=J.qZ(1),B=J.qZ(4),$=J.qZ(4);J.tQ(u,e);J.m3(e,Q,3,3,1);
J.m3(e,p,3,3,9);J.sub(p,Q);J.da(Q,e,3);J.UL(e,40,10);J.in(u,Z,A,2,!1,A);J.in(u,B,A,2,!0,A);J.j4($,255);
J.Vm(Z,e,$);J.Vm($,e,B);J.lx(B,Z,1);J.R5(Z);J.eM(Z,e);J.UL(e,n,N);J.qp(e,Z);J.So(Z)};j.v.afX=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);J.Yi(q[3]);var A=q[0],n=q[1],N=q[2]/10;A=A+n;var e=J.qZ(1),Q=J.qZ(1),p=J.KQ(),B=J.KQ();J.iH(e);
J.da(e,Q,11);J.da(Q,e,11);J.UA(e,p);J.hA(p,B,5);J.hA(B,p,5);J.Hs(B,.97);J.OV(B,e,A);J.m3(e,Q,n,n,1);
J.Sq(u,e);J.s3(Q,e,Q,.6);J.wr(e,Q,Q,N);J.oL(Q,Q,e,5,1);J.R5(u,Z);J.qp(e,Z);J.So(Z)};j.v.auC=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);var A=Math.abs(q[0]),n=A+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][A],N=2*A+1,e=q[1]/10,Q=e*13/15,p=J.qZ(1),B=J.qZ(1),$=J.qZ(1),R=J.qZ(1),z=J.qZ(4),v=J.qZ(4),a=J.qZ(4),X=J.qZ(4),V=J.qZ(4);
J.tQ(u,p);if(q[0]>=0){J.mL(p)}J.Uj(p,$);J.da(p,R,n);J.da(R,p,n);J.wW(p,e);J.Uj(p,B);J.da(p,R,N);J.da(R,p,N);
J.wW(p,Q);J.j4(a,q[2]);J.j4(X,q[3]);J.j4(V,q[4]);J.Vm(a,p,X,z);J.Vm(V,B,z,v);J.Vm(X,$,v,Z);J.eM(u,$,3);
J.qp($,Z,3)};j.v.a75=function(u,m,C,Z,q){var J=j.v.K;J.LC(m,C);J.Yi(q[5]);var A=q[0]*5.1,n=q[1]/100,N=J.Yj[q[2]],e=J.qZ(1),Q=J.qZ(1),p=J.qZ(1);
J.tQ(u,e);J.ho(Q,255);J.iH(p);J.qk(e,A);J.le(Q,e,.7);J.le(p,e,n);J.oL(e,e,Q,5,N);J.Uj(u,Z);J.abH(Z,A,q[4],q[3]);
J.R5(Z);J.qp(Q,Z);J.So(Z)};j.v.aun=function(u,m,C,Z,q){var J=j.v.K;J.LC(m,C);var A=q[0],n=4-q[1],N=11-q[2],e=J.qZ(1),Q=J.qZ(1),p=J.qZ(4);
J.Sq(u,Q);for(var D=0;D<n;D++){J.Uj(Q,e);J.We(e,Q,A,A)}J.Se(u,p,A);J.R5(p,p);J.qp(Q,p);J.So(p,p);(N<11?J.asI:J.Uj)(p,Z,N)};
j.v.atC=function(u,m,C,Z,q){var J=j.v.K;J.LC(m,C);J.Yi(q[2]);var A=q[0]+5,n=~~(A/5+1),N=~~(A/2)+1,e=N*N,Q=~~(A/3),p=J.Yj[q[1]],B=new Array(256);
for(var D=0;D<256;D++){B[D]=~~(.2*(D-128))}var $=J.qZ(1),R=J.qZ(1);J.atd(u,Z,A);J.R5(Z);J.eM(Z,$);J.iH(R);
J.aV($,R,B);J.a26(R,A,A,n,n);J.s3($,R,$,1);J.da($,R,Q);J.da(R,$,Q);J.m3($,R,N,N,e);J.oL(R,R,$,5,p);J.qp($,Z);
J.So(Z)};j.v.aug=function(u,m,C,Z,q){var J=j.v.K;J.LC(m,C);var A=J.qZ(1),n=J.qZ(1),N=J.qZ(1),e=J.KQ(),Q=J.KQ();
J.tQ(u,A);J.da(A,n,q[2]);J.qk(n,q[0]*5.1);J.m3(n,A,2,2,4);J.da(A,n,3);J.da(n,A,3);J.Uj(A,N);J.da(A,n,5);
J.da(n,A,5);J.UA(A,e);J.hA(e,Q,5);J.hA(Q,e,5);J.aok(e,n,q[1]);J.mL(n);J.s3(N,n,N,1);J.pS(N,Z)};j.v.a0s=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);var A=1<<7-q[2],n=J.qZ(1),N=J.qZ(1),e=J.qZ(1);J.Sq(u,N);J.da(N,n,3);J.Uj(n,N);J.da(n,e,q[0]+5);
J.sub(e,N);J.UL(N,1,q[1]);J.wW(n,1/A);J.wW(n,A);J.sub(n,N);J.R5(u,Z);J.qp(N,Z);J.So(Z)};j.v.af$=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);J.Yi(q[3]);var A=J.qZ(1),n=J.qZ(1),N=J.qZ(1);J.tQ(u,A);J.ao0(n,q[0]/50);J.da(n,N,3);J.m3(A,n,9,9,41);
J.UL(n,q[1],q[2]);J.s3(n,N,N,.75);J.wr(n,N,n,.5);J.Uj(n,A);J.m3(A,N,3,3,8);J.s3(N,n,N,.75);J.wW(N,1.2);
J.Jj(N,A,1);J.da(A,N,2);J.Jj(N,A,2);J.wW(A,1.2);J.da(A,N,2);J.pS(N,Z)};j.v.a0p=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);var A=q[0]+9,n=q[1]/2,N=q[2],e=q[3],Q=J.Bs(q[4]),p=q[5]+1,B=q[6],$=J.qZ(1),R=J.qZ(1),z=J.qZ(4),v=J.qZ(4);
J.Cl(R,N,e,B);J.Q5(u,Z,A,1,1);J.Q5(Z,z,A,1,1);J.arv(z,z,v,7,n);J.wW(v,1.2);J.Uo(v,1.2);J.oL(R,$,$,p,Q);
J.wW($,3);J.Uj(u,Z);J.Vm(v,$,Z)};j.v.a2I=function(u,m,C,Z,q){var J=j.v.K;J.LC(m,C);J.Yi(q[3]);var A=q[0]+4,n=A*2/5+(A%5|0);
A--;var N=q[1]*-2.75+60,e=65-N,Q=q[2]/10,p=J.qZ(1),B=J.qZ(1);J.iH(p);J.Sq(u,B);var $=J.O6(N,e,B);J.R5(u,Z);
J.eM(Z,B);J.le(B,p,.8);J.yu(B,$);J.wW(B,Q);J.add(p,B);J.IC(B,p,A,3,!1,n);J.qp(p,Z);J.So(Z)};j.v.aaw=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);J.Yi(q[3]);var A=q[0]+5,n=(A*A>>1)+A%2,N=q[1]/10,e=q[2],Q=(e*e>>1)+e%2,p=J.qZ(1),B=J.qZ(1),$=J.qZ(1),R=J.qZ(4),z=J.qZ(4),v=J.qZ(4);
J.iH($);J.R5(u,v);J.eM(v,p);J.le(p,$,.8);J.da($,p,3);J.Jj(p,$,N);J.qp($,v);J.So(v,v);J.tQ(v,$);J.m3($,p,A,A,n);
J.da($,B,A);J.sub(p,B);J.qk(B,1);J.Wz(v,R,7,7,40);J.Wz(v,z,7,7,10);J.Vm(R,B,z);J.Wz(z,Z,e,e,Q)};j.v.asX=function(u,m,C,Z,q){var J=j.v.K,n=255,D,e;
J.LC(m,C);var A=q[0];if(A<2)n=A;else if(A<12)n=5*A-5;else if(A<47)n=2*A+28;else if(A<50){D=A-47;n=125+12.5*D+12.5*D*D}var N=new Uint8Array(256);
for(D=75,e=15;D<256;D++,e+=24)N[D]=Math.min(255,e);var Q=J.qZ(1),p=J.qZ(1),B=J.qZ(1);J.tQ(u,Q);J.da(Q,p,11);
J.da(p,B,11);J.sub(B,Q);J.wW(Q,8);J.sub(B,Q);J.qk(Q,n);J.mL(Q);J.da(Q,p,5);J.qk(p,51);J.da(p,Q,q[1]);
J.da(Q,p,q[1]);J.mL(p);J.yu(p,N);J.pS(p,Z)};j.v.a3l=function(u,m,C,Z,q){var J=j.v.K;J.LC(m,C);var A=J.aq[q[1]],n=q[2],N=n*1.5,e=J.qZ(1),Q=J.qZ(1),p=J.qZ(1);
J.Sq(u,e);J.IC(e,Q,15,2,!0,15);J.Uj(Q,p);J.UL(p,n,N);J.da(p,e,3);J.da(Q,p,q[0]);J.sub(p,Q);J.wW(Q,A);
J.sub(e,Q);J.da(Q,e,3);J.IC(e,Q,3,1,!1,1);J.Se(u,Z,15);J.R5(Z);J.qp(Q,Z);J.So(Z)};j.v.amY=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);J.Yi(q[3]);var A=q[0]*5.1,n=16-q[1],N=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][q[2]],e=J.qZ(1),Q=J.qZ(1),p=J.qZ(1);
J.tQ(u,e);J.qk(e,A);J.da(e,Q,n);J.da(Q,e,n);J.iH(p);J.wr(e,p,p,1);J.s3(e,p,e,.75);J.wW(e,N);J.Uo(e,N);
J.m3(e,Q,2,2,2);J.pS(Q,Z)};j.v.ab4=function(u,m,C,Z,q){var J=j.v.K;J.LC(m,C);var A=q[0]+9,n=q[1]+9,N=q[2],e=q[3],Q=J.Bs(q[4]),p=q[5]+1,B=q[6],$=J.qZ(1),R=J.qZ(1),z=J.qZ(1),v=J.qZ(1),a=J.qZ(1),X=J.qZ(4);
J.Sq(u,$);J.We($,z,A,A);J.da(z,$,n);J.Uj(z,a);J.Uj($,v);J.sub(a,v);J.sub($,a);J.add(a,v);J.wW(v,10);
J.Cl(R,N,e,B);J.oL(R,$,a,p,Q);J.NY(a,v,z,.8);J.Se(u,X,9);J.Se(X,Z,9);J.R5(Z);J.qp(z,Z);J.So(Z)};j.v.arn=function(u,m,C,Z,q){var J=j.v.K;
J.LC(m,C);var A=16-q[0],n=q[1]*8,N=1-(3-q[2])/10,e=~~(A*A*N-1),Q=~~(A*A*(1-N));if(Q==0)Q=1;var p=J.qZ(1),B=J.qZ(1),$=J.qZ(1),R=J.qZ(4);
J.tQ(u,$);J.m3($,p,7,7,25);J.da($,B,7);J.sub(p,B);J.qk(B,1);J.Wz(u,R,A,A,e);J.Wz(u,Z,A,A,Q);J.Vm(R,B,Z);
J.R5(Z);J.eM(Z,p);J.m3(p,$,3,3,1);J.m3(p,B,3,3,9);J.sub(B,$);J.Uj($,B);J.sub(p,$);J.sub($,B);J.m3(B,p,3,3,8);
J.UL(p,n,1);J.qp(p,Z);J.So(Z)};j.v.aj0=function(u,m,C,Z,q){var J=j.v.K;J.LC(m,C);J.Yi(q[3]);var A=q[0],n=q[1],N=q[2],e=A>>1,Q=Math.max(~~(A/5),1),p=Math.max(~~(A*2/3),1),B=J.VM(n,N),$=J.qZ(1),R=J.qZ(1),z=J.qZ(1),v=J.qZ(1),a=J.qZ(4);
J.Sq(u,$);J.uj(2147483647,4,2,2,0,255,R);J.uj(4,2147483647,2,2,0,255,v);J.iH(z);J.wr(R,z,R,1);J.wr(v,z,v,1);
J.wr(R,$,R,1);J.wr(v,$,v,1);J.Se(u,a,e);J.Se(a,Z,e);J.m3(R,$,1,A,Q);J.m3($,R,3,A,p);J.m3(v,$,A,1,Q);
J.m3($,v,A,3,p);J.C6(R,v);J.R5(Z);J.qp(v,Z);J.So(Z);J.qc(Z,B)};j.v.K={};j.v.K.du=0;j.v.K.Oh=0;j.v.K.PV=0;
j.v.K.TV=0;j.v.K.at=0;j.v.K.LC=function(u,m){var C=u*m,self=j.v.K;self.du=u;self.Oh=m;self.PV=C;self.TV=C<<1;
self.at=C<<2};j.v.K.Yi=function(u){j.v.K.random=function(){var m=u+=1831565813;m=Math.imul(m^m>>>15,m|1);
m^=m+Math.imul(m^m>>>7,m|61);return((m^m>>>14)>>>0)/4294967296}};j.v.K.qZ=function(u){var m=j.v.K;return new Uint8Array([-1,m.PV,m.TV,-1,m.at][u])};
j.v.K.KQ=function(){return new Int32Array(j.v.K.TV)};j.v.K.da=function(u,m,C,Z){if(Z==null)Z=C;var self=j.v.K,q=self.du,J=self.Oh;
j.yM.tn(u,m,new bl(0,0,q,J),C>>>1);return};j.v.K.hA=function(u,m,C,Z){var self=j.v.K,q=new Int32Array(self.PV),J=new Int32Array(self.PV);
for(var D=0;D<2;D++){self.eM(u,q,D,2);self.da(q,J,C,Z);self.qp(J,m,D,2)}};j.v.K.Se=function(u,m,C,Z){var self=j.v.K,q=self.qZ(1),J=self.qZ(1);
for(var D=0;D<4;D++){self.eM(u,q,D);if(D<3)self.da(q,J,C,Z);else J=q;self.qp(J,m,D)}};j.v.K.Q5=function(u,m,C,Z,q){var self=j.v.K,J=self.du,A=self.Oh,n=C+Z-1,N=C>>1,e=n>>1,Q=0,p=C*Z,B=new Int32Array(C);
for(var D=0;D<A;D++){var $=0,R=0,z=0;for(var v=0;v<C;v++){var a=q?n-v-Z:v;for(var X=a,V=Z+a;X<V;X++){var o=0-e+X,h=D-N+v;
if(X==a){B[v]=o}if(o<0)o=0;else if(o>=J)o=J-1;if(h<0)h=0;else if(h>=A)h=A-1;var T=J*h+o<<2;$+=u[T];R+=u[T+1];
z+=u[T+2]}}m[Q++]=~~($/p);m[Q++]=~~(R/p);m[Q++]=~~(z/p);m[Q]=u[Q];Q++;for(var l=1;l<J;l++){for(var v=0;
v<C;v++){var h=D-N+v,a=B[v]+1;B[v]=a;var w=a-1,W=a+Z-1;if(h<0)h=0;else if(h>=A)h=A-1;if(w<0)w=0;else if(w>=J)w=J-1;
if(W<0)W=0;else if(W>=J)W=J-1;var U=h*J+w<<2,s=h*J+W<<2;$=$+u[s]-u[U];R=R+u[s+1]-u[U+1];z=z+u[s+2]-u[U+2]}m[Q++]=~~($/p);
m[Q++]=~~(R/p);m[Q++]=~~(z/p);m[Q]=u[Q];Q++}}};j.v.K.IC=function(u,m,C,Z,q,J){var self=j.v.K,A=self.du,n=self.Oh,N=C+Z-1,e=C>>1,Q=N>>1,p=0,B=new Int32Array(C),$=new Int32Array(256),R=new Int32Array(16);
for(var D=0;D<n;D++){$.fill(0);R.fill(0);for(var z=0;z<C;z++){var v=q?N-z-Z:z;for(var a=v,X=Z+v;a<X;
a++){var V=0-Q+a,o=D-e+z;if(a==v){B[z]=V}if(V<0)V=0;else if(V>=A)V=A-1;if(o<0)o=0;else if(o>=n)o=n-1;
$[u[o*A+V]]++;R[u[o*A+V]>>>4]++}}m[p++]=j.v.K.P4(R,$,J);for(var h=1;h<A;h++){for(var z=0;z<C;z++){var o=D-e+z,v=B[z]+1;
B[z]=v;var T=v-1,l=v+Z-1;if(o<0)o=0;else if(o>=n)o=n-1;if(T<0)T=0;else if(T>=A)T=A-1;if(l<0)l=0;else if(l>=A)l=A-1;
var w=u[o*A+T],W=u[o*A+l];$[w]--;$[W]++;R[w>>>4]--;R[W>>>4]++}m[p++]=j.v.K.P4(R,$,J)}}};j.v.K.in=function(u,m,C,Z,q,J){var self=j.v.K,A=self.qZ(1),n=self.qZ(1);
for(var D=0;D<4;D++){self.eM(u,A,D);if(D<3)self.IC(A,n,C,Z,q,J);else n=A;self.qp(n,m,D)}};j.v.K.m3=function(u,m,C,Z,q){q=Math.min(Z*C,q);
var self=j.v.K,J=self.du,A=self.Oh,n=Z>>1,N=C>>1,e=0,Q=new Int32Array(Z),p=new Int32Array(256),B=new Int32Array(16);
for(var D=0;D<A;D++){p.fill(0);B.fill(0);for(var $=0;$<Z;$++){for(var R=0,z=C;R<z;R++){var v=0-N+R,a=D-n+$;
if(R==0){Q[$]=v}if(v<0)v=0;else if(v>=J)v=J-1;if(a<0)a=0;else if(a>=A)a=A-1;p[u[a*J+v]]++;B[u[a*J+v]>>>4]++}}m[e++]=j.v.K.P4(B,p,q);
for(var X=1;X<J;X++){for(var $=0;$<Z;$++){var a=D-n+$,V=Q[$]+1;Q[$]=V;var o=V-1,h=V+C-1;if(a<0)a=0;else if(a>=A)a=A-1;
if(o<0)o=0;else if(o>=J)o=J-1;if(h<0)h=0;else if(h>=J)h=J-1;var T=u[a*J+o],l=u[a*J+h];p[T]--;p[l]++;
B[T>>>4]--;B[l>>>4]++}m[e++]=j.v.K.P4(B,p,q)}}};j.v.K.P4=function(u,m,C){var Z=0,q=0;while(Z+u[q>>>4]<C){Z+=u[q>>>4];
q+=16}for(;q<256;q++){Z+=m[q];if(Z>=C)break}return q};j.v.K.Wz=function(u,m,C,Z,q){var self=j.v.K,J=self.qZ(1),A=self.qZ(1);
for(var D=0;D<4;D++){self.eM(u,J,D);if(D<3)self.m3(J,A,C,Z,q);else A=J;self.qp(A,m,D)}};j.v.K.Jj=function(u,m,C){var self=j.v.K,Z=self.du,q=self.Oh,J=0;
for(var D=0;D<q;D++){var A=D*Z,n=(D-1)*Z,N=(D+1)*Z;if(n<0)n=A;if(N>=q)N=A;for(var e=0;e<Z;e++){var Q=e-1,p=e+1;
if(Q<0)Q=e;if(p>=Z)p=e;var B=A+Q,$=A+p,R=n+e,z=N+e,v=A+e,a=u[B],X=u[$],V=u[R],o=u[z],h=u[v],T=h+(h*4*C+.5);
T=T-((a+X+o+V)*C+.5);m[J++]=self.e$(T)}}};j.v.K.lx=function(u,m,C){var self=j.v.K,Z=self.qZ(1),q=self.qZ(1);
for(var D=0;D<4;D++){self.eM(u,Z,D);if(D<3)self.Jj(Z,q,C);else q=Z;self.qp(q,m,D)}};j.v.K.asI=function(u,m,C){var self=j.v.K,Z=self.du,q=self.Oh,J=0,A=C+4;
for(var D=0;D<q;D++){var n=D*Z,N=(D-1)*Z,e=(D+1)*Z;if(N<0)N=n;if(e>=q)e=n;for(var Q=0;Q<Z;Q++){var p=Q-1,B=Q+1;
if(p<0)p=Q;if(B>=Z)B=Q;var $=n+p<<2,R=n+B<<2,z=N+Q<<2,v=e+Q<<2,a=n+Q<<2;for(var X=0;X<3;X++){var V=u[$+X],o=u[R+X],h=u[z+X],T=u[v+X],l=u[a+X];
m[J++]=(l*C+V+o+T+h)/A}m[J]=u[J];J++}}};j.v.K.We=function(u,m,C,Z){var self=j.v.K,q=self.du,J=self.Oh,A=C>>1,n=Z>>1,N=0,e=new Int32Array(C),Q=new Int32Array(256);
for(var D=0;D<J;D++){Q.fill(0);for(var p=0;p<C;p++){for(var B=0,$=Z;B<$;B++){var R=0-n+B,z=D-A+p;if(B==0){e[p]=R}if(R<0)R=0;
else if(R>=q)R=q-1;if(z<0)z=0;else if(z>=J)z=J-1;Q[u[z*q+R]]++}}var v=0,a=0;for(var X=0;X<256;X++){if(v<Q[X]){a=X;
v=Q[X]}}m[N++]=a;for(var V=1;V<q;V++){for(var p=0;p<C;p++){var z=D-A+p,o=e[p]+1;e[p]=o;var h=o-1,T=o+Z-1;
if(z<0)z=0;else if(z>=J)z=J-1;if(h<0)h=0;else if(h>=q)h=q-1;if(T<0)T=0;else if(T>=q)T=q-1;Q[u[z*q+h]]--;
Q[u[z*q+T]]++}v=0;a=0;for(var X=0;X<256;X++){if(v<Q[X]){a=X;v=Q[X]}}m[N++]=a}}};j.v.K.adS=[function(u,m,C,Z,q,J,A,n,N,e){return q+(u+m+C)*e-(N+n+A)*e},function(u,m,C,Z,q,J,A,n,N,e){return q+(m+C+J)*e-(n+A+Z)*e},function(u,m,C,Z,q,J,A,n,N,e){return q+(C+J+N)*e-(A+Z+u)*e},function(u,m,C,Z,q,J,A,n,N,e){return q+(J+N+n)*e-(Z+u+m)*e},function(u,m,C,Z,q,J,A,n,N,e){return q+(N+n+A)*e-(u+m+C)*e},function(u,m,C,Z,q,J,A,n,N,e){return q+(n+A+Z)*e-(m+C+J)*e},function(u,m,C,Z,q,J,A,n,N,e){return q+(A+Z+u)*e-(C+J+N)*e},function(u,m,C,Z,q,J,A,n,N,e){return q+(Z+u+m)*e-(J+N+n)*e}];
j.v.K.oL=function(u,m,C,Z,q){var self=j.v.K,J=self.du,A=self.Oh,n=J,N=self.adS[Z-1];for(var D=0;D<A;
D++){var e=(D>0?D-1:0)*n,Q=D*n,p=(D<A?D+1:D)*n;for(var B=0;B<J;B++){var $=B>0?B-1:0,R=B<J?B+1:B,z=Q+B,v=u[e+$],a=u[e+B],X=u[e+R],V=u[Q+$],o=m[z],h=u[Q+R],T=u[p+$],l=u[p+B],w=u[p+R];
C[z]=self.e$(N(v,a,X,V,o,h,T,l,w,q))}}};j.v.K.arv=function(u,m,C,Z,q){var self=j.v.K,J=self.qZ(1),A=self.qZ(1),n=self.qZ(1);
for(var D=0;D<3;D++){self.eM(u,J,D);self.eM(m,A,D);self.oL(J,A,n,Z,q);self.qp(n,C,D)}self.eM(m,J,3);
self.qp(J,C,3)};j.v.K.tQ=function(u,m){var C=u.length,Z=0;for(var D=0;D<C;D++){m[Z++]=~~((u[D++]+u[D++]+u[D++]+2)/3)}};
j.v.K.pS=function(u,m){var C=m.length,Z=0;for(var D=0;D<C;D++){var q=u[D];m[Z++]=q;m[Z++]=q;m[Z++]=q;
m[Z++]=255}if(m[0]==255)m[0]--;else m[0]++};j.v.K.Sq=function(u,m){var C=m.length,Z=0;for(var D=0;D<C;
D++){var q=u[Z++],J=u[Z++],A=u[Z++];Z++;if(J>q)q=J;if(A>q)q=A;m[D]=q}};j.v.K.R5=function(u,m){if(m==null)m=u;
var C=u.length;for(var Z=0;Z<C;Z+=4){var q=u[Z],J=u[Z+1],A=u[Z+2],n=q,N=0,e=q,p;if(J<=q){q=J}else{N=1;
e=J}if(A<=e){if(q>A){q=A}}else{N=2;e=A}var Q=e-q;if(Q!=0){if(N==0){p=~~(43*(J-A)/Q)}else if(N==1){p=~~(43*(A+2*Q-n)/Q)}else{p=43*(n+4*Q-J)/Q}if(p<0){p=255&p-1}m[Z]=p;
m[Z+1]=~~(255*Q/e)}else{m[Z]=Q;m[Z+1]=Q}m[Z+2]=e;m[Z+3]=u[Z+3]}};j.v.K.So=function(u,m){if(m==null)m=u;
var C=u.length;for(var Z=0;Z<C;Z+=4){var q=u[Z],J=u[Z+1],A=u[Z+2];if(J){if(q==255)q=0;var n=~~(6*q/255),N=~~(-255*n+6*q);
if(n==0){m[Z]=A;m[Z+1]=~~(A*(255-J*(255-N)/255)/255);m[Z+2]=~~(A*(255-J)/255)}else if(n==1){m[Z]=~~(A*(255-J*N/255)/255);
m[Z+1]=A;m[Z+2]=~~(A*(255-J)/255)}else if(n==2){m[Z]=~~(A*(255-J)/255);m[Z+1]=A;m[Z+2]=~~(A*(255-J*(255-N)/255)/255)}else if(n==3){m[Z]=~~(A*(255-J)/255);
m[Z+1]=~~(A*(255-J*N/255)/255);m[Z+2]=A}else if(n==4){m[Z]=~~(A*(255-J*(255-N)/255)/255);m[Z+1]=~~(A*(255-J)/255);
m[Z+2]=A}else{m[Z]=A;m[Z+1]=~~(A*(255-J)/255);m[Z+2]=~~(A*(255-J*N/255)/255)}}else{m[Z]=A;m[Z+1]=A;m[Z+2]=A}m[Z+3]=u[Z+3]}};
j.v.K.qp=function(u,m,C,Z){if(C==null)C=2;if(Z==null)Z=4;var q=u.length;for(var D=0;D<q;D++){m[C]=u[D];
C+=Z}};j.v.K.eM=function(u,m,C,Z){if(C==null)C=2;if(Z==null)Z=4;var q=m.length;for(var D=0;D<q;D++){m[D]=u[C];
C+=Z}};j.v.K.NY=function(u,m,C,Z){if(Z==null)Z=1;var q=m.length,J=0,A;for(var J=0;J<q;J++){A=m[J];if(A){A*=Z;
C[J]=~~((A*u[J]+(255-A)*C[J])/255)}}};j.v.K.Vm=function(u,m,C,Z){if(Z==null)Z=C;var q=m.length,J=0,A,n;
for(var D=0;D<q;D++){A=m[D];if(A){n=255-A;Z[J]=~~((A*u[J]+n*C[J])/255);Z[J+1]=~~((A*u[J+1]+n*C[J+1])/255);
Z[J+2]=~~((A*u[J+2]+n*C[J+2])/255)}Z[J+3]=u[J+3];J+=4}};j.v.K.s3=function(u,m,C,Z){var q=~~(Z*255),J=C.length;
for(var D=0;D<J;D++){C[D]=((255-q*(255-u[D])/255)*m[D]+u[D]*(q*(255-u[D])/255))/255}};j.v.K.wr=function(u,m,C,Z){var q=~~(Z*255),J=C.length;
for(var D=0;D<J;D++){C[D]=((255-q*u[D]/255)*m[D]+u[D]*(q*u[D]/255))/255}};j.v.K.le=function(u,m,C){var Z=m.length;
for(var D=0;D<Z;D++){m[D]=~~(u[D]*C+.5)+(m[D]-~~(m[D]*C+.5))}};j.v.K.sub=function(u,m){var C=u.length;
for(var D=0;D<C;D++){m[D]=Math.max(u[D]-m[D],0)}};j.v.K.add=function(u,m){var C=u.length;for(var D=0;
D<C;D++){m[D]=Math.min(u[D]+m[D],255)}};j.v.K.C6=function(u,m){var C=u.length;for(var D=0;D<C;D++){m[D]=u[D]+m[D]>>1}};
j.v.K.Uj=function(u,m){var C=u.length;for(var D=0;D<C;D++){m[D]=u[D]}};j.v.K.yu=function(u,m){var C=u.length;
for(var D=0;D<C;D++){u[D]=m[u[D]]}};j.v.K.qc=function(u,m){var C=j.v.K.at;for(var D=0;D<C;D+=4){var Z=u[D],q=u[D+1],J=u[D+2],A=Z;
if(q>Z)A=q;if(J>Z)A=J;var n=m[A];if(n){u[D]=~~(n*Z/A);u[D+1]=~~(n*q/A);u[D+2]=~~(n*J/A)}else{u[D]=n;
u[D+1]=n;u[D+2]=n}}};j.v.K.wW=function(u,m){for(var D=0,C=u.length;D<C;D++){u[D]=Math.min(255,~~(.5+u[D]*m))}};
j.v.K.Uo=function(u,m){for(var D=0,C=u.length;D<C;D++){u[D]=255-Math.min(255,~~(.5+(255-u[D])*m))}};
j.v.K.mL=function(u){var m=u.length;for(var D=0;D<m;D++){u[D]=255-u[D]}};j.v.K.qk=function(u,m,C,Z){if(C==null)C=0;
if(Z==null)Z=255;for(var D=0,q=u.length;D<q;D++){u[D]=u[D]>=m?Z:C}};j.v.K.M6=function(u){return[u>>24&255,u>>16&255,u>>8&255,u&255]};
j.v.K.abH=function(u,m,C,Z){if(C==null)C=255;if(Z==null)Z=4278190335;var q=j.v.K,J=q.at,A=q.M6(C),n=q.M6(Z);
for(var D=0;D<J;D+=4){var N=~~((u[D]+u[D+1]+u[D+2]+2)/3);if(N>=m){u[D]=A[0];u[D+1]=A[1];u[D+2]=A[2]}else{u[D]=n[0];
u[D+1]=n[1];u[D+2]=n[2]}}};j.v.K.j4=function(u,m){var C=j.v.K,Z=C.at,q=C.M6(m);for(var D=0;D<Z;){u[D++]=q[0];
u[D++]=q[1];u[D++]=q[2];u[D++]=q[3]}};j.v.K.ho=function(u,m){var C=u.length;for(var D=0;D<C;){u[D++]=m}};
j.v.K.VM=function(u,m){u=u>5?(100-Math.max(4,u))/100:.95;m=m!=100?Math.max(4,m)/100:.9995;var C=new Uint8Array(256),Z=m>.5?.5/(1-m):m*2,q=~~(Z*256),J=~~((.5-u*Z)*256)<<8;
for(var D=0;D<256;D++){C[D]=j.v.K.e$(J>>8);J+=q}return C};j.v.K.iH=function(u){for(var D=0,m=j.v.K,C=u.length;
D<C;D++){u[D]=~~(m.random()*256)}};j.v.K.ao0=function(u,m){for(var D=0,C=j.v.K,Z=u.length;D<Z;D++){u[D]=C.random()<m?255:0}};
j.v.K.Fd=function(u,m,C){for(var D=0,Z=j.v.K,q=u.length;D<q;D++){if(Z.random()<m)u[D]=C}};j.v.K.aV=function(u,m,C){var Z=u.length;
for(var D=0;D<Z;D++){u[D]=j.v.K.e$(u[D]+C[m[D]])}};j.v.K.VT=function(u){var m=new Uint32Array(256);for(var D=0,C=u.length;
D<C;D++){m[u[D]]++}return m};j.v.K.O6=function(u,m,C){var self=j.v.K,Z=self.VT(C),q=self.PV/100,J=new Uint8Array(256),A=q*u,n=q*m,N=0,e=-1,Q=256;
do{N+=Z[++e]}while(N<=A);N=0;do{N+=Z[--Q]}while(N<=n);if(Q-e<=0)Q=e+1;if(Q>255){Q=255;e=254}var p=255/(Q-e),B=-e;
for(var D=0;D<256;D++){J[D]=self.e$(p*B+.5);B++}return J};j.v.K.UL=function(u,m,C){var Z=j.v.K;Z.yu(u,Z.O6(m,C,u))};
j.v.K.ahH=function(u,m){var self=j.v.K,C=self.VT(u),Z=self.PV*m/100,q=0,J=-1;do{q+=C[++J]}while(q<=Z);
return J};j.v.K.UA=function(u,m){var C=0,self=j.v.K,Z=self.du,q=self.Oh,J=1/Math.PI,A=J*255;for(var D=0;
D<q;D++){var n=D+1;if(n==q)n--;var N=D*Z,e=~~((1-(D+1)/q)*255);for(var Q=0;Q<Z;Q++){var p=Q+1;if(p==Z)p--;
var B=u[N+Q],$=u[N+p],R=u[n*Z+Q];if(B-R==0){m[C++]=e}else{var z=B-R+255;if(z==255){z=0}else{z=~~(Math.atan2(1/(255-z),1)*A+.5);
if(z<0)z+=255}m[C++]=z}if(B-$==0){m[C++]=~~((1-(Q+1)/Z)*255)}else{var z=B-$+255;if(z==255){z=0}else{z=~~(Math.atan2(1/(255-z),1)*A+.5);
if(z<0)z+=255}m[C++]=z}}}};j.v.K.Hs=function(u,m){var self=j.v.K,C=self.du,Z=self.Oh,q=0;for(var D=0;
D<Z;D++){for(var J=0;J<C;J++){u[q]=~~(D*m+.5)+~~(u[q]*(1-m)+.5);q++;u[q]=~~(J*m+.5)+~~(u[q]*(1-m)+.5);
q++}}};j.v.K.arp=function(u,m,C,Z){var self=j.v.K,q=self.du,J=self.Oh,A=0;for(var D=0;D<J;D++){for(var n=0;
n<q;n++){m[A]=~~(m[A]*(1-C)+.5)+~~(u[A]*Z+.5);A++;m[A]=~~(m[A]*(1-C)+.5)+~~(u[A]*Z+.5);A++}}};j.v.K.OV=function(u,m,C){var self=j.v.K,Z=self.du,q=self.Oh,J=0,A=0;
for(var D=0;D<q;D++){for(var n=0;n<Z;n++){var N=u[J++],e=u[J++];m[A++]=e%C>=2&&N%C>=2?255:0}}};j.v.K.uj=function(u,m,C,Z,q,J,A){var self=j.v.K,n=self.du,N=self.Oh,e=0,Q=0,p=0;
for(var D=0;D<N;D++){var B=D%u<C||N-C<=D;for(var $=0;$<n;$++){A[e++]=B||$%m<Z||n-Z<=$?q:J}}};j.v.K.Cl=function(u,m,C,Z){var self=j.v.K,q=self.du,J=self.Oh,A=b5.Cl(m),n=A[0],N=A[1],e=j.U(n.Z()*4);
e.fill(4294967295);j.Ps(N,e);var Q=j.scale.Hm(e,n.e,n.n),p=j.scale.Mh(Q,null,q,J,C/100,C/100,0,0);j._H(p,u,0);
if(Z)j.mL(u)};j.v.K.e$=function(u){return~~Math.min(255,Math.max(0,u))};j.v.K.aq=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
j.v.K.Yj=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];j.v.K.Bs=function(u){return u>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][u-41]:u/40};
j.v.K.atd=function(u,m,C){var self=j.v.K,Z=self.du,q=self.Oh,J=C,A=C>>1,n=A-1,N=J*J,e=0;for(var D=0;
D<q;D++){var Q=0,p=0,B=0,$=~~(D/C)*C,R=0;for(var z=0;z<J;z++){for(var v=0;v<J;v++){var a=R+v,X=$+z;if(a>=Z)a=Z-1;
if(X>=q)X=q-1;Q+=u[X*Z+a<<2];p+=u[(X*Z+a<<2)+1];B+=u[(X*Z+a<<2)+2]}}var V=~~(Q/N),o=~~(p/N),h=~~(B/N);
m[e]=V;m[e+1]=o;m[e+2]=h;m[e+3]=u[e+3];e+=4;for(var T=1;T<Z;T++){for(var z=0;z<J;z++){var l=T-1,w=l+J,X=$+z;
if(w>=Z)w=Z-1;if(X>=q)X=q-1;var W=X*Z,U=W+w<<2,s=W+l<<2;Q+=u[U]-u[s];p+=u[U+1]-u[s+1];B+=u[U+2]-u[s+2]}if(T%C==0){V=~~(Q/N);
o=~~(p/N);h=~~(B/N)}m[e]=V;m[e+1]=o;m[e+2]=h;m[e+3]=u[e+3];e+=4}}};j.v.K.a26=function(u,m,C,Z,q){var self=j.v.K,J=self.du,A=self.Oh,n=0,N=0,e=0,Q=0;
for(var D=Q;D<A+Q;D++){var p=D%m>=Z||D<Z||A+Q-Z<=D;for(var B=0;B<J;B++){u[n++]=p&&(B%C>=q||B<q||J-q<=B)?255:0}}};
j.v.K.aok=function(u,m,C){var Z=function(e,Q){return Q<=e?e/Q&1?Q-e%Q:e%Q:e},q=[function(n,N){return Z(n,255)/255},function(n,N){return(255+Z(n,255)-Z(N,255))/510},function(n,N){return(255-Z(N,255))/255},function(n,N){return(510-Z(n,255)-Z(N,255))/510},function(n,N){return(255-Z(n,255))/255},function(n,N){return(255-Z(n,255)+Z(N,255))/510},function(n,N){return Z(N,255)/255},function(n,N){return(Z(n,255)+Z(N,255))/510}][C],J=0,A=0;
for(var D=0;D<j.v.K.PV;D++){var n=u[J++],N=u[J++];m[A++]=~~(255*q(n,N))}};j.v.a8A=function(){var u=[],m=new Uint8Array(512),C=new Float32Array(512),Z=new Float32Array(512),q=[1,-1,1,-1,1,-1,0,0],J=[1,1,-1,-1,0,0,1,-1],A=0,n,R=0;
for(;A<256;A++)u[A]=A;while(A!=0){A--;n=Math.floor(Math.random()*A);u[n]^=u[A]^(u[A]=u[n])}function N(N){N=Math.floor(N*65536);
if(N<256){N|=N<<8}for(var D=0;D<256;D++){var a=D+256,X=u[D]^(D&1?N:N>>8)&255;m[D]=m[a]=X;X=X%8;C[D]=C[a]=q[X];
Z[D]=Z[a]=J[X]}}function e(a){return a*a*a*(a*(a*6-15)+10)}function Q(a,X,V){return(1-V)*a+V*X}function p(a,X){return a&X}function B(a,X){return a%X}function $(a,X,V,o,h){var T=Math.floor(a),l=Math.floor(X),A,w,W,U,s,S;
a=a-T;X=X-l;T=T&255;l=l&255;A=T+m[l];U=C[A]*a+Z[A]*X;A=T+m[h(l+1,o)];W=C[A]*a+Z[A]*(X-1);A=h(T+1,V)+m[l];
s=C[A]*(a-1)+Z[A]*X;A=h(T+1,V)+m[h(l+1,o)];S=C[A]*(a-1)+Z[A]*(X-1);w=e(a);return Q(Q(U,s,w),Q(W,S,w),e(X))}function z(a,A,X){a[A]=X}function v(a,X,V,o,h){var T=Math.min(Math.min(X,256),Math.min(256,V)),l=T==256||T<8,w=8,W=new Uint32Array(w),U=new Uint32Array(w),s=new Float32Array(w),S=new Float32Array(w),x=1,P=1,y=l?p:B,_=z,g;
for(var D=0;D<w;D++){g=P*1/T;if(l){U[D]=(1<<Math.ceil(Math.log2(V*g)))-1;W[D]=(1<<Math.ceil(Math.log2(X*g)))-1}else{U[D]=g*V;
W[D]=g*X}s[D]=x;S[D]=g;x*=.5;P=P<<1}N(Math.random());for(var G=0,A=0;G<V;G++){for(var O=0;O<X;O++){var E=0;
for(var L=0;L<w;L++){g=S[L];E+=$(O*g,G*g,W[L],U[L],y)*s[L]}_(o,A++,Math.round(Math.max(0,255*Math.min(1,.5+E*.5))))}}}return v}();
j.v.a9O=function(){function u(m,C,Z,q){var J=new Uint8Array(m.length>>>2),A=new Uint8Array(m.length>>>2),n=new Uint8Array(m.length);
for(var D=0;D<m.length;D+=4){var N=m[D+0]*.3+m[D+1]*.59+m[D+2]*.11;A[D>>>2]=N;n[D]=m[D];n[D+1]=m[D+1];
n[D+2]=m[D+2]}j.aA.ZS(A,J,C,Z);j.aA.ea(m,q,C,Z,j.aA.bS[1],0,!0);for(var D=0;D<m.length;D+=4){n[D+3]=255-J[D>>>2]}for(var D=0,e=m.length;
D<e;D+=4){var Q=n[D+3]/255;q[D]=n[D]*Q+q[D]*(1-Q);q[D+1]=n[D+1]*Q+q[D+1]*(1-Q);q[D+2]=n[D+2]*Q+q[D+2]*(1-Q)}}return u}();
j.v.a2w=function(){function u(J,A,n,N,e){var Q=new Uint32Array(J.buffer),p=0;for(var D=0;D<n;D++){for(var B=0;
B<A;B++,p+=4){var $=Q[D*A+B],R=$&255,z=$>>>8&255,v=$>>>16&255,a=$>>>24&255,X=~~(Math.random()*8),V=X%3,o=0,h=0;
if(X<3){h--}else if(X>4){h++}if(V==0){o--}else if(V==2){o++}var T=B+o,l=D+h;if(T<0)T=0;else if(T>A-1)T=A-1;
if(l<0)l=0;else if(l>n-1)l=n-1;var $=Q[l*A+T],w=$&255,W=$>>>8&255,U=$>>>16&255,s=$>>>24&255;N[p]=e(R,w);
N[p+1]=e(z,W);N[p+2]=e(v,U);N[p+3]=e(a,s)}}}function m(J,A){return A}function C(J,A){return J>A?A:J}function Z(J,A){return J<A?A:J}function q(J,A,n,N,e){var Q=e[0];
if(Q==0)u(J,A,n,N,m);else if(Q==1)u(J,A,n,N,C);else if(Q==2)u(J,A,n,N,Z);else if(Q==3){console.error("Not implemented")}else console.error("Mew mew")}return q}();
j.v.a27=function(){function u(m,C,Z,q,J){var A=J&&J[0]?J[0]:4,n,N,e,Q,p,B,$;for(var D=0;D<Z;D++){var R=Math.max(D-A,0),z=Math.min(D+A,Z-1);
for(var v=0;v<C;v++){var a=Math.max(v-A,0),X=Math.min(v+A,C-1);n=R*C+a<<2;Q=m[n];p=m[n+1];B=m[n+2];$=m[n+3];
n=R*C+X<<2;Q+=m[n];p+=m[n+1];B+=m[n+2];$+=m[n+3];n=z*C+a<<2;Q+=m[n];p+=m[n+1];B+=m[n+2];$+=m[n+3];n=z*C+X<<2;
Q+=m[n];p+=m[n+1];B+=m[n+2];$+=m[n+3];n=D*C+v<<2;q[n]=Q+2>>>2;q[n+1]=p+2>>>2;q[n+2]=B+2>>>2;q[n+3]=$+2>>>2}}}return u}();
j.v.a7O=function(){function u(m,C,Z,q){var J=new Uint8Array(m.length),A=new Uint8Array(m.length>>>2),n=new Uint8Array(m.length>>>2);
j.aA.ea(m,J,C,Z,j.aA.bS[2],0,!0);for(var D=0;D<m.length;D+=4){var N=J[D+0]*.3+J[D+1]*.59+J[D+2]*.11;
A[D>>>2]=N;q[D+0]=m[D+0];q[D+1]=m[D+1];q[D+2]=m[D+2];q[D+3]=m[D+3]}j.aA.ZS(A,n,C,Z);for(var D=0;D<m.length;
D+=4){J[D+3]=~~(Math.max(0,255-n[D>>>2]-50)*(255/205))}for(var D=0,e=m.length;D<e;D+=4){var Q=J[D+3]/255;
q[D]=J[D]*Q+q[D]*(1-Q);q[D+1]=J[D+1]*Q+q[D+1]*(1-Q);q[D+2]=J[D+2]*Q+q[D+2]*(1-Q)}}return u}();j.v.E$=function(){function u(X,V){return X[V]+X[V+1]+X[V+2]+X[V+3]}function m(X,V){return X[V]+X[V+1]+X[V+2]+2*X[V+3]}function C(X,V,o,h){X[V]=o[h];
X[V+1]=o[h+1];X[V+2]=o[h+2];X[V+3]=o[h+3]}function Z(X,V,o){X[V]=X[o];X[V+1]=X[o+1];X[V+2]=X[o+2];X[V+3]=X[o+3]}function q(X,V,o){X[o]=V[o];
X[o+1]=V[o+1];X[o+2]=V[o+2];X[o+3]=255-V[o+3]}function J(X){for(var D=0,V=X.length;D<V;D+=4){X[D+3]=255-X[D+3]}}function A(){var X=Math.random();
if(X>.5)return 0;if(X>.25)return 1;if(X>.1)return 2;if(X>.02143)return 3;if(X>.00445)return 4;if(X>65e-5)return 5;
if(X>415e-6)return 6;if(X>55e-6)return 7;return 8}function n(X,V,o,h,T,l){X[V]=o[h]+(T[l]-o[h]>>1);X[V+1]=o[h+1]+(T[l+1]-o[h+1]>>1);
X[V+2]=o[h+2]+(T[l+2]-o[h+2]>>1);X[V+3]=o[h+3]+(T[l+3]-o[h+3]>>1)}function N(X,V,o,h,T,l){X[V]=T[l]+o[h]>>1;
X[V+1]=T[l+1]+o[h+1]>>1;X[V+2]=T[l+2]+o[h+2]>>1;X[V+3]=T[l+3]+o[h+3]>>1}function e(X,V,o,h,T,l,w,W,U){var s=0,S=0,x=0,D,P=T[l],y;
n(W,0,X,V,X,o);for(D=0;D<P;D++){n(W,(D+1)*4,W,D*4,X,o)}S=(P+1)*4;x+=P;l--;C(X,V,W,S-4);h[l]=u(X,V);V-=U;
while(l>0&&h[l-1]<h[l]){y=W;W=w;w=y;s=S;N(W,0,X,V-U,w,0);for(D=4;D<s;D+=4){N(W,D,W,D-4,w,D)}P=T[l];for(D=x;
D<P;D++){n(W,S,W,S-4,w,s-4);S+=4;x++}l--;C(X,V,W,S-4);h[l]=u(X,V);V-=U}}function Q(X,V,o,h,T){var l=V*4,w=0,W,U,s=new Uint8Array(V+1),S=new Uint8Array(10*4),x=new Uint8Array(10*4);
for(var D=0;D<o;D++){q(h,X,w);T[0]=u(h,w);s[0]=A();W=w;w+=4;for(var P=1;P<V;P++){q(h,X,w);T[P]=u(h,w);
U=A();s[P]=U;if(T[P-1]<T[P]&&U>0){e(h,w-4,w,T,s,P,S,x,4)}w+=4}T[V]=T[0];s[V]=s[0];if(T[V-1]<T[V]&&U>0){e(h,w,W,T,s,V,S,x,4)}}J(h)}function p(){var X=Math.random();
if(X>.659755)return 0;if(X>.1625)return 10;if(X>.06)return 20;if(X>.01)return 30;if(X>.0035)return 40;
if(X>65e-5)return 50;if(X>415e-6)return 60;if(X>55e-6)return 70;return 80}function B(X,V,o,h,T,l){var w=p()+1,W=h[T];
for(var D=1;D<w;D++){if(0>T)break;if(h[T-D]<W){Z(X,V,o)}else{break}V+=l}}function $(X,V,o,h,T){var l=V*4,w=0;
for(var D=0;D<o;D++){q(h,X,w);T[0]=u(h,w);w+=4;for(var W=1;W<V;W++){q(h,X,w);T[W]=u(X,w);if(T[W-1]<T[W]){B(h,w-4,w,T,W,-4)}w+=4}T[V]=T[0];
if(T[W-1]<T[W]){B(h,w-4,w-l,T,W,-4)}}J(h)}function R(X,V,o,h,T,l){var w=1,W,U,s=new Uint8Array(4),S,x=V;
while(Math.random()<1/w){x=V;if(h<=1)break;W=o[h];U=o[h-1];if(W<=U)break;C(s,0,X,x-l);S=!0;for(var D=h;
D<T;D++){if(U>o[D]){C(X,x-l,s,0);o[D-1]=U;S=!1;break}C(X,x-l,X,x);o[D-1]=o[D];x+=l}if(S){C(X,x-l,s,0);
o[T-1]=U}w++;h--;V-=l}}function z(X,V,o,h,T){var l=0,w=0,W=V*4;for(var D=0;D<o;D++){w=l;for(var U=0;
U<V;U++){q(h,X,l);T[U]=m(h,l);l+=4}l=w;for(var U=1;U<V;U++){if(T[U-1]<T[U]&&Math.random()<.66){R(h,l+4,T,U,V,4)}l+=4}l+=4}J(h)}function v(X,V,o,h,T){var l=T[0],w=T[1],W=new Uint16Array(V+1),U=X,s=h,S;
if(w){S=h.slice(0);a(X,h,V,o);U=h;s=S}if(l==0)Q(U,V,o,s,W);else if(l==1)$(U,V,o,s,W);else if(l==2)z(U,V,o,s,W);
if(w){a(S,h,V,o)}}function a(X,V,o,h){for(var T=0;T<h;T++)for(var l=0;l<o;l++){var w=T*o+l<<2,W=T*o+(o-1-l)<<2;
V[W]=X[w];V[W+1]=X[w+1];V[W+2]=X[w+2];V[W+3]=X[w+3]}}return v}();j.v.Ol=function(u,m,C,Z,q){var J=j.v.K,A=1,v=0,V=0;
J.LC(m,C);J.Yi(q[2]);var n=3<<13,N=Math.PI/2.43,e=N/256,Q=Math.PI*2/256;function p(){var l=J.random()*256,w=J.random()*256;
return A*~~(Math.tan(N-l*e)*325*Math.cos(w*Q)*256)+n>>16}A=q[0];var B=q[1],$=(B+2)/2,R=J.random()*255,z=J.qZ(1);
for(var D=0;D<C;D++){var a=J.e$(p()+R);for(var X=0;X<m;X++){a=J.e$(p()+a);z[v++]=a}}v=m;for(var D=1;
D<C;D++){var o=J.e$(p()+z[V++]);z[v++]=o;for(var X=1;X<m;X++){var h=V+1;if(X+1==m){h--}var T=($+o+z[h]+z[V]*B)/(B+2);
o=J.e$(p()+T);z[v++]=o;V++}}J.pS(z,Z)};var gy=function(){function u(I){I=I^61^I>>>16;I=I+(I<<3);I=I^I>>>4;
I=I*668265261;I=I^I>>>15;return I}var m=function(){var m=function(I){if(I){this.w7=I}this.w7=u(this.w7);
return(this.w7&16777215)*(1/16777215)};return m};function C(I,Y){if(Y==null){Y=[0,0]}return Math.sqrt((Y[0]-I[0])*(Y[0]-I[0])+(Y[1]-I[1])*(Y[1]-I[1]))}function Z(I,Y){if(Y==null){Y=[0,0]}return[-(Y[1]-I[1])/C(I,Y),(Y[0]-I[0])/C(I,Y)]}function q(I){return[Math.cos(I),Math.sin(I)]}function J(I){var Y=C(I,[0,0]),K=[I[0]/Y,I[1]/Y],i=Math.atan(K[1]/K[0]);
if(K[0]>0&&K[1]<0){i+=2*Math.PI}else if(K[0]<0&&K[1]<0){i+=Math.PI}else if(K[0]<0&&K[1]>0){i+=Math.PI}return i}function A(I){var A=0;
for(var D=1;D<I.length/2;++D){A+=C([I[2*D],I[2*D+1]],[I[2*(D-1)],I[2*(D-1)+1]])}return A}function n(I,Y,K){var i=new Float32Array(I.length),i4=1/(I.length/2),d7=h(K);
for(var D=0;D<I.length/2;++D){var d=D*i4,fH=d/2+.5,aC=1,f8=0;if(K.shape==2){aC=1/(2*fH)}if(K.shape==3){fH=(1-d)/2+.5;
aC=1/(2*fH)+.5}if(K.shape==4){fH=d;aC=Math.sin(3/2*Math.PI*fH)/4+1}if(K.shape==5){fH=(d-.5)*6;aC=(-Math.atan(fH)/1.25+1)/5+.6-.2*d}var c9=[null,null];
if(D==0){c9=Z([I[2*D],I[2*D+1]],[I[2*(D+1)],I[2*(D+1)+1]])}else if(D==I.length/2-1){c9=Z([I[2*(D-1)],I[2*(D-1)+1]],[I[2*D],I[2*D+1]])}else{c9=Z([I[2*(D-1)],I[2*(D-1)+1]],[I[2*(D+1)],I[2*(D+1)+1]])}i[2*D]=I[2*D]+(aC*Y+f8)*c9[0];
i[2*D+1]=I[2*D+1]+(aC*Y+f8)*c9[1];if(K.style==2){i[2*D]+=T(2*D/i.length,d7,K)}}return i}function N(I,Y,K){var i=new Float32Array(I.length),i4=1/(I.length/2);
for(var D=0;D<I.length/2;++D){var d7=D*i4,d=[null,null],fH=.6*K.Pk*W(d7,Y.a80)*K.zh/100,aC=.6*K.Pk*W(d7,Y.aiH)*K.zh/100,f8=Y.a7h*fH+(1-Y.a7h)*aC;
if(D==0){d=Z([I[2*D],I[2*D+1]],[I[2*(D+1)],I[2*(D+1)+1]])}else if(D==I.length/2-1){d=Z([I[2*(D-1)],I[2*(D-1)+1]],[I[2*D],I[2*D+1]])}else{d=Z([I[2*(D-1)],I[2*(D-1)+1]],[I[2*(D+1)],I[2*(D+1)+1]])}i[2*D]=I[2*D]+f8*d[0];
i[2*D+1]=I[2*D+1]+f8*d[1]}return i}function e(I){if(I.ag==1){return[.150684932,.205479452,.465753425,.178082192]}else if(I.ag==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var Y=[],K=1/(x(I)-1);
for(var D=0;D<x(I)-1;++D){Y.push(K)}return Y}}function Q(I,Y,K){var i=[],i4=Y-I,d7=I;for(var D=0;D<K.length-1;
++D){i.push(d7+K[D]*i4);d7=i[D]}return i}function p(I,Y,K,i){var i4=new Float32Array(K.length),d7=0,d={shape:Math.floor(i.random()*2.99),ae1:i.random()*.1+.15};
for(var D=0;D<K.length-1;++D){var fH=d7+K[D];i4[D]=((1-fH)*I+fH*Y)*a(i,fH,d);d7=fH}return i4}function B(I,Y,K,i){var i4=s(i),d7=i.random(),d=d7*20+(1-d7)*26,fH=new Float32Array(K.length),aC=0;
for(var D=0;D<K.length-1;++D){var f8=aC+K[D];fH[D]=(1-f8)*I+f8*Y+i4/d*(2/3*Math.sin(Math.PI*f8)+1/3*Math.sqrt(Math.sin(Math.PI*f8)));
aC=f8}return fH}function $(I,Y,K){var i=[];for(var D=0;D<Y.length-1;++D){i.push(Y[D].slice());var i4=D*(x(K)-1),d7=(D+1)*(x(K)-1),d=I[d7]-I[i4];
for(var fH=i4+1;fH<d7;++fH){var aC=h(K),f8=new Float32Array(Y[0].length),c9=(I[fH]-I[i4])/d;for(var g1=0;
g1<Y[0].length/2;++g1){f8[2*g1]=(1-c9)*Y[D][2*g1]+c9*Y[D+1][2*g1];f8[2*g1+1]=(1-c9)*Y[D][2*g1+1]+c9*Y[D+1][2*g1+1];
if(K.style==2){f8[2*g1]+=T(2*g1/Y[0].length,aC,K)}}i.push(f8)}}i.push(Y[Y.length-1]);return i}function R(I,Y,K){var i=new Array(Y.length),i4=E(I),d=null;
for(var D=0;D<Y.length;++D){i[D]=n(i4,(Y[D]-.5)*K.zh,K)}var d7=1+.05*K.amR*s(K)/s({ag:1});for(var D=0;
D<Y.length;++D){if(Y[D]==0){d=D}}for(var D=0;D<Y.length;++D){var fH=(K.random()-.5)*2,aC=Math.round(K.random()*9+1),f8=new Float32Array(aC*2+2);
for(var c9=0;c9<=aC;++c9){f8[2*c9]=i[D][0]-(i[D][2*c9]-i[D][0]);f8[2*c9+1]=i[D][1]-(i[D][2*c9+1]-i[D][1])}if(D==d){fH*=.1}for(var c9=(i[D].length-1)/2;
c9>aC;--c9){i[D][2*c9]=(1-fH)*i[D][2*c9]+fH*(i[D][2*(c9-aC)]+d7*(i[D][2*c9]-i[D][2*(c9-aC)]));i[D][2*c9+1]=(1-fH)*i[D][2*c9+1]+fH*(i[D][2*(c9-aC)+1]+d7*(i[D][2*c9+1]-i[D][2*(c9-aC)+1]))}for(var c9=aC-1;
c9>=0;--c9){i[D][2*c9]=(1-fH)*i[D][2*c9]+fH*(f8[2*(aC-c9)]+d7*(i[D][2*c9]-f8[2*(aC-c9)]));i[D][2*c9+1]=(1-fH)*i[D][2*c9+1]+fH*(f8[2*(aC-c9)+1]+d7*(i[D][2*c9+1]-f8[2*(aC-c9)+1]))}}var g1=w(Y,K);
if(K.Pk>0){var cE=0;for(var D=0;D<Y.length;++D){if(D==0){cE+=Y[D]}else{cE+=Math.abs(Y[D]-Y[D-1])}var hG=cE-Math.floor(cE),fA=1;
if(hG==0){fA=0}i[D]=N(i[D],{a80:g1[Math.floor(cE)],aiH:g1[Math.floor(cE)+fA],a7h:hG},K)}}return i}function z(I,Y){var K=_(Y,I),i=g(Y,I),i4=[],d7=[],d=[],fH=e(I);
for(var D=0;D<Y.length-1;++D){i4.push(Y[D]);d7.push(K[D]);d.push(i[D]);var aC=Q(Y[D],Y[D+1],fH),f8=p(K[D],K[D+1],fH,I),c9=B(i[D],i[D+1],fH,I);
for(var g1=0;g1<aC.length;++g1){i4.push(aC[g1]);d7.push(f8[g1]);d.push(c9[g1])}}i4.push(Y[Y.length-1]);
d7.push(K[K.length-1]);d.push(i[i.length-1]);return{a2j:i4,a95:d7,hv:d}}function v(I,Y,K,i){var i4=new Float32Array(2*i),d7=I.length/2,d=d7-Y,fH=K*d,aC=fH/i;
for(var D=0;D<i;++D){var f8=Math.floor(Y+D*aC),c9=Math.ceil(Y+D*aC),K=Y+D*aC,g1=c9-f8,cE=1,hG=0;if(g1!=0){cE=(c9-K)/g1;
hG=(K-f8)/g1}i4[2*D]=cE*I[2*f8]+hG*I[2*c9];i4[2*D+1]=cE*I[2*f8+1]+hG*I[2*c9+1]}return i4}function a(I,Y,K){var i=K.ae1,i4=Y*2*Math.PI,d7=i4,d=0;
if(K.shape==0){d=(Math.sin(2*d7+Math.PI/2)+1)/2}else if(K.shape==1){d=(Math.sin(d7+Math.PI/2)+1)/2}else{d=(4*Math.sin(3/4*d7+Math.PI)+Math.sin(Math.PI/2+2*d7)-2*d7/Math.PI+6)/7}return Math.min(1,1-i+i*d)}function X(I,Y,K,i){var i4=[];
for(var D=0;D<I.length;++D){i4.push(v(I[D],Y[D],K[D],i))}return i4}function V(I,Y,K){var i=[];for(var D=0;
D<I.length;++D){var i4=q(2*Math.PI*K.random()),d7=q(2*Math.PI*K.random()),d=K.ob*.5*P({ag:1})/P(K),fH=d*K.zh/200,aC=d*Y/500,f8=new Float32Array(I[0].length);
for(var c9=0;c9<I[0].length/2;++c9){var g1=q(2*Math.PI*K.random()),cE=2*c9/I[0].length;f8[2*c9]=I[D][2*c9]+fH*(g1[0]+((1-cE)*i4[0]+cE*d7[0]));
f8[2*c9+1]=I[D][2*c9+1]+aC*(g1[1]+((1-cE)*i4[1]+cE*d7[1]))}i.push(f8)}return i}function o(I,Y,K){var i=K.Sg,i4=2/i,d7=[1/10,1/30,1/40,1/45,1/100],d=d7[K.ag-1],fH=4*(K.opacity/25*i4*d)*(1-K.ob/150),g1=0,hG=0;
if(K.style==3){return fH*.09}var aC=2.2*(I-.5),f8=aC*aC*aC*aC+.27+Math.max(0,(K.opacity-50)/15),c9=2*(Math.sin(3*Math.PI*Y)/(Math.PI*Y+2)+1.1)-Y/2;
Y=2*Y;if(Y<.41){var cE=2*Math.PI*Y/.41;g1=(Math.sin(cE-Math.PI/2)+1)/4+.5}else if(Y<.77){var cE=2*Math.PI*(Y-.41)/.36;
g1=(Math.sin(cE-Math.PI/2)+1)/4+.5-cE/2/Math.PI*.5}else{var cE=2*Math.PI*(Y-.77)/.23;g1=(Math.sin(cE-Math.PI/2)+1)/2*.12}g1*=3;
g1+=Math.max(0,(K.opacity-50)/15);if(K.type==6){hG=c9}else{hG=g1}return fH*f8*hG}function h(I){return{J:I.random()*7/2+.5,Eu:I.random()*2*Math.PI}}function T(I,Y,K){return K.zh/300*x({ag:1})/x(K)*10*(Math.sin(Y.J*2*Math.PI*I+Y.Eu)+10*(K.random()-.5))}function l(I){var Y=Math.exp(-I.Pk/25);
return{J:I.random()*3/2+.5,Eu:I.random()*2*Math.PI,c5:(I.random()-.5)*10*Y}}function w(I,Y){var K=Math.ceil(G(I)),i=[];
for(var D=0;D<=K;++D){i.push(l(Y))}return i}function W(I,Y){var K=Y.J*4*Math.PI*I+Y.Eu;return Math.exp(-1/2*Math.PI*I)*Math.cos(K)*Math.cos(K)*Math.cos(K)*Math.cos(K)*Math.cos(K)+I*Y.c5-Y.c5/4}function U(I,Y,K,i,i4){var d7=0,d=P(Y)-1;
for(var D=0;D<d;++D){for(var fH=0;fH<I.length-1;fH+=x(Y)-1){for(var aC=D;aC<I[0].length/2-d;aC+=d){for(var f8=fH;
f8<fH+(x(Y)-1);++f8){K[i4+d7]=o(f8*(Y.Sg-1)/(I.length-1)%1,aC/I[0].length,Y);var c9=0,g1=0;if(Y.type==6&&f8!=0&&f8!=I.length-1){g1=(I[f8][2*(aC+1)+1]-I[f8][2*aC+1])/2;
c9=(I[f8][2*(aC+1)]-I[f8][2*aC])/2}i[8*i4+8*d7]=I[f8][2*aC]+c9;i[8*i4+8*d7+1]=I[f8][2*aC+1]+g1;i[8*i4+8*d7+2]=I[f8][2*(aC+d)]+c9;
i[8*i4+8*d7+3]=I[f8][2*(aC+d)+1]+g1;i[8*i4+8*d7+4]=I[f8+1][2*(aC+d)];i[8*i4+8*d7+5]=I[f8+1][2*(aC+d)+1];
i[8*i4+8*d7+6]=I[f8+1][2*aC];i[8*i4+8*d7+7]=I[f8+1][2*aC+1];++d7}}}}}function s(I){var Y=[100,300,500,700,1e3];
return Y[I.ag-1]}function S(I){var Y=[30,70,100,140,300];return Y[I.ag-1]}function x(I){var Y=[5,7,26,40,100];
return Y[I.ag-1]}function P(I){if(I.ag==1){return 4}else if(I.ag==2){return 8}else{return Math.floor(S(I)/9)}}function y(I){var Y=I.Sg,K=new Float32Array(Y),i=null;
for(var D=0;D<Y;++D){K[D]=I.random()}if(I.Sg<=3){K[0]=0;K[I.Sg-1]=1}else{for(var D=0;D<2;++D){var i4=Math.floor(I.random()*Y);
if(i==null||i!=i4){K[i4]=D;i=i4}else{K[i4+1]=D}}}return K}function _(I,Y){var K=[],i=.2,d7=0;for(var D=0;
D<I.length;++D){var i4=Y.random()*(1-i)+i;K.push(i4)}var d=Math.min(3,Y.Sg);for(var D=0;D<I.length;++D){if(K[D]>.9){++d7}}while(d7<d){var fH=Math.floor(Y.random()*I.length);
if(K[fH]<=.9){K[fH]=.9+.1*Y.random();++d7}}return K}function g(I,Y){var K=s(Y),i=s({ag:1}),i4=[];for(var D=0;
D<I.length;++D){i4.push(Math.max(1,(Y.random()*10+2)*K/i))}return i4}function G(I){var Y=0;for(var D=0;
D<I.length;++D){if(D==0){Y+=I[D]}else{Y+=Math.abs(I[D]-I[D-1])}}return Y}function O(I,Y){if(I.length/2-1==s(Y)){return I}var K=new Float32Array(2*(s(Y)+1)),i=(I.length-2)/(K.length-2);
for(var D=0;D<K.length/2;++D){var i4=D*i,d7=Math.floor(i4),d=Math.ceil(i4),fH=d-d7,aC=1,f8=0;if(fH!=0){aC=(d-i4)/fH;
f8=(i4-d7)/fH}K[2*D]=aC*I[2*d7]+f8*I[2*d];K[2*D+1]=aC*I[2*d7+1]+f8*I[2*d+1]}return K}function E(I,Y){var K=I.length/2,i=A(I),i4=i/K,d7=!1,aC=0,f8=0,c9=1;
if(Y){var d=Math.floor(i/Y.a8o),fH=Y.a8o;if(Y.ald&&I[0]==I[I.length-2]&&I[1]==I[I.length-1]){d7=!0;fH=i/(d+1)}if(Y.type==2&&!d7&&fH*d+Y.length>i){K=d+1}else{K=d+2}i4=fH}var g1=new Float32Array(K*2);
g1[0]=I[0];g1[1]=I[1];for(var D=1;D<K;++D){while(aC<=D*i4){f8=aC;aC+=C([I[2*c9],I[2*c9+1]],[I[2*(c9-1)],I[2*(c9-1)+1]]);
++c9}var cE=1-(D*i4-f8)/(aC-f8);g1[2*D]=(1-cE)*I[2*c9]+cE*I[2*(c9-1)];g1[2*D+1]=(1-cE)*I[2*c9+1]+cE*I[2*(c9-1)+1]}g1[g1.length-2]=I[I.length-2];
g1[g1.length-1]=I[I.length-1];return g1}function L(I,Y){var K=E(I,Y),i=[];for(var D=0;D<(K.length-2)/2;
++D){var i4=[];i4.push(K[2*D]);i4.push(K[2*D+1]);var d7=C([K[2*(D+1)],K[2*(D+1)+1]],[K[2*D],K[2*D+1]]),d=[(K[2*(D+1)]-K[2*D])/d7,(K[2*(D+1)+1]-K[2*D+1])/d7],fH=q((Y.a1d-90)/360*2*Math.PI),aC=d;
if(Y.type==3){aC=fH}else if(Y.type==4){aC=q(J(d)+J(fH))}else if(Y.type==5){aC=q(((Y.random()-.5)*Y.a1d-90)/360*2*Math.PI)}var f8=Y.length;
if(Y.amW){f8=2*Y.random()*Y.length}i4.push(K[2*D]+aC[0]*f8);i4.push(K[2*D+1]+aC[1]*f8);i.push(i4)}return i}function c(I){if(I.a6O){I.Gu=100*Math.random()}else{I.Gu=I.a0K}I.random=new m;
I.random(I.Gu);if(I.type==6){I.Sg=2;I.shape=5;I.amR=0}}function k(I,Y){I=O(I,Y);var K=[I],f8=0;if(Y.type>=2&&Y.type<6){K=L(I,Y)}var i=P(Y)-1,i4=S(Y)-i,d7=(Y.Sg-1)*(x(Y)-1),d=K.length*i4*d7,fH=new Float32Array(d),aC=new Float32Array(8*d);
for(var D=0;D<K.length;++D){for(var c9=0;c9<1e4;++c9){Y.Gu=u(Y.Gu)}Y.random(Y.Gu);var I=O(K[D],Y),g1=y(Y),cE=G(g1),hG=R(I,g1,Y),fA=z(Y,g1),hh=$(fA.a2j,hG,Y);
hh=X(hh,fA.hv,fA.a95,S(Y));if(Y.ob>0){hh=V(hh,A(K[D]),Y)}U(hh,Y,fH,aC,f8);f8+=i4*d7}return[fH,aC]}var gy=function(I){var Y=performance.now(),K=I[0],i=I[1];
c(i);var i4=[new Float32Array(0),new Float32Array(0)];for(var D=0;D<K.length;++D){i.Gu=u(i.Gu);var d7=k(K[D],i),d=new Float32Array(i4[0].length+d7[0].length),fH=new Float32Array(i4[1].length+d7[1].length);
d.set(i4[0]);d.set(d7[0],i4[0].length);i4[0]=d;fH.set(i4[1]);fH.set(d7[1],i4[1].length);i4[1]=fH}var aC=performance.now();
if(i.are){console.vE("Geometry: "+String(aC-Y)+"ms")}return i4};return gy}(),ie=function(){function u(q,J){var A=[],n=0,N=J.length,e=0,Q=0,p=new bl,B=0,$=1e9;
for(Q=0;Q<N;Q++){var R=Q*8,z=J[Q];if(z<$)$=z;var v=q[R+0],a=q[R+1],X=q[R+2],V=q[R+3],o=q[R+4],h=q[R+5],T=q[R+6],l=q[R+7],w=Math.min(v,X,o,T),W=Math.max(v,X,o,T),U=Math.min(a,V,h,l),s=Math.max(a,V,h,l),S=new bl(w,U,W-w,s-U),x=S.QN(p),P=B+z;
if(Q-e<10&&(Q==e||x.Z()*.8<S.Z()+p.Z())){p=x;B=P}else{A.push(Q-e);e=Q;p=S;B=z;$=z}}if(Q!=e)A.push(Q-e);
return A}function m(q,J,A,n,N,e){var Q=document.createElement("canvas"),a=0,d=.8;Q.width=J;Q.height=A;
var p=Q.getContext("2d"),B=N[0],$=N[1],R=new Float64Array(J*A),z=Date.now(),v=u($,B);for(var X=0;X<v.length;
X++){var V=a,o=a+v[X],l=1e9,W=1e9,_=0;a=o;var h=V*8,T=o*8,w=-l,U=-W;for(var s=h;s<T;s+=2){var S=$[s],x=$[s+1];
if(S<l)l=S;if(S>w)w=S;if(x<W)W=x;if(x>U)U=x}l=Math.floor(l);w=Math.ceil(w);W=Math.floor(W);U=Math.ceil(U);
var P=w-l,y=U-W;for(var g=V;g<o;g++)_+=B[g];for(var s=h;s<T;s+=8){var G=B[s>>>3],O=$[s+0],E=$[s+1],L=$[s+2],c=$[s+3],k=$[s+4],I=$[s+5],Y=$[s+6],K=$[s+7];
p.fillStyle="rgba(0,0,0,"+G/_+")";p.beginPath();p.moveTo(O,E);p.lineTo(L,c);p.lineTo(k,I);p.lineTo(Y,K);
p.closePath();p.fill()}var i=p.getImageData(l,W,P,y).data;for(var x=0;x<y;x++)for(var S=0;S<P;S++){var D=x*P+S,i4=i[D*4+3],d7=(W+x)*J+l+S;
if(i4!=0)R[d7]+=i4*_}p.clearRect(l,W,P,y)}var fH=e[1].color,aC=Math.pow(fH.p/255,d),f8=Math.pow(fH.T/255,d),c9=Math.pow(fH.S/255,d),g1=new bl(0,0,J,A),cE=j.U(J*A*4);
for(var x=0;x<A;x++)for(var S=0;S<J;S++){var D=x*J+S,g=D*4,B=R[D]*(1/255);cE[g]=Z(aC,B);cE[g+1]=Z(f8,B);
cE[g+2]=Z(c9,B);cE[g+3]=Math.min(255,B*255)}j.a.q5("norm",cE,g1,n,g1,g1,1)}var C=new Uint8Array(2e3);
for(var D=0;D<2e3;D++)C[D]=255*Math.min(1,Math.log(D/700+1));function Z(q,J){return C[Math.min(1500,~~(q*J*1e3))]}return m}(),d$=function(){var u=new Float32Array(3e3),m=new Float32Array(3e3),C=new Float32Array(256),Z=new Float32Array(3e3);
function q(){var $=u.length;u[0]=Math.log10(157647e-9);for(var D=1;D<$;++D)u[D]=Math.log10(D/$)}function J(){var $=m.length;
for(var D=0;D<$;++D)m[D]=Math.pow(10,20*(D-$/2)/$)}function A(){var $=C.length;for(var D=0;D<$;++D)C[D]=j.MD(D/255)}function n(){var $=Z.length;
for(var D=0;D<$;++D)Z[D]=255*j.wa(D/($-1))}function N($,R){var z=$.length>>>2;for(var D=0;D<z;++D){var v=C[$[4*D]],a=C[$[4*D+1]],X=C[$[4*D+2]],V=.3811*v+.5783*a+.0402*X,o=.1967*v+.7244*a+.0782*X,h=.0241*v+.1288*a+.8444*X;
V=u[~~(V*u.length)];o=u[~~(o*u.length)];h=u[~~(h*u.length)];R[3*D]=(V+o+h)*.5773502692;R[3*D+1]=(V+o-2*h)*.4082482905;
R[3*D+2]=(V-o)*.7071067812}}function e($,R){var z=R.length>>>2,v=Z.length-1;for(var D=0;D<z;++D){var a=.5773502692*$[3*D],X=.4082482905*$[3*D+1],V=.7071067812*$[3*D+2],o=m[~~((a+X+V+10)*(3e3/20))],h=m[~~((a+X-V+10)*(3e3/20))],T=m[~~((a-2*X+10)*(3e3/20))],l=4.4679*o-3.5873*h+.1193*T,w=-1.2186*o+2.3809*h-.1624*T,W=.0497*o-.2439*h+1.2045*T;
R[4*D]=Z[~~(v*Math.max(0,Math.min(1,l)))];R[4*D+1]=Z[~~(v*Math.max(0,Math.min(1,w)))];R[4*D+2]=Z[~~(v*Math.max(0,Math.min(1,W)))]}}function Q($){var R=0,z=0,v=0;
for(var D=0;D<$.length;D+=3){R+=$[D];z+=$[D+1];v+=$[D+2]}return[R/($.length/3),z/($.length/3),v/($.length/3)]}function p($,Q){var R=0,z=0,v=0;
for(var D=0;D<$.length;D+=3){var a=$[D]-Q[0],X=$[D+1]-Q[1],V=$[D+2]-Q[2];R+=a*a;z+=X*X;v+=V*V}return[Math.sqrt(R/($.length/3)),Math.sqrt(z/($.length/3)),Math.sqrt(v/($.length/3))]}function B($,R,z,v,a,X){q();
J();A();n();var V=0,E,L;if(X[0]>100)V=-(X[0]-100)/100*.13;else if(X[0]>=75)V=(100-X[0])/25*.04;else if(X[0]>=50)V=.04+(75-X[0])/25*.04;
else if(X[0]>=25)V=.08+(50-X[0])/25*.08;else V=.16+(25-X[0])/25*.24;var o=(X[1]-100+100)/100,h=X[2]/100,T=X[3],l=new Float32Array($.length*3/4),w=new Float32Array(v.length*3/4),W=Date.now();
N($,l);N(v,w);var U=Date.now(),s=Q(l),S=Q(w),x=Date.now(),P=p(l,s),y=p(w,S),_=Date.now();S[0]*=Math.pow(10,V);
var g=[y[0]/P[0],y[1]/P[1],y[2]/P[2]],G=l.length,O=1/-1.1546978950500488;for(var D=0;D<G;D+=3){if(T){var c=Math.max(0,Math.min(1,l[D]*O));
c=1-Math.sqrt(c);E=c*S[1];L=c*S[2]}else{E=S[1];L=S[2]}l[D]=(l[D]-s[0])*g[0]+S[0];l[D+1]=(l[D+1]-s[1])*g[1]*o+E;
l[D+2]=(l[D+2]-s[2])*g[2]*o+L}var k=Date.now();e(l,a);var I=a.length>>>2;for(var D=0;D<I;++D){a[4*D]=(1-h)*a[4*D]+h*$[4*D];
a[4*D+1]=(1-h)*a[4*D+1]+h*$[4*D+1];a[4*D+2]=(1-h)*a[4*D+2]+h*$[4*D+2];a[4*D+3]=255}}return B}(),gH=function(){function u(m,C,Z,q,J){var A=[-1,-1,-1,-1],n=255,N=160,e,Q=!1,p=new Array(4);
p[0]=new Array(C);p[1]=new Array(Z);p[2]=new Array(C);p[3]=new Array(Z);var B=new Array(2);B[0]=new Array(Z);
B[1]=new Array(Z);function $(y,_,g,G,O){this.start=G;this.axis=O;this.dir=y;this.end=-1;this.source=_;
this.Z=g}function R(y,_,g,G,O){if(g%2==0){if(!p[g][y])p[g][y]=new Array;p[g][y].push(new $(g,G,O,_,y))}else{if(!p[g][_])p[g][_]=new Array;
p[g][_].push(new $(g,G,O,y,_))}var E=Date.now()}function z(D){var y=!1,_=0;if(m[4*D+3]<n)return y;var g=D%C,G=Math.floor(D/C);
v(g,G);if(D+C<C*Z&&m[4*(D+C)+3]<n&&m[4*(D-C)+3]>=n&&m[4*(D-2*C)+3]>=n){var O=2;if(m[4*(D+C)+3]<=N)_=-1;
if(m[4*(D+2*C-1)+3]<n&&m[4*(D+2*C+1)+3]<n)y=!0;else if(m[4*(D+2*C-1)+3]>=n&&m[4*(D+1)+3]>=n)y=!0;else if(m[4*(D+2*C+1)+3]>=n&&m[4*(D-1)+3]>=n)y=!0;
R(g,G,O,_,y)}else if(D-C>=0&&m[4*(D-C)+3]<n&&m[4*(D+C)+3]>=n&&m[4*(D+2*C)+3]>=n){var O=0;if(m[4*(D-C)+3]<=N)_=-1;
if(m[4*(D-2*C-1)+3]<n&&m[4*(D-2*C+1)+3]<n)y=!0;else if(m[4*(D-2*C-1)+3]>=n&&m[4*(D+1)+3]>=n)y=!0;else if(m[4*(D-2*C+1)+3]>=n&&m[4*(D-1)+3]>=n)y=!0;
R(g,G,O,_,y)}_=0;if(D+1<C*Z&&m[4*(D+1)+3]<n&&m[4*(D-1)+3]>=n&&m[4*(D-2)+3]>=n){var O=3;if(m[4*(D+1)+3]<=N)_=-1;
if(!y&&m[4*(D+C+2)+3]<n&&m[4*(D-C+2)+3]<n){y=!0;R(g,G,O,_,!0)}else R(g,G,O,_,!1)}else if(D>=1&&m[4*(D-1)+3]<n&&m[4*(D+1)+3]>=n&&m[4*(D+2)+3]>=n){var O=1;
if(m[4*(D-1)+3]<=N)_=-1;if(!y&&m[4*(D+C-2)+3]<n&&m[4*(D-C-2)+3]<n){y=!0;R(g,G,O,_,!0)}else R(g,G,O,_,!1)}return y}function v(D,y){if(A[0]==-1){A[0]=D;
A[1]=y;A[2]=1;A[3]=1}if(D<A[0]){A[2]+=A[0]-D;A[0]=D}if(D>A[0]+A[2])A[2]=D-A[0];if(y<A[1]){A[3]+=A[1]-y;
A[1]=y}if(y>A[1]+A[3])A[3]=y-A[1]}function a(y,D,_,g){if(!_.Z)return;var G=(y+2)%4,O=_.start,E=A[1];
if(y==2)E+=A[3];else if(y==1)E=A[0];else if(y==3)E=A[0]+A[2];var L=_.source;if(p[G][D])for(var c=0;c<p[G][D].length;
++c){if(y>1){var k=O+Math.floor((p[G][D][c].start-O)/2);if(p[G][D][c].start>O&&k<E)E=k}else{var k=O-Math.floor((O-p[G][D][c].start)/2);
if(p[G][D][c].start<O&&k>E)E=k}}for(var I=1;I<Math.abs(E-O);++I){var c=O+I;if(y==1||y==0)c=O-I;for(var Y=0;
Y<2;++Y){var K=2*Y,i=!1;if(y%2==0)K+=1;if(p[K][c]){for(var i4=0;i4<p[K][c].length;++i4){if(p[K][c][i4].Z){var d7=p[K][c][i4].start,d=D-d7,fH=c-O;
if(K==0||K==1)d=-d;if(d<=0)continue;if(y==0||y==1)fH=-fH;if(fH>d){E=c;i=!0;break}}}if(i)break}}}_.end=E;
o(y,D,O,E,L)}function X(y){for(var D=0;D<p[y].length;++D){if(p[y][D])for(var _=0;_<p[y][D].length;++_){a(y,D,p[y][D][_])}}}function V(){var y=[2,0,3,1];
for(var D=0;D<y.length;++D)X(y[D])}function o(y,D,_,g,G){if(y==2)for(var O=_;O<=g;++O){if(!h(O*C+D,(_+G)*C+D))return!1}else if(y==0)for(var O=_;
O>=g;--O){if(!h(O*C+D,(_-G)*C+D))return!1}else if(y==1)for(var O=_;O>=g;--O){if(!h(D*C+O,D*C+_-G))return!1}else if(y==3)for(var O=_;
O<=g;++O){if(!h(D*C+O,D*C+_+G))return!1}}function h(y,_){if(!e[y]){q[4*y]=q[4*_];q[4*y+1]=q[4*_+1];q[4*y+2]=q[4*_+2];
if(Q)q[4*y+3]=255;e[y]=!0;return!0}return!1}function T(){for(var D=0;D<4;D+=1){for(var y=0;y<p[D].length;
++y){if(p[D][y])for(var _=0;_<p[D][y].length;++_){var g=p[D][y][_];for(var G=1;G<3;G+=2){var O=(D+G)%4;
if(p[O][g.start])for(var E=0;E<p[O][g.start].length;++E){if(p[O][g.start][E].start==g.axis){var jt=C*g.start+g.axis;
if(D%2==1){jt=g.start+C*g.axis;l(p[O][g.start][E])}else l(g)}}}}}}}function l(y){if(y.dir%2==0){var jt=C*y.start+y.axis,_=y.start,g=1;
if(!e[jt+1])g=3;else if(e[jt-1])return;var G=q[4*jt],O=q[4*jt+1],E=q[4*jt+2];while(q[4*jt]==G&&q[4*jt+1]==O&&q[4*jt+2]==E){if(g==1){if(!B[0][_])B[0][_]=new Array;
B[0][_].push(new $(g,0,!1,y.axis,_))}else{if(!B[1][_])B[1][_]=new Array;B[1][_].push(new $(g,0,!1,y.axis,_))}if(y.dir==2){jt+=C;
_++}else{jt-=C;_--}}}}function w(){for(var y=0;y<2;++y){var _=(y+1)%2;for(var D=0;D<B[y].length;++D){if(B[y][D])for(var g=0;
g<B[y][D].length;++g){var G=A[0];if(y==1)G+=A[2];var O=B[y][D][g].start;if(B[_][D])for(var E=0;E<B[_][D].length;
++E){var L=B[_][D][E].jL;if(y==0){if(L>G&&L<O){G=O-Math.floor((O-L)/2)}}else{if(L<G&&L>O){G=O+Math.ceil((L-O)/2)}}}if(y==0)o(B[y][D][g].dir,D,O-1,G,-1);
else o(B[y][D][g].dir,D,O+1,G,-1)}}}for(var D=0;D<e.length;++D){if(!e[D]&&D%C>=A[0]&&D%C<=A[0]+A[2]&&Math.floor(D/C)>=A[1]&&Math.floor(D/C)<=A[1]+A[3]){var O=C;
if(D<O||!e[D-O])O=1;q[4*D]=q[4*(D-O)];q[4*D+1]=q[4*(D-O)+1];q[4*D+2]=q[4*(D-O)+2];e[D]=!0;if(Q)q[4*D+3]=255}}}function W(){e=new Array(m.length/4);
for(var D=0;D<q.length/4;++D){e[D]=!1;q[4*D]=m[4*D];q[4*D+1]=m[4*D+1];q[4*D+2]=m[4*D+2];q[4*D+3]=m[4*D+3];
if(q[4*D+3]==255)e[D]=!0;if(z(D))e[D]=!1}if(A[0]>0){A[0]--;A[2]++}if(A[1]>0){A[1]--;A[3]++}if(A[0]+A[2]<C){A[2]++}if(A[1]+A[3]<Z){A[3]++}}var U=Date.now();
W();var s=Date.now();V();var S=Date.now();T();var x=Date.now();w();var P=Date.now();console.log("Init: "+String(s-U));
console.log("Filling: "+String(S-s));console.log("Check areas: "+String(x-S));console.log("Fill areas: "+String(P-x))}return u}();
j.Ma={akg:function(u,m){var D=u.length;u.push(m);var C=D>>>1;while(C!=0&&u[D][0]<u[C][0]){var Z=u[D];
u[D]=u[C];u[C]=Z;D=C;C=D>>>1}},a0C:function(u){if(u.length==2)return u.pop();var top=u[1],D=1;u[1]=u.pop();
var m=u.length;while(!0){var C=D<<1,Z=C+1,q=D;if(C<m&&u[C][0]<u[q][0])q=C;if(Z<m&&u[Z][0]<u[q][0])q=Z;
if(q==D)break;var J=u[D];u[D]=u[q];u[q]=J;D=q}return top},ahs:function(u){for(var D=1;D<u.length;D++){var m=D,C=1e9;
while(m!=0){var Z=u[m][0];if(Z>C){console.log(D);throw"e"}C=Z;m=m>>>1}}}};j.a={};j.a.Us=new Float64Array(256);
j.a.Rj=new Uint8Array(256*256);j.a.BU=new Uint8Array(256*256);(function(){for(var D=0;D<256;D++)j.a.Us[D]=255/D;
for(var D=0;D<256;D++)for(var u=0;u<256;u++)j.a.Rj[D*256+u]=D==0?0:Math.round(u*255/D);for(var D=0;D<256;
D++)for(var u=0;u<256;u++)j.a.BU[D*256+u]=Math.round(D*(255-u)/255)}());j.a.q5=function(u,m,C,Z,q,J,A,n){if(n==null)n=dU.y0();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(u)==-1){A=A*n.fill;n.fill=1;n.style=!1}var N="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),e="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),Q=j.a[u+"F"];
if(n.JG==null&&u=="norm")j.a.aar(m,C,Z,q,J,A,Q,n.hh?1:0);else if(u=="diss")j.a.aj5(m,C,Z,q,J,A,Q,n.hh?1:0);
else if(N.indexOf(u)!=-1)j.a.adg(m,C,Z,q,J,A,Q,n);else if(e.indexOf(u)!=-1)j.a.aoM(m,C,Z,q,J,A,Q,n)};
j.a.ati=function(u,m,C){var Z=u*C+1-C;return Z<.001?0:1-Math.min(1,(1-m)/Z)};j.a.aah=function(u,m,C){return u*C==1?1:Math.min(1,m/(1-u*C))};
j.a.mE=function(u){return u<=.25?((16*u-12)*u+4)*u:Math.sqrt(u)};j.a.normF=function(u,m,C){return u};
j.a.darkF=function(u,m,C){return Math.min(u,m)};j.a["mul F"]=function(u,m,C){return u*m};j.a.idivF=function(u,m,C){var Z=u*C+1-C;
return m==1?1:1-m>=Z?0:1-(1-m)/Z};j.a.lbrnF=function(u,m,C){return Math.max(0,u*C+m-C)};j.a.dkClF=function(u,m,C){var Z=j.Gc(u)<j.Gc(m)?u:m;
C.p=Z.p;C.T=Z.T;C.S=Z.S;return C};j.a.liteF=function(u,m,C){return Math.max(u,m)};j.a.scrnF=function(u,m,C){return m+u-m*u};
j.a["div F"]=function(u,m,C){u*=C;return m==0?0:m>=1-u?1:m/(1-u)};j.a.lddgF=function(u,m,C){u*=C;return Math.min(1,u+m)};
j.a.lgClF=function(u,m,C){var Z=j.Gc(u)>j.Gc(m)?u:m;C.p=Z.p;C.T=Z.T;C.S=Z.S;return C};j.a.overF=function(u,m,C){return j.a.hLitF(m,u,C)};
j.a.sLitF=function(u,m,C){return u<=.5?m-(1-2*u)*m*(1-m):m+(2*u-1)*(j.a.mE(m)-m)};j.a.hLitF=function(u,m,C){return u<=.5?j.a["mul F"](2*u,m,C):j.a.scrnF(2*u-1,m,C)};
j.a.vLitF=function(u,m,C){return u<=.5?j.a.ati(2*u,m,C):j.a.aah(2*u-1,m,C)};j.a.lLitF=function(u,m,C){return u<=.5?j.a.lbrnF(2*u,m,C):j.a.lddgF(2*u-1,m,C)};
j.a.pLitF=function(u,m,C){return u<=.5?j.a.darkF(2*u,m,C):j.a.liteF(2*u-1,m,C)};j.a.hMixF=function(u,m,C){if(C>.99)return u+m<1?0:1;
return Math.min(1,Math.max(0,(m+u*C-C)/(1-C+1e-6)))};j.a.diffF=function(u,m,C){u*=C;return Math.abs(u-m)};
j.a.smudF=function(u,m,C){return u+m-2*u*m};j.a.fsubF=function(u,m,C){return Math.max(m-u,0)};j.a.fdivF=function(u,m,C){return Math.min(m/u,1)};
j.a["hue F"]=function(u,m,C){j.a.eD(u,j.dc(m),C);j.a.pt(C,j.Gc(m),C)};j.a["sat F"]=function(u,m,C){j.a.eD(m,j.dc(u),C);
j.a.pt(C,j.Gc(m),C)};j.a.colrF=function(u,m,C){j.a.pt(u,j.Gc(m),C)};j.a["lum F"]=function(u,m,C){j.a.pt(m,j.Gc(u),C)};
j.a.pt=function(u,m,C){var Z=m-j.Gc(u);C.p=u.p+Z;C.T=u.T+Z;C.S=u.S+Z;j.a.ai8(C)};j.a.ai8=function(u){var m=u.p,C=u.T,Z=u.S,q=j.KY(m,C,Z),jt=Math.min(m,C,Z),J=Math.max(m,C,Z);
if(jt<0){var A=q/(q-jt);m=q+(m-q)*A;C=q+(C-q)*A;Z=q+(Z-q)*A}if(J>1){var A=(1-q)/(J-q);m=q+(m-q)*A;C=q+(C-q)*A;
Z=q+(Z-q)*A}u.p=m;u.T=C;u.S=Z};j.a.eD=function(u,m,C){var Z=j.a.aet,q=u.p,J=u.T,A=u.S;if(q==J&&J==A){C.p=C.T=C.S=0}else if(q>J){if(q>A){if(J>A){C.p=m;
C.T=Z(q,J,A,m);C.S=0}else{C.p=m;C.S=Z(q,A,J,m);C.T=0}}else{C.S=m;C.p=Z(A,q,J,m);C.T=0}}else{if(q<A){if(J>A){C.T=m;
C.S=Z(J,A,q,m);C.p=0}else{C.S=m;C.T=Z(A,J,q,m);C.p=0}}else{C.T=m;C.p=Z(J,q,A,m);C.S=0}}};j.a.aet=function(u,m,C,Z){return(m-C)*Z/(u-C)};
j.a.aar=function(u,m,C,Z,q,J,A,n){var N=m.aR(Z).aR(q),e=Math.max(0,N.x-m.x),Q=Math.max(0,N.x-Z.x),p=Math.max(0,N.y-m.y),B=Math.max(0,N.y-Z.y),$=N.e,R=N.n,z=m.e,v=Z.e,a=j.a.Rj,X=j.a.BU,V=new Uint32Array(u.buffer),o=new Uint32Array(C.buffer);
for(var D=0;D<R;D++){var h=(p+D)*z+e,T=(B+D)*v+Q;for(var l=0;l<$;l++){var w=V[h+l],g=1;if(w>>>24==0)continue;
if(w>>>24==255&&J==1&&n==0){o[T+l]=V[h+l];continue}var W=o[T+l],U=w&255,s=w>>>8&255,S=w>>>16&255,x=W&255,P=W>>>8&255,y=W>>>16&255,_=J,G=(W>>>24)*(1/255);
if(n==0){_=(w>>>24)*J*(1/255);g=G}var O=g*(1-_),E=_+O,L=1/E;o[T+l]=~~(.5+(n*G+(1-n)*E)*255)<<24|~~(.5+(S*_+y*O)*L)<<16|~~(.5+(s*_+P*O)*L)<<8|~~(.5+(U*_+x*O)*L)}}};
j.a.aat=function(u,m,C,Z,q,J){var A=m.aR(Z).aR(q),n=Math.max(0,A.x-m.x),N=Math.max(0,A.x-Z.x),e=Math.max(0,A.y-m.y),Q=Math.max(0,A.y-Z.y),p=A.e,B=A.n,$=m.e,R=Z.e,z=j.a.Rj,v=j.a.BU,a=new Uint32Array(u.buffer),X=new Uint32Array(C.buffer),V=Math.floor(Math.random()*16777215),o=0;
for(var D=0;D<B;D++){var h=(e+D)*$+n,T=(Q+D)*R+N;for(var l=0;l<p;l++){var w=a[h+l];if(w>>>24==0)continue;
if(w>>24==255&&J==1){X[T+l]=w;continue}var W=X[T+l],U=(w>>>24)*J*(1/255),s=(W>>>24)*(1/255),S=s*(1-U),x=U+S,P=w&255,y=w>>>8&255,_=w>>>16&255,g=W&255,G=W>>>8&255,O=W>>>16&255;
o>>>=8;if((l&3)==0)o=j.a.P$(T+l+V);var E=x==0?0:1/x,L=Math.floor(x*(256*255))+(o&255)>>>8,c=Math.floor((_*U+O*S)*E+.5),k=Math.floor((y*U+G*S)*E+.5),I=Math.floor((P*U+g*S)*E+.5);
X[T+l]=L<<24|c<<16|k<<8|I}}};j.a.pl=function(u,m,C,Z,q,J,A,n){var N=j.KY(u,m,C),e=j.KY(Z,q,J),Q=Math.min,p=j.a.ad4,B=p(N,n,0);
B=Q(B,p(u,n,8));B=Q(B,p(m,n,16));B=Q(B,p(C,n,24));var $=p(e,n,4);$=Q($,p(Z,n,12));$=Q($,p(q,n,20));$=Q($,p(J,n,28));
$=Math.max($,1-A);var R=Math.min(B,$);return R<0?0:R>1?1:R};j.a.ad4=function(u,m,D){return Math.min((u-m[D])*m[D+1],(u-m[D+3])*m[D+2])};
j.a.adg=function(u,m,C,Z,q,J,A,n){var N=1/255,e=N*J,Q=n.hh?1:0,p=n.fill,B=n.style,$=m.aR(Z).aR(q),R=Math.max(0,$.x-m.x),z=Math.max(0,$.x-Z.x),v=Math.max(0,$.y-m.y),a=Math.max(0,$.y-Z.y),X=$.e,V=$.n,o=m.e,h=Z.e,T=new Uint32Array(u.buffer),l=new Uint32Array(C.buffer);
for(var D=0;D<V;D++){var w=(v+D)*o+R,W=(a+D)*h+z;for(var U=0;U<X;U++,w++,W++){var s=T[w],E=1;if(s>>>24==0)continue;
var S=l[W],x=(s&255)*N,P=(s>>>8&255)*N,y=(s>>>16&255)*N,_=(S&255)*N,g=(S>>>8&255)*N,G=(S>>>16&255)*N,O=J;
if(Q==0){O=(s>>>24)*e;E=(S>>>24)*N}if(n.JG)O*=j.a.pl(x,P,y,_,g,G,E,n.JG);var L=E*(1-O),c=O+L,k=c==0?0:255/c,I=B?1:O,Y=((1-E)*O*x+(1-I)*E*_+I*E*A(x,_,(1+O-I)*p))*k,K=((1-E)*O*P+(1-I)*E*g+I*E*A(P,g,(1+O-I)*p))*k,i=((1-E)*O*y+(1-I)*E*G+I*E*A(y,G,(1+O-I)*p))*k;
c=O*p+E*(1-O*p);var i4=~~(c*255+.5);l[W]=Q*(S>>>24)+(1-Q)*i4<<24|i<<16|K<<8|Y}}};j.a.aoM=function(u,m,C,Z,q,J,A,n){var N=1/255,e=N*J,Q=n.hh?1:0,p=m.aR(Z).aR(q),B=Math.max(0,p.x-m.x),$=Math.max(0,p.x-Z.x),R=Math.max(0,p.y-m.y),z=Math.max(0,p.y-Z.y),v=p.e,a=p.n,X=new Uint32Array(u.buffer),V=new Uint32Array(C.buffer),o={p:0,T:0,S:0},h={p:0,T:0,S:0},T={p:0,T:0,S:0};
for(var D=0;D<a;D++){var l=(R+D)*m.e+B,w=(z+D)*Z.e+$;for(var W=0;W<v;W++,l++,w++){var U=X[l],s=V[w],S=(U&255)*N,x=(U>>>8&255)*N,P=(U>>>16&255)*N,y=(s&255)*N,_=(s>>>8&255)*N,g=(s>>>16&255)*N,G=J,O=1;
if(Q==0){G=(U>>>24)*e;O=(s>>>24)*N}if(n.JG)G*=j.a.pl(S,x,P,y,_,g,O,n.JG);var E=O*(1-G),L=G+E,c=255/L;
o.p=S;o.T=x;o.S=P;h.p=y;h.T=_;h.S=g;A(o,h,T);var k=(((1-O)*S+O*T.p)*G+y*E)*c,I=(((1-O)*x+O*T.T)*G+_*E)*c,Y=(((1-O)*P+O*T.S)*G+g*E)*c,K=Q*(s>>>24)+(1-Q)*Math.round(L*255);
V[w]=K<<24|Y<<16|I<<8|k}}};j.a.x3=function(u){u=u^61^u>>>16;u=u+(u<<3);u=u^u>>>4;u=u*668265261;u=u^u>>15;
return(u&16777215)*(1/16777215)};j.a.P$=function(u){u=u^61^u>>>16;u=u+(u<<3);u=u^u>>>4;u=u*668265261;
u=u^u>>>15;return u};j.a.d2=function(u){this.Yi=u};j.a.d2.prototype.get=function(){var u=this.Yi=j.a.P$(this.Yi);
return(u&16777215)*(1/16777215)};j.a.aj5=function(u,m,C,Z,q,J,A,n){var N=1/255,e=N*J,Q=Math.round(J*(256*256*256/255)),p=m.aR(Z).aR(q),B=Math.max(0,p.x-m.x),$=Math.max(0,p.x-Z.x),R=Math.max(0,p.y-m.y),z=Math.max(0,p.y-Z.y),v=p.e,a=p.n,X=new Uint32Array(u.buffer),V=new Uint32Array(C.buffer);
for(var D=0;D<a;D++){var o=(R+D)*m.e+B,h=(z+D)*Z.e+$;for(var T=0;T<v;T++,o++,h++){var l=X[o],w=V[h],W=n*255+(1-n)*(l>>>24);
if((j.a.P$(o)&16777215)>=W*Q)continue;V[h]=l&16777215|n*(w>>>24)+(1-n)*255<<24}}};j.a.aay=function(u,m,C){for(var D=0;
D<u.length;D+=4){var Z=C[D>>>2];if(Z==0)continue;var q=Z*(1/255),J=1/q,A=m[D],n=m[D+1],N=m[D+2],e=u[D],Q=u[D+1],p=u[D+2];
m[D]=Math.min(255,Math.max(0,Math.round((A-(1-q)*e)*J)));m[D+1]=Math.min(255,Math.max(0,Math.round((n-(1-q)*Q)*J)));
m[D+2]=Math.min(255,Math.max(0,Math.round((N-(1-q)*p)*J)));m[D+3]=255}};j.a.LP=function(u,m,C,Z,q,J,A,n,N,e,Q){if(e==null)e=!1;
if(Q==null)Q=[1,1,1];var p=255<<24|Q[2]*16711680|Q[1]*65280|Q[0]*255,B=~p;if(q&&!m.QV(J)){var $=j.U(m.Z()*4);
$.fill(A);j.j5(q,J,$,m);q=$;J=m}if(e){if(q==null)j.a.a5Q(u,m,C,Z,q,n,N,p,B);else j.a.a4J(u,m,C,Z,q,n,N)}else{if(q==null)j.a.atx(u,m,C,Z,q,n,N,p,B);
else j.a.adY(u,m,C,Z,q,n,N)}};j.a.atx=function(u,m,C,Z,q,J,A,n,N){var e=1/255,Q=m.aR(Z).aR(J),p=Math.max(0,Q.x-m.x),B=Math.max(0,Q.x-Z.x),$=Math.max(0,Q.y-m.y),R=Math.max(0,Q.y-Z.y),z=Q.e,v=Q.n,a=new Uint32Array(u.buffer),X=new Uint32Array(C.buffer),V=j.a.Rj,o=A*255&255;
for(var D=0;D<v;D++){var h=($+D)*m.e+p,T=(R+D)*Z.e+B;for(var l=0;l<z;l++,h++,T++){var w=a[h],W=X[T],U=w>>>24,s=W>>>24,S=j.DQ(o*U+(255-o)*s),x=j.DQ(U*o),P=j.DQ(s*(255-o)),y=w&255,_=w>>>8&255,g=w>>>16&255,G=W&255,O=W>>>8&255,E=W>>>16&255,L=x*y+G*P,c=x*_+O*P,k=x*g+E*P;
L=V[S<<8|j.DQ(L)];c=V[S<<8|j.DQ(c)];k=V[S<<8|j.DQ(k)];var I=S<<24|k<<16|c<<8|L;X[T]=N&W|n&I}}};j.a.a5Q=function(u,m,C,Z,q,J,A,n,N){var e=1/255,Q=m.aR(Z).aR(J),p=Math.max(0,Q.x-m.x),B=Math.max(0,Q.x-Z.x),$=Math.max(0,Q.y-m.y),R=Math.max(0,Q.y-Z.y),z=Q.e,v=Q.n,a=new Uint32Array(u.buffer),X=new Uint32Array(C.buffer),V=j.a.Rj,o=A*16777215&16777215;
for(var D=0;D<v;D++){var h=($+D)*m.e+p,T=(R+D)*Z.e+B;for(var l=0;l<z;l++,h++,T++){if((j.a.P$(h)&16777215)<o){X[T]=N&X[T]|n&a[h]}}}};
j.a.adY=function(u,m,C,Z,q,J,A){var n=1/255,N=m.aR(Z).aR(J),e=Math.max(0,N.x-m.x),Q=Math.max(0,N.x-Z.x),p=Math.max(0,N.y-m.y),B=Math.max(0,N.y-Z.y),$=N.e,R=N.n,z=new Uint32Array(u.buffer),v=new Uint32Array(C.buffer),a=j.a.Rj;
for(var D=0;D<R;D++){var X=(p+D)*m.e+e,V=(B+D)*Z.e+Q;for(var o=0;o<$;o++,X++,V++){var h=q[X]*A&255;if(h==0)continue;
if(h==255){v[V]=z[X];continue}var T=z[X],l=v[V],w=T>>>24,W=l>>>24,U=j.DQ(h*w+(255-h)*W),s=j.DQ(w*h),S=j.DQ(W*(255-h)),x=T&255,P=T>>>8&255,y=T>>>16&255,_=l&255,g=l>>>8&255,G=l>>>16&255,O=a[U<<8|j.DQ(s*x+_*S)],E=a[U<<8|j.DQ(s*P+g*S)],L=a[U<<8|j.DQ(s*y+G*S)];
v[V]=U<<24|L<<16|E<<8|O}}};j.a.a4J=function(u,m,C,Z,q,J,A){var n=1/255,N=m.aR(Z).aR(J),e=Math.max(0,N.x-m.x),Q=Math.max(0,N.x-Z.x),p=Math.max(0,N.y-m.y),B=Math.max(0,N.y-Z.y),$=N.e,R=N.n,z=new Uint32Array(u.buffer),v=new Uint32Array(C.buffer),a=j.a.Rj,X=Math.round(A*257);
for(var D=0;D<R;D++){var V=(p+D)*m.e+e,o=(B+D)*Z.e+Q;for(var h=0;h<$;h++,V++,o++){var T=q[V]*X;if((j.a.P$(V)&65535)<T)v[o]=z[V]}}};
j.a.AQ=function(u,m,C,Z,q,J,A){var n=1/255,N=m.aR(Z).aR(J),e=Math.max(0,N.x-m.x),Q=Math.max(0,N.x-Z.x),p=Math.max(0,N.y-m.y),B=Math.max(0,N.y-Z.y),$=N.e,R=N.n,z=new Uint32Array(u.buffer),v=new Uint32Array(C.buffer),a=Math.floor(Math.random()*Z.Z()),X=j.a.apa;
for(var D=0;D<R;D++){var V=(p+D)*m.e+e,o=(B+D)*Z.e+Q;for(var h=0;h<$;h++){var T=q[V+h]*A;if(T==0)continue;
if(T==255){v[o+h]=z[V+h];continue}var l=z[V+h],w=v[o+h],W=l>>>24,U=w>>>24,s=W*T*(1/255),S=U*(255-T)*(1/255),x=l&255,P=l>>>8&255,y=l>>>16&255,_=w&255,g=w>>>8&255,G=w>>>16&255,O=j.a.P$(o+h+a),E=Math.floor((s+S)*256+.5)+(O>>>0&255)>>>8,L=E==0?0:256/(s+S),c=x*s+_*S,k=P*s+g*S,I=y*s+G*S,Y=Math.floor(c*L+.5)+(O>>>8&255)>>>8,K=Math.floor(k*L+.5)+(O>>>16&255)>>>8,i=Math.floor(I*L+.5)+(O>>>24&255)>>>8;
v[o+h]=E<<24|i<<16|K<<8|Y}}};j.a.apa=function(u){return Math.floor(u+Math.random())};j.a.wI=function(u,m,C,Z,q,J,A){var n=1/255,N=m.aR(Z).aR(J),e=Math.max(0,N.x-m.x),Q=Math.max(0,N.x-Z.x),p=Math.max(0,N.y-m.y),B=Math.max(0,N.y-Z.y),$=N.e,R=N.n;
for(var D=0;D<R;D++){var z=(p+D)*m.e+e,v=(B+D)*Z.e+Q;for(var a=0;a<$;a++,z++,v++){var X=A*q[z]*n;if(X==0)continue;
if(X==1){C[v]=u[z];continue}C[v]=u[z]*X+C[v]*(1-X)}}};j.Gf={};j.Gf.amo=function(u,m,C,Z,q,J){j.Gf.EZ(u,m,C,Z,q,J,null,0)};
j.Gf.amy=function(u,m,C,Z,q){j.Gf.EZ(u,m,C,Z,q,null,null,0)};j.Gf.a7a=function(u,m,C,Z,q,J,A){j.Gf.EZ(u,m,C,Z,q,null,J,A*.5)};
j.Gf.EZ=function(u,m,C,Z,q,J,A,n){var N=0,S=0,x=1e9,P=0,y=1e9,_=0,g=1e9,G=0,O=0,E=0,L=0;if(J){N=q*.5;
q=3+Math.round((q-3)*.75)}if(A){q=Math.round(q*2.2)}var e=1/q,Q=Math.floor(m*e)+1,p=Math.floor(C*e)+1,B=[],$=new Uint8Array(Q*p*4),R=A?.5:1,z=J?64:0;
for(var v=0;v<p;v++){var a=A?.5*(v&1):0;for(var X=0;X<Q;X++){var V=(X+Math.random()*R+a)*q,o=(v+Math.random()*R)*q;
B.push(V,o);var h=Math.min(m-1,Math.floor(V)),T=Math.min(C-1,Math.floor(o)),l=(T*m+h)*4,w=(v*Q+X)*4;
for(var D=0;D<4;D++)$[w+D]=Math.max(0,Math.min(255,Math.floor(u[l+D]+(Math.random()-.5)*z)))}}var W=J?J:A?A:[0,0,0],U=Q*p*2,s=[-Q-1,-Q,-Q+1,-1,0,1,Q-1,Q,Q+1];
for(var v=0;v<C;v++){E=0;for(var X=0;X<m;X++){var c=X+.5,k=v+.5,I=Math.floor(k*e),Y=Math.floor(c*e),K=I*Q+Y,d7=0,d=0;
if(E>1+n){x=j.Gf.wd(B,S,c,k);G=Math.sqrt(x);E--;L++}else{x=y=g=1e9;for(var D=0;D<s.length;D++){var i=(K+s[D])*2;
if(i<0||i>=U)continue;var i4=j.Gf.wd(B,i,c,k);if(i4<g){if(i4<y){if(i4<x){_=P;g=y;P=S;y=x;S=i;x=i4}else{_=P;
g=y;P=i;y=i4}}else{_=i;g=i4}}}G=Math.sqrt(x);O=Math.sqrt(y);E=O-(G+O)*.5}if(A==null){var fH=(G+O)*.5,aC=J?Math.max(0,fH-N):0;
d7=Math.max(0,Math.min(1,.5+fH-G-aC));d=Math.max(0,Math.min(1,1-(.5+fH-G)-aC))}else{var f8=Math.min(j.Gf.s1(B,S,P,c,k),j.Gf.s1(B,S,_,c,k));
d7=Math.max(0,Math.min(1,f8-n*.5));if(c<n||m-n<c||k<n||C-n<k)d7=0;d=0}var c9=1-d-d7,w=v*m+X<<2,g1=S<<1,cE=P<<1;
Z[w+0]=Math.floor(.5+d7*$[g1+0]+d*$[cE+0]+c9*W[0]);Z[w+1]=Math.floor(.5+d7*$[g1+1]+d*$[cE+1]+c9*W[1]);
Z[w+2]=Math.floor(.5+d7*$[g1+2]+d*$[cE+2]+c9*W[2]);Z[w+3]=u[w+3]}}};j.Gf.wd=function(u,m,C,Z){var q=C-u[m],J=Z-u[m+1];
return q*q+J*J};j.Gf.s1=function(u,m,C,Z,q){var J=u[m],A=u[m+1],n=u[C],N=u[C+1],e=(J+n)*.5,Q=(A+N)*.5,p=e+(N-A),B=Q-(n-J),$=B-Q,R=p-e;
return Math.abs($*Z-R*q+p*Q-B*e)/Math.sqrt(R*R+$*$)};j.yM={};j.yM.mT=function(u){if(j.yM.c6.length<u)j.yM.c6=j.U(u);
return j.yM.c6};j.yM.c6=j.U(0);j.yM.Vn=function(u){if(j.yM.hC.length<u)j.yM.hC=new Float32Array(u);return j.yM.hC};
j.yM.hC=new Float32Array(0);j.yM.kJ=function(u,m,C,Z){var q=C.e,J=C.n;j.yM.a6A(u,m,q,J,Z)};j.yM.Yz=function(u,m,C,Z){var q=C.e,J=C.n;
j.yM.ac1(u,m,q,J,Z)};j.yM.jX=function(u,m,C){var Z=m.e,q=m.n;j.yM.atW(u,Z,q,C)};j.yM.A1=function(u,m,C,Z,q){var J=C.e,A=C.n;
j.yM.adC(u,m,J,A,Z,q)};j.yM.tn=function(u,m,C,Z){var q=C.e,J=C.n;Z=Math.round(Z);var A=j.yM.mT(q*J);
j.Uj(u,m);j.yM.K7(m,A,q,J,Z)};j.yM.qy=function(u,m,C){var Z=m.e,q=m.n;C=Math.round(C);var J=j.yM.mT(Z*q*4);
j.yM.QY(u,J,Z,q,C)};j.yM.PW=function(u,m,C,Z){var q=C.e,J=C.n;Z=Math.round(Z);var A=j.yM.Vn(q*J);j.Uj(u,m);
j.yM.O8(m,A,q,J,Z)};j.yM.gL=function(u,m,C){var Z=m.e,q=m.n;C=Math.round(C);var J=j.yM.mT(Z*q*4);j.yM.jB(u,J,Z,q,C);
j.Uj(J,u)};j.yM.Vz=function(u,jt){var m=Math.sqrt(12*u*u/jt+1),C=Math.floor(m);if(C%2==0)C--;var Z=C+2,q=(12*u*u-jt*C*C-4*jt*C-3*jt)/(-4*C-4),J=Math.round(q),A=[];
for(var D=0;D<jt;D++)A.push(D<J?C:Z);return A};j.yM.a6A=function(u,m,C,Z,q){var J=j.yM.Vz(q,3),A=j.yM.mT(C*Z);
j.Uj(u,m);j.yM.K7(m,A,C,Z,J[0]-1>>1);j.yM.K7(m,A,C,Z,J[1]-1>>1);j.yM.K7(m,A,C,Z,J[2]-1>>1)};j.yM.ac1=function(u,m,C,Z,q){var J=j.yM.Vz(q,2),A=j.yM.mT(C*Z);
j.Uj(u,m);j.yM.K7(m,A,C,Z,J[0]-1>>1);j.yM.K7(m,A,C,Z,J[1]-1>>1)};j.yM.atW=function(u,m,C,Z){var q=j.yM.Vz(Z,3),J=j.yM.mT(m*C*4);
j.yM.QY(u,J,m,C,q[0]-1>>1);j.yM.QY(u,J,m,C,q[1]-1>>1);j.yM.QY(u,J,m,C,q[2]-1>>1)};j.yM.adC=function(u,m,C,Z,q,J){if(J==null)J=3;
var A=j.yM.Vz(q,J),n=j.yM.Vn(C*Z);j.Uj(u,m);for(var D=0;D<J;D++)j.yM.O8(m,n,C,Z,(A[D]-1)/2)};j.yM.K7=function(u,m,C,Z,q){j.yM.alu(u,m,C,Z,q);
j.yM.a24(m,u,C,Z,q)};j.yM.QY=function(u,m,C,Z,q){j.yM.jB(u,m,C,Z,q);j.yM.aov(m,u,C,Z,q)};j.yM.O8=function(u,m,C,Z,q){j.yM.afN(u,m,C,Z,q);
j.yM.ahI(m,u,C,Z,q)};j.yM.Ea=[];j.yM.y3=function(u){if(j.yM.Ea[u])return j.yM.Ea[u];var m=1/(u+u+1),C=(u+u+1)*256,Z=j.U(C);
for(var D=0;D<C;D++)Z[D]=Math.round(D*m);j.yM.Ea[u]=Z;return Z};j.yM.alu=function(u,m,C,Z,q){var J=1/(q+q+1),A=C-q-q-1,n=j.yM.y3(q);
for(var D=0;D<Z;D++){var N=D*C,e=N,Q=N+q,p=u[N],B=u[N+C-1],$=(q+1)*p;for(var R=0;R<q;R++)$+=u[N+R];for(var R=0;
R<=q;R++){$+=u[Q+R]-p;m[N+R]=n[$]}Q+=q+1;N+=q+1;for(var R=0;R<A;R++){$+=u[Q+R]-u[e+R];m[N+R]=n[$]}Q+=A;
e+=A;N+=A;for(var R=C-q;R<C;R++){$+=B-u[e++];m[N++]=n[$]}}};j.yM.jB=function(u,m,C,Z,q){var J=C<<2,A=q<<2,n=1/(q+q+1),N=C-q-q-1,e=N<<2,Q=j.yM.y3(q);
for(var D=0;D<Z;D++){var p=D*J,B=p,$=p+A,R=p+J,z=u[p],v=u[p+1],a=u[p+2],X=u[p+3],V=(q+1)*z,o=(q+1)*v,h=(q+1)*a,T=(q+1)*X;
for(var l=0;l<A;l+=4){V+=u[p+l];o+=u[p+l+1];h+=u[p+l+2];T+=u[p+l+3]}for(var l=0;l<=A;l+=4){V+=u[$]-z;
m[p]=Q[V];o+=u[$+1]-v;m[p+1]=Q[o];h+=u[$+2]-a;m[p+2]=Q[h];T+=u[$+3]-X;m[p+3]=Q[T];$+=4;p+=4}for(var l=0;
l<e;l+=4){V+=u[$+l]-u[B+l];m[p+l]=Q[V];o+=u[$+l+1]-u[B+l+1];m[p+l+1]=Q[o];h+=u[$+l+2]-u[B+l+2];m[p+l+2]=Q[h];
T+=u[$+l+3]-u[B+l+3];m[p+l+3]=Q[T]}$+=e;B+=e;p+=e;z=u[R-4];v=u[R-3];a=u[R-2];X=u[R-1];for(var l=C-q;
l<C;l++){V+=z-u[B];m[p]=Q[V];o+=v-u[B+1];m[p+1]=Q[o];h+=a-u[B+2];m[p+2]=Q[h];T+=X-u[B+3];m[p+3]=Q[T];
B+=4;p+=4}}};j.yM.afN=function(u,m,C,Z,q){var J=1/(q+q+1),A=C-q-q-1;for(var D=0;D<Z;D++){var n=D*C,N=n,e=n+q,Q=u[n],p=u[n+C-1],B=(q+1)*Q;
for(var $=0;$<q;$++)B+=u[n+$];for(var $=0;$<=q;$++){B+=u[e+$]-Q;m[n+$]=B*J}e+=q+1;n+=q+1;for(var $=0;
$<A;$++){B+=u[e+$]-u[N+$];m[n+$]=B*J}e+=A;N+=A;n+=A;for(var $=C-q;$<C;$++){B+=p-u[N++];m[n++]=B*J}}};
j.yM.a24=function(u,m,C,Z,q){var J=1/(q+q+1),A=Z-q-q-1,n=j.yM.y3(q);for(var D=0;D<C;D++){var N=D,e=N,Q=N+q*C,p=u[N],B=u[N+C*(Z-1)],$=(q+1)*p;
for(var R=0;R<q;R++)$+=u[N+R*C];for(var R=0;R<=q;R++){$+=u[Q]-p;m[N]=n[$];Q+=C;N+=C}for(var R=0;R<A;
R++){var z=R*C;$+=u[Q+z]-u[e+z];m[N+z]=n[$]}e+=A*C;Q+=A*C;N+=A*C;for(var R=Z-q;R<Z;R++){$+=B-u[e];m[N]=n[$];
e+=C;N+=C}}};j.yM.aov=function(u,m,C,Z,q){var J=C<<2,A=q<<2,n=1/(q+q+1),N=Z-q-q-1,e=N<<2,Q=j.yM.y3(q);
for(var D=0;D<C;D++){var p=D<<2,B=p,$=p+q*J,R=p+J*(Z-1),z=u[p],v=u[p+1],a=u[p+2],X=u[p+3],V=(q+1)*z,o=(q+1)*v,h=(q+1)*a,T=(q+1)*X;
for(var l=0;l<q;l++){var w=p+l*J;V+=u[w];o+=u[w+1];h+=u[w+2];T+=u[w+3]}for(var l=0;l<=q;l++){V+=u[$]-z;
m[p]=Q[V];o+=u[$+1]-v;m[p+1]=Q[o];h+=u[$+2]-a;m[p+2]=Q[h];T+=u[$+3]-X;m[p+3]=Q[T];$+=J;p+=J}for(var l=0;
l<N;l++){var W=l*J;V+=u[$+W]-u[B+W];m[p+W]=Q[V];o+=u[$+W+1]-u[B+W+1];m[p+W+1]=Q[o];h+=u[$+W+2]-u[B+W+2];
m[p+W+2]=Q[h];T+=u[$+W+3]-u[B+W+3];m[p+W+3]=Q[T]}B+=N*J;$+=N*J;p+=N*J;z=u[R];v=u[R+1];a=u[R+2];X=u[R+3];
for(var l=Z-q;l<Z;l++){V+=z-u[B];m[p]=Q[V];o+=v-u[B+1];m[p+1]=Q[o];h+=a-u[B+2];m[p+2]=Q[h];T+=X-u[B+3];
m[p+3]=Q[T];B+=J;p+=J}}};j.yM.ahI=function(u,m,C,Z,q){var J=1/(q+q+1),A=Z-q-q-1;for(var D=0;D<C;D++){var n=D,N=n,e=n+q*C,Q=u[n],p=u[n+C*(Z-1)],B=(q+1)*Q;
for(var $=0;$<q;$++)B+=u[n+$*C];for(var $=0;$<=q;$++){B+=u[e]-Q;m[n]=B*J;e+=C;n+=C}for(var $=0;$<A;$++){var R=$*C;
B+=u[e+R]-u[N+R];m[n+R]=B*J}N+=A*C;e+=A*C;n+=A*C;for(var $=Z-q;$<Z;$++){B+=p-u[N];m[n]=B*J;N+=C;n+=C}}};
j.jk={};j.jk.U=function(u,m,C,Z){var q=[];for(var J=0;J<4;J++)for(var A=0;A<4;A++)q.push(u+C*A/3,m+Z*J/3);
return q};j.jk.ZG=function(u,m){var C=u.slice(0);for(var D=0;D<4;D++)for(var Z=0;Z<4;Z++){var q=2*(D*4+Z),J=2*(Z*4+(3-D));
if(m){var A=q;q=J;J=A}C[J]=u[q];C[J+1]=u[q+1]}return C};j.jk._n=j.U(0);j.jk.drawImage=function(u,m,C,Z,q,J,A){var n=!1,N=Date.now(),e=2,Q=C+2*e,p=Z+2*e,B=new bl(e,e,C,Z),$=B.clone(),X=50;
$.iO(e,e);var R=j.jk._n;if(R.length!=$.Z()*4)R=j.jk._n=j.U($.Z()*4);else R.fill(0);j.zO(m,B,R,$);if(n)console.log(Date.now()-N,"copy rect");
N=Date.now();j._B(R);if(n)console.log(Date.now()-N,"multiply alpha");N=Date.now();var z=[],v=[],a=[];
for(var V=0;V<X+1;V++)for(var o=0;o<X+1;o++){var h=o/X,T=V/X;z.push(Q*h,p*T);if(o<X&&V<X){var l=V*(X+1)+o,w=l+1,W=l+X+1,U=W+1;
v.push(l,w,W);v.push(W,w,U)}var s=j.jk.aaX(u,h,T);a.push(-s)}var S=z.slice(0);j.jk.I(u,S,new bl(e,e,C,Z));
j.u.I(S,new ix(1,0,0,1,-J.x,-J.y),S);if(n)console.log(Date.now()-N,"mesh built");N=Date.now();var x=J.e,P=J.n;
j.AA.mn(R,Q,p,q,x,P,z,S,a,v);if(n)console.log(Date.now()-N,"rendered");N=Date.now();j.QW(q);if(n)console.log(Date.now()-N,"divided");
N=Date.now()};j.jk.gn=new Array(10);j.jk.a8a=function(u,m){var C=200,Z=0,q=0,J=1e9,A=j.jk.gn;for(var n=0;
n<C+1;n++)for(var N=0;N<C+1;N++){var e=N/C,Q=n/C;j.jk.lG(u,e,Q,A);var p=A[8]-m.x,B=A[9]-m.y,$=p*p+B*B;
if($<J){J=$;Z=e;q=Q}}return[Z,q]};j.jk.I=function(u,m,C){var Z=C.x,q=C.y,J=1/C.e,A=1/C.n,n=j.jk.gn;for(var N=0;
N<m.length;N+=2){var e=(m[N]-Z)*J,Q=(m[N+1]-q)*A;j.jk.lG(u,e,Q,n);m[N]=n[8];m[N+1]=n[9]}};j.jk.aaX=function(u,m,C){var Z,q,J,A,n=j.jk.gn;
j.jk.a7j(u,m,C,n);Z=n[8];q=n[9];j.jk.ajb(u,m,C,n);J=n[8];A=n[9];return Z*A-q*J};j.jk.lG=function(u,m,C,Z){j.jk.af(Z,0,C);
j.jk.af(Z,4,m);j.jk.ei(u,Z)};j.jk.a7j=function(u,m,C,Z){j.jk.af(Z,0,C);j.jk.UH(Z,4,m);j.jk.ei(u,Z)};
j.jk.ajb=function(u,m,C,Z){j.jk.UH(Z,0,C);j.jk.af(Z,4,m);j.jk.ei(u,Z)};j.jk.UH=function(u,D,m){var C=1-m;
u[D]=-3*(C*C);u[D+1]=3*(C*C)-6*(m*C);u[D+2]=6*(m*C)-3*(m*m);u[D+3]=3*(m*m)};j.jk.af=function(u,D,m){var C=1-m;
u[D]=C*(C*C);u[D+1]=3*m*(C*C);u[D+2]=3*(m*m)*C;u[D+3]=m*m*m};j.jk.ei=function(u,m){var C=0,Z=0,q=0,J=m[0],A=m[1],n=m[2],N=m[3],e=m[4],Q=m[5],p=m[6],B=m[7];
q=J*e;C+=u[0]*q;Z+=u[1]*q;q=J*Q;C+=u[2]*q;Z+=u[3]*q;q=J*p;C+=u[4]*q;Z+=u[5]*q;q=J*B;C+=u[6]*q;Z+=u[7]*q;
q=A*e;C+=u[8]*q;Z+=u[9]*q;q=A*Q;C+=u[10]*q;Z+=u[11]*q;q=A*p;C+=u[12]*q;Z+=u[13]*q;q=A*B;C+=u[14]*q;Z+=u[15]*q;
q=n*e;C+=u[16]*q;Z+=u[17]*q;q=n*Q;C+=u[18]*q;Z+=u[19]*q;q=n*p;C+=u[20]*q;Z+=u[21]*q;q=n*B;C+=u[22]*q;
Z+=u[23]*q;q=N*e;C+=u[24]*q;Z+=u[25]*q;q=N*Q;C+=u[26]*q;Z+=u[27]*q;q=N*p;C+=u[28]*q;Z+=u[29]*q;q=N*B;
C+=u[30]*q;Z+=u[31]*q;m[8]=C;m[9]=Z};j.J_={};j.J_.at0=function(u,m,C){var Z=Date.now(),q=new ArrayBuffer(m*C*16),J=j.J_.afG(u,m,C,q),A=j.J_.a8Z(m,C,q);
return{M8:A,Hc:J}};j.J_.aeK=function(u,m,C){var Z=Math.round(u.length/8),q=new Uint32Array(Z),J=new Uint8Array(Z),A=new Uint32Array(Z);
j.gs(q,4294967295,0);q[C]=0;var n=new gL(Z);n.push(C,q[C]);var N={M8:u,Hc:m,Ba:q,ZJ:J,V7:A,nI:n,ae6:C};
return N};j.J_.qS=function(u,m){var C=u.M8,Z=u.Hc,q=u.Ba,J=u.ZJ,A=u.V7,n=u.nI;while(!n.qR()&&(m==null||J[m]==0)){var N=n.pop();
J[N]=1;for(var D=0;D<8;D++){var e=C[8*N+D],Q=N+e;if(e==0||J[Q])continue;var p=q[N]+Z[8*N+D];if(n.contains(Q)&&p<q[Q])n.remove(Q,q[Q]);
if(!n.contains(Q)){q[Q]=p;A[Q]=N;n.push(Q,q[Q])}}}};function gL(u){this.SY=new Uint32Array(u);this.list=[];
this.Yg=0;this.UG=4294967295}gL.prototype.qR=function(){return this.Yg==0};gL.prototype.push=function(u,m){var C=this.list;
if(C[m]==null)C[m]=[];C[m].push(u);this.Yg++;this.SY[u]=C[m].length-1+1;this.UG=Math.min(this.UG,m)};
gL.prototype.pop=function(){this.Yg--;var u=this.list,m=this.UG,C=u[m].pop();if(u[m].length==0)u[m]=null;
this.BS();this.SY[C]=0;return C};gL.prototype.contains=function(u){return this.SY[u]!=0};gL.prototype.remove=function(u,m){this.Yg--;
var C=this.list,D=this.SY[u]-1;if(D==C[m].length-1)C[m].pop();else{var Z=C[m].pop();C[m][D]=Z;this.SY[Z]=D+1}if(C[m].length==0)C[m]=null;
this.SY[u]=0;this.BS()};gL.prototype.BS=function(){if(this.Yg==0){this.UG=4294967295;return}var u=this.UG,m=this.list;
while(m[u]==null)u++;this.UG=u};j.J_.ahA=function(u,m,C,Z){var q=new Int16Array(Z);for(var J=0;J<C;J++)for(var A=0;
A<m;A++){var D=J*m+A,n=0;if(1<A&&A<m-2&&1<J&&J<C-2){n+=u[D-m-m];n+=u[D-m-1]+2*u[D-m]+u[D-m+1];n+=u[D-2]+2*u[D-1]-16*u[D]+2*u[D+1]+u[D+2];
n+=u[D+m-1]+2*u[D+m]+u[D+m+1];n+=u[D+m+m]}else n=-16*u[D];q[D]=n}return q};j.J_.apm=function(u,m,C,Z){if(Z==null)Z=128;
var q=new Uint8Array(m*C);for(var J=1;J<C-1;J++)for(var A=1;A<m-1;A++){var D=J*m+A;q[D]=j.J_.aiW(u[D],u[D-1],u[D+1],u[D-m],u[D+m],Z)}return q};
j.J_.aiW=function(u,m,C,Z,q,J){var A=Math.abs(u);return u*m<0&&A<Math.abs(m)&&Math.abs(m-u)>J||u*C<0&&A<Math.abs(C)&&Math.abs(C-u)>J||u*Z<0&&A<Math.abs(Z)&&Math.abs(Z-u)>J||u*q<0&&A<Math.abs(q)&&Math.abs(q-u)>J?1:0};
j.J_.atj=function(u,m,C,Z){var q=new Float32Array(Z),J=0;new Uint32Array(Z).fill(0);for(var A=0;A<C;
A++)for(var n=0;n<m;n++){var N=0,e=0,D=A*m+n,Q=D*3;if(0<n&&n<m-1)N=u[D+1]-u[D-1];if(0<A&&A<C-1)e=u[D+m]-u[D-m];
var p=q[Q+2]=Math.sqrt(N*N+e*e);if(p!=0){var B=1/p;q[Q]=N*B;q[Q+1]=e*B}if(p>J)J=p}var $=m*C,R=J==0?0:1/J;
for(var D=0;D<$;D++)q[D*3+2]=1-q[D*3+2]*R;return q};j.J_.asC=function(u,m,C){return C[~~((.5+.5*u)*255)]+C[~~((.5+.5*m)*255)]};
j.J_.afG=function(u,m,C,Z){var q=Date.now(),J=j.J_.ahA(u,m,C,Z),A=j.J_.apm(J,m,C),n=j.J_.atj(u,m,C,Z),N=new Float32Array(256);
for(var D=0;D<256;D++)N[D]=Math.acos(-1+2*D/255)*(.95/Math.PI);var e=[-1,0,1,1,1,0,-1,-1],Q=[-1,-1,-1,0,1,1,1,0];
for(var D=0;D<8;D++){var p=1/Math.sqrt(e[D]*e[D]+Q[D]*Q[D]);e[D]*=p;Q[D]*=p}var B=[e[0],Q[0],e[1],Q[1],e[2],Q[2],e[3],Q[3]],$=[-m-1,-m,-m+1,1],R=new Uint8Array(m*C*8);
new Uint32Array(R.buffer).fill(4294967295);var z=m*C;for(var v=1;v<C-1;v++)for(var a=1;a<m-1;a++){var X=v*m+a,V=1-A[X],o=n[X*3+2],h=n[3*X+1],T=-n[3*X];
for(var l=0;l<4;l++){var w=X+$[l];j.J_.afP(X,w,l,R,A,n,V,o,h,T,B,N)}}return R};j.J_.afP=function(u,m,C,Z,q,J,A,n,N,e,Q,p){var B=1-q[m],$=(C&1)==0?1:Math.SQRT1_2,R=J[m*3+2]*$,z=J[3*m+1],v=-J[3*m],a=n*$,X=Q[C+C],V=Q[C+C+1],o=N*X+e*V,h=z*X+v*V;
if(o+h<0){o=-o;h=-h}var T=j.J_.asC(o,h,p);Z[(u<<3)+C]=j.J_.DC(B,T,R);Z[(m<<3)+C+4]=j.J_.DC(A,T,a)};j.J_.DC=function(u,m,C){return 1+~~(.5+20*(.43*u+.43*m+.14*C))};
j.J_.a8Z=function(u,m,C){var Z=new Int16Array(C),q=Z,D=0,J=0;new Uint32Array(C).fill(0);for(var A=0;
A<m;A++)for(var n=0;n<u;n++){if(A>0&&n>0)q[J+0]=-u-1;if(A>0)q[J+1]=-u;if(A>0&&n<u-1)q[J+2]=-u+1;if(n<u-1)q[J+3]=1;
if(A<m-1&&n<u-1)q[J+4]=u+1;if(A<m-1)q[J+5]=u;if(A<m-1&&n>0)q[J+6]=u-1;if(n>0)q[J+7]=-1;D++;J+=8}return Z};
j.aA={};j.aA.G7=function(u){var m=u.slice(0),C=0;for(var D=0;D<u.length;D++)C+=u[D];for(var D=0;D<u.length;
D++)m[D]/=C;return m};j.aA.bS=[j.aA.G7([1,2,1,2,16,2,1,2,1]),j.aA.G7([1,2,1,2,4,2,1,2,1]),j.aA.G7([0,-1,0,-1,8,-1,0,-1,0]),j.aA.G7([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
j.aA.ea=function(u,m,C,Z,q,J,A,n){if(A==null)A=!1;if(n==null)n=!1;var N=Math.floor(Math.sqrt(q.length)),e=N-1>>>1,Q=new Uint32Array(u.buffer),m=new Uint8ClampedArray(m.buffer);
for(var D=0;D<Z;D++)for(var p=0;p<C;p++){var B=0,$=0,R=0,z=0;for(var v=0;v<N;v++)for(var a=0;a<N;a++){var X=q[v*N+a];
if(X==0)continue;var V=p-e+a,o=D-e+v;if(V<0)V=0;else if(V>C-1)V=C-1;if(o<0)o=0;else if(o>Z-1)o=Z-1;if(n&&Q[o*C+V]>>>24==0){o=D;
V=p}var h=Q[o*C+V];B+=(h&255)*X;$+=(h>>>8&255)*X;R+=(h>>>16&255)*X;z+=(h>>>24&255)*X}if(A){if(B<0)B=-B;
if($<0)$=-$;if(R<0)R=-R;if(z<0)z=-z}if(n){B=Math.max(0,Math.min(255,B));$=Math.max(0,Math.min(255,$));
R=Math.max(0,Math.min(255,R));z=Math.max(0,Math.min(255,z))}var T=D*C+p<<2;m[T]=~~(.5+B);m[T+1]=~~(.5+$);
m[T+2]=~~(.5+R);m[T+3]=255-J&m[T+3]|J&~~(.5+z)}};j.aA.b1=function(u,m,C,Z){var q=u.length,J=new Uint8Array(q);
j.aA.ea(u,m,C,Z,j.aA.bS[4],0,!0);j.aA.ea(u,J,C,Z,j.aA.bS[5],0,!0);for(var D=0;D<q;D+=4){var A=m[D],n=m[D+1],N=m[D+2],e=m[D+3],Q=J[D],p=J[D+1],B=J[D+2],$=J[D+3];
m[D]=255-Math.max(0,Math.min(255,Math.sqrt(A*A+Q*Q)));m[D+1]=255-Math.max(0,Math.min(255,Math.sqrt(n*n+p*p)));
m[D+2]=255-Math.max(0,Math.min(255,Math.sqrt(N*N+B*B)))}};j.aA.ZS=function(u,m,C,Z){var q=u.length,J=new Uint8Array(q);
j.aA.rF(u,m,C,Z,j.aA.bS[4],!0);j.aA.rF(u,J,C,Z,j.aA.bS[5],!0);for(var D=0;D<q;D++){var A=m[D],n=J[D];
m[D]=255-Math.max(0,Math.min(255,Math.sqrt(A*A+n*n)))}};j.aA.rF=function(u,m,C,Z,q,J){m=new Uint8ClampedArray(m.buffer);
var A=[-C-1,-C,-C+1,-1,0,1,C-1,C,C+1],n=Z-1,N=C-1;for(var D=1;D<n;D++)for(var e=1;e<N;e++){var Q=D*C+e,p=j.aA.H5(u,Q,C,q);
if(J){if(p<0)p=-p}m[Q]=~~(p+.5)}};j.aA.H5=function(u,m,C,Z){return u[m-C-1]*Z[0]+u[m-C]*Z[1]+u[m-C+1]*Z[2]+u[m-1]*Z[3]+u[m]*Z[4]+u[m+1]*Z[5]+u[m+C-1]*Z[6]+u[m+C]*Z[7]+u[m+C+1]*Z[8]};
j.aA.$z=function(u,m,C,Z,q){var J=[-C-1,-C,-C+1,-1,0,1,C-1,C,C+1],A=Z-1,n=C-1;for(var D=1;D<A;D++)for(var N=1;
N<n;N++){var e=D*C+N;m[e]=j.aA.a8_(u,e,C,q)}};j.aA.a8_=function(u,m,C,Z){return u[m-C-1]*Z[0]+u[m-C]*Z[1]+u[m-C+1]*Z[2]+u[m-1]*Z[3]+u[m]*Z[4]+u[m+1]*Z[5]+u[m+C-1]*Z[6]+u[m+C]*Z[7]+u[m+C+1]*Z[8]};
j.ev={};j.ev.XU=function(){function u(A,n,N,e,Q,p,B){if(Q==0){n.set(A);return}var $=j.U(N*e),R=j.U(N*e);
if(j.iW(A)){m(A,n,N,e,Q,p,B);var z=[j.ev.EH,j.ev.iD],v=z.indexOf(p),a=v!=-1?z[1-v]:p;j._H(A,$,3);j.ev.za($,R,N,e,Q,a,B);
j.wC(R,n,3)}else{for(var D=0;D<3;D++){j._H(A,$,D);j.ev.za($,R,N,e,Q,p,B);j.wC(R,n,D)}}}function m(A,n,N,e,Q,p,B){var $=0,R=new ArrayBuffer(512*4*3),z=[new Int32Array(R,0),new Int32Array(R,2048),new Int32Array(R,2*2048)],v=1+2*Math.round(Math.sqrt(Q)),a=v>>>1,X=new Array(v),V=new Array(v);
for(var D=0;D<v;D++){var R=new ArrayBuffer(512*4*3);X[D]=[new Int32Array(R,0),new Int32Array(R,2048),new Int32Array(R,2*2048)];
V[D]=X[D][0]}var o=p[0],h=p[1],T=z[0];for(var l=0;l<N;l++)if(l<Q||l>N-Q-v-1){T.fill(0);var w=Math.max(l-Q,0),W=Math.min(N,l+Q+1),U=W-w;
for(var s=0;s<Q;s++)Z(T,A,s*N+w,s*N+W,1);for(var s=0;s<e;s++){var S=s-Q-1,x=s+Q;if(x<e)Z(T,A,x*N+w,x*N+W,1);
if(S>=0)Z(T,A,S*N+w,S*N+W,-1);var P=s*N+l<<2;$=T[300];if($!=0)for(var D=0;D<3;D++)n[P+D]=o(z[D],A[P+D],$,B)}}else{for(var D=0;
D<v;D++)V[D].fill(0);var w=l-Q+a,W=l+Q+1+a;for(var s=0;s<Q;s++)C(V,A,s*N+w,s*N+W,1,a);for(var s=0;s<e;
s++){var S=s-Q-1,x=s+Q;if(S>=0)C(V,A,S*N+w,S*N+W,-1,a);if(x<e)C(V,A,x*N+w,x*N+W,1,a);var y=X[a];$=y[0][300];
for(var D=0;D<a;D++){var _=a-1-D,g=a+1+D,G=X[_],O=X[g],E=$+G[0][300],L=$+O[0][300],c=s*N+l+_<<2,k=s*N+l+g<<2;
if(E!=0)for(var I=0;I<3;I++)n[c+I]=h(y[I],G[I],A[c+I],E,B);if(L!=0)for(var I=0;I<3;I++)n[k+I]=h(y[I],O[I],A[k+I],L,B)}var P=s*N+l+a<<2;
if($!=0)for(var I=0;I<3;I++)n[P+I]=o(y[I],A[P+I],$,B)}l+=v-1}}function C(A,n,N,e,Q,p){var B=q,$=N<<2,R=e<<2;
B(A[p-1],n,N-1<<2,Q);B(A[p-1],n,e-1<<2,-Q);B(A[p+1],n,e<<2,Q);B(A[p+1],n,N<<2,-Q);for(var D=1;D<p;D++){var z=A[p-D-1],v=A[p+D+1];
for(var a=0;a<=D;a++){var X=a<<2;B(z,n,N-1-a<<2,Q);B(z,n,e-1-a<<2,-Q);B(v,n,e+a<<2,Q);B(v,n,N+a<<2,-Q)}}Z(A[p],n,N,e,Q)}function Z(A,n,D,N,e){var Q=D<<2,p=N<<2;
while(Q<p){q(A,n,Q,e);Q+=4}}function q(A,n,N,e){var Q=e*n[N+3];A[300]+=Q;J(A,n[N],0,Q);J(A,n[N+1],512,Q);
J(A,n[N+2],1024,Q)}function J(A,n,N,e){A[N|n]+=e;A[N|256|n>>>4]+=e}return u}();j.ev.za=function(){function u(p,B,$,R,z,v,a){if(z==0){B.set(p);
return}if(z<=80)m(p,B,$,R,z,v,a);else J(p,B,$,R,z,v,a)}function m(p,B,$,R,z,v,a){var X=0,V=new Int32Array(512),o=1+2*Math.round(Math.sqrt(z)),h=o>>>1,T=new Array(o);
for(var D=0;D<o;D++)T[D]=new Int32Array(512);var l=v[0],w=v[1];for(var W=0;W<$;W++)if(W<z||W>$-z-o-1){V.fill(0);
X=0;var U=Math.max(W-z,0),s=Math.min($,W+z+1),S=s-U;for(var x=0;x<z;x++){X+=S;Z(V,p,x*$+U,x*$+s,1)}for(var x=0;
x<R;x++){var P=x-z-1,y=x+z;if(P>=0){X-=S;Z(V,p,P*$+U,P*$+s,-1)}if(y<R){X+=S;Z(V,p,y*$+U,y*$+s,1)}var _=l(V,p[x*$+W],X,a);
B[x*$+W]=_}}else{for(var D=0;D<o;D++)T[D].fill(0);X=0;var U=W-z+h,s=W+z+1+h,S=s-U;for(var x=0;x<z;x++){X+=S;
C(T,p,x*$+U,x*$+s,1,h)}for(var x=0;x<R;x++){var P=x-z-1,y=x+z;if(P>=0){X-=S;C(T,p,P*$+U,P*$+s,-1,h)}if(y<R){X+=S;
C(T,p,y*$+U,y*$+s,1,h)}for(var D=0;D<h;D++){var g=h-1-D,G=h+1+D;B[x*$+W+g]=w(T[h],T[g],p[x*$+W+g],X,a);
B[x*$+W+G]=w(T[h],T[G],p[x*$+W+G],X,a)}B[x*$+W+h]=l(T[h],p[x*$+W+h],X,a)}W+=o-1}}function C(p,B,$,R,z,v){var a=q;
a(p[v-1],B[$-1],0,z);a(p[v-1],B[R-1],0,-z);a(p[v+1],B[R],0,z);a(p[v+1],B[$],0,-z);for(var D=1;D<v;D++){var X=p[v-D-1],V=p[v+D+1];
for(var o=0;o<=D;o++){a(X,B[$-1-o],0,z);a(X,B[R-1-o],0,-z);a(V,B[R+o],0,z);a(V,B[$+o],0,-z)}}Z(p[v],B,$,R,z)}function Z(p,B,D,$,R){while(D<$)q(p,B[D++],0,R)}function q(p,B,$,R){p[$|B]+=R;
p[$|256|B>>>4]+=R}function J(p,B,$,R,z,v,a){var X=0,V=new Int32Array(512),o=new Int32Array(1*$),h=new Int32Array(512*$),T=Math.min(z,$),l=Math.min(z,R),w=v[0];
for(var W=0;W<l;W++)A(h,o,p,$,W,1);for(var W=0;W<R;W++){if(W+z<R)A(h,o,p,$,W+z,1);if(W-z-1>=0)A(h,o,p,$,W-z-1,-1);
V.fill(0);X=0;for(var U=0;U<T;U++){X+=o[U];n(V,h,U)}for(var U=0;U<$;U++){var s=U-z-1,S=U+z;if(s>=0&&o[s]!=0){X-=o[s];
N(V,h,s)}if(S<$&&o[S]!=0){X+=o[S];n(V,h,S)}var x=X==0?0:w(V,p[W*$+U],X,a);B[W*$+U]=x}}}function A(p,B,$,R,z,v){var D=z*R;
for(var a=0;a<R;a++){q(p,$[D+a],a<<9,v);B[a]+=v}}function n(p,B,$){for(var D=0;D<16;D++){var R=B[$<<9|256|D];
if(R==0)continue;p[256|D]+=R;var z=D<<4,v=$<<9|z;e(p,B,z,v);e(p,B,z+4,v+4);e(p,B,z+8,v+8);e(p,B,z+12,v+12)}}function N(p,B,$){for(var D=0;
D<16;D++){var R=B[$<<9|256|D];if(R==0)continue;p[256|D]-=R;var z=D<<4,v=$<<9|z;Q(p,B,z,v);Q(p,B,z+4,v+4);
Q(p,B,z+8,v+8);Q(p,B,z+12,v+12)}}function e(p,B,$,R){p[$]+=B[R];p[$+1]+=B[R+1];p[$+2]+=B[R+2];p[$+3]+=B[R+3]}function Q(p,B,$,R){p[$]-=B[R];
p[$+1]-=B[R+1];p[$+2]-=B[R+2];p[$+3]-=B[R+3]}return u}();j.ev.iD=[function(u,m,C,Z){var D=15;while(u[256|D]==0&&D>0)D--;
D=(D<<4)+15;while(u[D]==0&&D>0)D--;return D},function(u,m,C,Z,q){var D=15;while(u[256|D]+m[256|D]==0&&D>0)D--;
D=(D<<4)+15;while(u[D]+m[D]==0&&D>0)D--;return D}];j.ev.EH=[function(u,m,C,Z){var D=0;while(u[256|D]==0&&D<15)D++;
D=D<<4;while(u[D]==0&&D<255)D++;return D},function(u,m,C,Z,q){var D=0;while(u[256|D]+m[256|D]==0&&D<15)D++;
D=D<<4;while(u[D]+m[D]==0&&D<255)D++;return D}];j.ev.lv=.5;j.ev.D$=[function(u,m,C,Z){var q=~~(.5+j.ev.lv*C),J=0,D=256;
while(J+u[D]<=q)J+=u[D++];D=D-256<<4;while(J<=q)J+=u[D++];return D-1},function(u,m,C,Z,q){var J=~~(.5+j.ev.lv*Z),A=0,D=256;
while(A+u[D]+m[D]<=J){A+=u[D]+m[D];D++}D=D-256<<4;while(A<=J){A+=u[D]+m[D];D++}return D-1}];j.ev.xq=[function(u,m,C,Z){var q=Z[0],J=0,A=0,D=Math.max(0,m-q),n=Math.min(256,m+q+1);
while(D<n){var N=u[D];J+=D*N;A+=N;D++}return A==0?0:J/A},function(u,m,C,Z,q){var J=q[0],A=0,n=0,D=Math.max(0,C-J),N=Math.min(256,C+J+1);
while(D<N){var e=u[D]+m[D];A+=D*e;n+=e;D++}return n==0?0:A/n}];j.N={};j.N.h_=function(u){var m=b.Q.Fo(u.Trnf),C=u.Sz.v,Z=j.N.GG(m,new bl(0,0,C.Wdth.v,C.Hght.v));
return j.N.Yt(Z)};j.N.GG=function(u,m){var C=u[0],Z=u[1],q=u[2],J=u[3],A=u[6],n=u[7],N=u[4],e=u[5],Q=0,p=0,B=1,$=0,R=0,z=1,v=1,a=1;
if(m){Q=m.x;p=m.y;B=m.x+m.e;$=m.y;R=m.x;z=m.y+m.n;v=m.x+m.e;a=m.y+m.n}return j.N.QZ(u,[Q,p,B,$,v,a,R,z])};
j.N.V4=function(u){function m(q,J){for(var D=0;D<J.length;D+=2)if(!C(q,J[D],J[D+1]))return!1;return!0}function C(q,J,A){return q[2*J]==q[2*A]&&q[2*J+1]==q[2*A+1]}var Z=0;
if(m(u,[0,1,2,3]))Z+=1;if(m(u,[0,3,1,2]))Z+=2;return Z};j.N.QZ=function(u,m){function C(_,D,g){var x=_[D*2]-_[g*2],P=_[D*2+1]-_[g*2+1];
return Math.sqrt(x*x+P*P)}var Z=u[0],q=u[1],J=u[2],A=u[3],n=u[6],N=u[7],e=u[4],Q=u[5],p=m[0],B=m[1],$=m[2],R=m[3],z=m[6],v=m[7],a=m[4],X=m[5],V=[[p,B,1,0,0,0,-p*Z,-B*Z,Z],[0,0,0,p,B,1,-p*q,-B*q,q],[$,R,1,0,0,0,-$*J,-R*J,J],[0,0,0,$,R,1,-$*A,-R*A,A],[z,v,1,0,0,0,-z*n,-v*n,n],[0,0,0,z,v,1,-z*N,-v*N,N],[a,X,1,0,0,0,-a*e,-X*e,e],[0,0,0,a,X,1,-a*Q,-X*Q,Q]],o=[0,0,0,0,0,0,0,0],h=j.NC.WM(V,o);
if(h!=0){o=[0,0,0,0,0,0,0,0];var T=j.N.V4(u),l=j.N.V4(m);if(T==l&&T!=0){var w=T==1,W=w?3:1,U=C(u,0,W),s=C(m,0,W),S=s/U,x=u[2*W]-u[0],P=u[2*W+1]-u[1],y=new ix;
y.translate(-Z,-q);y.rotate(Math.atan2(P,x)-(w?Math.PI/2:0));if(w)y.scale(1,S);else y.scale(S,1);y.translate(p,B);
y.mL();o=j.N.S4(y)}}return o};j.N.xp=function(u){return Math.abs(u[6])<1e-10&&Math.abs(u[7])<1e-10};
j.N.Yt=function(u){return new ix(u[0],u[3],u[1],u[4],u[2],u[5])};j.N.S4=function(u){return[u.w7,u.ZU,u.GI,u.S,u.MX,u.c_,0,0]};
j.N.I=function(u,m){var C=new Float64Array(2);for(var Z=0;Z<m.length;Z+=2){var q=m[Z],J=m[Z+1];j.N.WX(q,J,u,C);
m[Z]=C[0];m[Z+1]=C[1]}};j.N.WX=function(u,m,C,Z){var q=1/(C[6]*u+C[7]*m+1);Z[0]=(C[0]*u+C[1]*m+C[2])*q;
Z[1]=(C[3]*u+C[4]*m+C[5])*q};j.N.F_=function(u,m){var C=new Float64Array(2);j.N.WX(m.x,m.y,u,C);return new dz(C[0],C[1])};
j.N.$E=function(u,m,C,Z){u=new Uint32Array(u.buffer);m=new Uint32Array(m.buffer);for(var q=0;q<Z;q++){for(var J=0;
J<C;J++){m[J*Z+q]=u[q*C+J]}}};j.N.apD=function(u,m,C,Z){u=new Uint32Array(u.buffer);m=new Uint32Array(m.buffer);
for(var q=0;q<Z;q++){for(var J=0;J<C;J++){m[q*C+J]=u[q*C+C-1-J]}}};j.N.Om=function(u){return Math.abs(u[6])<1e-9&&Math.abs(u[7])<1e-9};
j.N.Px=function(u){return Math.abs(u[0])<1e-9&&Math.abs(u[4])<1e-9||Math.abs(u[1])<1e-9&&Math.abs(u[3])<1e-9};
j.N.drawImage=function(u,m,C,Z,q,J,A,n,N){if(A==null)A=!1;if(n==null)n=!1;var e=j.N.mL(u),Q=!0,p=0;for(var D=0;
D<8;D++){var B=Math.round(u[D]);if(D!=2&&D!=5)p+=Math.abs(B);if(Math.abs(B-u[D])>1e-9)Q=!1}var $=j.N.Om(u),R=j.N.Px(u)&&$,z=R?1:0;
if(A||Q&&p==C+Z&&$){j.N.a0A(e,m,C,Z,q,J,n,$,N);return}var v=J.e,a=J.n,X=new Float64Array(2);q=new Uint32Array(q.buffer);
m=new Uint32Array(m.buffer);for(var V=0;V<a;V++)for(var o=0;o<v;o++){var h=V*v+o,T,l,w,W,E=0,L=0,c=0,k=0;
q[h]=0;var U=o+J.x+.5,s=V+J.y+.5;T=U;l=s;w=e;var S=w[0]*T+w[1]*l+w[2],x=w[3]*T+w[4]*l+w[5];if(!$){W=1/(w[6]*T+w[7]*l+1);
S*=W;x*=W}var P=S*C,y=x*Z,_=P<-1||P>C+1||y<-1||y>Z+1;if(n){P=Math.max(.001,Math.min(C-1,P));y=Math.max(.001,Math.min(Z-1,y))}else if(_)continue;
var g=j.N.agK(u,C,Z,U,s,S,x),G=Math.round(g*2.3);if(g<1.1){j.N.Zu(P,y,m,C,Z,q,h,z);continue}if(!n&&(P<.6||P>C-.6||y<.6||y>Z-.6)){G=Math.max(G,5)}if(n&&_)G=1;
var O=1/G,I=J.x+o,Y=J.y+V;w=e;for(var D=0;D<G;D++)for(var K=0;K<G;K++){T=I+(D+.5)*O;l=Y+(K+.5)*O;var P=w[0]*T+w[1]*l+w[2],y=w[3]*T+w[4]*l+w[5];
if(!$){W=1/(w[6]*T+w[7]*l+1);P*=W;y*=W}if(n){P=Math.max(.001,Math.min(.999,P));y=Math.max(.001,Math.min(.999,y))}else if(P<0||P>=1||y<0||y>=1)continue;
P=Math.floor(P*C);y=Math.floor(y*Z);var i=y*C+P,i4=m[i],d7=i4>>>24;E+=(i4&255)*d7;L+=(i4>>>8&255)*d7;
c+=(i4>>>16&255)*d7;k+=d7}if(k!=0){var d=1/k;E=~~(E*d+.5);L=~~(L*d+.5);c=~~(c*d+.5);k=~~(k*O*O+.5);q[h]=k<<24|c<<16|L<<8|E}}};
j.N.agK=function(u,m,C,Z,q,J,A){var n=j.N.WW(u,Z,q,J+1/m,A),N=j.N.WW(u,Z,q,J,A+1/C);return 1/Math.sqrt(Math.max(n,N))};
j.N.WW=function(u,m,C,Z,q){var J=1/(u[6]*Z+u[7]*q+1),A=(u[0]*Z+u[1]*q+u[2])*J-m,n=(u[3]*Z+u[4]*q+u[5])*J-C;
return A*A+n*n};j.N.a0A=function(u,m,C,Z,q,J,A,n,N){if(n&&!A&&J.Z()>4e6&&N){j.N.aow(u,m,C,Z,q,J,A,n,N);
return}var e=J.x+J.e,Q=J.y+J.n,p=0,B=new Uint32Array(q.buffer),$=new Uint32Array(m.buffer),R=u[0]*C,z=u[1]*C,v=u[2]*C,a=u[3]*Z,X=u[4]*Z,V=u[5]*Z,o=u[6],h=u[7];
if(n&&!A)for(var T=J.y+.5;T<Q;T++)for(var l=J.x+.5;l<e;l++){var w=R*l+z*T+v,W=a*l+X*T+V;if(0<w&&w<C&&0<W&&W<Z){var U=~~W*C+~~w;
B[p]=$[U]}else B[p]=0;p++}else for(var T=J.y+.5;T<Q;T++)for(var l=J.x+.5;l<e;l++){var s=1/(o*l+h*T+1),w=(R*l+z*T+v)*s,W=(a*l+X*T+V)*s;
if(A){w=Math.max(.001,Math.min(C-1,w));W=Math.max(.001,Math.min(Z-1,W))}if(0<w&&w<C&&0<W&&W<Z){var U=Math.floor(W)*C+Math.floor(w);
B[p]=$[U]}else B[p]=0;p++}};j.N.aow=function(u,m,C,Z,q,J,A,n,N){var e=new Uint32Array(q.buffer),Q=new Uint32Array(m.buffer),h=0;
if(N&&(J.e&3)!=0)throw"e";var p=u[0]*C,B=u[1]*C,$=u[2]*C,R=u[3]*Z,z=u[4]*Z,v=u[5]*Z,a=u[6],X=u[7],V=J.e,o=J.n,T=J.x+.5,l=J.y+.5,w=(V>>>2<<2)-1e-9,W=-.1+(o>>>1<<1)-1e-9,U=~~C,s=p==0?0:1/p,S=R==0?0:1/R;
for(var x=0;x<o;x++){var P=T*p+B*(x+l)+$,y=T*R+z*(x+l)+v,_=0,g=V;if(p==0){}else if(s>0){_=Math.max(_,-P*s);
g=Math.min(g,(C-P)*s)}else{g=Math.min(g,-P*s);_=Math.max(_,(C-P)*s)}if(R==0){}else if(S>0){_=Math.max(_,-y*S);
g=Math.min(g,(Z-y)*S)}else{g=Math.min(g,-y*S);_=Math.max(_,(Z-y)*S)}if(g<0)g=0;if(_>g)_=g;_=Math.ceil(_);
g=~~g;h=~~(x*V);for(var G=0;G<_;G++)e[h++]=0;for(var G=_;G<g;G+=4){var O=p*G+P,E=R*G+y,L=~~E*U+~~O;e[h++]=e[h++]=e[h++]=e[h++]=Q[L]}for(var G=g;
G<V;G++)e[h++]=0}};j.N.mL=function(u){var m=u[4]-u[5]*u[7],C=u[2]*u[7]-u[1],Z=u[1]*u[5]-u[2]*u[4],q=u[5]*u[6]-u[3],J=u[0]-u[2]*u[6],A=u[3]*u[2]-u[0]*u[5],n=u[3]*u[7]-u[4]*u[6],N=u[1]*u[6]-u[0]*u[7],e=1/(u[0]*u[4]-u[1]*u[3]);
return[m*e,C*e,Z*e,q*e,J*e,A*e,n*e,N*e]};j.N.kt=function(u,m){var C=u[0],Z=u[1],q=u[2],J=u[3],A=u[4],n=u[5],N=u[6],e=u[7],Q=m[0],p=m[1],B=m[2],$=m[3],R=m[4],z=m[5],v=m[6],a=m[7],X=[C*Q+Z*$+q*v,C*p+Z*R+q*a,C*B+Z*z+q,J*Q+A*$+n*v,J*p+A*R+n*a,J*B+A*z+n,N*Q+e*$+v,N*p+e*R+a],V=1/(N*B+e*z+1);
for(var D=0;D<8;D++)X[D]*=V;return X};j.N.Zu=function(u,m,C,Z,q,J,A,n){var N=u,e=m,B=0,$=0,R=0,z=0;u-=.499999;
m-=.499999;var Q=Math.floor(u),p=Math.floor(m);if(n==0){var D=p*Z+Q,v=Q>=0&&Q<Z,a=Q+1>=0&&Q+1<Z,X=p>=0&&p<q,V=p+1>=0&&p+1<q;
if(v&&X)B=C[D];if(a&&X)$=C[D+1];if(v&&V)R=C[D+Z];if(a&&V)z=C[D+Z+1]}else if(n==1){var o=Q<0?0:Q>Z-1?Z-1:Q,h=Q<-1?0:Q>Z-2?Z-1:Q+1,T=p<0?0:p>q-1?q-1:p,l=p<-1?0:p>q-2?q-1:p+1;
B=C[T*Z+o];$=C[T*Z+h];R=C[l*Z+o];z=C[l*Z+h]}else{var o=(Q+50*Z)%Z,h=(Q+50*Z)%Z,T=(p+50*q)%q,l=(p+50*q)%q;
B=C[T*Z+o];$=C[T*Z+h];R=C[l*Z+o];z=C[l*Z+h]}var w=u-Q,W=m-p,U=(1-W)*(1-w)*(B>>>24),s=(1-W)*w*($>>>24),S=W*(1-w)*(R>>>24),x=W*w*(z>>>24),P=U+s+S+x,y=U*(B&255)+s*($&255)+S*(R&255)+x*(z&255),_=U*(B>>>8&255)+s*($>>>8&255)+S*(R>>>8&255)+x*(z>>>8&255),g=U*(B>>>16&255)+s*($>>>16&255)+S*(R>>>16&255)+x*(z>>>16&255);
if(P==0)J[A]=0;else{var G=1/P;y=~~(y*G+.5);_=~~(_*G+.5);g=~~(g*G+.5);P=~~(P+.5);J[A]=P<<24|g<<16|_<<8|y}};
j.N.SF=function(u,m,C,Z,q,J){var A=u-.499999,n=m-.499999,N=~~A,e=~~n,Q=A-N,p=n-e,B=(1-p)*(1-Q),$=(1-p)*Q,R=p*(1-Q),z=p*Q,v=e*Z+N<<2,a=(e+1)*Z+N<<2,X=B*C[v]+$*C[v+4]+R*C[a]+z*C[a+4],V=B*C[v+1]+$*C[v+5]+R*C[a+1]+z*C[a+5],o=B*C[v+2]+$*C[v+6]+R*C[a+2]+z*C[a+6],h=B*C[v+3]+$*C[v+7]+R*C[a+3]+z*C[a+7];
J[0]=X;J[1]=V;J[2]=o;J[3]=h};j.N.Bd=function(u,m,C,Z,q){u-=.499999;m-=.499999;var J=Math.floor(u),A=Math.floor(m),n=u-J,N=m-A,e=(1-N)*(1-n),Q=(1-N)*n,p=N*(1-n),B=N*n,$=(J+50*Z)%Z,R=(J+1+50*Z)%Z,z=(A+50*q)%q,v=(A+1+50*q)%q,a=C[z*Z+$],X=C[z*Z+R],V=C[v*Z+$],o=C[v*Z+R];
if(a==null||o==null)throw"e";return e*a+Q*X+p*V+B*o};j.N.cn=function(u,m,C,Z,q,J,A,n,N,e,Q,p){var B=new Uint32Array(u.buffer),$=new Uint32Array(Z.buffer),R=(1+2*e)/q,z=[],v=[];
for(var a=0;a<q;a++){var X=-.25+e-a*R;z.push(Math.cos(2*Math.PI*X)*p/Q);z.push(Math.sin(2*Math.PI*X)/Q)}A*=m;
n*=C;for(var V=0;V<J;V++){var o=Math.pow(V/J,N)*J;for(var a=0;a<q;a++){var h=A+z[a<<1]*o,T=n+z[(a<<1)+1]*o,l=~~(.5+(h<0?0:h>m-1?m-1:h)),w=~~(.5+(T<0?0:T>C-1?C-1:T));
$[V*q+a]=B[w*m+l]}}};j.N.bd=function(u,m,C,Z,q,J,A,n,N,e,Q,p){var B=new Uint32Array(u.buffer),$=new Uint32Array(Z.buffer),R=1/p,z=[],v=C*4,a=1/v;
for(var X=0;X<v+10;X++)z.push(Math.pow(X*a,1/N)*C*Q);A*=q;n*=J;for(var X=0;X<J;X++)for(var V=0;V<q;V++){var o=R*(V-A),h=X-n,T=1.75-Math.atan2(h,o)*(1/(2*Math.PI));
T=T-~~T;T=(T+e)*(1/(1+2*e));var l=Math.sqrt(o*o+h*h);l=z[~~(l*4)];j.N.Zu(T*m+.5,l+.5,B,m,C,$,X*q+V,1)}};
j.N.Va=function(u,m,C,Z,q){var J=q[0],A=q[1];for(var n=0;n<A;n++)for(var N=0;N<J;N++){var e=q[2]*N+q[3]*n+q[4],Q=q[5]*N+q[6]*n+q[7],p=n*J+N<<2,B=Q*m+e<<2;
Z[p]=u[B+0];Z[p+1]=u[B+1];Z[p+2]=u[B+2];Z[p+3]=u[B+3]}};j.C={SU:function(u,m){var C=~~(.499+u*m);return C<0?0:C>m?m:C},a2E:function(u,m,C,Z,q,J,A,n){var N=C[0],e=C[1],Q=C[2],p=C[3],B=Z.e,$=Z.n,R=new Float64Array(B*4+8),z=new Float64Array(B*4+8);
for(var v=0,D=0;v<$;v++){var a=R;R=z;z=a;z.fill(0);for(var X=0;X<B;X++,D++){var V=X+q,o=v+J,h=N*V+e*o,T=Q*V+p*o,l=0,U=0;
if(n==0)l=h+.5;else if(n==1)l=2*Math.sqrt(h*h+T*T);else if(n==2)l=(Math.PI+Math.atan2(-T,-h))/(2*Math.PI);
else if(n==3)l=Math.abs(h*2);else if(n==4)l=2*(Math.abs(h)+Math.abs(T));var w=j.C.SU(l,A)*4,W=X*4;for(var s=0;
s<4;s++){var S=Math.max(0,Math.min(254.999,m[w+s]+R[W+4+s])),x=Math.floor(S);if(Math.random()<S-x)x++;
var P=S-x;R[W+8+s]=P*(7/16);z[W+0+s]=P*(3/16);z[W+4+s]=P*(5/16);z[W+8+s]=P*(1/16);U|=x<<s*8}u[D]=U}}},zi:[function(u,m,C,Z,q,J,A){var n=C[0],N=C[1],e=C[2],Q=C[3],p=Z.e,B=Z.n;
for(var $=0,D=0;$<B;$++)for(var R=0;R<p;R++,D++){var z=R+q,v=$+J,a=n*z+N*v,X=e*z+Q*v,V=a+.5;u[D]=m[j.C.SU(V,A)]}},function(u,m,C,Z,q,J,A){var n=C[0],N=C[1],e=C[2],Q=C[3],p=Z.e,B=Z.n;
for(var $=0,D=0;$<B;$++)for(var R=0;R<p;R++,D++){var z=R+q,v=$+J,a=n*z+N*v,X=e*z+Q*v,V=2*Math.sqrt(a*a+X*X);
u[D]=m[j.C.SU(V,A)]}},function(u,m,C,Z,q,J,A){var n=C[0],N=C[1],e=C[2],Q=C[3],p=Z.e,B=Z.n;for(var $=0,D=0;
$<B;$++)for(var R=0;R<p;R++,D++){var z=R+q,v=$+J,a=n*z+N*v,X=e*z+Q*v,V=(Math.PI+Math.atan2(-X,-a))/(2*Math.PI);
u[D]=m[j.C.SU(V,A)]}},function(u,m,C,Z,q,J,A){var n=C[0],N=C[1],e=C[2],Q=C[3],p=Z.e,B=Z.n;for(var $=0,D=0;
$<B;$++)for(var R=0;R<p;R++,D++){var z=R+q,v=$+J,a=n*z+N*v,X=e*z+Q*v,V=Math.abs(a*2);u[D]=m[j.C.SU(V,A)]}},function(u,m,C,Z,q,J,A){var n=C[0],N=C[1],e=C[2],Q=C[3],p=Z.e,B=Z.n;
for(var $=0,D=0;$<B;$++)for(var R=0;R<p;R++,D++){var z=R+q,v=$+J,a=n*z+N*v,X=e*z+Q*v,V=2*(Math.abs(a)+Math.abs(X));
u[D]=m[j.C.SU(V,A)]}}]};j.C.a4T=function(u,m){return u+.5};j.C.akT=function(u,m){return 2*Math.sqrt(u*u+m*m)};
j.C.agL=function(u,m){return(Math.PI+Math.atan2(-m,-u))/(2*Math.PI)};j.C.a7K=function(u,m){return Math.abs(u*2)};
j.C.ac4=function(u,m){return 2*(Math.abs(u)+Math.abs(m))};j.C.jx=function(u,m,C,Z,q,J,A,n,N,e,Q,p){var B=u.Clrs,$=new Uint32Array(m.buffer),R=1023,z=B?j.C.Nm(B.v,N,e):null;
if(p&&B){var v=j.C.age(u,z,R+1,A);j.C.a2E($,v,Z,C,C.x-q,C.y-J,R,n)}else{var a=B?j.C.nW(u,z,R+1,A):j.C.$l(u,R+1,A);
if(n<5){j.C.zi[n]($,a,Z,C,C.x-q,C.y-J,R)}else{var X=new Uint8Array(a.buffer),V=C.e,o=C.n,h=Q.Sb-Q.M5,T=1/h,l=Q.Mp.e-C.e>>1,w=Q.Mp.n-C.n>>1,W=Q.Mp.e,U=-.6*T,s=(-.6+.4)*T,S=(-.6+2*.4)*T,x=(-.6+3*.4)*T;
for(var P=0,D=0;P<o;P++)for(var y=0;y<V;y++,D+=4){var _=0,g=0,G=0,O=0,E=(P+w)*W+y+l,L=(Q.e_[E]-Q.M5)*T,c=0;
if(L<=0||L>=1){c=(L<=0?0:R)<<2;m[D]=X[c];m[D+1]=X[c+1];m[D+2]=X[c+2];m[D+3]=X[c+3];continue}c=Math.max(0,Math.min(R-1,Math.round((L+U)*R)))<<2;
g+=X[c];G+=X[c+1];O+=X[c+2];_+=X[c+3];c=Math.max(0,Math.min(R-1,Math.round((L+s)*R)))<<2;g+=X[c];G+=X[c+1];
O+=X[c+2];_+=X[c+3];c=Math.max(0,Math.min(R-1,Math.round((L+S)*R)))<<2;g+=X[c];G+=X[c+1];O+=X[c+2];_+=X[c+3];
c=Math.max(0,Math.min(R-1,Math.round((L+x)*R)))<<2;g+=X[c];G+=X[c+1];O+=X[c+2];_+=X[c+3];m[D]=g>>>2;
m[D+1]=G>>>2;m[D+2]=O>>>2;m[D+3]=_>>>2}}}};j.C.Nm=function(u,m,C){var Z=[];for(var D=0;D<u.length;D++){var q,J=u[D].v,A=J.Type.v.Clry;
if(A=="FrgC")q={p:m>>16&255,T:m>>8&255,S:m&255};else if(A=="BckC")q={p:C>>16&255,T:C>>8&255,S:C&255};
else q=j.C.o5(J.Clr.v);Z.push(q)}return Z};j.C.o5=function(u){var m,C=u.classID;if(C=="RGBC"){if(u.Rd)m={p:u.Rd.v,T:u.Grn.v,S:u.Bl.v};
else m={p:u.redFloat.v*255,T:u.greenFloat.v*255,S:u.blueFloat.v*255}}else if(C=="HSBC"){m=j.$t(u.H.v.val/360,u.Strt.v/100,u.Brgh.v/100);
m.p*=255;m.T*=255;m.S*=255}else if(C=="CMYC"){var Z=100-u.Cyn.v,q=100-u.Mgnt.v,J=100-u.Ylw.v,A=100-u.Blck.v,n=255*Z*A*1e-4,N=255*(.2*Z+.8*q)*A*1e-4,e=255*(.2*q+.8*J)*A*1e-4;
m={p:n,T:N,S:e}}else if(C=="Grsc")m={p:255-u.Gry.v,T:255-u.Gry.v,S:255-u.Gry.v};else if(C=="LbCl"){m=j.bK(u.Lmnc.v,u.A.v,u.B.v)}else console.log(u);
if(isNaN(m.p))m.p=m.T=m.S=0;return m};j.C.$l=function(u,m,C){var Z=new Uint32Array(m),q=new Uint8Array(Z.buffer);
Z.fill(4278190080);var J=[],A=[],n=u.RndS.v,N=u.Smth.v/4096;for(var D=0;D<4;D++){J[D]=~~(u.Mnm.v[D].v*255/100);
A[D]=~~(u.Mxm.v[D].v*255/100)}var e=j.U(m*4),Q=j.U(m);for(var p=0;p<3;p++){j.v.Ol(null,m,1,e,[1+Math.round(N*N*N*60),22,n*(2+p)]);
j._H(e,Q,0);j.wC(Q,q,p);var B=J[p],$=A[p];for(var D=0;D<m;D++)q[4*D+p]=Math.max(B,Math.min($,q[4*D+p]))}if(C)for(var D=0;
D<m/2;D++){var R=Z[D];Z[D]=Z[m-1-D];Z[m-1-D]=R}return Z};j.C.sG=function(u){return{classID:"RGBC",Rd:{t:"doub",v:u.p},Grn:{t:"doub",v:u.T},Bl:{t:"doub",v:u.S}}};
j.C.age=function(u,m,C,Z){var q=[],J=1/(C-0);for(var D=0;D<C;D++){var A=D*4,n=j.C.Oy(u,m,(Z?C-1-D:D)*J);
q[A]=n[0];q[A+1]=n[1];q[A+2]=n[2];q[A+3]=n[3]}return q};j.C.nW=function(u,m,C,Z){var q=new Uint32Array(C),J=1/(C-0);
for(var D=0;D<C;D++)q[D]=j.C.gT(u,m,(Z?C-1-D:D)*J);return q};j.C.Oy=function(u,m,C){var Z=4096,q=1/4096,J=u.Intr.v*q,A=u.Clrs.v,n=u.Trns.v,N=A.length-1,e=n.length-1,D=-1,Q=0,p=0,B=0,$=0;
while(D<e&&n[D+1].v.Lctn.v<=C*Z)D++;if(D==-1){Q=n[0].v.Opct.v.val*(255/100)}else if(D==e){Q=n[D].v.Opct.v.val*(255/100)}else{var R=j.C.y1(n,q,D,C,J);
Q=(R*n[D].v.Opct.v.val+(1-R)*n[D+1].v.Opct.v.val)*(255/100)}D=-1;while(D<N&&A[D+1].v.Lctn.v<=C*Z)D++;
if(D==-1){var z=m[0];p=z.p;B=z.T;$=z.S}else if(D==N){var z=m[D];p=z.p;B=z.T;$=z.S}else{var v=m[D],a=m[D+1],X=j.C.y1(A,q,D,C,J);
p=X*v.p+(1-X)*a.p;B=X*v.T+(1-X)*a.T;$=X*v.S+(1-X)*a.S}return[p,B,$,Q]};j.C.gT=function(u,m,C){var Z=j.C.Oy(u,m,C),q=~~(.5+Z[0]),J=~~(.5+Z[1]),A=~~(.5+Z[2]),n=~~(.5+Z[3]);
return n<<24|A<<16|J<<8|q};j.C.y1=function(u,m,D,C,Z){if(u.length==2)Z*=.5;var q=u[D].v.Lctn.v*m,J=u[D+1].v.Lctn.v*m,A=q+u[D+1].v.Mdpn.v*.01*(J-q),n;
if(C<A)n=.5*(C-q)/(A-q);else n=.5+.5*(C-A)/(J-A);n=.5+.5*(Z*Math.cos(Math.PI*n)+(1-Z)*(1-2*n));return n};
j.C.RJ=function(u,m){var C=Math.PI*u.Angl.v.val/180,Z=u.Scl.v.val/100,q=u.Ofst.v,J=q.Hrzn.v.val/100,A=q.Vrtc.v.val/100,n=Math.cos(C),N=-Math.sin(C),e=.5*m.n,Q=e*(n/N),p=Math.sqrt(e*e+Q*Q),B=.5*m.e,$=B*(N/n),R=Math.sqrt(B*B+$*$),z=Math.min(p,R)*Z,v=m.x+m.e/2+J*m.e,a=m.y+m.n/2+A*m.n;
return[new dz(v,a),new dz(v+n*z,a+N*z)]};j.C.$a=function(u,m,C,Z){var q=m.x-u.x,J=-(m.y-u.y),A=Math.sqrt(q*q+J*J),n=Math.atan2(J,q),N=Math.cos(n),e=-Math.sin(n),Q=.5*C.n,p=Q*(N/e),B=Math.sqrt(Q*Q+p*p),$=.5*C.e,R=$*(e/N),z=Math.sqrt($*$+R*R),v=A/Math.min(B,z),a=(u.x-C.x-C.e/2)/C.e,X=(u.y-C.y-C.n/2)/C.n;
Z.Angl.v.val=180*n/Math.PI;Z.Scl.v.val=v*100;var V=Z.Ofst.v;V.Hrzn.v.val=a*100;V.Vrtc.v.val=X*100};j.C.Hk=function(u,m){for(var D=0;
D<u.length;D++){var C=u[D],Z=Math.round(C[0]*4096),q=C[1],J=C[2],A=C[3];if(J==null)J=1;if(A==null)A=.5;
var n=j.C.sG({p:q[0]*255,T:q[1]*255,S:q[2]*255});m.Clrs.v[D]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:Z},Mdpn:{t:"long",v:Math.round(A*100)},Clr:{t:"Objc",v:n},Type:{t:"enum",v:{Clry:"UsrS"}}}};
m.Trns.v[D]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:Z},Mdpn:{t:"long",v:Math.round(A*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(J*100)}}}}}};
j.vh={};j.vh.a0q=function(u,m,C,Z,q,J,A,n,N,e,Q,p){var B,$,R,z=Date.now(),v=!1,a=A,X=e,V,o,h,T,l=J*255,w=255-N*255,W=1+q*6,U=1+n*6,s=1+p*4,S=(s-1)/7,x=0,P=255-0,y,_,g,G,O,E,L,c,k,I,Y,K,i,i4=0,d7=1,d,fH,aC,f8,c9,g1,cE,hG,fA,hh,eE=1+Q,dh,fT=j.U(C*Z),dB=j.U(C*Z),iN=j.U(C*Z),gV=j.U(C*Z),fI=255/l,gc=255/(255-w);
for($=0;$<Z;$++){for(B=0;B<C;B++){var D=$*C+B,aF=D<<2;d=j.KY(u[aF],u[aF+1],u[aF+2]);gV[D]=d;if(d<l)fT[D]=255-d*fI;
if(d>w)dB[D]=255-(255-d)*gc}}if(v)console.log("init",Date.now()-z);z=Date.now();if(q*a>0){iN.set(fT);
j.yM.Yz(iN,fT,new bl(0,0,C,Z),a)}if(n*X>0){iN.set(dB);j.yM.Yz(iN,dB,new bl(0,0,C,Z),X)}if(v)console.log("blur",Date.now()-z);
z=Date.now();var gh=j.U(256),gD=j.U(256);for(var D=0;D<256;D++){var j1=D*(1/255),dg=0;dg=(1-Math.pow(1-j1,W))*255;
gh[D]=Math.max(0,Math.min(255,~~(dg+.5)));dg=Math.pow(j1,U)*255;gD[D]=Math.max(0,Math.min(255,~~(dg+.5)))}var ao=new Uint8ClampedArray(m.buffer),eC=new Float32Array(32768);
for(var D=0;D<32768;D++){dh=Math.sqrt(D)*(1/128);if(eE>1)dh=(1-dh)*(eE-1)+1;else dh=dh*(eE-1)+1;eC[D]=dh}for($=0;
$<Z;$++){for(B=0;B<C;B++){var D=$*C+B,aF=D<<2,dg=gV[D],bD=fT[D]*(1/255),fK=dB[D]*(1/255);dg=(1-bD)*dg+bD*gh[~~dg];
dg=(1-fK)*dg+fK*gD[~~dg];d=dg;var a1=u[aF],fR=u[aF+1],bj=u[aF+2];fH=-a1*.168736-fR*.331264+bj*.5;aC=a1*.5-fR*.418688-bj*.081312;
dh=eC[~~(.5+fH*fH+aC*aC)];f8=fH*dh;g1=aC*dh;d7=1-Math.min(2-(bD+fK),1);fH=d7*fH+(1-d7)*f8;aC=d7*aC+(1-d7)*g1;
hG=d+1.402*aC;fA=d-.34414*fH-.71414*aC;hh=d+1.772*fH;ao[aF]=~~(.5+hG);ao[aF+1]=~~(.5+fA);ao[aF+2]=~~(.5+hh)}}if(v)console.log("apply masks",Date.now()-z);
z=Date.now()};j.V1={};j.V1.zA=function(u,m,C,Z,q){var J=!1,R=1,P=0,y=0,Y=0,eE=0;if(!m.hd(q)){var A=m.QN(q),n=j.U(A.Z()*4);
j.zO(u,m,n,A);u=n;m=A}var N=j.U(m.Z());j.j5(C,q,N,m);j.round(N);q=q.aR(m);var e=q.e,Q=q.n,p=e*3<Q?2:1,B=Q*3<e?2:1;
if(q.Z()*(p*2+1)*(B*2+1)<m.Z()){var A=new bl(q.x-e*p,q.y-Q*p,e*(p*2+1),Q*(B*2+1)).aR(m),n=j.U(A.Z()*4);
j.zO(u,m,n,A);var $=j.U(A.Z());j.j5(N,m,$,A);m=A;u=n;N=$}while((m.e+m.n)/2/R>400)R++;var z=u,v=m,a=N,X=Math.floor(v.e/R),V=Math.floor(v.n/R);
u=j.U(X*V*4);j.scale.Sr(z,v.e,v.n,u,X,V,1/R);N=j.U(X*V);j.scale.Va(a,v.e,v.n,N,X,V,1/R);j.round(N,1);
var o=j.tY(N,new bl(0,0,X,V));if(o.qR())return 1;var h=Math.round((o.e+o.n)/2/15),T=Date.now(),l=j.U(X*V*4);
j.a0N(u,l);var w=Int16Array,W=new w(X*V*24),U=new w(64),s=new w(64),S=new w(64),x=new w(64);for(var _=3;
_<V-4;_++)for(var g=3;g<X-4;g++){var G=_*X+g;if(N[G]==255)continue;if(j.V1.a6Z(l,N,g,_,X,V,U,s,S)!=0)continue;
j.V1.bn(U,x);W[P]=g;W[P+1]=_;j.V1.Uj(U,W,P+4,12);P+=16;j.V1.bn(s,x);j.V1.Uj(s,W,P,4);P+=4;j.V1.bn(S,x);
j.V1.Uj(S,W,P,4);P+=4;var O=W[P-24+5],E=W[P-24+6];W[P-24+5]=W[P-24+20];W[P-24+6]=W[P-24+16];W[P-24+16]=O;
W[P-24+20]=E;y++}if(y==0)return 2;if(J)console.log(Date.now()-T,"FWHT computed");T=Date.now();var k=[];
j.V1.$f(0,y-1,k,W,new w(2*24));if(J)console.log(Date.now()-T,"KD tree computed");T=Date.now();var I=new Float32Array(X*V*4);
for(var D=0;D<y;D++){var K=D,i=j.V1.a3D(K,W,k,h);if(i==-1)continue;var i4=K*24,d7=i*24,d=W[i4],fH=W[i4+1],aC=W[d7],f8=W[d7+1];
Y+=j.V1.getError(d7,i4,W,1e99);var c9=aC-d,g1=f8-fH;I[(V+g1)*2*X+(X+c9)]+=1}if(J)console.log(Date.now()-T,"NN found");
T=Date.now();var cE=[],hG=1/(2*X);for(var D=0;D<I.length;D++){if(I[D]>0){var _=Math.floor(D*hG),g=D-_*2*X;
cE.push({x:g-X,y:_-V,k:I[D],lA:-1})}}cE.sort(function(fK,a1){return a1.k-fK.k});var fA=new Int32Array(X*V),hh=[];
for(var D=0;D<X*V;D++){if(N[D]==255){fA[D]=eE;hh.push(D%X,Math.floor(D/X));eE++}else if(u[(D<<2)+3]<200){fA[D]=-2}else{fA[D]=-1}}var dh=j.V1.apI(X,V,cE,fA,hh,eE);
if(dh==null){return 3}var fT=dh.zf,top=dh.top;fT=j.V1.ar_(fT,u,X,V,top,fA,hh,eE);if(J)console.log(Date.now()-T,"optimal labeling found");
T=Date.now();var A=q.clone();A.iO(1,1);A=A.aR(v);var dB=j.U(A.Z()*4),iN=j.U(A.Z());j.zO(z,v,dB,A);var gV=v.e,fI=v.n;
for(var _=0;_<fI;_++)for(var g=0;g<gV;g++){if(a[_*gV+g]==0)continue;var gc=Math.min(Math.floor(g/R),X-1),aF=Math.min(Math.floor(_/R),V-1),gh=fA[aF*X+gc];
if(gh==-1)continue;var gD=fT[gh],j1=top[gD],dg=g+j1.x*R,ao=_+j1.y*R,eC=ao*gV+dg<<2,bD=(_-A.y+v.y)*A.e+(g-A.x+v.x)<<2;
dB[bD]=z[eC];dB[bD+1]=z[eC+1];dB[bD+2]=z[eC+2];dB[bD+3]=z[eC+3];dB[bD+3]=z[eC+3];iN[bD>>2]=gD+1}if(J)console.log(Date.now()-T,"copied back");
T=Date.now();j.E5.zA(dB,iN,A,null,1e3);if(J)console.log(Date.now()-T,"poisson smooth");T=Date.now();
j.zO(dB,A,Z,q);return 0};j.V1.gb=function(u,m,C,Z,q,J){return j.V1.Q7(u+q.x,m+q.y,C,Z)&&J[(m+q.y)*C+(u+q.x)]==-1?0:1e9};
j.V1.ar_=function(u,m,C,Z,top,q,J,A){var n=Date.now(),N=[-1,0,0,-1,1,0,0,1],e=1e99,Q=[],p=[],B=2*(A*2*3+A*2),$=null,R=0,z=0,v=0,a=1e99;
while(!0&&Date.now()<n+12e3){v++;var X=null,V=e;for(var o=0;o<top.length;o++){var h=top[o],T=0,l=A+2,w=0;
for(var D=0;D<A;D++){var W=J[D*2],U=J[D*2+1],s=top[u[D]],S=j.V1.gb(W,U,C,Z,h,q),x=u[D]==o?1e9:j.V1.gb(W,U,C,Z,s,q);
for(var jt=0;jt<4;jt++){if(jt==0&&W==0||jt==1&&U==0||jt==2&&W==C-1||jt==3&&U==Z-1)continue;var P=N[2*jt],y=N[2*jt+1],_=W+P,g=U+y,G=q[g*C+_];
if(G==-2){}else if(G==-1){S+=3*j.V1.b8(_+h.x,g+h.y,_,g,C,Z,m,q);S+=2*j.V1.b8(_+h.x+P,g+h.y+y,_+P,g+y,C,Z,m,q);
x+=3*j.V1.b8(_+s.x,g+s.y,_,g,C,Z,m,q);x+=2*j.V1.b8(_+s.x+P,g+s.y+y,_+P,g+y,C,Z,m,q)}else if(jt>1){if(u[D]==u[G]){var O=0;
O+=j.V1.b8(W+s.x,U+s.y,W+h.x,U+h.y,C,Z,m,q);O+=j.V1.b8(_+s.x,g+s.y,_+h.x,g+h.y,C,Z,m,q);Q[T]=D;Q[T+1]=G;
p[T]=O;p[T+1]=O;T+=2}else{var E=top[u[G]],L=l,c=0,k=0,I=0;l++;c+=j.V1.b8(W+s.x,U+s.y,W+h.x,U+h.y,C,Z,m,q);
c+=j.V1.b8(_+s.x,g+s.y,_+h.x,g+h.y,C,Z,m,q);k+=j.V1.b8(W+E.x,U+E.y,W+h.x,U+h.y,C,Z,m,q);k+=j.V1.b8(_+E.x,g+E.y,_+h.x,g+h.y,C,Z,m,q);
I+=j.V1.b8(W+E.x,U+E.y,W+s.x,U+s.y,C,Z,m,q);I+=j.V1.b8(_+E.x,g+E.y,_+s.x,g+s.y,C,Z,m,q);Q[T]=D;Q[T+1]=L;
p[T]=c;p[T+1]=c;T+=2;Q[T]=G;Q[T+1]=L;p[T]=k;p[T+1]=k;T+=2;Q[T]=L;Q[T+1]=A+1;p[T]=I;p[T+1]=0;T+=2}}}Q[T]=A;
Q[T+1]=D;p[T]=S;p[T+1]=0;T+=2;Q[T]=D;Q[T+1]=A+1;p[T]=x;p[T+1]=0;T+=2;w+=Math.min(S,x)}if(w>V)continue;
var Y=j.A5.WM(l,T,A,A+1,Q,p,V);if(Y.Ba<V){V=Y.Ba;var K=u.slice(0);j.V1.ara(K,T,Q,Y.oM,o,A);X=K}}if(V*1>=e){break}e=V;
u=X;if((v&3)==0){if(V*1.03>=a)break;a=V}if((v&3)==0){var i=0*top.length;for(var D=0;D<top.length&&top.length>i;
D++){if(u.indexOf(D)!=-1)continue;top.splice(D,1);for(var G=0;G<u.length;G++)if(u[G]>D)u[G]--;D--}}}return u};
j.V1.ara=function(u,m,C,Z,q,J){for(var D=0;D<Z.length;D++){var A=Z[D]<<1,n=0,N=0;if(A<m){n=C[A];N=C[A+1]}else{N=C[A];
n=C[A+1]}if(n==J&&u[N]!=q)u[N]=q}};j.V1.l$=function(top,u,m,C,Z,q,J,A,n){for(var D=0;D<m.length;D++){var N=m[D],e=!0;
if(A!=null&&!(j.V1.Q7(A+N.x,n+N.y,q,J)&&C[q*(n+N.y)+A+N.x]==-1))continue;if(N.lA==-1)N.lA=j.V1.ad2(N,C,Z,q,J);
if(N.lA<=0)continue;for(var Q=0;Q<top.length;Q++){var p=top[Q],B=N.x-p.x,$=N.y-p.y;if(B*B+$*$<u){e=!1;
break}}if(e)return N}return null};j.V1.ad2=function(u,m,C,Z,q){var J=0;for(var D=0;D<C.length;D+=2){var A=C[D]+u.x,n=C[D+1]+u.y;
if(j.V1.Q7(A,n,Z,q)&&m[Z*n+A]==-1)J++}return J/(C.length>>1)};j.V1.apI=function(u,m,C,Z,q,J){var top=[];
for(var D=0;D<60;D++){var A=j.V1.l$(top,25,C,Z,q,u,m);if(A==null)break;else top.push(A)}if(top.length==0)return null;
var n=[];for(var D=0;D<J;D++){var N=q[D*2],e=q[D*2+1],Q=-1,p=0;while(!0){p++;var B=Math.random();Q=Math.floor(B*.99999*top.length);
var $=top[Q],R=N+$.x,z=e+$.y;if(j.V1.Q7(R,z,u,m)&&Z[z*u+R]==-1)break;if(p>100){var A;A=j.V1.l$(top,0,C,Z,q,u,m,N,e);
if(A==null)return null;top.push(A);p=0}}n.push(Q)}return{top:top,zf:n}};j.V1.b8=function(u,m,C,Z,q,J,A,n){if(u==C&&m==Z)return 0;
if(u<0||m<0||u>=q||m>=J||C<0||Z<0||C>=q||Z>=J||n[m*q+u]!=-1||n[Z*q+C]!=-1)return 1e7;var N=m*q+u<<2,e=Z*q+C<<2,Q=A[N]-A[e],p=A[N+1]-A[e+1],B=A[N+2]-A[e+2];
return 1+(Q*Q+p*p+B*B)};j.V1.Q7=function(u,m,C,Z){return u>=0&&u<C&&m>=0&&m<Z};j.V1.a3D=function(u,m,C,Z){var q=24*u,J=m[q],A=m[q+1],n=Z*Z,N=0,B=1e9;
while(C[N]!=99)if(m[q+C[N]]<C[N+1])N=C[N+2];else N=C[N+3];var e=C[N+1],Q=C[N+2],p=-1;for(var D=e;D<=Q;
D++){var N=D,$=N*24,R=m[$],z=m[$+1];if((R-J)*(R-J)+(z-A)*(z-A)<n)continue;var v=j.V1.getError($,q,m,B);
if(v<B){B=v;p=N}}return p};j.V1.getError=function(u,m,C,Z){var q=0;for(var J=4;J<24;J+=4){var A=C[m+J]-C[u+J],n=C[m+J+1]-C[u+J+1],N=C[m+J+2]-C[u+J+2],e=C[m+J+3]-C[u+J+3];
q+=A*A+n*n+N*N+e*e;if(q>=Z)return q+1}return q};j.V1.$f=function(u,m,C,Z,q){var J=16,B=0;if(m-u<=J){C.push(99,u,m);
return}j.V1.Of(u,m,Z,q);var A=-1,n=-1;for(var D=4;D<24;D++){var N=q[2*D+1]-q[2*D];if(N>n){n=N;A=D}}var e=u+m>>1,Q=j.V1.acu(e,u,m,Z,A),p=-1;
for(var D=u;D<=m;D++)if(Z[24*D+A]==Q){if(p==-1)p=D;B=D}if(u+8<p&&p-u>m-B)e=p;else if(B+1<m-8)e=B+1;else if(m-u<64){C.push(99,u,m);
return}else e=e;var $=C.length;C.push(A,Q,0,0);C[$+2]=$+4;j.V1.$f(u,e-1,C,Z,q);C[$+3]=C.length;j.V1.$f(e,m,C,Z,q)};
j.V1.Of=function(u,m,C,Z){for(var D=0;D<48;D+=4){Z[D]=3e4;Z[D+1]=-3e4;Z[D+2]=3e4;Z[D+3]=-3e4}for(var D=u;
D<=m;D++){var q=D*24;for(var J=0;J<24;J++){var A=C[q+J],n=Z[J<<1],N=Z[(J<<1)+1];if(A<n)Z[J<<1]=A;if(A>N)Z[(J<<1)+1]=A}}};
j.V1.nX=function(u,m,C){var Z=0,D=0;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;
D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;
D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;
D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;
D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;
D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;
D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;
D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;
D++;Z=C[u+D];C[u+D]=C[m+D];C[m+D]=Z;D++};j.V1.SV=function(u,m,C,Z){var q=C+Z>>>1,J=u[24*q+m];while(C<=Z){while(u[24*C+m]<J)C++;
while(u[24*Z+m]>J)Z--;if(C<=Z){if(u[24*C+m]!=u[24*Z+m])j.V1.nX(C*24,Z*24,u);C++;Z--}}return C};j.V1.acu=function(u,m,C,Z,q){var J=0;
while(m!=C){J=j.V1.SV(Z,q,m,C);if(u<J)C=J-1;else m=J}return Z[u*24+q]};j.V1.Uj=function(u,m,C,Z){for(var D=0;
D<Z;D++)m[C+D]=u[D]};j.V1.a6Z=function(u,m,C,Z,q,J,A,n,N){var e=(Z-3)*q+(C-3),Q=e<<2;for(var p=0;p<8;
p++){if(m[e]+m[e+1]+m[e+2]+m[e+3]+m[e+4]+m[e+5]+m[e+6]+m[e+7]!=0||u[Q+3]<200||u[Q+7]<200||u[Q+11]<200||u[Q+15]<200||u[Q+19]<200||u[Q+23]<200||u[Q+27]<200||u[Q+31]<200)return 1;
var D=p<<3;A[D+0]=u[Q+0];n[D+0]=u[Q+1];N[D+0]=u[Q+2];A[D+1]=u[Q+4];n[D+1]=u[Q+5];N[D+1]=u[Q+6];A[D+2]=u[Q+8];
n[D+2]=u[Q+9];N[D+2]=u[Q+10];A[D+3]=u[Q+12];n[D+3]=u[Q+13];N[D+3]=u[Q+14];A[D+4]=u[Q+16];n[D+4]=u[Q+17];
N[D+4]=u[Q+18];A[D+5]=u[Q+20];n[D+5]=u[Q+21];N[D+5]=u[Q+22];A[D+6]=u[Q+24];n[D+6]=u[Q+25];N[D+6]=u[Q+26];
A[D+7]=u[Q+28];n[D+7]=u[Q+29];N[D+7]=u[Q+30];Q+=q<<2;e+=q}return 0};j.V1.bn=function(u,m){m[0]=u[32]+u[0];
m[1]=u[33]+u[1];m[2]=u[34]+u[2];m[3]=u[35]+u[3];m[4]=u[36]+u[4];m[5]=u[37]+u[5];m[6]=u[38]+u[6];m[7]=u[39]+u[7];
m[8]=u[40]+u[8];m[9]=u[41]+u[9];m[10]=u[42]+u[10];m[11]=u[43]+u[11];m[12]=u[44]+u[12];m[13]=u[45]+u[13];
m[14]=u[46]+u[14];m[15]=u[47]+u[15];m[16]=u[48]+u[16];m[17]=u[49]+u[17];m[18]=u[50]+u[18];m[19]=u[51]+u[19];
m[20]=u[52]+u[20];m[21]=u[53]+u[21];m[22]=u[54]+u[22];m[23]=u[55]+u[23];m[24]=u[56]+u[24];m[25]=u[57]+u[25];
m[26]=u[58]+u[26];m[27]=u[59]+u[27];m[28]=u[60]+u[28];m[29]=u[61]+u[29];m[30]=u[62]+u[30];m[31]=u[63]+u[31];
m[32]=u[0]-u[32];m[33]=u[1]-u[33];m[34]=u[2]-u[34];m[35]=u[3]-u[35];m[36]=u[4]-u[36];m[37]=u[5]-u[37];
m[38]=u[6]-u[38];m[39]=u[7]-u[39];m[40]=u[8]-u[40];m[41]=u[9]-u[41];m[42]=u[10]-u[42];m[43]=u[11]-u[43];
m[44]=u[12]-u[44];m[45]=u[13]-u[45];m[46]=u[14]-u[46];m[47]=u[15]-u[47];m[48]=u[16]-u[48];m[49]=u[17]-u[49];
m[50]=u[18]-u[50];m[51]=u[19]-u[51];m[52]=u[20]-u[52];m[53]=u[21]-u[53];m[54]=u[22]-u[54];m[55]=u[23]-u[55];
m[56]=u[24]-u[56];m[57]=u[25]-u[57];m[58]=u[26]-u[58];m[59]=u[27]-u[59];m[60]=u[28]-u[60];m[61]=u[29]-u[61];
m[62]=u[30]-u[62];m[63]=u[31]-u[63];u[0]=m[16]+m[0];u[1]=m[17]+m[1];u[2]=m[18]+m[2];u[3]=m[19]+m[3];
u[4]=m[20]+m[4];u[5]=m[21]+m[5];u[6]=m[22]+m[6];u[7]=m[23]+m[7];u[8]=m[24]+m[8];u[9]=m[25]+m[9];u[10]=m[26]+m[10];
u[11]=m[27]+m[11];u[12]=m[28]+m[12];u[13]=m[29]+m[13];u[14]=m[30]+m[14];u[15]=m[31]+m[15];u[16]=m[0]-m[16];
u[17]=m[1]-m[17];u[18]=m[2]-m[18];u[19]=m[3]-m[19];u[20]=m[4]-m[20];u[21]=m[5]-m[21];u[22]=m[6]-m[22];
u[23]=m[7]-m[23];u[24]=m[8]-m[24];u[25]=m[9]-m[25];u[26]=m[10]-m[26];u[27]=m[11]-m[27];u[28]=m[12]-m[28];
u[29]=m[13]-m[29];u[30]=m[14]-m[30];u[31]=m[15]-m[31];m[0]=u[8]+u[0];m[1]=u[9]+u[1];m[2]=u[10]+u[2];
m[3]=u[11]+u[3];m[4]=u[12]+u[4];m[5]=u[13]+u[5];m[6]=u[14]+u[6];m[7]=u[15]+u[7];m[8]=u[0]-u[8];m[9]=u[1]-u[9];
m[10]=u[2]-u[10];m[11]=u[3]-u[11];m[12]=u[4]-u[12];m[13]=u[5]-u[13];m[14]=u[6]-u[14];m[15]=u[7]-u[15];
u[0]=m[4]+m[0];u[1]=m[5]+m[1];u[2]=m[6]+m[2];u[3]=m[7]+m[3];u[4]=m[0]-m[4];u[5]=m[1]-m[5];u[6]=m[2]-m[6];
u[7]=m[3]-m[7];u[8]=m[12]+m[8];u[9]=m[13]+m[9];u[10]=m[14]+m[10];u[11]=m[15]+m[11];u[12]=m[8]-m[12];
u[13]=m[9]-m[13];u[14]=m[10]-m[14];u[15]=m[11]-m[15];m[0]=u[2]+u[0];m[1]=u[3]+u[1];m[2]=u[0]-u[2];m[3]=u[1]-u[3];
m[4]=u[6]+u[4];m[5]=u[7]+u[5];m[6]=u[4]-u[6];m[7]=u[5]-u[7];m[8]=u[10]+u[8];m[9]=u[11]+u[9];m[10]=u[8]-u[10];
m[11]=u[9]-u[11];m[12]=u[14]+u[12];m[13]=u[15]+u[13];m[14]=u[12]-u[14];m[15]=u[13]-u[15];u[0]=m[1]+m[0];
u[1]=m[0]-m[1];u[2]=m[3]+m[2];u[3]=m[2]-m[3];u[4]=m[5]+m[4];u[5]=m[4]-m[5];u[6]=m[7]+m[6];u[7]=m[6]-m[7];
u[8]=m[9]+m[8];u[9]=m[8]-m[9];u[10]=m[11]+m[10];u[11]=m[10]-m[11];u[12]=m[13]+m[12];u[13]=m[12]-m[13];
u[14]=m[15]+m[14];u[15]=m[14]-m[15]};j.V1.af9=function(){var u="",jt=64,m="v",C="t",Z="a",q=5,D,J,A;
for(D=jt>>1;D>0;D>>=1,q--){for(J=0;J<jt;J++){A=(J>>q&1)!=0;if(A){u+=C+"["+J+"] = "+m+"["+(-D+J)+"] - "+m+"["+J+"];  "}else{u+=C+"["+J+"] = "+m+"["+(D+J)+"] + "+m+"["+J+"];  "}}Z=m;
m=C;C=Z;u+="\n"}console.log(u)};j.V1.agj=function(jt,u,m){var C=u,Z=m,q=C,J=0,D,n,N;while(jt>>J!=2)J++;
var A=J;for(D=jt>>1;D>0;D>>=1,J--){for(n=0;n<jt;n++){N=(n>>J&1)!=0;if(N)Z[n]=C[-D+n]-C[n];else Z[n]=C[D+n]+C[n]}q=C;
C=Z;Z=q}if((A&1)==1)for(D=0;D<jt;D++)m[D]=C[D]};j.xW={};j.xW.xZ=function(u,m,C,Z,q,J,A,n,N){var e=Date.now(),Q=new Uint32Array(u.buffer),p=new Uint32Array(m.buffer),B=A/C,$=n/Z,R=1/B,z=1/$,v=new Float64Array(2),a=3,X=1/a,V=1/(a*a),o=0,h=0,T=C,l=Z;
if(q){o=q.x;h=q.y;T=q.e;l=q.n}for(var w=0;w<l;w++)for(var W=0;W<T;W++){var U=o+W,s=h+w,D=s*C+U,S=D<<1,x=D<<2;
j.xW.a6K(J,A,n,(U+.5)*B,(s+.5)*$,v);var P=v[0]*R,y=v[1]*z;if(P==0&&y==0)p[D]=Q[D];else{j.N.Zu(U+P+.5,s+y+.5,Q,C,Z,p,D,N)}}};
j.xW.a6K=function(u,m,C,Z,q,J){Z-=.499999;q-=.499999;var A=~~Z,n=~~q,N=Z-A,e=q-n,Q=(1-e)*(1-N),p=(1-e)*N,B=e*(1-N),$=e*N,R=A<m-1?A+1:A,z=n<C-1?n+1:n,v=n*m+A<<1,a=n*m+R<<1,X=z*m+A<<1,V=z*m+R<<1;
J[0]=Q*u[v]+p*u[a]+B*u[X]+$*u[V];J[1]=Q*u[v+1]+p*u[a+1]+B*u[X+1]+$*u[V+1]};j.xW.ap9=function(u,m,C,Z,q){var J=1/u,A=[-1,1,-u,u],n=Z.length;
for(var N=0;N<n;N++){var D=Z[N],e=D<<1,Q=N<<1,p=~~(D*J),B=D-u*p,$=C[e],R=C[e+1],z=0,v=0;if(B!=0&&B!=u-1){var a=D-1<<1,X=D+1<<1,V=C[a],o=C[X],h=C[a+1],T=C[X+1],l=$-(V+o)*.5,w=R-(h+T)*.5;
z-=l*q;v-=w*q}if(p!=0&&p!=m-1){var a=D-u<<1,X=D+u<<1,V=C[a],o=C[X],h=C[a+1],T=C[X+1],l=$-(V+o)*.5,w=R-(h+T)*.5;
z-=l*q;v-=w*q}C[e]=$+z;C[e+1]=R+v}};j.xW.a0X=function(u,m){var C=u+","+m;if(j.xW.zM==C)return j.xW.w2;
var Z=j.xW.w2=[];j.xW.zM=C;for(var D=0;D<=1e3;D++){var q=D*.001,J=Math.sqrt(q),A=Math.exp(-4*J),n=.96*(1-J*J),N=m*((1-u)*A+u*n);
Z[D]=N}return Z};j.xW.zM="";j.xW.w2=[];j.xW.arS=function(u,m,C,Z,q,J,A,n,N,e,Q,p,B){var $=Math.max(0,Math.floor(q-A-1)),R=Math.min(m,Math.ceil(q+A+1)),z=Math.max(0,Math.floor(J-A-1)),v=Math.min(C,Math.ceil(J+A+1)),a=2*m,X=A*A,V=1/A,o=0;
if(B&&(Z==3||Z==6))N=-N;var h=j.xW.a0X(n,N);for(var T=z;T<v;T++)for(var l=$;l<R;l++){var D=T*m+l,w=D<<1,W=(q-l)*V,U=(J-T)*V,s=W*W+U*U;
if(s<1){p[o]=D;var S=h[~~(s*1e3)];if(Z==1){u[w]=u[w]*(1-S*.05);u[w+1]=u[w+1]*(1-S*.05)}else{var x=0,P=0,g,G,O,E;
if(Z==0){x=e*S;P=Q*S}else if(Z==2){}else if(Z==3){x=S*U;P=-S*W}else if(Z==4){x=S*W;P=S*U}else if(Z==5){x=-S*W;
P=-S*U}else if(Z==6){x=Q*S;P=-e*S}var y=u[w],_=u[w+1];if(l==0||l!=m-1&&x<0){g=1+u[w+2]-y;O=u[w+3]-_}else{g=y-u[w-2]+1;
O=_-u[w-1]}if(T==0||T!=C-1&&P<0){G=u[w+a]-y;E=1+u[w+a+1]-_}else{G=y-u[w-a];E=_-u[w-a+1]+1}u[w]=-(g*x+G*P-y);
u[w+1]=-(O*x+E*P-_)}o++}}};j.xW.a8K=function(u){var m=u[0],C=u[0],Z=u[1],q=u[1];for(var D=0;D<u.length;
D+=2){var J=u[D],A=u[D+1];if(J<m)m=J;else if(J>C)C=J;if(A<Z)Z=A;else if(A>q)q=A}return[m,Z,C,q]};j.aoP=function(u,m,C,Z,q){function J(d,fH,aC,f8){return Math.sqrt((d-aC)*(d-aC)+(fH-f8)*(fH-f8))}function A(d,fH){return d>=0&&d<m&&fH>=0&&fH<C}function n(d){if(d<0)return 0;
if(d>=m)return m-1;return d}function N(d){if(d<0)return 0;if(d>=C)return C-1;return d}function e(D,d){var fH=d[3]*(1/255),aC=Z[D]+d[0]*fH;
if(aC>255)aC=255;Z[D]=aC;aC=Z[D+1]+d[1]*fH;if(aC>255)aC=255;Z[D+1]=aC;aC=Z[D+2]+d[2]*fH;if(aC>255)aC=255;
Z[D+2]=aC}function Q(d,fH,aC){if(!L(d,fH))return;if(aC[3]<0)aC[3]=0;e((fH*m+d)*4,aC)}function p(d){var fH=d.slice(0,3);
fH[3]=0;return fH}var B=m/800;function $(d){return Math.round(d*B)}function R(){for(var D=0;D<=300;D++){k[D]=z(D)}}function z(C){var d=.8,fH=.2,aC=d*fH,f8=C/60%2-1,c9=aC*(1-f8*f8),g1=fH-aC,cE;
if(C<60){cE=[aC+g1,c9,0]}else if(C<120){cE=[c9,aC,0]}else if(C<180){cE=[0,aC,c9]}else if(C<240){cE=[0,c9,aC]}else if(C<300){cE=[c9,0,aC]}else{cE=[aC,0,c9]}return[(cE[0]+g1)*255,(cE[1]+g1)*255,(cE[2]+g1)*255]}function v(C){return k[~~C]}function a(d){return 1-X(d)}function X(d){return d-~~d}function V(d,fH,aC,f8){O(d,fH,aC,0,fH+1,1,f8)}function o(d,fH,aC,f8,c9,g1){O(d,fH,aC,0,f8,1,c9,g1)}function h(d){for(var D=0;
D<Z.length;D+=4){e(D,d)}}function T(d,fH,aC,f8,c9,g1,cE,hG){l(d,fH,aC,f8,c9,1,g1,cE,hG)}function l(d,fH,aC,f8,c9,g1,cE,hG,fA){if(g1==null)g1=.5;
if(cE==null)cE=0;if(hG==null)hG=0;if(fA==null)fA=!1;var hh=d.x,eE=d.y,dh=aC.slice(0),fT=~~(aC[3]*Y);
f8=f8*Y;if(!fA){fH=E(fH);c9=E(c9);cE=E(cE);hG=E(hG)}var dB=n(hh-fH),iN=n(hh+fH);for(var gV=dB;gV<=iN;
gV++){var fI=gV-hh,aF=Math.floor(Math.sqrt(fH*fH-fI*fI)),gh=N(eE-aF),gD=N(eE);for(var j1=gh;j1<=gD;j1++){var dg=J(gV,j1,hh,eE);
if(dg>fH||dg<=fH-c9)break;var ao=(dg-fH+c9)/c9;dh[3]=fT-f8*(g1==1?ao:Math.pow(ao,g1));e((j1*m+gV)*4,dh)}gh=N(eE+aF);
for(var j1=gh;j1>gD;j1--){var dg=J(gV,j1,hh,eE);if(dg>fH||dg<=fH-c9)break;var ao=(dg-fH+c9)/c9;dh[3]=fT-f8*(g1==1?ao:Math.pow(ao,g1));
e((j1*m+gV)*4,dh)}}if(cE>0){O(d,fH+cE,dh,dh[3],cE,1,0,0,!0)}if(hG>0){O(d,fH-c9,c(aC),-aC[3],hG,1,0,0,!0)}}function w(d,fH,aC,f8,c9,g1){O(d,fH,aC,aC[3],fH+1,1,f8,c9,g1)}function W(d,fH,aC,f8,c9){if(c9==null)c9=!1;
var g1=d.x,cE=d.y;f8*=Y;if(!c9){fH=E(fH);aC=E(aC)}var hG=n(g1-fH),fA=n(g1+fH);for(var hh=hG;hh<fA;hh++){var eE=hh-g1,dh=~~Math.sqrt(fH*fH-eE*eE),fT=N(cE-dh),dB=N(cE);
for(var iN=fT;iN<=dB;iN++){var gV=J(hh,iN,g1,cE);if(gV>fH||gV<=fH-aC)break;var fI=(fH-gV)/aC,gh=v(300*fI);
gh[3]=f8;e((iN*m+hh)*4,gh)}fT=N(cE+dh);for(var iN=fT;iN>dB;iN--){var gV=J(hh,iN,g1,cE);if(gV>fH||gV<=fH-aC)break;
var fI=(fH-gV)/aC,gh=v(300*fI);gh[3]=f8;e((iN*m+hh)*4,gh)}}}function U(I,d){var fH=I.q8,aC=I.Sm,f8=d.slice(0),c9=d[3]*Y,g1=Math.abs(aC.y-fH.y)>Math.abs(aC.x-fH.x);
if(g1){var cE=fH.x;fH.x=fH.y;fH.y=cE;cE=aC.x;aC.x=aC.y;aC.y=cE}if(fH.x>aC.x){var cE=fH;fH=aC;aC=cE}var hG=aC.x-fH.x,fA=aC.y-fH.y,hh=hG==0?1:fA/hG,eE=Math.round(fH.x),dh=fH.y+hh*(eE-fH.x),fT=a(fH.x+.5),dB=eE,iN=~~dh;
if(g1){f8[3]=c9*a(dh)*fT;Q(iN,dB,f8);f8[3]=c9*X(dh)*fT;Q(iN+1,dB,f8)}else{f8[3]=c9*a(dh)*fT;Q(dB,iN,f8);
f8[3]=c9*X(dh)*fT;Q(dB,iN+1,f8)}var gV=dh-hh;eE=Math.round(aC.x);dh=aC.y+hh*(eE-aC.x);fT=X(aC.x+.5);
var fI=eE,gc=~~dh;if(g1){f8[3]=c9*a(dh)*fT;Q(gc,fI,f8);f8[3]=c9*X(dh)*fT;Q(gc+1,fI,f8)}else{f8[3]=c9*a(dh)*fT;
Q(fI,gc,f8);f8[3]=c9*X(dh)*fT;Q(fI,gc+1,f8)}if(g1){for(var aF=dB+1;aF<=fI-1;aF++){f8[3]=c9*a(gV);Q(~~gV,aF,f8);
f8[3]=c9*X(gV);Q(~~gV+1,aF,f8);gV+=hh}}else{for(var aF=dB+1;aF<=fI-1;aF++){f8[3]=c9*a(gV);Q(aF,~~gV,f8);
f8[3]=c9*X(gV);Q(aF,~~gV+1,f8);gV+=hh}}}function s(d,fH,aC,f8){for(var D=0;D<4;D++){var c9=d.Xj(fH+1.3*D,aC);
U(c9,f8,1)}}function dz(d,fH){this.x=Math.round(d);this.y=Math.round(fH)}var S=Math.PI/180;dz.prototype.Xj=function(d,fH){d=d*S;
var aC=this.x+fH*Math.cos(d),f8=this.y+fH*Math.sin(d);return new x(this.x,this.y,aC,f8)};dz.prototype.anA=function(d,fH){d=d*S;
var aC=this.xL+fH*Math.cos(d),f8=this.aeQ+fH*Math.sin(d);return new dz(aC,f8)};function x(d,fH,aC,f8){this.q8=new dz(d,fH);
this.Sm=new dz(aC,f8)}x.prototype.JI=function(d){var fH=d*this.q8.x+(1-d)*this.Sm.x,aC=d*this.q8.y+(1-d)*this.Sm.y;
return new dz(fH,aC)};var P=T,y=w,_=V,g=o,G=W,O=l,E=$,L=A,c=p,k=[];R();for(var D=0;D<u.length;D++){Z[D]=u[D]}var I=new x(m*q[2],C*q[3],m/2,C/2),Y=q[1],K=[];
K[0]=function i(){var d=[80,40,15,60],aC=0,f8=0;_(I.JI(1.4),260,d,10);_(I.JI(1),100,[240,50,50,30],30);
y(I.JI(1),60,[255,40,0,40]);var fH=[255,255,255,255];O(I.JI(1),70,fH,fH[3],58,.5);_(I.JI(1),12,fH);fH[3]=40;
P(I.JI(1),150,fH,fH[3],150);for(var D=0;D<40;D++){aC+=Math.random()*25;f8=Math.random()*E(300)+E(100);
var c9=I.JI(1).Xj(aC,f8);U(I.JI(1).Xj(aC,f8),[110,110,110,30])}y(I.JI(1),130,[255,255,255,8]);var g1=[170,30,23,70];
g(I.JI(1),70,g1,1,3,3);var cE=[60,60,130,40];_(I.JI(.47),44,cE,5);_(I.JI(.43),22,cE,3);cE[3]=16;_(I.JI(.53),15,cE,2);
var hG=[138,94,42,100];_(I.JI(.2),16,hG,2);var fA=[130,255,170,180];y(I.JI(0),4,fA);y(I.JI(-.25),5,fA);
hG=[150,90,0,50];P(I.JI(-.45),55,c(hG),-hG[3],40,2);_(I.JI(-.42),35,hG,2);_(I.JI(-.5),15,hG,2);G(I.JI(-1.28),145,11,70);
var hh=v(0);hh[3]=50;P(I.JI(-1.28),149,hh,hh[3],4);hh=v(300);hh[3]=50;P(I.JI(-1.28),155-1,c(hh),-hh[3],3);
var eE=[130,130,10,50];g(I.JI(-1),73,eE,3,2);var dh=[40,130,70,40];P(I.JI(-1),70,c(dh),-dh[3],35);dh=[40,170,60,50];
_(I.JI(-.7),25,dh,4);var dh=[70,110,50,60];P(I.JI(1.3),30,c(dh),-dh[3],11,3);cE=[0,50,210,80];y(I.JI(-.72),20,cE)};
K[1]=function i4(){y(I.JI(1),150,[240,70,70,60]);_(I.JI(1),100,[200,60,60,40],30);var d=[255,255,255,255],fH=0,aC=0;
O(I.JI(1),75,d,d[3],63);_(I.JI(1),12,d);y(I.JI(1),270,[200,200,200,20],10);for(var D=0;D<10;D++){fH+=10+Math.random()*40;
aC=Math.random()*E(250)+E(80);var f8=I.JI(1).Xj(fH,aC);U(f8,[110,110,110,35])}fH=5;aC=100;for(var D=0;
D<12;D++){fH+=30;s(I.JI(1),fH,aC,[90,90,90,40])}var c9=[150,40,23,100];g(I.JI(1),70,c9,1,3,3);var g1=[30,100,60,40];
y(I.JI(-.9),180,[255,255,255,20]);_(I.JI(-.9),140,g1,15);var cE=[170,80,25,15];g(I.JI(-.9),120,cE,1,4,4);
var hG=[110,240,190,200];y(I.JI(-.6),3,hG);hG[3]=100;y(I.JI(-.6),7,hG);var fA=[230,120,40,85];y(I.JI(-.73),9,fA);
var hh=[60,60,190,50];_(I.JI(.3),28,hh,6);hh[3]=25;_(I.JI(.34),20,hh,3)};K[2]=function d7(){var d=[255,255,255,255],aC=0,f8=0;
_(I.JI(1),13,d);O(I.JI(1),150,d,d[3],137);var fH=[120,80,35,20];_(I.JI(1.4),260,fH,10);for(var D=0;D<40;
D++){aC+=5+Math.random()*30;f8=Math.random()*E(300);U(I.JI(1).Xj(aC,f8),[110,110,110,20])}var c9=[10,30,255,30];
_(I.JI(1),70,c9,50);var g1=[15,90,170,15];_(I.JI(1.5),60,g1);var cE=[220,220,20,50];_(I.JI(-1.15),8,cE,2);
var d=[255,255,255,40];y(I.JI(-1.18),6,d);y(I.JI(-1.18),4,d);cE=[110,110,10,8];P(I.JI(-1.2),32,c(cE),-cE[3],20,3);
var hG=[5,0,16,255];for(var D=0;D<4;D++){_(I.JI(-1.36),10,hG,3)}var fA=[90,200,150,20],hh=fA.slice(0);
hh[3]*=2;_(I.JI(-1.32),7,hh,3);_(I.JI(-1.36),7,hh,3);_(I.JI(-1.4),7,hh,3);var d=[230,230,230,100];y(I.JI(-1.36),2,d);
d[3]=3;_(I.JI(-.55),10,d);cE=[120,100,10,18];_(I.JI(-.55),160,cE,8);_(I.JI(-.55),80,cE,4);fA[3]=3;hh[3]=6;
P(I.JI(-.49),13,c(hh),-hh[3],13,2);P(I.JI(-.55),13,c(hh),-hh[3],13,2);fA[3]=20;_(I.JI(.15),25,fA,3);
cE[3]=100;y(I.JI(-.52),3,cE);cE=[200,200,50,40];_(I.JI(.27),1,cE,4);var eE=[150,40,23,30];P(I.JI(1),80,c(eE),-eE[3],2,1)};
return K[q[0]]()};j.NC={};j.NC.$E=function(u){var m=u.length,jt=u[0].length,C=new Array(jt);for(var D=0;
D<jt;D++)C[D]=new Array(m);for(var D=0;D<jt;D++)for(var Z=0;Z<m;Z++)C[D][Z]=u[Z][D];return C};j.NC.Vy=function(u,m){var C=u.length,jt=u[0].length,Z=new Array(C);
for(var D=0;D<C;D++)Z[D]=new Array(jt);for(var D=0;D<C;D++)for(var q=0;q<jt;q++)Z[D][q]=u[D][q]-m[D][q];
return Z};j.NC.add=function(u,m){var C=u.length,jt=u[0].length,Z=new Array(C);for(var D=0;D<C;D++)Z[D]=new Array(jt);
for(var D=0;D<C;D++)for(var q=0;q<jt;q++)Z[D][q]=u[D][q]+m[D][q];return Z};j.NC.multiply=function(u,m){var C=u.length,Z=u[0].length,jt=m[0].length;
if(Z!=m.length)throw"e";var q=new Array(C);for(var D=0;D<C;D++)q[D]=new Array(jt);if((Z&1)!=0)for(var D=0;
D<C;D++){var J=u[D],A=q[D];for(var n=0;n<jt;n++){var N=0;for(var e=0;e<Z;e++)N+=J[e]*m[e][n];A[n]=N}}else for(var D=0;
D<C;D++){var J=u[D],A=q[D];for(var n=0;n<jt;n++){var N=0;for(var e=0;e<Z;e+=2)N+=J[e]*m[e][n]+J[e+1]*m[e+1][n];
A[n]=N}}return q};j.NC.gY=function(u,m){var C=u.length,jt=u[0].length,Z=new Array(C);for(var D=0;D<C;
D++){var q=0;for(var J=0;J<jt;J++)q+=u[D][J]*m[J];Z[D]=q}return Z};j.NC.hv=function(u,m){var C=[];for(var D=0;
D<u;D++){C.push([]);for(var Z=0;Z<m;Z++)C[D].push(0)}return C};j.NC.atn=function(u){for(var D=0;D<u.length;
D++)console.log(JSON.stringify(u[D]))};j.NC.afi=function(u){var m=[];for(var D=0;D<u.length;D++)m.push(u[D].join(","));
return"["+m.join(";")+"]"};j.NC.WM=function(u,m){var C=u.length;for(var Z=0;Z<C;Z++){var q=0,J=Number.NEGATIVE_INFINITY;
for(var D=Z;D<C;D++)if(Math.abs(u[D][Z])>J){q=D;J=Math.abs(u[D][Z])}j.NC.arj(u,Z,q);for(var D=Z+1;D<C;
D++){if(u[Z][Z]==0)return 1;var A=u[D][Z]/u[Z][Z];for(var n=Z;n<C+1;n++)u[D][n]-=u[Z][n]*A}}for(var D=C-1;
D>=0;D--){if(u[D][D]==0)return 1;var N=u[D][C]/u[D][D];m[D]=N;for(var n=D-1;n>=0;n--){u[n][C]-=u[n][D]*N;
u[n][D]=0}}return 0};j.NC.arj=function(u,m,C){var Z=u[m];u[m]=u[C];u[C]=Z};j.NC.a3A=function(u){var m=u.length,C=j.NC.hv(m,m);
for(var D=0;D<m;D++)C[D][D]=u[D];return C};j.NC.ai0=function(u){var m=u.length,C=u[0].length,Z=new Array(m);
for(var D=0;D<m;D++){Z[D]=0;for(var q=0;q<C;q++)Z[D]+=u[D][q];Z[D]/=C}return Z};j.NC.E4=function(u){var m=0;
for(var D=0;D<u.length;D++)m+=u[D]*u[D];return Math.sqrt(m)};j.dZ={};j.dZ.dl=function(u){var m=~~(u+.5);
return m<0?0:m>255?255:m};j.dZ.transform=function(u,m,C){var Z=j.dZ.dl,q=u.p.length;for(var D=0;D<q;
D++){var J=u.p[D],A=u.T[D],n=u.S[D];m.p[D]=Z(C[0]*J+C[1]*A+C[2]*n+C[3]*255);m.T[D]=Z(C[4]*J+C[5]*A+C[6]*n+C[7]*255);
m.S[D]=Z(C[8]*J+C[9]*A+C[10]*n+C[11]*255)}};j.dZ.pz=function(u,m,C){var Z=j.dZ.dl,q=u.length;for(var D=0;
D<q;D+=4){var J=u[D],A=u[D+1],n=u[D+2];m[D]=Z(C[0]*J+C[1]*A+C[2]*n+C[3]*255);m[D+1]=Z(C[4]*J+C[5]*A+C[6]*n+C[7]*255);
m[D+2]=Z(C[8]*J+C[9]*A+C[10]*n+C[11]*255)}};j.dZ.cA=function(u){var m=u[0]+u[1]+u[2],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(m==1){var Z=u.indexOf(1);C[Z]=C[Z+4]=C[Z+8]=1}else{C[0]=u[0];C[5]=u[1];C[10]=u[2]}return C};j.dZ.Z9=function(u,m,C){return[1,0,0,u,0,1,0,m,0,0,1,C,0,0,0,1]};
j.dZ.wV=function(u,m,C){return[u,0,0,0,0,m,0,0,0,0,C,0,0,0,0,1]};j.dZ.asT=function(u){return[u[0],u[1],u[2],u[4],u[5],u[6],u[8],u[9],u[10]]};
j.dZ.Po=function(u){return[u[0],u[1],u[2],0,u[3],u[4],u[5],0,u[6],u[7],u[8],0,0,0,0,1]};j.dZ.lf=function(u,m){return[u[0]*m[0]+u[1]*m[1]+u[2]*m[2]+u[3]*m[3],u[4]*m[0]+u[5]*m[1]+u[6]*m[2]+u[7]*m[3],u[8]*m[0]+u[9]*m[1]+u[10]*m[2]+u[11]*m[3],u[12]*m[0]+u[13]*m[1]+u[14]*m[2]+u[15]*m[3]]};
j.dZ.$E=function(u){var m=[];m[0]=u[0];m[1]=u[4];m[2]=u[8];m[3]=u[12];m[4]=u[1];m[5]=u[5];m[6]=u[9];
m[7]=u[13];m[8]=u[2];m[9]=u[6];m[10]=u[10];m[11]=u[14];m[12]=u[3];m[13]=u[7];m[14]=u[11];m[15]=u[15];
return m};j.dZ.add=function(u,m){var C=u.slice(0);for(var D=0;D<16;D++)C[D]+=m[D];return C};j.dZ.multiply=function(u,m){var C=[];
C[0]=u[0]*m[0]+u[1]*m[4]+u[2]*m[8]+u[3]*m[12];C[1]=u[0]*m[1]+u[1]*m[5]+u[2]*m[9]+u[3]*m[13];C[2]=u[0]*m[2]+u[1]*m[6]+u[2]*m[10]+u[3]*m[14];
C[3]=u[0]*m[3]+u[1]*m[7]+u[2]*m[11]+u[3]*m[15];C[4]=u[4]*m[0]+u[5]*m[4]+u[6]*m[8]+u[7]*m[12];C[5]=u[4]*m[1]+u[5]*m[5]+u[6]*m[9]+u[7]*m[13];
C[6]=u[4]*m[2]+u[5]*m[6]+u[6]*m[10]+u[7]*m[14];C[7]=u[4]*m[3]+u[5]*m[7]+u[6]*m[11]+u[7]*m[15];C[8]=u[8]*m[0]+u[9]*m[4]+u[10]*m[8]+u[11]*m[12];
C[9]=u[8]*m[1]+u[9]*m[5]+u[10]*m[9]+u[11]*m[13];C[10]=u[8]*m[2]+u[9]*m[6]+u[10]*m[10]+u[11]*m[14];C[11]=u[8]*m[3]+u[9]*m[7]+u[10]*m[11]+u[11]*m[15];
C[12]=u[12]*m[0]+u[13]*m[4]+u[14]*m[8]+u[15]*m[12];C[13]=u[12]*m[1]+u[13]*m[5]+u[14]*m[9]+u[15]*m[13];
C[14]=u[12]*m[2]+u[13]*m[6]+u[14]*m[10]+u[15]*m[14];C[15]=u[12]*m[3]+u[13]*m[7]+u[14]*m[11]+u[15]*m[15];
return C};j.dZ.mL=function(u){var m=[];m[0]=u[5]*u[10]*u[15]-u[5]*u[14]*u[11]-u[6]*u[9]*u[15]+u[6]*u[13]*u[11]+u[7]*u[9]*u[14]-u[7]*u[13]*u[10];
m[1]=-u[1]*u[10]*u[15]+u[1]*u[14]*u[11]+u[2]*u[9]*u[15]-u[2]*u[13]*u[11]-u[3]*u[9]*u[14]+u[3]*u[13]*u[10];
m[2]=u[1]*u[6]*u[15]-u[1]*u[14]*u[7]-u[2]*u[5]*u[15]+u[2]*u[13]*u[7]+u[3]*u[5]*u[14]-u[3]*u[13]*u[6];
m[3]=-u[1]*u[6]*u[11]+u[1]*u[10]*u[7]+u[2]*u[5]*u[11]-u[2]*u[9]*u[7]-u[3]*u[5]*u[10]+u[3]*u[9]*u[6];
m[4]=-u[4]*u[10]*u[15]+u[4]*u[14]*u[11]+u[6]*u[8]*u[15]-u[6]*u[12]*u[11]-u[7]*u[8]*u[14]+u[7]*u[12]*u[10];
m[5]=u[0]*u[10]*u[15]-u[0]*u[14]*u[11]-u[2]*u[8]*u[15]+u[2]*u[12]*u[11]+u[3]*u[8]*u[14]-u[3]*u[12]*u[10];
m[6]=-u[0]*u[6]*u[15]+u[0]*u[14]*u[7]+u[2]*u[4]*u[15]-u[2]*u[12]*u[7]-u[3]*u[4]*u[14]+u[3]*u[12]*u[6];
m[7]=u[0]*u[6]*u[11]-u[0]*u[10]*u[7]-u[2]*u[4]*u[11]+u[2]*u[8]*u[7]+u[3]*u[4]*u[10]-u[3]*u[8]*u[6];m[8]=u[4]*u[9]*u[15]-u[4]*u[13]*u[11]-u[5]*u[8]*u[15]+u[5]*u[12]*u[11]+u[7]*u[8]*u[13]-u[7]*u[12]*u[9];
m[9]=-u[0]*u[9]*u[15]+u[0]*u[13]*u[11]+u[1]*u[8]*u[15]-u[1]*u[12]*u[11]-u[3]*u[8]*u[13]+u[3]*u[12]*u[9];
m[10]=u[0]*u[5]*u[15]-u[0]*u[13]*u[7]-u[1]*u[4]*u[15]+u[1]*u[12]*u[7]+u[3]*u[4]*u[13]-u[3]*u[12]*u[5];
m[11]=-u[0]*u[5]*u[11]+u[0]*u[9]*u[7]+u[1]*u[4]*u[11]-u[1]*u[8]*u[7]-u[3]*u[4]*u[9]+u[3]*u[8]*u[5];m[12]=-u[4]*u[9]*u[14]+u[4]*u[13]*u[10]+u[5]*u[8]*u[14]-u[5]*u[12]*u[10]-u[6]*u[8]*u[13]+u[6]*u[12]*u[9];
m[13]=u[0]*u[9]*u[14]-u[0]*u[13]*u[10]-u[1]*u[8]*u[14]+u[1]*u[12]*u[10]+u[2]*u[8]*u[13]-u[2]*u[12]*u[9];
m[14]=-u[0]*u[5]*u[14]+u[0]*u[13]*u[6]+u[1]*u[4]*u[14]-u[1]*u[12]*u[6]-u[2]*u[4]*u[13]+u[2]*u[12]*u[5];
m[15]=u[0]*u[5]*u[10]-u[0]*u[9]*u[6]-u[1]*u[4]*u[10]+u[1]*u[8]*u[6]+u[2]*u[4]*u[9]-u[2]*u[8]*u[5];var C=u[0]*m[0]+u[1]*m[4]+u[2]*m[8]+u[3]*m[12];
for(var D=0;D<16;D++)m[D]/=C;return m};j.dZ.a8H=function(u){var m=[],C=u[5]*u[10]*u[15]-u[5]*u[14]*u[11]-u[6]*u[9]*u[15]+u[6]*u[13]*u[11]+u[7]*u[9]*u[14]-u[7]*u[13]*u[10],Z=-u[4]*u[10]*u[15]+u[4]*u[14]*u[11]+u[6]*u[8]*u[15]-u[6]*u[12]*u[11]-u[7]*u[8]*u[14]+u[7]*u[12]*u[10],q=u[4]*u[9]*u[15]-u[4]*u[13]*u[11]-u[5]*u[8]*u[15]+u[5]*u[12]*u[11]+u[7]*u[8]*u[13]-u[7]*u[12]*u[9],J=-u[4]*u[9]*u[14]+u[4]*u[13]*u[10]+u[5]*u[8]*u[14]-u[5]*u[12]*u[10]-u[6]*u[8]*u[13]+u[6]*u[12]*u[9];
return u[0]*C+u[1]*Z+u[2]*q+u[3]*J};j.dZ.bj=j.dZ.Po([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
j.dZ.ao3=j.dZ.Po([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
j.dZ.auv=j.dZ.mL(j.dZ.bj);j.A5={};j.A5.b_=new Uint32Array(1);j.A5.j7=function(u,m,C,Z,q,J){var A=new Uint32Array(u),n=0,N=j.A5.b_;
if(N.length<m*4)j.A5.b_=N=new Uint32Array(m*4);var e=new Float64Array(N.buffer);for(var D=0;D<m;D+=2){var Q=q[D],p=q[D+1],B=J[D],$=J[D+1];
N[n]=p;e[n+2>>1]=B;N[n+1]=A[Q];A[Q]=n+1;n+=4;N[n]=Q;e[n+2>>1]=$;N[n+1]=A[p];A[p]=n+1;n+=4}return{ZJ:N,a8P:e,a42:A}};
j.A5.WM=function(u,m,C,Z,q,J,A){var n=1,N=j.A5.j7(u,m,C,Z,q,J),e=N.ZJ,Q=N.a8P,p=N.a42,B=new Uint32Array(u),$=new j.A5.Yh(u),z=1,o=0;
$.push(C);$.push(Z);var R=new j.A5.Yh(u),v=new Uint8Array(u),a=new Uint32Array(u);v[C]=1;v[Z]=2;var X=new Uint32Array(u),V=new Uint32Array(u);
V[C]=V[Z]=0;X[C]=X[Z]=1;while(!0){var h=-1,S=0,_=1e30;while(!$.oY()&&h==-1){var T=$.top(),l=v[T],w=p[T]-1;
while(w!=-1){var W=e[w],U=v[W],s=w^l-1<<2;if(Q[s+2>>1]!=0){if(U==0){j.A5.TT(T,w,W,v,a,V,X);$.push(W)}else if(U==l&&X[W]<=X[T]&&V[W]>V[T])j.A5.TT(T,w,W,v,a,V,X);
else if(U!=l){h=s}}w=e[w+1]-1}if(h!=-1)break;$.pop()}if(h==-1){break}z++;var x=h;while(x!=-1){B[S]=x;
S++;x=a[e[x^4]]-1}var P=S>>1;for(var D=0;D<P;D++){var y=B[D];B[D]=B[S-D-1];B[S-D-1]=y}x=a[e[h]]-1;while(x!=-1){B[S]=x^4;
S++;x=a[e[x^4]]-1}for(var D=0;D<S;D++)_=Math.min(_,Q[B[D]+2>>1]);o+=_;if(o>=A)return{oM:null,Ba:o};for(var D=0;
D<S;D++){var g=B[D],G=g^4,T=e[G],W=e[g];Q[g+2>>1]-=_;Q[G+2>>1]+=_;if(Q[g+2>>1]==0&&v[T]==v[W]){if(v[T]==1){a[W]=0;
R.push(W)}if(v[T]==2){a[T]=0;R.push(T)}}}while(!R.oY()){var T=R.pop(),l=v[T],w=p[T]-1,O=l==1?4:0,E=0,L=0,c=1e9;
while(w!=-1){var W=e[w],k=w^4,s=w^O;if(v[W]==l&&Q[s+2>>1]>0&&j.A5.a4a(W,C,Z,a,e,z,X,V)+1<c){E=W;L=k;
c=V[W]+1}w=e[w+1]-1}if(L!=0){j.A5.TT(E,L,T,v,a,V,X);continue}w=p[T]-1;while(w!=-1){var W=e[w],s=w^O;
if(v[W]==l){if(Q[s+2>>1]>0){$.push(W)}if(a[W]==w+1){a[W]=0;R.push(W)}}w=e[w+1]-1}v[T]=0;$.remove(T)}}var I=[];
for(var D=0;D<m;D+=2){var T=q[D],W=q[D+1];if(v[T]==1&&v[W]!=1){I.push(D>>1)}if(v[W]==1&&v[T]!=1){I.push(m+D>>1)}}return{oM:I,Ba:o}};
j.A5.TT=function(u,m,C,Z,q,J,A){Z[C]=Z[u];q[C]=m+1;J[C]=J[u]+1;A[C]=A[u]};j.A5.a4a=function(u,m,C,Z,q,J,A,n){var N=u,e=Z[u]-1,Q=0;
while(e!=-1&&A[u]!=J){u=q[e^4];e=Z[u]-1;Q++}if(e==-1&&u!=m&&u!=C)return 1e9;var p=n[u]+Q;Q=0;e=Z[N]-1;
while(N!=u){n[N]=p-Q;Q++;A[N]=J;N=q[e^4];e=Z[N]-1}return p};j.A5.ai4=function(u,m,C,Z,q,J){var A=j.A5.j7(u,m,C,Z,q,J),n=A.ZJ,N=A.a8P,e=A.a42,Q=0,p=0,B=new Uint32Array(u*2),$=new j.A5.ZW(u),R=0;
while(!0){$.reset();$.push(C);for(var D=0;D<u;D++)B[D<<1]=0;while(!$.oY()){var z=$.pop(),v=e[z]-1;while(v!=-1){R=n[v];
if(B[R<<1]==0&&N[v+2>>1]>0&&R!=C){B[R<<1]=z+1;B[(R<<1)+1]=v;$.push(R)}v=n[v+1]-1}if(B[Z<<1]!=0){break}}if(B[Z<<1]==0){break}var a=1e30;
R=Z;while(!0){var X=B[R<<1]-1;if(X==-1)break;var V=B[(R<<1)+1];a=Math.min(a,N[V+2>>1]);R=X}R=Z;while(!0){var X=B[R<<1]-1;
if(X==-1)break;var V=B[(R<<1)+1],o=V^4;N[V+2>>1]-=a;N[o+2>>1]+=a;R=X}Q+=a}var h=[];for(var D=0;D<m;D+=2){var X=q[D],R=q[D+1];
if((B[X<<1]!=0||X==C)&&B[R<<1]==0&&R!=C){h.push(D>>1)}if((B[R<<1]!=0||R==C)&&B[X<<1]==0&&X!=C){h.push(m+D>>1)}}return{oM:h,Ba:Q}};
j.A5.ZW=function(u){u|=u>>1;u|=u>>2;u|=u>>4;u|=u>>8;u|=u>>16;this.Pn=new Uint32Array(u+1);this.RV=u;
this.ys=0;this.WY=0};j.A5.ZW.prototype={push:function(u){var m=this.WY;this.Pn[m]=u;this.WY=m+1&this.RV},pop:function(){var u=this.ys,m=this.Pn[u];
this.ys=u+1&this.RV;return m},oY:function(){return this.ys==this.WY},reset:function(){this.ys=0;this.WY=0}};
j.A5.Yh=function(u){u|=u>>1;u|=u>>2;u|=u>>4;u|=u>>8;u|=u>>16;this.Pn=new Uint32Array(u+1);this.QL=new Uint32Array(u+1);
this.RV=u;this.ys=0;this.WY=0};j.A5.Yh.prototype={top:function(){return this.Pn[this.ys]},aeu:function(){return this.Pn[this.WY]},push:function(u){if(this.QL[u]!=0)return;
this.QL[u]=this.WY+1;var m=this.WY;this.Pn[m]=u;this.WY=m+1&this.RV},pop:function(){var u=this.ys,m=this.Pn[u];
this.QL[m]=0;this.ys=u+1&this.RV;return m},oY:function(){return this.ys==this.WY},remove:function(u){var m=this.QL[u]-1;
if(m==-1)return;this.QL[u]=0;if(m==this.ys){this.pop();return}var C=this.pop();this.Pn[m]=C;this.QL[C]=m+1},Nl:function(D){return D+this.RV+1&this.RV}};
j.A5.fw=function(u,m,C){var Z=j.A5.SV(u,m,C);if(m<Z-1)j.A5.fw(u,m,Z-1);if(Z<C)j.A5.fw(u,Z,C)};j.A5.SV=function(u,m,C){var Z=u[m+C>>>1];
while(m<=C){while(u[m]<Z)m++;while(u[C]>Z)C--;if(m<=C){j.A5.nX(u,m,C);m++;C--}}return m};j.A5.nX=function(u,m,C){var Z=u[m];
u[m]=u[C];u[C]=Z};j.xK={};j.xK.ajt=function(u){for(var D=0;D<u.length;D++)j.xK.$T(u,D)};j.xK.$T=function(u,D){u[D].v.keyShapeInvalidated={t:"bool",v:!0}};
j.xK.adj=function(u){for(var D=0;D<u.length;D++)u[D].v.keyOriginIndex.v=D};j.xK.LW=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
j.xK.wq=function(u){u=u.v;var m={Rctn:2,Ln:4,Elps:5},C=m[u.classID],Z=u.topLeft?j.xK.zC(u):null,q=null,J=0,A=[!1,!1,0,0,0];
if(C==4){var n=u.Strt.v,N=u.End.v;q=[n.Hrzn.v.val,n.Vrtc.v.val,N.Hrzn.v.val,N.Vrtc.v.val];J=u.Wdth.v.val;
for(var D=0;D<2;D++){var e=u[D==0?"StrA":"EndA"];if(e==null)continue;e=e.v;A[D]=e.On.v;A[2]=e.Wdth.v;
A[3]=e.Lngt.v;A[4]=e.Cncv.v.val}}if(C==null)return null;return j.xK.JK(C,C==4?null:j.xK.z5(u),Z,q,J,A)};
j.xK.LO=function(u,m,C,Z,q,J,A){var n={classID:u,unitValueQuadVersion:{t:"long",v:1}};if(m)j.xK.WK(n,["Left","Top","Rght","Btom"],m);
if(C)j.xK.WK(n,["topLeft","topRight","bottomRight","bottomLeft"],C);if(u=="Ln"){n.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:Z[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:Z[1]}}}},n.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:Z[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:Z[3]}}}},n.Wdth={t:"UntF",v:{type:"#Pxl",val:q}};
for(var D=0;D<2;D++){var N=D==0?"StrA":"EndA";n[N]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:A[D]},Wdth:{t:"doub",v:A[2]},Lngt:{t:"doub",v:A[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:A[4]}}}}}}if(J)n.Nm={t:"TEXT",v:J};
return{t:"Objc",v:n}};j.xK.sf=function(u,m){var C=j.xK.pA(u),Z=u[2]-u[0],q=u[3]-u[1],J=Math.sqrt(Z*Z+q*q),A=[0,0,J,0,J,m,0,m],n=new ix;
n.rotate(-C);n.translate(u[0],u[1]);j.u.I(A,n,A);return A};j.xK.JK=function(u,m,C,Z,q,J){var A=j.xK.LW(),n=A.v,N;
delete n.keyShapeInvalidated;n.keyOriginType={t:"long",v:u};n.keyOriginResolution={t:"doub",v:75};if(u==4){n.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:Z[0]},Vrtc:{t:"doub",v:Z[1]}}};
n.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:Z[2]},Vrtc:{t:"doub",v:Z[3]}}};N=j.xK.sf(Z,q);
var e=j.u.Of(N);m=[e.x,e.y,e.x+e.e,e.y+e.n];n.keyOriginLineWeight={t:"doub",v:q};if(J)j.xK.a6u(n,J)}else N=[m[0],m[1],m[2],m[1],m[2],m[3],m[0],m[3]];
n.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};j.xK.sl(n,"keyOriginBoxCorners",N);var Q={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
n.keyOriginShapeBBox={t:"Objc",v:Q};j.xK.Pg(n,m);if(C!=null){var p={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
n.keyOriginRRectRadii={t:"Objc",v:p};j.xK.d5(n,C)}return A};j.xK.I=function(u,m,C,Z){var q=j.N.Px(m),J=j.N.Om(m);
for(var D=0;D<u.length;D++){var A=u[D].v;if(!j.xK.f7(A))continue;if(C.length!=0&&C.indexOf(D)==-1)continue;
var n=A.keyOriginType.v,N=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];for(var e=0;e<N.length;
e++){var Q=j.xK.XC(A,N[e]);if(Q==null)continue;j.N.I(m,Q);j.xK.sl(A,N[e],Q);var p=j.u.Of(Q);j.xK.Pg(A,[p.x,p.y,p.x+p.e,p.y+p.n]);
var B=new ix;B.rotate(-j.xK.pA(Q));var $={classID:"Trnf"};A.Trnf={t:"Objc",v:$};var R="xx xy yx yy tx ty".split(" "),z=[B.w7,B.S,B.ZU,B.MX,B.GI,B.c_];
for(var v=0;v<6;v++)$[R[v]]={t:"doub",v:z[v]}}var Q=j.xK.XC(A,"keyOriginBoxCorners"),a=Q[2]-Q[0],X=Q[3]-Q[1],V=Math.sqrt(a*a+X*X);
a/=V;X/=V;var o=Q[6]-Q[0],h=Q[7]-Q[1],T=Math.sqrt(o*o+h*h);o/=T;h/=T;if(n==4){A.keyOriginLineWeight.v=T;
var l=j.xK.ly(A);j.N.I(m,l);j.xK.a49(A,l)}var w=a*o+X*h;if(Math.abs(w)>.001){j.xK.$T(u,D)}}};j.xK.f7=function(u){var m=u.keyShapeInvalidated,C=u.keyOriginType;
return(m==null||!m.v)&&C!=null&&C.v!=9};j.xK.arN=function(u){var m=u.keyOriginType.v,C=j.xK.i_(u),Z=C[0],q=C[1],J=C[2],A=C[3],n=new ix,N=u.keyOriginPolyCornerRadius,$;
N=N?N.v:0;var e=j.xK.XC(u,m==7||m==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),Q=j.xK.w4(e),p=Q[2],B=Q[3];
Z=-p/2;J=p/2;q=-B/2;A=B/2;n.rotate(-j.xK.pA(e));n.GI=Q[0];n.c_=Q[1];if(m==1||m==2){var R=m==1?0:j.xK.D7(u);
$=j.$.i5.Rect(Z,q,J-Z,A-q,R)}else if(m==4){var z=j.xK.ly(u),v=j.xK.a8g(u);n=new ix;if(v==null)$=j.$.i5.Bw(z[0],z[1],z[2],z[3],u.keyOriginLineWeight.v);
else $=j.$.i5.Tl(z[0],z[1],z[2],z[3],u.keyOriginLineWeight.v,v)}else if(m==5){$=j.$.i5.y$(Z,q,J-Z,A-q)}else if(m==7||m==8){var a=m==7?3:u.keyOriginPolySides.v;
$=j.$.i5.Ph(0,0,100,Math.PI/a-Math.PI/2,a,N,J,A)}j.$.l0($,n);return $};j.xK.VH=function(u,m){var C=m.B;
for(var D=0;D<u.length;D++){var Z=u[D].v;if(!j.xK.f7(Z))continue;var q=j.xK.arN(Z),J=j.$.I9(C,D),A=j.$.lN(C,D);
q[2].hB=C[J].hB;var n=C;C=C.slice(0,J);for(var N=2;N<q.length;N++)C.push(q[N]);for(var N=J+A;N<n.length;
N++)C.push(n[N])}m.B=C;m.hf=!0};j.xK.GG=function(u){var m=1e9,C=-m,Z=1e9,q=-Z,J=[],A=u.yG(),n=A[0],N=A[1];
for(var e=0;e<N.length;e++){var Q=n[N[e]],p=Q.add.vogk;if(p==null)continue;var B=Q.add.vmsk.w;for(var $=0;
$<p.length;$++){var R=p[$].v,a=0;if(!j.xK.f7(R))continue;if(N.length==1&&B.length!=0&&B.indexOf($)==-1)continue;
var z=R.keyOriginType.v;if(z==9)continue;var v=j.xK.i_(R);m=Math.min(m,v[0]);Z=Math.min(Z,v[1]);C=Math.max(C,v[2]);
q=Math.max(q,v[3]);var X=j.xK.XC(R,"keyOriginBoxCorners");if(X){var V=j.xK.w4(X),o=V[2],h=V[3];v[2]=v[0]+o;
v[3]=v[1]+h;a=j.xK.pA(X)}var T=[z,v,a];J.push(T);if(z==2)T.push(j.xK.D7(R));if(z==7||z==8)T.push(R.keyOriginPolyCornerRadius.v);
if(z==8)T.push(R.keyOriginPolySides.v)}}return J.length==1?J[0]:[0,m<C?[m,Z,C,q]:null,0]};j.xK.pA=function(u){var m=u[2]-u[0],C=u[3]-u[1];
return-Math.atan2(-C,m)};j.xK.adH=function(u,m){var C=j.xK.GG(u),Z=-1;for(var D=0;D<m.length;D++)if(JSON.stringify(m[D])!=JSON.stringify(C[D]))Z=D;
if(Z==1||Z==2){}var q=u.yG(),J=q[0],A=q[1];for(var n=0;n<A.length;n++){var N=J[A[n]],e=N.add.vogk;if(e==null)continue;
var Q=N.add.vmsk.w;for(var p=0;p<e.length;p++){var B=e[p].v;if(!j.xK.f7(B))continue;if(A.length==1&&Q.length!=0&&Q.indexOf(p)==-1)continue;
var $=B.keyOriginType.v;if(Z==1||Z==2){j.xK.I(e,j.xK.abh(Z,B,C,m),Q,!1);break}if(Z==3)if($==2)j.xK.d5(B,m[3]);
else B.keyOriginPolyCornerRadius.v=m[3];if(Z==4)B.keyOriginPolySides.v=m[4]}}};j.xK.abh=function(u,m,C,Z){var q=Z[1],J=C[1],A=(q[2]-q[0])/(J[2]-J[0]),n=(q[3]-q[1])/(J[3]-J[1]),N=new ix;
if(u==1){if(Math.max(Math.abs(A-1),Math.abs(n-1))>1e-8){var e=q[0],Q=q[1];if(Z[0]!=0){var p=j.xK.XC(m,"keyOriginBoxCorners");
e=p[0];Q=p[1]}N.translate(-e,-Q);N.rotate(Z[2]);N.scale(A,n);N.rotate(-Z[2]);N.translate(e,Q)}else{N.translate(-J[0],-J[1]);
N.translate(q[0],q[1])}}else{if(Z[0]!=0)q=j.xK.i_(m);var e=(q[0]+q[2])/2,Q=(q[1]+q[3])/2;N.translate(-e,-Q);
if(C[0]!=0)N.rotate(C[2]);N.rotate(-Z[2]);N.translate(e,Q)}return j.N.S4(N)};j.xK.w4=function(u){var m=u[0],C=u[1],Z=u[2],q=u[3],J=u[4],A=u[5],n=u[6],N=u[7],e=Z-m,Q=q-C,p=Math.sqrt(e*e+Q*Q),e=J-Z,Q=A-q,B=Math.sqrt(e*e+Q*Q);
return[(m+J)/2,(C+A)/2,p,B]};j.xK.XC=function(u,m){var C=u[m];if(C==null)return null;var Z=[];C=C.v;
for(var q=0;q<4;q++){var J=C["rectangleCorner"+["A","B","C","D"][q]].v;Z.push(J.Hrzn.v,J.Vrtc.v)}return Z};
j.xK.sl=function(u,m,C){var Z=u[m];if(Z==null)return null;Z=Z.v;for(var q=0;q<4;q++){var J="rectangleCorner"+["A","B","C","D"][q];
Z[J]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:C[2*q]},Vrtc:{t:"doub",v:C[2*q+1]}}}}};j.xK.i_=function(u){return j.xK.z5(u.keyOriginShapeBBox.v)};
j.xK.z5=function(u){var m=u.classID,C=u.Left.v,Z=u.Rght.v,q=u.Top.v,J=u.Btom.v;if(m=="unitRect"||m=="radii"||m=="Rctn"){C=C.val;
Z=Z.val;q=q.val;J=J.val}return[C,q,Z,J]};j.xK.Pg=function(u,m){j.xK.WK(u.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],m)};
j.xK.D7=function(u){return j.xK.zC(u.keyOriginRRectRadii.v)};j.xK.zC=function(u){var m=[],C=["topLeft","topRight","bottomRight","bottomLeft"];
for(var Z=0;Z<4;Z++)m.push(u[C[Z]].v.val);return m};j.xK.d5=function(u,m){j.xK.WK(u.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],m)};
j.xK.WK=function(u,m,C){var Z=u.classID;if(Z=="unitRect"||Z=="radii"||Z=="Rctn"){for(var D=0;D<4;D++)if(C[D]!=null)u[m[D]]={t:"UntF",v:{type:"#Pxl",val:C[D]}}}else{for(var D=0;
D<4;D++)if(C[D]!=null)u[m[D]]={t:"doub",v:C[D]}}};j.xK.ly=function(u){var m=u.keyOriginLineStart.v,C=u.keyOriginLineEnd.v;
return[m.Hrzn.v,m.Vrtc.v,C.Hrzn.v,C.Vrtc.v]};j.xK.a49=function(u,m){var C=u.keyOriginLineStart.v,Z=u.keyOriginLineEnd.v;
C.Hrzn.v=m[0];C.Vrtc.v=m[1];Z.Hrzn.v=m[2];Z.Vrtc.v=m[3]};j.xK.a8g=function(u){var m=[],C=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var D=0;D<5;D++){var Z=u["keyOriginLineArr"+C[D]];if(Z==null)return null;m[D]=Z.v}return m};j.xK.a6u=function(u,m){u.keyOriginLineArrowSt={t:"bool",v:m[0]};
u.keyOriginLineArrowEnd={t:"bool",v:m[1]};u.keyOriginLineArrWdth={t:"doub",v:m[2]};u.keyOriginLineArrLngth={t:"doub",v:m[3]};
u.keyOriginLineArrConc={t:"long",v:m[4]}};j.u={};j.u.clone=function(u){return{X:u.X.slice(0),s:u.s.slice(0)}};
j.u.Yx=function(u){if(u.length<6)return!0;var m=u.length-4;for(var D=0;D<m;D+=2)if(!j.u.dp(u[D],u[D+1],u[D+2],u[D+3],u[D+4],u[D+5]))return!1;
if(!j.u.dp(u[m],u[m+1],u[m+2],u[m+3],u[0],u[1]))return!1;if(!j.u.dp(u[m+2],u[m+3],u[0],u[1],u[2],u[3]))return!1;
return!0};j.u.dp=function(u,m,C,Z,q,J){return(m-Z)*(q-C)+(C-u)*(J-Z)>=0};j.u.jc=function(u){var m={},C=null,Z=0,q={M:2,L:2,Q:4,C:6};
for(var D=0;D<u.X.length;D++){var J=u.X[D];if(J.charAt(0)=="#"){if(m[J]==null)m[J]={s:[],X:[]};C=m[J]}else if(J!="X"){C.X.push(J);
var A=q[J];if(A==null)A=0;for(var n=0;n<A;n++)C.s.push(u.s[Z+n]);Z+=A}}return m};j.u.DA=function(u,m,C){u=j.u.Vv(u);
var Z=u.s,q=u.X,J=0,A=[],n=null;for(var D=0;D<q.length;D++){var N=q[D];if(N=="M"){n={tO:J,PV:0,g5:!1};
A.push(n);J+=2}if(N=="C"){n.PV++;J+=6}if(N=="Z"&&n!=null){n.g5=!0}}var e=[];for(var D=0;D<A.length;D++)if(A[D].PV!=0)e.push(A[D]);
A=e;for(var D=0;D<A.length;D++){var Q=A[D],p=Q.tO,B=p+2+Q.PV*6,R=0;Q.hF=j.u.Of(Z,p,B);var $=Z[p]==Z[B-2]&&Z[p+1]==Z[B-1];
for(var z=0;z<Q.PV;z++){var v=p+z*6,a=v+6;R+=(Z[a]-Z[v])*(Z[a+1]+Z[v+1])}if(Q.PV==2){var X=function(Y,K,i){var i4=1-i;
return i4*i4*i4*Y[K]+3*i4*i4*i*Y[K+2]+3*i4*i*i*Y[K+4]+i*i*i*Y[K+6]},V=Z[p],o=Z[p+1],h=Z[p+6],T=Z[p+7],l=Z[p+6],w=Z[p+7],W=X(Z,p,.5),U=X(Z,p+1,.5),s=X(Z,p+6,.5),S=X(Z,p+7,.5);
R=(W-V)*(U-o)+(h-W)*(T-U)+(s-h)*(S-T)+(l-s)*(w-S)}if(!$)R+=(Z[p]-Z[B-2])*(Z[p+1]+Z[B-1]);Q.ty=R<=0}for(var D=0;
D<A.length-1;D++)for(var v=D+1;v<A.length;v++){var x=A[D],P=A[v];if(P.hF.hd(x.hF)){A[D]=P;A[v]=x}}var y=A.length==0?!0:A[0].ty,_=[{type:6},{type:8,all:0}];
for(var D=0;D<A.length;D++){var Q=A[D],p=Q.tO,B=p+2+Q.PV*6,$=Z[p]==Z[B-2]&&Z[p+1]==Z[B-1],g=Q.g5||$?0:3,G=Q.ty==y&&!m?1:0;
if(!m&&D!=0){if(A[D-1].hF.hd(Q.hF)&&A[D-1].ty!=Q.ty)G=0;for(var v=0;v<A.length;v++)if(v!=D&&A[v].hF.hd(Q.hF))G=0}_.push({type:g,length:Q.PV+($?0:1),hB:C?1:G,sF:2});
for(var v=0;v<Q.PV;v++){var J=p+v*6,O=new dz(Z[J],Z[J+1]),E=new dz(Z[J+2],Z[J+3]),L;if(v==0){if($)L=new dz(Z[B-4],Z[B-3]);
else L=O.clone()}else L=new dz(Z[J-2],Z[J-1]);_.push({type:g+2,Rv:L,A:O,wm:E})}if(!$){var c=new dz(Z[B-2],Z[B-1]);
_.push({type:g+2,Rv:new dz(Z[B-4],Z[B-3]),A:c,wm:c.clone()})}}for(var v=0;v<_.length;v++){var k=_[v];
if(k.type>5||k.type==0||k.type==3)continue;var I=k.Rv.QV(k.A)||k.wm.QV(k.wm);if(!I){var x=k.Rv.x*(k.A.y-k.wm.y)+k.A.x*(k.wm.y-k.Rv.y)+k.wm.x*(k.Rv.y-k.A.y);
if(Math.abs(x)<1e-6)I=!0}if(I)k.type--}return _};j.u.se=function(u,m){var C=j.$.o1(u),Z=!1;for(var D=2;
D<u.length;D++){var q=u[D].hB;if(q!=null){if(q==2||q==0||q==3)Z=!0}}if((Z||m)&&u.length<15e3&&C>1)u=j.$.R_(u);
var J=j.u.Hh(u);return{TJ:J,BR:Z?1:0}};j.u.Hh=function(){function u(Z,q,J,A){if(!A&&Z.wm.QV(Z.A)&&q.Rv.QV(q.A)){J.s.push(q.A.x,q.A.y);
J.X.push("L")}else{J.s.push(Z.wm.x,Z.wm.y,q.Rv.x,q.Rv.y,q.A.x,q.A.y);J.X.push("C")}}function m(Z,q,D,J,A,n){var N=q[D];
Z.s.push(N.A.x,N.A.y);Z.X.push("M");for(var e=D;e<D+J-1;e++)u(q[e],q[e+1],Z,n);if(!A)u(q[e],q[D],Z,n)}function C(Z,q){if(q==null)q=!1;
var J={s:[],X:[]};for(var D=0;D<Z.length;D++){if(Z[D].type>5)continue;var A=Z[D].length;if(A==0)continue;
if(D==Z.length-1)break;var n=Z[D].type==3;m(J,Z,D+1,A,n,q);if(!n)J.X.push("Z");D+=A}return J}return C}();
j.u.atr=function(u){var m=u.s,C=[],Z,q=0;for(var D=0;D<u.X.length;D++){var J=u.X[D];if(J=="C"){Z.push(m[q++],m[q++],m[q++],m[q++],m[q++],m[q++])}else if(J=="Z"){}else{Z=[];
if(J!="M"){Z.push(J);D++}Z.push(m[q++],m[q++]);C.push(Z)}}return C};j.u.YY=function(u,m,C,Z){if(Z==null)Z=1e9;
var q=1e9,J=0;for(var D=0;D<u.length;D+=2){var A=m-u[D],n=C-u[D+1],N=A*A+n*n;if(N<q){q=N;J=D>>>1}}return q<Z*Z?J:-1};
j.u.z4=function(u,m,C,Z){for(var D=0;D<u.length;D+=2){var q=u[D],J=u[D+1],A=m[D],n=m[D+1];C[D]=q+(A-q)*Z;
C[D+1]=J+(n-J)*Z}};j.u.I=function(u,m,C){for(var D=0;D<u.length;D+=2){var Z=u[D],q=u[D+1];C[D]=Z*m.w7+q*m.ZU+m.GI;
C[D+1]=Z*m.S+q*m.MX+m.c_}};j.u.Of=function(u,m,C){if(m==null)m=0;if(C==null)C=u.length;var Z=99999999999,q=-Z,J=99999999999,A=-J;
for(var D=m;D<C;D+=2){var n=u[D],N=u[D+1];Z=Math.min(Z,n);J=Math.min(J,N);q=Math.max(q,n);A=Math.max(A,N)}return new bl(Z,J,q-Z,A-J)};
j.u.FS=function(u,m){var C=Math.max(m.x,Math.min(m.x+m.e,u.x)),Z=Math.max(m.y,Math.min(m.y+m.n,u.y)),q=u.x-C,J=u.y-Z;
return Math.sqrt(q*q+J*J)};j.u.wu=function(u){if(u.qR())return new bl(Math.floor(u.x),Math.floor(u.y),Math.ceil(u.e),Math.ceil(u.n));
var m=Math.floor(u.x),C=Math.ceil(u.x+u.e),Z=Math.floor(u.y),q=Math.ceil(u.y+u.n);return new bl(m,Z,C-m,q-Z)};
j.u.aO=function(u){return j.u.wu(j.u.Of(u))};j.u.yj=function(u){var m=u.x,C=u.y,Z=u.x+u.e,q=u.y+u.n;
return{X:["M","L","L","L","Z"],s:[m,C,Z,C,Z,q,m,q]}};j.u.concat=function(u,m,C){if(C==null)C=new ix;
for(var D=0;D<m.s.length;D+=2){var Z=m.s[D],q=m.s[D+1];u.s.push(Z*C.w7+q*C.ZU+C.GI);u.s.push(Z*C.S+q*C.MX+C.c_)}for(var D=0;
D<m.X.length;D++)u.X.push(m.X[D])};j.u.Vv=function(u){var m=u.s,C=[],Z=[],q=0,J=0,A=0,n=0,N=0,e=0,Q=0,p=0,B=0;
for(var D=0;D<u.X.length;D++){var $=u.X[D];if($=="M"){J=m[q];A=m[q+1];q+=2;Z.push($);C.push(J,A)}else if($=="C"){n=m[q];
N=m[q+1];e=m[q+2];Q=m[q+3];p=m[q+4];B=m[q+5];q+=6;Z.push($);C.push(n,N,e,Q,p,B);J=p;A=B}else if($=="Q"){n=m[q];
N=m[q+1];e=m[q+2];Q=m[q+3];q+=4;var R=n-J,z=N-A,v=e-n,a=Q-N;Z.push("C");C.push(J+2/3*R,A+2/3*z,n+1/3*v,N+1/3*a,e,Q);
J=e;A=Q}else if($=="L"){n=m[q];N=m[q+1];q+=2;var X=n-J,V=N-A;Z.push("C");C.push(J,A,n,N,n,N);J=n;A=N}else Z.push($)}return{X:Z,s:C}};
j.u.amV=function(u){var m=u.s,C=[],Z=[],q=0;for(var D=0;D<u.X.length;D++){var J=u.X[D];if(J=="Q"){var A=m[q-2],n=m[q-1],N=m[q],e=m[q+1],Q=m[q+2],p=m[q+3];
q+=4;var B=N-A,$=e-n,R=Q-N,z=p-e;Z.push("C");C.push(A+2/3*B,n+2/3*$,N+1/3*R,e+1/3*z,Q,p)}else{var v=0;
if(J=="M"||J=="L")v=2;else if(J=="C")v=6;for(var a=0;a<v;a++)C.push(m[q+a]);q+=v;Z.push(J)}}return{X:Z,s:C}};
j.u.JO=function(u,m){var C=u.s,Z=[],q=[],J=0,A=0,n=0,N=0,e=0,Q=0,p=0,B=0,$=0;for(var D=0;D<u.X.length;
D++){var R=u.X[D];if(R=="M"){A=C[J];n=C[J+1];J+=2;q.push(R);Z.push(A,n)}else if(R=="C"){N=C[J];e=C[J+1];
Q=C[J+2];p=C[J+3];B=C[J+4];$=C[J+5];J+=6;j.u.tf(A,n,N,e,Q,p,B,$,m,q,Z,0);A=B;n=$}else q.push(R)}return{X:q,s:Z}};
j.u.tf=function(u,m,C,Z,q,J,A,n,N,e,Q,p){var B=Math.sqrt((A-u)*(A-u)+(n-m)*(n-m)),$=Math.sqrt((A-q)*(A-q)+(n-J)*(n-J))+Math.sqrt((q-C)*(q-C)+(J-Z)*(J-Z))+Math.sqrt((C-u)*(C-u)+(Z-m)*(Z-m)),R=(B+$)/2;
if(R<=N){e.push("C");Q.push(C,Z,q,J,A,n)}else{var z=0,v=0,a=0,X=0,V=0,o=0,h=0,T=0,l=0,w=0,W=0,U=0,s=0;
v=(u+C)/2;a=(m+Z)/2;X=(C+q)/2;V=(Z+J)/2;o=(q+A)/2;h=(J+n)/2;T=(v+X)/2;l=(a+V)/2;w=(X+o)/2;W=(V+h)/2;
U=(T+w)/2;s=(l+W)/2;j.u.tf(u,m,v,a,T,l,U,s,N,e,Q,p+1);j.u.tf(U,s,w,W,o,h,A,n,N,e,Q,p+1)}};j.u.VS=function(u,m,C,Z,q){var J=Date.now(),A=j.u.ahd(u,m,C);
if(q){console.log("trace polygons",Date.now()-J);J=Date.now()}var n=[];for(var D=0;D<A.length;D++){var N=A[D],e=N[0],Q=["M"],p=u[e[1]*m+e[0]];
if(e.length>8)e=j.u.cw(e,Z,N[1]);if(e.length<=4)continue;for(var B=2;B<e.length;B+=2)Q.push("L");Q.push("Z");
n.push({path:{s:e,X:Q},color:p,parent:-1,hF:j.u.Of(e)})}if(q){console.log("simplify polygons",Date.now()-J);
J=Date.now()}for(var D=1;D<n.length;D++){var $=n[D].hF;for(var B=D-1;B>=0;B--)if(n[B].hF.hd($)){n[D].parent=B;
break}}if(q){console.log("checking parents",Date.now()-J);J=Date.now()}return n};j.u.ahd=function(u,m,C){var Z=m*C,q=new Uint16Array(m*C),A=0;
for(var D=0;D<Z;D++)q[D]=u[D];var J=new Uint8Array(m*C);J[1*m+1]=J[(C-1)*m+1]=J[1*m+m-1]=J[(C-1)*m+m-1]=1;
for(var n=1;n<C;n++)for(var N=1;N<m;N++){var D=n*m+N,e=q[D-m-1],Q=q[D-m],p=q[D-1],B=q[D],$=e==B&&Q==p&&e!=Q,R=0;
if(B<p){A=B;B=p;p=A}if(p<Q){A=p;p=Q;Q=A}if(Q<e){A=Q;Q=e;e=A}if(B<p){A=B;B=p;p=A}if(p<Q){A=p;p=Q;Q=A}if(B<p){A=B;
B=p;p=A}if(e!=Q)R++;if(Q!=p)R++;if(p!=B)R++;if(B!=e)R++;if(R>=3||$)J[D]=1}var z=[];for(var n=1;n<C;n++)for(var N=1;
N<m;N++){var D=n*m+N;if(q[D]!=q[D-1]){var v=j.u.a2H(q,m,C,N,n),a=[];for(var X=0;X<v.length;X+=2)if(J[v[X+1]*m+v[X]]==1)a.push(X>>>1);
z.push([v,a]);j.u.EW(q,m,C,N,n)}}return z};j.u.EW=function(u,m,C,Z,q){var J=[q*m+Z],A=u[q*m+Z];u[q*m+Z]=65535;
while(J.length!=0){var D=J.pop();u[D]=0;if(u[D+m]==A){J.push(D+m);u[D+m]=65535}if(u[D-m]==A){J.push(D-m);
u[D-m]=65535}if(u[D-1]==A){J.push(D-1);u[D-1]=65535}if(u[D+1]==A){J.push(D+1);u[D+1]=65535}}};j.u.a2H=function(u,m,C,Z,q){var J=[0,-1,1,0,0,1,-1,0],Q=1;
function A(B,$,Q){var D=e*m+N,R=0;if(Q==0)R=D-m;else if(Q==1)R=D;else if(Q==2)R=D-1;else if(Q==3)R=D-m-1;
return u[R]}var n=[],N=Z,e=q,p=A(N,e,Q);do{n.push(N,e);N+=J[Q*2];e+=J[Q*2+1];if(A(N,e,Q)!=p)Q=Q+1&3;
else if(A(N,e,Q+3&3)!=p)Q=Q;else if(A(N,e,Q+2&3)!=p)Q=Q+3&3}while(N!=Z||e!=q);return n};j.u.cw=function(u,m,C){var Z=u.length-2;
if(C&&C.length!=0){var q=C[0]*2,J=C[C.length-1]*2,A=q==0?Z:q-2,n=u.slice(J);for(var D=0;D<q;D++)n.push(u[D]);
if(q==J)n.push(.9*u[q]+.1*u[A],.9*u[q+1]+.1*u[A+1]);else n.push(u[q],u[q+1]);n=j.u.qG(n,m);n.pop();n.pop();
for(var D=0;D<C.length-1;D++){var N=u.slice(C[D]*2,C[D+1]*2+2);N=j.u.qG(N,m);for(var e=0;e<N.length-2;
e++)n.push(N[e])}return n}var Q=u.slice(0);Q.push(.9*u[0]+.1*u[Z],.9*u[1]+.1*u[Z+1]);Q=j.u.qG(Q,m);Q.pop();
Q.pop();return Q};j.u.qG=function(u,m){var C=u.length-2,Z=u[0],q=u[1],J=u[C],A=u[C+1],n=J-Z,N=A-q,e=1/Math.sqrt(n*n+N*N),Q=J*q-A*Z,p=-1,B=-1,$=0;
for(var D=2;D<C;D+=2){var R=u[D],z=u[D+1],v=z*z*1e6+R*R,a=Math.abs(N*R-n*z+Q)*e;if(a>B||a==B&&v>$){B=a;
p=D;$=v}}if(B<m)return[Z,q,J,A];var X=j.u.qG(u.slice(0,p+2),m),V=j.u.qG(u.slice(p),m);for(var D=2;D<V.length;
D++)X.push(V[D]);return X};j.u.aqM=function(){var u=function(Z,q,J,A,n,N){return(q-A)*(n-J)+(J-Z)*(N-A)>=0},m=function(Z,q,J,A,n,N,e,Q){var p=e-J,B=Q-A,$=n-J,R=N-A,z=Z-J,v=q-A,a=p*p+B*B,X=p*$+B*R,V=p*z+B*v,o=$*$+R*R,h=$*z+R*v,T=1/(a*o-X*X),l=(o*V-X*h)*T,w=(a*h-X*V)*T;
return l>=0&&w>=0&&l+w<1},C=function(Z){var jt=Z.length>>>1,D=0;if(jt<3)return[];var q=[],J=[];for(var D=0;
D<jt;D++)J.push(D);var A=jt;while(A>3){var n=J[(D+0)%A],N=J[(D+1)%A],e=J[(D+2)%A],Q=Z[2*n],p=Z[2*n+1],B=Z[2*N],$=Z[2*N+1],R=Z[2*e],z=Z[2*e+1],v=!1;
if(u(Q,p,B,$,R,z)){v=!0;for(var a=0;a<A;a++){var X=J[a];if(X==n||X==N||X==e)continue;if(m(Z[2*X],Z[2*X+1],Q,p,B,$,R,z)){v=!1;
break}}}if(v){q.push(n,N,e);J.splice((D+1)%A,1);A--;D=0}else if(D++>3*A)break}q.push(J[0],J[1],J[2]);
return q};return C}();j.u.aqG=function(u,m){var C={},Z={X:[],s:[]};for(var D=0;D<m.length;D+=3){var q=m[D]*2,J=m[D+1]*2,A=m[D+2]*2;
j.u.n7(u,q,J,Z,C);j.u.n7(u,q,A,Z,C);j.u.n7(u,J,A,Z,C)}return Z};j.u.n7=function(u,m,C,Z,q){if(m>C){var J=C;
C=m;m=J}if(q[m+","+C])return;q[m+","+C]=!0;Z.X.push("M","L");Z.s.push(u[m],u[m+1],u[C],u[C+1])};j.u.$F=function(u,m){var C=[],Z=u.length;
for(var D=0;D<Z;D+=2){var q=u[D],J=u[D+1],A=u[(D+2)%Z],n=u[(D+3)%Z];if(n<J){var N=J;J=n;n=N}if(J<m&&m<n){var e=(m-J)/(n-J);
C.push(q+e*(A-q))}}C.sort(function(Q,p){return Q-p});return C};j.u.YB=function(u,m,C,Z,q,J,A){var n=u-C,N=m-Z,e=q-C,Q=J-Z,p=1/Math.sqrt(n*n+N*N),B=1/Math.sqrt(e*e+Q*Q),$=n*p,R=N*p,z=e*B,v=Q*B,a=R*A,X=-$*A,V=-v*A,o=z*A,h=j.u.QM(a,X,$,R,V,o,z,v),T=a+$*h,l=X+R*h,h=j.u.QM(0,0,$,R,T,l,-R,$),w=$*h,W=R*h;
return[Math.sqrt(w*w+W*W),$,R,z,v]};j.u.X6=function(u,m,C,Z,q,J,A){var n=j.u.YB(u,m,C,Z,q,J,A),N=n[0],e=n[1],Q=n[2],p=n[3],B=n[4],$=Math.atan2(e*B-Q*p,e*p+Q*B);
if($<0){$=$*-1}var R=Math.PI-$,z=4/3*Math.tan(R/4),v=C+N*e,a=Z+N*Q,X=C+N*p,V=Z+N*B,o=v+z*A*-e,h=a+z*A*-Q,T=X+z*A*-p,l=V+z*A*-B;
return[0,0,v,a,o,h,T,l,X,V]};j.u.QM=function(u,m,C,Z,q,J,A,n){var N=A*(m-J)-n*(u-q),e=n*C-A*Z;if(e==0)return 0;
return N/e};j.u.X6(0,50,0,0,30,30,10);j.E5=function(){};j.E5.zA=function(u,m,C,Z,q){var J=C.e,A=C.n,n=J*A,N=new Int32Array(n),jt=0;
for(var D=0;D<n;D++)if(m[D]!=0){N[D]=jt;jt++}else if(u[(D<<2)+3]<200){N[D]=-2}else N[D]=-1;if(jt==0)return;
var e=new j.AX(jt,jt),Q=new Array(3*jt),p=new Array(3*jt);for(var D=0;D<p.length;D++)p[D]=Q[D]=0;var B=1/255,$=[-J,-1,1,J],R=[],z=[];
for(var v=0;v<A;v++)for(var a=0;a<J;a++){var X=v*J+a,V=X<<2,D=N[X],o=D*3,h=0,T=0,l=0;if(D==-1||D==-2)continue;
for(var w=0;w<4;w++){if(w==2){T=l;R[l]=0;z[l]=D;l++}var W=X+$[w],U=W<<2,s=N[W];if(w==0&&v==0||w==1&&a==0||w==2&&a==J-1||w==3&&v==A-1||s==-2)continue;
h++;if(s==-1){Q[o+0]+=u[U+0];Q[o+1]+=u[U+1];Q[o+2]+=u[U+2]}else{R[l]=-1;z[l]=s;l++;if(m[X]==m[W]){Q[o+0]+=u[V+0]-u[U+0];
Q[o+1]+=u[V+1]-u[U+1];Q[o+2]+=u[V+2]-u[U+2]}}}R[T]=h;e.U5(R,z,l)}for(var D=0;D<n;D++)if(N[D]!=-1){var S=D<<2,x=N[D],P=x*3;
p[P]=u[S+0];p[P+1]=u[S+1];p[P+2]=u[S+2]}var y=Date.now();e.a4_(p,Q,Z,q);console.log(Date.now()-y);for(var D=0;
D<n;D++){var x=N[D],_=x*3,S=D<<2;if(x==-1||u[S+3]!=255)continue;u[S+0]=~~(.5+Math.max(0,Math.min(255,p[_+0])));
u[S+1]=~~(.5+Math.max(0,Math.min(255,p[_+1])));u[S+2]=~~(.5+Math.max(0,Math.min(255,p[_+2])))}};j.rect={};
j.rect.Zp=function(u,m){var C=[u],Z=[];for(var D=0;D<m.length;D++){var q=m[D],J=!1;for(var A=D+1;A<m.length;
A++){var n=m[A];if(n[0]<=q[0]&&n[1]<=q[1]&&q[2]<=n[2]&&q[3]<=n[3]){J=!0;break}}if(!J)Z.push(q)}m=Z;for(var D=0;
D<m.length;D++){var q=m[D];for(var A=0;A<C.length;A++){var n=C[A],N=Math.max(q[0],n[0]),e=Math.min(q[2],n[2]),Q=Math.max(q[1],n[1]),p=Math.min(q[3],n[3]);
if(N<e&&Q<p){var B=[];if(n[1]<q[1]){var $=n.slice(0);$[3]=q[1];B.push($)}if(n[0]<q[0]){var R=n.slice(0);
R[1]=Q;R[2]=q[0];B.push(R)}if(q[2]<n[2]){var z=n.slice(0);z[1]=Q;z[0]=q[2];B.push(z)}if(q[3]<n[3]){var v=[N,p,e,n[3]];
B.push(v)}if(B.length!=0){C[A]=B[0];for(var a=1;a<B.length;a++)C.push(B[a])}}}C.push(q);C=j.rect.a5Y(C)}C.sort(function(q,n){return q[1]!=n[1]?q[1]-n[1]:q[0]-n[0]});
for(var D=1;D<C.length;D++){var q=C[D-1],n=C[D];if(q[0]==n[0]&&q[1]==n[1]&&q[2]==n[2]&&q[3]==n[3]){C.splice(q[4]==null?D-1:D,1);
D--}}return C};j.rect.a5Y=function(u){u=u.slice(0);for(var D=0;D<u.length;D++){var m=u[D],C=null;if(m[4]!=null)continue;
for(var Z=0;Z<u.length;Z++){var q=u[Z];if(D==Z||q[4]!=null)continue;var J=m[0]==q[0],A=m[1]==q[1],n=m[2]==q[2],N=m[3]==q[3];
if(A&&N&&(m[2]==q[0]||m[0]==q[2])){C=[Math.min(m[0],q[0]),m[1],Math.max(m[2],q[2]),m[3]]}if(J&&n&&(m[3]==q[1]||m[1]==q[3])){C=[m[0],Math.min(m[1],q[1]),m[2],Math.max(m[3],q[3])]}if(C){u[D]=C;
u.splice(Z,1);break}}if(C){D--}}return u};j.rect.mz=function(u){var m=new bl;for(var D=0;D<u.length;
D++)m=m.QN(u[D]);return m};j.rect.ahL=function(u,m){var C=j.rect.mz,Z=new UnionFind(u.length),T=1e3,l=1e3;
for(var D=0;D<u.length;D++)for(var q=D+1;q<u.length;q++){if(!m)continue;var J=u[D],A=u[q],p=1e9,B=1e9;
if(J.bL(A)){Z.link(D,q);continue}var n=J.x+J.e,N=J.y+J.n,e=A.x+A.e,Q=A.y+A.n;if((n<A.x||e<J.x)&&(N<A.y||Q<J.y))continue;
if(!(N<A.y||Q<J.y))p=Math.min(Math.abs(n-A.x),Math.abs(J.x-e));if(!(n<A.x||e<J.x))B=Math.min(Math.abs(N-A.y),Math.abs(J.y-Q));
var $=Math.min(p,B),R=Math.min(J.e,J.n,A.e,A.n);if($<.3*R)Z.link(D,q)}var z=[],v={};for(var D=0;D<u.length;
D++){var a=Z.find(D),X=u[D];if(v[a]==null){v[a]=z.length;z.push([])}z[v[a]].push(X)}var V=[],o=[];for(var D=0;
D<z.length;D++){V.push(C(z[D]));var h=C(z[D]);h.Nl=D;o.push(h)}o.sort(function(g,G){return Math.max(G.n,G.e)-Math.max(g.n,g.e)});
var w=new NETXUS.RectanglePacker(T,l);while(!0){var W=!1;w.reset(T,l);for(var D=0;D<o.length;D++){var U=w.findCoords(o[D].e,o[D].n);
if(U){o[D].x=U.x;o[D].y=U.y}else{T=Math.floor(T*1.1);l=Math.floor(l*1.1);W=!0;break}}if(W)continue;break}for(var D=0;
D<z.length;D++){var s=o[D],S=s.Nl,x=V[S],P=z[S],y=s.x-x.x,_=s.y-x.y;for(var q=0;q<P.length;q++)P[q].offset(y,_)}};
j.KX=function(){};j.KX.F$=Math.floor(16*window.devicePixelRatio);j.KX.Ui={};j.KX.ky=0;j.KX.Qx=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
j.KX.adx=["px","in","cm","mm","%"];j.KX.k4=function(u,m,C,Z){var q=[1,m,m/2.54,m/25.4,C/100][Z];return u*q};
j.KX.acZ=function(u,m,C,Z){var q=[1,m,m/2.54,m/25.4,C/100][Z];return u/q};j.KX.XJ=function(u,m,C,Z,q){var J=C.SM.Pb,A=[1,m,m/2.54,m/25.4,Z/100][J],n=[2,3,2,1,2][J];
u=u/A;var N=Math.round(u),e=J==0&&Math.abs(u-N)<1e-6?N+"":u.toFixed(n);if(q)e+=" "+j.KX.adx[J];return e};
j.KX.ajE=function(u,m,C,Z){var q=C.SM.Pb,J=[1,m,m/2.54,m/25.4,Z/100][q];u=parseFloat(u)*J;return u};
j.KX.asl=function(u,m){var C=u+","+m;if(j.KX.Ui.clr==C)return;var Z=Math.round(j.KX.F$*.5);j.KX.ky=Z;
var q=document.createElement("canvas");q.width=q.height=Z;var J=q.getContext("2d");J.font=Z*1.5+"px monospace";
var A="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var D=0;D<A.length;D++){J.fillStyle="#"+j.U0(m);J.fillRect(0,0,Z,Z);
J.fillStyle="#"+j.U0(u);J.fillText(A[D],0,Z);j.KX.Ui[A[D]]=J.getImageData(0,0,Z,Z).data}j.KX.Ui.clr=C};
j.KX.a97=function(u,m,C){var Z=0,q=0,J=4*j.KX.F$;for(var D=9;D>=0;D--){var A=Math.pow(10,D);if(5*A*u<=J){Z=5*A;
q=10;break}if(2*A*u<=J){Z=2*A;q=4;break}if(1*A*u<=J){Z=1*A;q=10;break}}if(Z==0){Z=1;q=10}var n=Math.ceil(Z*u),N=j.U(n*j.KX.F$*4);
j.gs(N,4278190080|C);for(var D=0;D<j.KX.F$;D++)j.KX.yr(N,4*D*n,m);for(var D=0;D<n;D++)j.KX.yr(N,4*((j.KX.F$-1)*n+D),m);
if(Z==2)q=2;if(Z==5)q=5;if(Z>1||Z==1&&n>20)for(var D=1;D<q;D++)j.KX.akz(N,D*(n/q),n,(D&1)==1?.8:.7,m);
return{p8:N,step:Z}};j.KX.akz=function(u,m,C,Z,q){var m=Math.round(m);for(var J=Math.round(j.KX.F$*Z);
J<j.KX.F$-1;J++)j.KX.yr(u,4*(J*C+m),q)};j.KX.yr=function(u,m,C){u[m+0]=C>>16&255;u[m+1]=C>>8&255;u[m+2]=C&255};
j.KX.ath=function(u,m,C,Z,q,J,A){var n=u.pQ.e,N=u.pQ.n,e=j.KX.F$,Q=m&255,p=m>>8&255,B=m>>16&255;m=Math.round(Q*.6)<<16|Math.round(p*.6)<<8|Math.round(B*.6);
j.KX.asl(Math.round(Q*.8)<<16|Math.round(p*.8)<<8|Math.round(B*.8),C);var $=u.V,R=u.r,z=u.ez;for(var v=0;
v<2;v++){var a=v==0?J:A;u.V=a[0];u.r=a[1];u.ez=0;var X=this.a97(u.V,m,C),V=u.Iv(0,0),o=u.Iv(n,N),h=Math.floor(V.x/X.step)*X.step,T=Math.ceil(o.x/X.step)*X.step,l=Math.floor(V.y/X.step)*X.step,w=Math.ceil(o.y/X.step)*X.step,W=u.qh(h,l),U=u.qh(T,l),s=X.step*u.V,S=Math.ceil(s);
if(v==1){var x=X.p8;X.p8=j.U(x.length*4);j.N.$E(x,X.p8,S,e)}var P=v==0?u.Ne.data:u.NN.data,y=new bl(0,0,[n,e][v],[e,N][v]),_=new bl(0,0,[S,e][v],[e,S][v]),g=new bl([0,Math.round(e*.2)][v],[Math.round(e*.08),0][v],j.KX.ky,j.KX.ky),G=(v==0?T-h:w-l)/X.step;
for(var D=0;D<G;D++){if(v==0)_.x=Math.round(W.x+D*s);else _.y=Math.round(W.y+D*s);j.zO(X.p8,_,P,y,_);
var O=(v==0?h+D*X.step:Math.abs(l+D*X.step)).toString(10);for(var E=0;E<O.length;E++){if(v==0)g.x=_.x+3+E*Math.round(j.KX.ky*.8);
else g.y=_.y+3+E*Math.round(j.KX.ky*1.15);var L=j.KX.Ui[O[E]];j.zO(L,g,P,y,g)}}}u.V=$;u.r=R;u.ez=z;var c=Math.floor(e*.6),k=new Uint32Array(u.Ne.data.buffer),I=new Uint32Array(u.NN.data.buffer),Y=Q<128?4278190080:4294967295;
if(0<Z&&Z<n)for(var D=0;D<c;D++)k[D*n+Z]=Y;if(0<q&&q<N)for(var D=0;D<c;D++)I[q*e+D]=Y};j.scale={};j.scale.O=document.createElement("canvas");
j.scale.O2=j.scale.O.getContext("2d");j.scale.RW=document.createElement("canvas");j.scale.gd=j.scale.RW.getContext("2d");
j.scale.Hm=function(u,m,C){var Z=j.scale.O,q=j.scale.O2;Z.width=m;Z.height=C;var J=new ImageData(new Uint8ClampedArray(u.buffer),m,C);
q.putImageData(J,0,0);return q.createPattern(Z,"repeat")};j.scale.Mh=function(u,m,C,Z,q,J,A,n,N){var e=j.scale.aft(u,C,Z,q,J,A,n,N).data;
if(m)j.Uj(e,m);return new Uint8Array(e.buffer)};j.scale.aft=function(u,m,C,Z,q,J,A,n){var N=j.scale.O,e=j.scale.O2;
N.width=m;N.height=C;e.rect(0,0,m,C);e.translate(J,A);e.scale(Z,q);if(n!=null)e.rotate(-n);e.fillStyle=u;
e.fill();return e.getImageData(0,0,m,C)};j.scale.I=function(u,m,C,Z,q){var J=C.clone();J.mL();var A=q.e,n=q.n,N=j.u.yj(m).s;
j.u.I(N,J,N);var e=j.u.aO(N).aR(q),Q=e.x,p=e.y,B=Q+e.e,$=p+e.n,R=~~m.x,z=~~m.y,v=~~m.e,a=~~m.n;for(var X=p;
X<$;X++)for(var V=Q;V<B;V++){var o=V+.5,h=X+.5,T=C.w7*o+C.ZU*h+C.GI-R,l=C.S*o+C.MX*h+C.c_-z;if(0<=T&&0<=l&&T<v&&l<a)Z[X*A+V]=u[~~l*v+~~T]}};
j.scale.dS=function(u,m,C,Z,q){var J=new Uint32Array(u.buffer),A=new Uint32Array(Z.buffer),n=C.clone();
n.mL();var N=q.e,e=q.n,Q=j.u.yj(m).s;j.u.I(Q,n,Q);var p=j.u.aO(Q).aR(q),B=p.x,$=p.y,R=B+p.e,z=$+p.n,v=~~m.x,a=~~m.y,X=~~m.e,V=~~m.n;
for(var o=$;o<z;o++)for(var h=B;h<R;h++){var T=h+.5,l=o+.5,w=C.w7*T+C.ZU*l+C.GI-v,W=C.S*T+C.MX*l+C.c_-a;
if(0<=w&&0<=W&&w<X&&W<V)A[o*N+h]=J[~~W*X+~~w]}};j.scale.Va=function(u,m,C,Z,q,J,A){if(A<1)j.scale.akq(u,m,C,Z,q,J,Math.round(1/A));
else j.scale.a5k(u,m,C,Z,q,J,A)};j.scale.Sr=function(u,m,C,Z,q,J,A,n){if(n)n=n.aR(new bl(0,0,m,C));u=new Uint32Array(u.buffer);
Z=new Uint32Array(Z.buffer);if(A<1)j.scale.amE(u,m,C,Z,q,J,Math.round(1/A),n);else j.scale.aqr(u,m,C,Z,q,J,A)};
j.scale.a5k=function(u,m,C,Z,q,J,A){for(var n=0;n<C;n++)for(var N=0;N<m;N++){var e=u[n*m+N],Q=Math.min(A,q-N*A),p=Math.min(A,J-n*A);
for(var D=0;D<p;D++)for(var B=0;B<Q;B++)Z[(A*n+D)*q+A*N+B]=e}};j.scale.akq=function(u,m,C,Z,q,J,A){for(var n=0;
n<J;n++)for(var N=0;N<q;N++){var e=0,Q=Math.min(A,m-N*A),p=Math.min(A,C-n*A);for(var D=0;D<p;D++)for(var B=0;
B<Q;B++)e+=u[(A*n+D)*m+(A*N+B)];Z[n*q+N]=Math.round(e/(Q*p))}};j.scale.aqr=function(u,m,C,Z,q,J,A){for(var n=0;
n<C;n++)for(var N=0;N<m;N++){var e=u[n*m+N],Q=Math.min(A,q-N*A),p=Math.min(A,J-n*A);for(var D=0;D<p;
D++)for(var B=0;B<Q;B++)Z[(A*n+D)*q+A*N+B]=e}};j.scale.al2=function(u,m,C){return(u>>>C&255)+(m>>>C&255)>>>1};
j.scale.Nb=function(u,m){var C=j.scale.al2;return C(u,m,24)<<24|C(u,m,16)<<16|C(u,m,8)<<8|C(u,m,0)};
j.scale.amk=function(u,m,C,Z,q,J){var A=new Uint32Array(u.buffer),n=new Uint32Array(Z.buffer);for(var N=0;
N<C;N++){for(var e=0;e<m;e++){var Q=N*m+e,p=A[Q],B=p,$=p,R=p;if(e<m-1)B=j.scale.Nb(p,A[Q+1]);if(N<C-1)$=j.scale.Nb(p,A[Q+m]);
if(e<m-1&&N<C-1)R=j.scale.Nb(p,A[Q+m+1]);var z=(N*q+e)*2;n[z]=p;n[z+1]=B;n[z+q]=$;n[z+q+1]=R}}if((q&1)==1)for(var N=0;
N<J;N++)n[N*q+q-1]=n[N*q+q-2];var v=q*(J-1);if((J&1)==1)for(var e=0;e<q;e++)n[v+e]=n[v-q+e]};j.scale.amE=function(u,m,C,Z,q,J,A,n){var N=0,e=q,Q=0,p=J;
if(n){N=Math.floor(n.x/A);e=Math.ceil((n.x+n.e)/A);Q=Math.floor(n.y/A);p=Math.ceil((n.y+n.n)/A)}for(var B=Q;
B<p;B++)for(var $=N;$<e;$++){var R=0,z=0,v=0,a=0,X=Math.min(A,m-$*A),V=Math.min(A,C-B*A);for(var D=0;
D<V;D++)for(var o=0;o<X;o++){var h=u[(A*B+D)*m+A*$+o],T=h>>>24;R+=T;z+=T*(h>>>16&255);v+=T*(h>>>8&255);
a+=T*(h&255)}if(R!=0){var l=1/R;Z[B*q+$]=R/(X*V)<<24|z*l<<16|v*l<<8|a*l}else Z[B*q+$]=0}};j.q={};j.q.aaV=function(u,m,C){var Z=128,D=0,q=C.e,J=C.n;
for(var A=0;A<J;A++)for(var n=0;n<q;n++){if(u[D]>=Z&&(n==0||u[D-1]<Z||(n==q-1||u[D+1]<Z)||(A==0||u[D-q]<Z)||(A==J-1||u[D+q]<Z)))m[D]=255;
D++}};j.q.apt=function(u,m,C,Z){var q=new Uint32Array([4278190080,4294967295]),J=C.e,A=C.n,n=0,N=0,e=J,Q=A;
if(Z){n=Z.x-C.x;N=Z.y-C.y;e=n+Z.e;Q=N+Z.n}var p=new Uint8Array(m.buffer),B=new Uint32Array(m.buffer);
for(var $=N;$<Q;$++)for(var R=n;R<e;R++){var D=$*J+R;if((u[D]&128)!=0&&($==0||(u[D-J]&128)==0||R==0||(u[D-1]&128)==0||R==J-1||(u[D+1]&128)==0||$==A-1||(u[D+J]&128)==0)){B[D]=q[(R+$&4)>>>2]}}};
j.q.a8M=function(u,m,C,Z,q,J){var A=C.e,n=C.n,N=0,e=0,Q=A,p=n;if(Z){N=Z.x-C.x;e=Z.y-C.y;Q=N+Z.e;p=e+Z.n}var B=new Uint8Array(m.buffer),$=new Uint32Array(m.buffer);
for(var R=e;R<p;R++)for(var z=N;z<Q;z++){var D=R*A+z,v=u[D];if(q==1)$[D]=255-v>>>1<<24|255;else $[D]=255<<24|(v<<16|v<<8|v)}};
j.cz={};j.cz.Jy=function(u,m,C){var Z,q;if(C==0){Z=u.rect.clone();q=j.cz.ac8}if(C==1){Z=u.rect.QN(m.rect);
q=j.cz.QN}if(C==2){Z=m.rect.clone();q=j.cz.a5g}if(C==3){Z=u.rect.aR(m.rect);q=j.cz.aR}if(C==4){Z=u.rect.QN(m.rect);
q=j.cz.a8R}if(Z.qR())return null;var J=j.U(Z.Z());j.j5(m.channel,m.rect,J,Z);var A=j.U(Z.Z());j.j5(u.channel,u.rect,A,Z);
q(A,J,J);var n=j.tY(J,Z);if(n.qR())return null;if(!n.QV(Z)){var N=j.U(n.Z());j.j5(J,Z,N,n);J=N;Z=n}return{channel:J,rect:Z}};
j.cz.ac8=function(u,m,C){for(var D=0;D<u.length;D++)C[D]=u[D]};j.cz.QN=function(u,m,C){for(var D=0;D<u.length;
D++)C[D]=Math.min(u[D]+m[D],255)};j.cz.a5g=function(u,m,C){for(var D=0;D<u.length;D++)C[D]=Math.max(m[D]-u[D],0)};
j.cz.aR=function(u,m,C){var Z=1/255;for(var D=0;D<u.length;D++)C[D]=u[D]*m[D]*Z};j.cz.a8R=function(u,m,C){var Z=1/255;
for(var D=0;D<u.length;D++)C[D]=Math.min(u[D]+m[D],255)-u[D]*m[D]*Z};j.AX=function(u,m){this.J=[];this.iT=[0];
this.wc=[];this.QH=[];this.uO=[0];this.CQ=[];this.Qk=[];this.rows=u;this.cols=m};j.AX.prototype.clone=function(){var u=this,m=u.rows,C=u.cols,Z=new j.AX(m,C);
Z.J=u.J.slice(0);Z.iT=u.iT.slice(0);Z.wc=u.wc.slice(0);Z.QH=u.QH.slice(0);Z.uO=u.uO.slice(0);Z.CQ=u.CQ.slice(0);
Z.Qk=u.Qk.slice(0);return Z};j.AX.prototype.U5=function(u,m,C){var Z=this.iT.length-1;for(var D=0;D<C;
D++){var q=u[D],J=m[D];this.J.push(q);this.wc.push(J);if(J==Z){this.Qk.push(q==0?0:1/q)}else{this.QH.push(q);
this.CQ.push(J)}}this.iT.push(this.J.length);this.uO.push(this.QH.length)};j.AX.prototype.gY=function(u,m){var C=this,Z=C.rows,q=C.J,J=C.wc;
if(m==null)m=new Array(Z);for(var D=0;D<Z;D++){var A=C.iT[D],n=C.iT[D+1],N=0;while((n-A&3)!=0){N+=q[A]*u[J[A]];
A++}for(var e=A;e<n;e+=4)N+=q[e]*u[J[e]]+q[e+1]*u[J[e+1]]+q[e+2]*u[J[e+2]]+q[e+3]*u[J[e+3]];m[D]=N}return m};
j.AX.prototype.multiply=function(u){return this.Z2(u.$E())};j.AX.prototype.Z2=function(u){var m=this,C=m.rows,Z=m.cols,q=u.rows,J=new j.AX(C,q),A=m.wc,n=u.wc;
for(var D=0;D<C;D++){var N=[],e=[],Q=m.iT[D],p=m.iT[D+1];for(var B=0;B<q;B++){var $=u.iT[B],R=u.iT[B+1],z=0,v=Q,a=$;
while(v<p&&a<R){var X=Math.max(A[v],n[a]);while(v<p&&A[v]<X)v++;while(a<R&&n[a]<X)a++;if(v<p&&a<R&&A[v]==n[a])z+=m.J[v++]*u.J[a++]}if(z!=0){N.push(z);
e.push(B)}}J.U5(N,e,N.length)}return J};j.AX.prototype.$E=function(){var u=this.rows,m=this.cols,C=[];
for(var D=0;D<m;D++)C.push([[],[]]);var Z=this.J,q=this.iT,J=this.wc;for(var D=0;D<u;D++){var A=q[D],n=q[D+1];
for(var N=A;N<n;N++){var e=C[J[N]];e[0].push(Z[N]);e[1].push(D)}}var Q=new j.AX(m,u);for(var D=0;D<m;
D++)Q.U5(C[D][0],C[D][1],C[D][1].length);return Q};j.AX.prototype.AL=function(){var u=this.rows,m=this.cols,C=new Array(u),Z=this.J,q=this.iT,J=this.wc;
for(var D=0;D<u;D++){var A=C[D]=new Array(m);for(var n=0;n<m;n++)A[n]=0;var N=q[D],e=q[D+1];for(var Q=N;
Q<e;Q++)A[J[Q]]=Z[Q]}return C};j.AX.prototype.WG=function(u,m,C,Z,q){function J(l,m,w,W){var U=l.length;
for(var D=0;D<U;D++)W[D]=l[D]-m[D]*w}function A(l,m,w,W){var U=l.length,s=0;while((U-s&3)!=0){W[s]=l[s]+m[s]*w;
s++}for(var D=s;D<U;D+=4){W[D]=l[D]+m[D]*w;W[D+1]=l[D+1]+m[D+1]*w;W[D+2]=l[D+2]+m[D+2]*w;W[D+3]=l[D+3]+m[D+3]*w}}function n(l,m,w){var W=l.length;
for(var D=0;D<W;D++)w[D]=l[D]*m[D]}function N(l,m){var w=l.length,W=0,U=0;while((w-W&3)!=0){U+=l[W]*m[W];
W++}for(var D=W;D<w;D+=4)U+=l[D]*m[D]+l[D+1]*m[D+1]+l[D+2]*m[D+2]+l[D+3]*m[D+3];return U}var e=Z!=null?2:1,Q=Date.now(),p=0,B=this,$=u.slice(0),R=u.slice(0);
B.gY(u,R);J(m,R,1,$);var z=this.Qk;if(e==0){z=$.slice(0);z.fill(1)}var v=$.slice(0);n(z,$,v);var a=v.slice(0),X=N($,v);
while(!0){B.gY(a,R);var V=X/N(a,R);A(u,a,V,u);J($,R,V,$);if((p&7)==0&&Math.sqrt(N($,$))<C)break;if(e<=1)n(z,$,v);
else{var o=$.slice(0);Z.a3F(o,$);q.a3E(v,o)}var h=N($,v),T=h/X;A(v,a,T,a);X=h;p++}};j.AX.prototype.afg=function(u,m,C,Z){var q=Date.now(),J=1.96,n=0;
if(C==null)C=5e-6;if(Z==null)Z=1e9;var A=1-J,jt=this.rows,N=this.QH,e=this.uO,Q=this.CQ,p=this.Qk;while(!0){var B=0;
for(var D=0;D<jt;D++){var $=m[D],R=e[D],z=e[D+1];if(z-R==4)$-=N[R]*u[Q[R]]+N[R+1]*u[Q[R+1]]+N[R+2]*u[Q[R+2]]+N[R+3]*u[Q[R+3]];
else for(var v=R;v<z;v++)$-=N[v]*u[Q[v]];var a=u[D]*A+p[D]*$*J,X=a-u[D];B+=X*X;u[D]=a}if(B/jt<C||Date.now()>q+Z)break}};
j.AX.prototype.a4_=function(u,m,C,Z){var q=Date.now(),J=1.96,n=0;if(C==null)C=5e-5;if(Z==null)Z=1e9;
var A=1-J,jt=this.rows,N=this.QH,e=this.uO,Q=this.CQ,p=this.Qk;while(!0){var B=0;for(var D=0;D<jt;D++){var $=D*3,R=m[$],z=m[$+1],v=m[$+2],a=e[D],X=e[D+1];
for(var V=a;V<X;V++){var o=N[V],h=Q[V]*3;R-=o*u[h+0];z-=o*u[h+1];v-=o*u[h+2]}var T=p[D]*J,l=u[$+0]*A+R*T,w=u[$+1]*A+z*T,W=u[$+2]*A+v*T,U=l-u[$+0],s=w-u[$+1],S=W-u[$+2];
B+=.4*U*U+.5*s*s+.1*S*S;u[$+0]=l;u[$+1]=w;u[$+2]=W}if(B/jt<C||Date.now()>q+Z)break}};j.AE={};j.AE.Ft=function(u,m,C){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:u},Vrtc:{t:"doub",v:m},Cnty:{t:"bool",v:C}}}};
j.AE.I=function(u,m){for(var D=0;D<u.length;D++){var C=u[D].v,Z=m.HL(new dz(C.Hrzn.v,C.Vrtc.v));C.Hrzn.v=Math.round(Z.x);
C.Vrtc.v=Math.round(Z.y)}};j.AE.Rr=function(u,m,C){var jt=u.length-1,Z=j.NC.hv(jt+1,jt+2);for(var D=1;
D<jt;D++){Z[D][D-1]=1/(u[D]-u[D-1]);Z[D][D]=2*(1/(u[D]-u[D-1])+1/(u[D+1]-u[D]));Z[D][D+1]=1/(u[D+1]-u[D]);
Z[D][jt+1]=3*((m[D]-m[D-1])/((u[D]-u[D-1])*(u[D]-u[D-1]))+(m[D+1]-m[D])/((u[D+1]-u[D])*(u[D+1]-u[D])))}Z[0][0]=2/(u[1]-u[0]);
Z[0][1]=1/(u[1]-u[0]);Z[0][jt+1]=3*(m[1]-m[0])/((u[1]-u[0])*(u[1]-u[0]));Z[jt][jt-1]=1/(u[jt]-u[jt-1]);
Z[jt][jt]=2/(u[jt]-u[jt-1]);Z[jt][jt+1]=3*(m[jt]-m[jt-1])/((u[jt]-u[jt-1])*(u[jt]-u[jt-1]));j.NC.WM(Z,C)};
j.AE.aiG=function(u,m,C,Z){if(u<=m[0])return C[0];if(u>=m[m.length-1])return C[m.length-1];var D=1;while(m[D]<u)D++;
var q=m[D],J=m[D-1],A=C[D],n=C[D-1],N=(u-J)/(q-J),e=Z[D-1]*(q-J)-(A-n),Q=-Z[D]*(q-J)+(A-n),p=(1-N)*n+N*A+N*(1-N)*(e*(1-N)+Q*N);
return p};j.AE.Dv=function(u,m,C,Z){var q={vr:[u[0]],ZD:[m[0]],x4:[]};Z[0]=q;for(var D=1;D<u.length-1;
D++){q.vr.push(u[D]);q.ZD.push(m[D]);if(C[D]==!1){j.AE.Rr(q.vr,q.ZD,q.x4);q={vr:[u[D]],ZD:[m[D]],x4:[]}}Z[D]=q}q.vr.push(u[D]);
q.ZD.push(m[D]);j.AE.Rr(q.vr,q.ZD,q.x4);Z[D]=q};j.AE.Vh=function(u,m,C,Z){if(u<=m[0])return C[0];if(u>=m[m.length-1])return C[m.length-1];
var D=1;while(m[D]<u)D++;var q=Z[D-1];return j.AE.aiG(u,q.vr,q.ZD,q.x4)};j.AE.eW=function(u){var m={vr:[],ZD:[],li:[]};
for(var D=0;D<u.length;D++){m.vr[D]=u[D].v.Hrzn.v;m.ZD[D]=u[D].v.Vrtc.v;m.li[D]=u[D].v.Cnty?u[D].v.Cnty.v:!0}return m};
j.AE.xP=function(u,jt,m){var C=0,Z=255;if(m){C=-1e9;Z=1e9}var q=j.AE.eW(u),J=[];j.AE.Dv(q.vr,q.ZD,q.li,J);
var A=[];for(var D=0;D<jt;D++)A[D]=1/255*Math.max(C,Math.min(Z,j.AE.Vh(D*(255/(jt-1)),q.vr,q.ZD,J)));
return A};j.AE.aeW=function(u,jt,m){var C=Math.round(u.length/20),Z=jt-u.length,q=m?(u[C]-u[0])/C:0,J=m?u[0]-Z*q:u[u.length-1],A=[];
for(var D=0;D<Z;D++)A.push(J+D*q);return m?A.concat(u):u.concat(A)};j.AE.bm=function(u,jt,m){var C=j.AE.eW(u),Z=[];
j.AE.Dv(C.vr,C.ZD,C.li,Z);var q=new Uint8Array(jt),J=jt/256;for(var D=0;D<jt;D++)q[D]=Math.max(0,Math.min(jt-1,j.AE.Vh(D*J,C.vr,C.ZD,Z)));
if(m){q[0]=0;if(q[1]>100)q[1]=.4*q[1];if(q[2]>150)q[1]=.7*q[2]}return q};j.AE.Ux=function(u,m){var C=new Uint8Array(u.length);
for(var D=0;D<u.length;D++)C[D]=m[u[D]];return C};j.AE.Dq=function(u,m,C){var Z=document.createElement("canvas");
Z.width=m;Z.height=C;var q=Z.getContext("2d"),J=j.AE.bm(u,256);q.scale(m/255,C/255);q.fillStyle="#fff";
q.fillRect(0,0,255,255);q.fillStyle="#333";q.beginPath();q.moveTo(0,255);for(var D=0;D<J.length;D++)q.lineTo(D,255-J[D]);
q.lineTo(255,255);q.closePath();q.fill();return Z.toDataURL()};j.style={};j.style.stroke=function(u,m,C,Z){var q=C.e,J=C.n,A=new Float64Array(q*J);
j.style.Pj(u,A,q,J);j.style.LK(m,C,A,C,Z)};j.style.LK=function(u,m,C,Z,q){var J=m.aR(Z),A=J.e,n=J.n;
q+=.5;var N=J.x-m.x,e=J.y-m.y,Q=m.e,p=J.x-Z.x,B=J.y-Z.y,$=Z.e;for(var R=0;R<n;R++){var z=(R+B)*$+p,v=(R+e)*Q+N;
for(var a=0;a<A;a++){var X=Math.max(0,Math.min(1,q-C[z+a]));u[v+a]=Math.round(X*255)}}};j.style.ah8=function(u,m,C,Z){for(var q=0;
q<C;q++)for(var J=0;J<m;J++){var A=q*m+J,n=0,N=0,e=u[A];if(J==0||q==0){n=u[A+1]-e;N=u[A+m]-e}else if(J==C-1||q==m-1){n=e-u[A-1];
N=e-u[A-m]}else{n=u[A+1]-u[A-1];N=u[A+m]-u[A-m]}if(n!=0||N!=0){var Q=1/Math.sqrt(n*n+N*N);n*=Q;N*=Q}Z[A+A]=n;
Z[A+A+1]=N}};j.style.Pj=function(u,m,C,Z){var q=0,J=C*Z;for(var D=0;D<J;D++)q|=u[D];if(q==0){m.fill(1e9);
return}var A=j.style.R4(u,C,Z);for(var n=0;n<Z;n++)for(var N=0;N<C;N++){var D=n*C+N,e=A[D*2],Q=A[D*2+1],p=(n+Q)*C+N+e;
if(e==0&&Q==0){m[D]=0;continue}var B=Math.sqrt(e*e+Q*Q),$=u[p]*(1/255),R=1/B,z=Math.abs(e)*R,v=Math.abs(Q)*R;
if(v>z){var a=v;v=z;z=a}m[D]=B+j.style.abc(z,v,$)}};j.style.abc=function(u,m,C){return(.5-C)*u};j.style.R4=function(u,m,C,Z){var q=new Int16Array(m*C*2);
j.style.aeh(u,q,m,C,128);return q};j.style.aeh=function(u,m,C,Z,q){var J=new Int32Array(C*Z);j.style.a6e(u,J,C,Z,q);
j.style.a3i(J,m,C,Z)};j.style.a6e=function(u,m,C,Z,q){var J=new Int32Array(Z);for(var A=0;A<C;A++){var n=C+Z;
for(var N=Z-1;N>=0;N--){if(u[N*C+A]>q)n=0;else n++;J[N]=n}n=C+Z;for(var N=0;N<Z;N++){if(u[N*C+A]>q)n=0;
else n++;m[N*C+A]=n<J[N]?-n:J[N]}}};j.style.a3i=function(u,m,C,Z){var q=(C+Z)*(C+Z),J=new Float64Array(C),A=new Uint16Array(C);
for(var n=0;n<Z;n++){var N=n*C,e=0;A[0]=0;J[0]=-q;J[1]=+q;for(var Q=1;Q<C;Q++){var p=u[Q+N]*u[Q+N]+Q*Q,B=(p-(u[A[e]+N]*u[A[e]+N]+A[e]*A[e]))/(2*Q-2*A[e]);
while(B<=J[e]){e--;B=(p-(u[A[e]+N]*u[A[e]+N]+A[e]*A[e]))/(2*Q-2*A[e])}e++;A[e]=Q;J[e]=B;J[e+1]=q}e=0;
for(var Q=0;Q<C;Q++){while(J[e+1]<Q)e++;var $=A[e]-Q,R=u[A[e]+N],D=n*C+Q<<1;m[D]=$;m[D+1]=R}}};j.style.dq=function(u,m,C){if(C)for(var D=0;
D<u.length;D++){var Z=u[D];if(Z>0)u[D]=Math.max(0,Math.min(255,Z+m*2*(j.style.x3(D)-128)))}else for(var D=0;
D<u.length;D++){var Z=u[D];if(Z>0)u[D]=Math.max(0,Math.min(255,Z+Math.min(Z*3,m*2*(j.style.x3(D)-128))))}};
j.style.x3=function(u){u=u^61^u>>16;u=u+(u<<3);u=u^u>>4;u=u*668265261;u=u^u>>15;return u&255};j.Qo={};
j.Qo.u1=function(u,m,C){var Z=u.canvas;if(Z.width!=m||Z.height!=C){Z.width=m;Z.height=C}};j.Qo.qE=function(u,m,C,Z,q,J){j.Qo.u1(u,m,C);
if(J==null)J=!1;var A=q.channel,n=q.rect,N=!q.isEnabled;if(m*C==0)return;var e=u.createImageData(m,C),Q=e.data,p=1/m,B=1/C;
for(var D=0;D<C;D++)for(var $=0;$<m;$++){var R=D*m+$,z=R*4,v=Math.round(Z.x+$*p*Z.e),a=Math.round(Z.y+D*B*Z.n),X=0;
if(v<n.x||v>=n.x+n.e||a<n.y||a>=n.y+n.n)X=q.color;else X=A[(a-n.y)*n.e+(v-n.x)];X=255*(255-q.cp)+X*q.cp>>>8;
if(J)X=170+Math.round(.4*(X-170));Q[z]=X;Q[z+1]=X;Q[z+2]=X;Q[z+3]=255}u.putImageData(e,0,0);if(N)j.Qo.so(u,m,C)};
j.Qo.Kd=[];j.Qo.acj=function(u,m,C,Z){var q,J,A;q=Math.ceil(Math.max(m,C)*.35);J=m-q;A=C-q;var n=j.Qo.Kd[q];
if(n==null){var N=j.l2(q,q);N.fillStyle="#eeeeee";N.fillRect(0,0,q,q);var e=Math.round(q*.27),Q=N.lineWidth=Math.max(1,Math.round(q*.12)),p=Q/2;
N.strokeRect(1+p,1+p,q-Q-2,q-Q-2);N.strokeRect(e+p,e+p,q-e-e-Q,q-e-e-Q);n=j.Qo.Kd[q]=N.getImageData(0,0,q,q)}u.putImageData(n,J,A)};
j.Qo.bE=[];j.Qo.an3=function(u,m,C){var Z,q,J;Z=Math.ceil(Math.max(m,C)*.35);q=m-Z;J=C-Z;var A=j.Qo.bE[Z];
if(A==null){var n=j.l2(Z,Z);n.fillStyle="#eeeeee";n.fillRect(0,0,Z,Z);n.lineWidth=1;n.strokeRect(2.5,2.5,Z-5,Z-5);
var N=n.createImageData(3,3);j.gs(N.data,4278190080);N.data[4*4]=N.data[4*4+1]=N.data[4*4+2]=238;n.putImageData(N,1,1);
n.putImageData(N,Z-4,1);n.putImageData(N,1,Z-4);n.putImageData(N,Z-4,Z-4);A=j.Qo.bE[Z]=n.getImageData(0,0,Z,Z)}u.putImageData(A,q,J)};
j.Qo.ask=function(u,m,C,Z,q){j.Qo.u1(u,m,C);var J=m/Z.e;if(m*C==0)return;u.fillStyle="#999999";u.setTransform(1,0,0,1,0,0);
u.clearRect(0,0,m,C);var A=j.Qo.ST;if(A==null){A=j.Qo.ST=JSON.parse(JSON.stringify(c0.K_.default));A.strokeEnabled.v=!0}A.strokeStyleLineWidth.v.val=1/J;
u.fillStyle="#ffffff";u.scale(J,J);j.$.Yv(q.B,u,0,0);j.$.Yv(q.B,u,0,0,A)};j.Qo.A3=null;j.Qo.SO=function(u,m,C,Z,q,J,A,n){j.Qo.u1(u,m,C);
if(m*C==0)return;var N=Math.max(m,C),e=j.Qo.A3;if(e==null||e.width<N||e.height<N){j.Qo.A3=e=u.createImageData(N,N)}N=e.width;
var Q=e.data,p=Z.e/m,B=Z.n/C,$=J.x,R=J.x+J.e,z=J.y,v=J.y+J.n;for(var D=0;D<C;D++)for(var a=0;a<m;a++){var X=D*N+a,V=X*4,o=~~(Z.x+a*p),h=~~(Z.y+D*B),T=j.wG(D,a,2);
if(o<$||o>=R||h<z||h>=v){Q[V]=T;Q[V+1]=T;Q[V+2]=T;Q[V+3]=255}else{var l=(h-J.y)*J.e+(o-J.x)<<2,w=q[l+3]*(1/255);
Q[V]=q[l+0]*w+T*(1-w);Q[V+1]=q[l+1]*w+T*(1-w);Q[V+2]=q[l+2]*w+T*(1-w);Q[V+3]=255}}if(n!=null)for(var D=0;
D<Q.length;D+=4)Q[D]=Q[D+1]=Q[D+2]=Q[D+n];u.putImageData(e,0,0);if(A)j.Qo.so(u,m,C)};j.Qo.a65=function(u,m,C,Z){j.Qo.u1(u,m,C);
u.fillStyle=j.Qo.o5(Z.Clr.v);u.fillRect(0,0,m,C);j.Qo._D(u,m,C)};j.Qo.rL=null;j.Qo.agU=function(u,m,C,Z){j.Qo.u1(u,m,C);
var q=u.canvas.width,J=u.canvas.height,A=j.Qo.rL;if(A==null||A.width!=q||A.height!=J){u.fillStyle="#ffffff";
u.fillRect(0,0,m,C);u.fillStyle="#000000";u.font=""+C*.7+"px serif";u.fillText("T",(m-C*.43)/2,C*.75);
u.fillText("T",(m-C*.43)/2,C*.75);j.Qo.rL=u.getImageData(0,0,q,J)}else u.putImageData(A,0,0)};j.Qo.aur=function(u,m,C){j.Qo.u1(u,m,C);
u.clearRect(0,0,m,C);u.font=C*.7+"px serif";u.fillText(":(",(m-C*.43)/2,C*.7)};j.Qo.abO=function(u,m,C,Z){j.Qo.u1(u,m,C);
var q=b1.get(Z),J=u.canvas.width,A=j.Qo.SR[J+q];if(A==null){var n=PIMG["adj/"+q],N=d4.Eh(n),e=UPNG.decode(N.buffer),Q=new Uint8Array(UPNG.toRGBA8(e)[0]),p=new bl(0,0,160,160),B=0,$=J-B*2,R=b.Q.Ta([Q,p],new ix($/160,0,0,$/160,0,0)),z=new bl(0,0,J,J),v=j.U(z.Z()*4);
j.a.q5("norm",R.buffer,R.rect,v,z,R.rect,1);A=j.Qo.SR[J+q]=new ImageData(new Uint8ClampedArray(v.buffer),J,J)}u.putImageData(A,0,0)};
j.Qo.SR={};j.Qo.a4O=function(u,m,C,Z){j.Qo.u1(u,m,C);var q=u.canvas.width,J=u.canvas.height,A=u.getImageData(0,0,q,J);
j.C.jx(Z.Grad.v,new Uint8Array(A.data.buffer),new bl(0,0,q,J),[1/q,0,0,1/J],q/2,J/2,!1,0,16711680,65280);
u.putImageData(A,0,0);j.Qo._D(u,m,C)};j.Qo.aoN=function(u,m,C,Z,q){j.Qo.u1(u,m,C);var J=u,A=dU.G$(Z.Ptrn.v,q.add.Patt);
if(A==null)return;var n=A.k9[1];j.Qo.SO(u,m,C,n,A.k9[0],n,!1);j.Qo._D(J,m,C)};j.Qo.so=function(u,m,C){u.strokeStyle="#bb0000";
u.lineWidth=3;u.beginPath();u.moveTo(m*.15,C*.15);u.lineTo(m*.85,C*.85);u.moveTo(m*.85,C*.15);u.lineTo(m*.15,C*.85);
u.closePath();u.stroke()};j.Qo._D=function(u,m,C){u.fillStyle="#eeeeee";u.fillRect(0,C*.75,m,C*.25);
u.beginPath();u.moveTo(0,C*.75);u.lineTo(m,C*.75);u.moveTo(m*.1,C*.875);u.lineTo(m*.9,C*.875);u.moveTo(m*.65,C*.825);
u.lineTo(m*.65,C*.95);u.closePath();u.stroke()};j.Qo.o5=function(u){var m=j.C.o5(u),C=Math.round(m.p)<<16|Math.round(m.T)<<8|Math.round(m.S);
return"#"+j.U0(C)};j.$={};j.$.lD=function(u,m,C){var Z=[],q=-1;for(var D=0;D<u.length;D++){var J=u[D];
if((J.type==0||J.type==3)&&J.hB!=-1)q++;if(J.type>5||J.type==0||J.type==3)continue;if(m!=null&&m.indexOf(q)==-1)continue;
if(C!=null&&C.indexOf(D)==-1)continue;Z.push(J.Rv.x);Z.push(J.Rv.y);Z.push(J.A.x);Z.push(J.A.y);Z.push(J.wm.x);
Z.push(J.wm.y)}return Z};j.$.rx=function(u,m,C,Z){var q=0,J=-1;for(var D=0;D<m.length;D++){var A=m[D];
if((A.type==0||A.type==3)&&A.hB!=-1)J++;if(A.type>5||A.type==0||A.type==3)continue;if(C!=null&&C.indexOf(J)==-1)continue;
if(Z!=null&&Z.indexOf(D)==-1)continue;A.Rv.qX(u[q],u[q+1]);A.A.qX(u[q+2],u[q+3]);A.wm.qX(u[q+4],u[q+5]);
q+=6}};j.$.l0=function(u,m,C,Z){var q=j.$.lD(u,C,Z);j.u.I(q,m,q);j.$.rx(q,u,C,Z)};j.$.atM=function(u,m,C,Z){var q=j.$.lD(u,C,Z);
j.N.I(m,q);j.$.rx(q,u,C,Z)};j.$.aac=function(u,m,C,Z){if(C==null&&Z==null){var q=j.$.alj(u,40);for(var D=0;
D<q.length;D++)u[D]=q[D]}var J=j.$.lD(u,C,Z);j.jk.I(m,J,j.u.Of(J));j.$.rx(J,u,C,Z)};j.$.alj=function(u,m){var C=[];
for(var D=0;D<u.length;D++){var Z=u[D];if(Z.type>5){C.push(JSON.parse(JSON.stringify(Z)));continue}var q=j.$.asB(u,D+1,Z.length);
q=j.u.JO(q,m);var J=j.$.a8I(q);D+=Z.length;Z=JSON.parse(JSON.stringify(Z));Z.length=J.length;C.push(Z);
for(var A=0;A<J.length;A++)C.push(J[A])}return C};j.$.asB=function(u,m,C){var Z={X:["M"],s:[]},q=u[m],J=u[m+C-1];
Z.s.push(q.A.x,q.A.y);for(var D=1;D<C;D++){var A=u[m+D-1],n=u[m+D];Z.X.push("C");Z.s.push(A.wm.x,A.wm.y,n.Rv.x,n.Rv.y,n.A.x,n.A.y)}Z.X.push("C");
Z.s.push(J.wm.x,J.wm.y,q.Rv.x,q.Rv.y,q.A.x,q.A.y);return Z};j.$.a8I=function(u){var m=[],C=u.X,Z=u.s,q=0,jt=Z.length;
m.push({type:2,Rv:new dz(Z[jt-4],Z[jt-3]),A:new dz(Z[0],Z[1]),wm:new dz(Z[2],Z[3])});for(var D=0;D<C.length-2;
D++){var J=D*6+4;m.push({type:2,Rv:new dz(Z[J],Z[J+1]),A:new dz(Z[J+2],Z[J+3]),wm:new dz(Z[J+4],Z[J+5])})}return m};
j.$.a5m=function(u){for(var D=0;D<u.length;D++){if(u[D].type>5)continue;var m=u[D].length;if(!(m==4||m==6||m==8)){D+=m;
continue}for(var C=0;C<m;C++){var Z=u[D+1+C],q=u[D+1+(C+1)%m],J=Math.min(Z.A.x,q.A.x),A=Math.min(Z.A.y,q.A.y),n=0,N=0;
if(Z.A.x<q.A.x){n=Z.A.y-A;N=n-(q.A.x-J)}else{n=q.A.y-A;N=n-(Z.A.x-J)}if(Math.abs(N)<.2*n)return n}}return-1};
j.$.Br=function(u,m,C){function Z(B,$){var R=Math.min(B.x,$.x),z=Math.min(B.y,$.y),v=Math.max(B.x+B.e,$.x+$.e),a=Math.max(B.y+B.n,$.y+$.n);
return new bl(R,z,v-R,a-z)}var q=null,J=-1,A=!j.$.q4(u);for(var D=0;D<u.length;D++){var n=u[D];if(n.type>5)continue;
if((n.type==0||n.type==3)&&n.hB!=-1)J++;if(m!=null&&m.indexOf(J)==-1)continue;if(D==u.length-1)break;
var N=n.type==3,e=n.length,Q=n.hB,p=j.$.af5(u,D+1,e,N);if(q==null)q=p;else if(C)q=Z(q,p);else if(A){if(m!=null||Q==0||Q==-1||Q==2)q=Z(q,p);
else if(Q==1)q=q;else if(Q==3){q=p;A=!1}}else{if(m!=null||Q==0||Q==-1||Q==1)q=Z(q,p);else if(Q==2)q=q;
else if(Q==3)q=q.aR(p)}D+=e}if(q==null||q.e<0||q.n<0)q=new bl(0,0,0,0);return q};j.$.ajQ=new Float64Array(4);
j.$.af5=function(u,D,m,C){var Z=j.$.ajQ;Z[0]=1e30;Z[1]=1e30;Z[2]=-1e30;Z[3]=-1e30;var q=u[D+m-1];if(!C)j.$.Mq(q.A.x,q.A.y,q.wm.x,q.wm.y,u[D].Rv.x,u[D].Rv.y,u[D].A.x,u[D].A.y,Z);
for(var J=D;J<D+m-1;J++){var A=u[J],n=u[J+1];j.$.Mq(A.A.x,A.A.y,A.wm.x,A.wm.y,n.Rv.x,n.Rv.y,n.A.x,n.A.y,Z)}return new bl(Z[0],Z[1],Z[2]-Z[0],Z[3]-Z[1])};
j.$.Mq=function(u,m,C,Z,q,J,A,n,N){if(u==C&&m==Z&&q==A&&J==n){N[0]=Math.min(N[0],Math.min(u,A));N[1]=Math.min(N[1],Math.min(m,n));
N[2]=Math.max(N[2],Math.max(u,A));N[3]=Math.max(N[3],Math.max(m,n));return}var e=u,Q=m,p=u,B=m,$=40,R=1/($-1);
for(var z=0;z<$;z++){var v=z*R,a=1-v,X=a*a*a,V=3*a*a*v,o=3*a*v*v,h=v*v*v,T=X*u+V*C+o*q+h*A,l=X*m+V*Z+o*J+h*n;
if(T<e)e=T;else if(T>p)p=T;if(l<Q)Q=l;else if(l>B)B=l}if(e<N[0])N[0]=e;if(Q<N[1])N[1]=Q;if(p>N[2])N[2]=p;
if(B>N[3])N[3]=B};j.$.nZ=function(u,m){var C=u.length-3,Z=m%C,q=Math.floor(Z);if(m<0||q>=C)return null;
var J=u[3+q],A=u[3+(q+1)%C],n=J.A,N=J.wm,e=A.Rv,Q=A.A,p=Z-q,B=1-p,$=B*B*B*n.x+3*B*B*p*N.x+3*B*p*p*e.x+p*p*p*Q.x,R=B*B*B*n.y+3*B*B*p*N.y+3*B*p*p*e.y+p*p*p*Q.y;
return new dz($,R)};j.$.fL=function(u){var m=j.u.se(u),C=m.TJ;m.TJ=Typr.U.pathToSVG({crds:C.s,cmds:C.X},2);
return m};j.$.R_=function(u){j.$.W4();var m,C=j.$.oV(u),Z=[];for(var D=0;D<C.length;D++){var q=C[D][0],J=C[D][1];
if(Math.abs(q.area)<1e-5)Z.push(q);else if(m==null)m=q;else{if(!q.closed)q.closed=!0;m=m[J](q);m.remove()}}if(m==null)m=new paper.CompoundPath(Z);
else{if(m.segments)m=new paper.CompoundPath(m);for(var D=0;D<Z.length;D++){m.addChild(Z[D])}}var A=u.slice(0,2);
A=A.concat(j.$.XF(m));if(A[2])A[2].hB=1;for(var D=3;D<A.length;D++)if(A[D].hB!=null)A[D].hB=-1;return A};
j.$.W4=function(){if(j.$.aa8==null){var u=document.createElement("canvas");paper.setup(u);j.$.aa8=!0}};
j.$.aiL=function(u,m){j.$.W4();var C=[],Z=j.$.oV(u),q=new paper.Path.Rectangle(new paper.Rectangle(m.x,m.y,m.e,m.n));
q.remove();q.fillColor=new paper.Color(1,0,0);for(var D=0;D<Z.length;D++){if(q.intersects(Z[D][0])||q.contains(Z[D][0].children[0].segments[0].point))C.push(D)}return C};
j.$.O0=function(u,m,C,Z){j.$.W4();var q=C?{curves:!0,tolerance:Z}:null,J=new paper.Point(m.x,m.y),A=j.$.oV(u);
for(var D=A.length-1;D>=0;D--){var n=A[D][0],N=n.hitTest(J,q);if(N!=null)return{NR:D,Gv:C?N.location.index:null}}return{NR:-1}};
j.$.UN=function(u,m,C){var Z=[[],[],[]];for(var D=0;D<u.length;D++){var q=u[D];if(q.type>5||q.type==0||q.type==3)continue;
var J=C==null?!0:C.indexOf(D)!=-1;if(m.PG(q.A))Z[0].push(D);if(m.PG(q.Rv)&&J)Z[1].push(D);if(m.PG(q.wm)&&J)Z[2].push(D)}return Z};
j.$.a0Q=function(u,m,C){var Z=C.slice(0),q=[null,null],J=-1,n=null;for(var D=2;D<u.length;D++){if((u[D].type==0||u[D].type==3)&&u[D].hB!=-1)J++;
q[D]=C[J]}C=q;var A=u.slice(0,2);q=C.slice(0,2);for(var D=2;D<u.length;D++){if(u[D].type==0||u[D].type==3){n=u[D];
A.push(n);q.push(C[D])}else{if(m.indexOf(D)==-1){A.push(u[D]);q.push(C[D])}else{n.length--;j.xK.$T(C,D)}}}for(var D=2;
D<A.length;D++){var N=A[D];if(N.type!=0&&N.type!=3)continue;if(N.length==0){if(A[D+1]&&A[D+1].hB==-1){A[D+1].hB=N.hB}q.splice(D,1);
A.splice(D,1);D--}}for(var D=0;D<Z.length;D++)if(q.indexOf(Z[D])==-1){Z.splice(D,1);D--}return A};j.$.a3n=function(u,m){var C=u.slice(0,2),Z=-1;
for(var D=2;D<u.length;D++){if((u[D].type==0||u[D].type==3)&&u[D].hB!=-1)Z++;if(m.indexOf(Z)==-1)C.push(u[D])}return C};
j.$.atY=function(u,m){var C=u.slice(0,2),Z=-1;for(var D=2;D<u.length;D++){if((u[D].type==0||u[D].type==3)&&u[D].hB!=-1)Z++;
if(m.indexOf(Z)!=-1)C.push(u[D])}return C};j.$.a0Y=function(u){var m=0;for(var D=0;D<u.length;D++)if(u[D].type==0||u[D].type==3)m=D;
return u[m]};j.$.o1=function(u){var m=-1;for(var D=0;D<u.length;D++)if((u[D].type==0||u[D].type==3)&&u[D].hB!=-1)m++;
return m+1};j.$.I9=function(u,m,C){var Z=-1;for(var D=0;D<u.length;D++)if((u[D].type==0||u[D].type==3)&&(C||u[D].hB!=-1)){Z++;
if(Z==m)return D}return-1};j.$.jE=function(u,m,C){var Z=-1;for(var D=0;D<u.length;D++)if((u[D].type==0||u[D].type==3)&&(C||u[D].hB!=-1)){if(D>=m)return Z;
Z++}return Z};j.$.lN=function(u,m){var C=-1,Z=0;for(var D=0;D<u.length;D++){if((u[D].type==0||u[D].type==3)&&u[D].hB!=-1)C++;
if(C==m)Z++}return Z};j.$.a1t=function(u){var m=180;for(var D=0;D<u.length;D++){if(u[D].type!=0&&u[D].type!=3)continue;
var C=u[D].length;if(C<3)continue;for(var Z=0;Z<C;Z++){var q=u[D+1+(Z-1+C)%C],J=u[D+1+Z],A=u[D+1+(Z+1)%C],n=J.A,N=J.Rv.QV(n)?q.wm:J.Rv,e=J.wm.QV(n)?A.Rv:J.wm;
if(n.QV(N)||n.QV(e))continue;var Q=N.x-n.x,p=N.y-n.y,B=e.x-n.x,$=e.y-n.y,N=Math.atan2(N.y-n.y,N.x-n.x)*180/Math.PI,e=Math.atan2(e.y-n.y,e.x-n.x)*180/Math.PI,R=Math.abs(e-N)%360,z=R>180?360-R:R;
if(z<m)m=z}}return m*Math.PI/180};j.$.XF=function(u){var m=u.segments?[u]:u.children,C=[];for(var D=0;
D<m.length;D++){var Z=m[D],q=Z.segments,J=Z.closed?0:3,A=C.length,n=null;if(q.length<=1)continue;C.push({type:J,length:q.length,hB:0,sF:2});
for(var N=0;N<q.length;N++){var e=q[N],Q=new dz(e.handleIn.x,e.handleIn.y),p=new dz(e.handleOut.x,e.handleOut.y),B=new dz(e.point.x,e.point.y),$={type:J+1,Rv:B.add(Q),A:B,wm:B.add(p)};
if(n==null)n=$;C.push($);if(N+1==q.length&&dz.th(n.A,$.A)<1e-5){C.pop();C[A].length--;n.Rv=$.Rv;if(J==3)for(var R=A;
R<C.length;R++)C[R].type-=3}}}return C};j.$.oV=function(u){j.$.W4();var m=[],C,Z=new paper.Color(1,0,0);
function q($,n){$.remove();$.closed=!n;$.fillRule="evenodd"}for(var D=0;D<u.length;D++){if(u[D].type>5)continue;
var J=u[D].length,A;if(D==u.length-1)break;var n=u[D].type==3;if(D==2){if(!j.$.ue(u))A="subtract";else A="unite"}else{if(u[D].hB==0)A="exclude";
if(u[D].hB==1)A="unite";if(u[D].hB==2)A="subtract";if(u[D].hB==3)A="intersect"}if(u[D].hB!=-1){C=new paper.CompoundPath;
m.push([C,A]);C.fillRule="evenodd";C.fillColor=Z}var N=[];for(var e=0;e<J;e++){var Q=u[D+1+e],p=Q.Rv.Vy(Q.A),B=Q.wm.Vy(Q.A);
N.push([[Q.A.x,Q.A.y],[p.x,p.y],[B.x,B.y]])}var $=new paper.Path(N);q($,n);C.addChild($);D+=J}return m};
j.$.DM=function(u){for(var D=0;D<u.length;D++){var m=u[D];if(m.A==null)continue;if(!m.A.QV(m.Rv)||!m.A.QV(m.wm))return!1}return!0};
j.$.a1w=function(u){if(u.length<=5)return 0;var m=0,C=u.length-3-1;for(var D=0;D<C;D++){var Z=u[3+D],q=u[3+D+1];
if(Z.type==0||q.type==0)return 0;m+=(q.A.x-Z.A.x)*(Z.A.y+q.A.y)}m+=(u[3].A.x-u[3+C].A.x)*(u[3+C].A.y+u[3+1].A.y);
return-m*.5};j.$.q4=function(u){var m=u[2],C=!1;if(u.length==2)C=u[1].all==0;else if(u[1].all==1){if(m.hB==1||m.hB==3)C=!0;
else C=!1}else{if(m.hB==1||m.hB==3||m.hB==0)C=!0;else C=!1}return C};j.$.ue=function(u){var m=j.$.q4(u);
for(var D=3;D<u.length;D++)if(u[D].hB==3)m=!0;return m};j.$.a4Z=0;j.$.Bg=0;j.$.asJ=0;j.$.aal=function(u,m,C,Z){if(C.qR())return;
var q=C.Z(),a=16384;j.$.a4Z+=q;if(q>j.$.Bg){j.$.Bg=q}var J=C.e,A=C.n;if(Z==null&&j.$.DM(u)){var n=!0;
for(var D=2;D<u.length;)if(u[D].length==2)D+=3;else{n=!1;break}if(n){return}if(j.$.a9(u)){m.fill(255);
var N=j.$.Br(u);if(N.Z()!=q){var e=1-(N.x-C.x),Q=1-(N.y-C.y),p=1-(C.x+C.e-(N.x+N.e)),B=1-(C.x+C.n-(N.x+N.n)),$=~~(e*255),R=~~(p*255),z=~~(Q*255),v=~~(B*255);
m.fill(z,0,J);m[0]=~~(e*Q*255);m[J-1]=~~(p*Q*255);for(var D=J;D<q;D+=J){m[D]=$;m[D+J-1]=R}m.fill(v,(A-1)*J,A*J);
m[q-J]=~~(e*B*255);m[q-1]=~~(p*B*255)}return}}var X=Math.ceil(J/a),V=Math.ceil(A/a),o=Math.ceil(J/X),h=Math.ceil(A/V),T=Date.now();
for(var l=0;l<V;l++)for(var w=0;w<X;w++){var W=w*o,U=l*h,s=o,S=h,x=j.l2(s,S);if(!j.$.q4(u))x.fillRect(0,0,s,S);
j.$.Yv(u,x,-C.x-W,-C.y-U,Z);var P=new Uint8Array(x.getImageData(0,0,s,S).data.buffer);if(s==J&&S==A)j._H(P,m,3);
else j.xV(P,new bl(W,U,s,S),m,new bl(0,0,J,A))}};j.$.Yv=function(u,m,C,Z,q){if(q!=null){var J=!1,A=!1,n=0,N=!1;
for(var D=0;D<u.length;D++){var e=u[D].hB;if(e!=null){n++;if(e==-1)J=!0;if(e>0)A=!0;if(u[D].type==0)N=!0}}if(!J&&n<20&&(q==null||N))u=j.$.R_(u)}for(var D=0;
D<u.length;D++){if(u[D].type>5)continue;var Q=u[D].length;if(Q==0)continue;if(D==u.length-1)break;var p=u[D].type==3,e=u[D].hB;
if(e!=-1&&q==null){var B=["xor","source-over","destination-out","source-in"][e];m.globalCompositeOperation=B}if(u[D].hB!=-1){m.beginPath();
if(q){var $=q.strokeStyleLineWidth.v.val,R=q.strokeStyleLineAlignment.v.strokeStyleLineAlignment,z=q.strokeStyleLineCapType.v.strokeStyleLineCapType,v=q.strokeStyleLineJoinType.v.strokeStyleLineJoinType,a=q.strokeStyleMiterLimit.v,X=[],V=q.strokeStyleLineDashSet.v;
for(var o=0;o<V.length;o++)X.push(V[o].v.val*$);m.setLineDash(X);m.lineCap=["butt","round","square"][c0.K_.kS.indexOf(z)];
m.lineJoin=["miter","round","bevel"][c0.K_.join.indexOf(v)];m.lineWidth=c0.K_.bt.indexOf(R)==1?$:$*=2;
m.miterLimit=a}}j.$.a1G(m,u,D+1,Q,C,Z,p);if(p){}else m.closePath();if(u[D+1+Q]==null||u[D+1+Q].hB!=-1){if(q)m.stroke();
else m.fill("evenodd")}D+=Q}m.globalCompositeOperation="source-over"};j.$.a1G=function(u,m,D,C,Z,q,J){var A=m[D],n=null;
u.moveTo(A.A.x+Z,A.A.y+q);for(var N=D;N<D+C-1;N++){A=m[N];n=m[N+1];u.bezierCurveTo(A.wm.x+Z,A.wm.y+q,n.Rv.x+Z,n.Rv.y+q,n.A.x+Z,n.A.y+q)}if(!J){A=m[N];
n=m[D];u.bezierCurveTo(A.wm.x+Z,A.wm.y+q,n.Rv.x+Z,n.Rv.y+q,n.A.x+Z,n.A.y+q)}};j.$.ano=function(u,m){var C=[],Z=m?4:1;
for(var D=0;D<u.length;D+=2){var q=new dz(u[D],u[D+1]);C.push({type:Z,Rv:q.clone(),A:q.clone(),wm:q.clone()})}return C};
j.$.ni=function(u,m){j.$.W4();var C=new paper.Path;C.remove();var Z=u.length-1,q=Math.sqrt((u[Z-1]-u[0])*(u[Z-1]-u[0])+(u[Z]-u[1])*(u[Z]-u[1]))<3;
C.closed=q;for(var D=0;D<u.length;D+=2)C.add(new paper.Point(u[D],u[D+1]));C.simplify(m);var J=[{type:6},{type:8,all:0}];
J=J.concat(j.$.XF(C));return J};j.$.ph=function(u,m,C){var Z=u[m].length,q=u[m].type,J=0,A=u.slice(m+1,m+1+Z);
for(var D=0;D<Z;D++){var n=C[(D-1+Z)%Z],N=C[(D+1+Z)%Z],e=C[D];if(e!=0){var Q=A[(D-1+Z)%Z].A,p=A[(D+0+Z)%Z].A,B=A[(D+1+Z)%Z].A,$=dz.th(p,Q),R=dz.th(p,B),z=j.u.YB(Q.x,Q.y,p.x,p.y,B.x,B.y,e)[0],v=Math.min(z,n==0?$:$/2,N==0?R:R/2);
e*=v/z;var a=j.u.X6(Q.x,Q.y,p.x,p.y,B.x,B.y,e),X={type:q+1,Rv:new dz(a[2],a[3]),A:new dz(a[2],a[3]),wm:new dz(a[4],a[5])},V={type:q+1,Rv:new dz(a[6],a[7]),A:new dz(a[8],a[9]),wm:new dz(a[8],a[9])};
u.splice(m+J+1,1,X,V);J++;u[m].length++}J++}};j.$.DM=function(u){for(var D=0;D<u.length;D++){var m=u[D],C=m.type;
if(C==1||C==2||C==4||C==5)if(!m.A.QV(m.Rv)||!m.A.QV(m.wm))return!1}return!0};j.$.a9=function(u){if(u.length!=7||!j.$.DM(u))return!1;
for(var D=0;D<4;D++){var m=!0;for(var C=0;C<4;C++){var Z=u[3+(D+C&3)],q=u[3+(D+C+1&3)];if(Z.A.x!=q.A.x&&Z.A.y!=q.A.y)m=!1}if(m)return!0}return!1};
j.$.i5={};j.$.i5.tF=function(u,m,C){var Z=[{type:6},{type:8,all:0}],q=null;Z.push({type:C?3:0,hB:1,length:0,Y4:0,Fn:0,sF:1});
if(m==0)q==null;else if(m instanceof Array)q=m;else{q=[];for(var D=0;D<u.length;D+=2)q.push(m)}Z=Z.concat(j.$.ano(u,C));
Z[2].length=Z.length-3;if(q)j.$.ph(Z,2,q);return Z};j.$.i5.acM=function(u,m,C,Z,q){var J=[],A=[],n=.553,N=1,e=-1;
J.push({type:1,Rv:new dz(0,n),A:new dz(0,0),wm:new dz(0,-n)});q+=2;for(var D=0;D<q;D++){var Q={type:1};
if(D==0){Q.A=new dz(1,-1);Q.Rv=new dz(1-n,-1);Q.wm=new dz(1+n,-1)}else{var p=-(D+2)*Math.PI/2,B=1+((D&1)==1?D-1:D),$=Math.sin(p),R=Math.cos(p);
N+=B*($-R);e+=B*(R+$);Q.A=new dz(N,e);Q.Rv=new dz(N+B*R*n,e-B*$*n);if((D&1)==1)B+=2;Q.wm=new dz(N-B*R*n,e+B*$*n)}var z={type:1,Rv:new dz(-Q.wm.x,-Q.wm.y),A:new dz(-Q.A.x,-Q.A.y),wm:new dz(-Q.Rv.x,-Q.Rv.y)};
J.push(Q);if(D<q-2)A.push(z)}A.reverse();J=J.concat(A);var v=[{type:6},{type:8,all:0}];v.push({type:0,hB:1,length:J.length,Y4:0,Fn:0,sF:1});
v=v.concat(J);var a=new ix(C/q,0,0,C/q,0,0);a.rotate(Z);a.translate(u,m);j.$.l0(v,a);return v};j.$.i5.Rect=function(u,m,C,Z,q){var J=[u,m,u+C,m,u+C,m+Z,u,m+Z];
return j.$.i5.tF(J,q)};j.$.i5.Ph=function(u,m,C,Z,q,J,A,n){var N=[],e=2*Math.PI/q;for(var D=0;D<q;D++)N.push(Math.cos(D*e-Z),Math.sin(D*e-Z));
if(A!=null){var Q=j.u.Of(N),p=Q.e,B=Q.n,$=A/(p/2),R=n/(B/2);for(var D=0;D<N.length;D+=2){N[D]=(N[D]-(Q.x+p/2))*$;
N[D+1]=(N[D+1]-(Q.y+B/2))*R}C=1}var z=new ix(C,0,0,C,0,0);z.translate(u,m);j.u.I(N,z,N);return j.$.i5.tF(N,J)};
j.$.i5.xx=function(u,m,C,Z,q,J,A){var n=[],N=Math.PI/q;for(var D=0;D<q*2;D++){var e=(D&1)==0?1:A;n.push(e*Math.cos(D*N),e*Math.sin(D*N))}var Q=new ix(C,0,0,C,0,0);
Q.rotate(Z);Q.translate(u,m);j.u.I(n,Q,n);return j.$.i5.tF(n,J)};j.$.i5.Bw=function(u,m,C,Z,q){return j.$.i5.Ql(0,u,m,C,Z,q)};
j.$.i5.ag1=function(u,m,C,Z,q,J){return j.$.i5.Ql(1,u,m,C,Z,q,J)};j.$.i5.Tl=function(u,m,C,Z,q,J){return j.$.i5.Ql(2,u,m,C,Z,q,J)};
j.$.i5.Ql=function(u,m,C,Z,q,J,A){var n=Math.sqrt((Z-m)*(Z-m)+(q-C)*(q-C)),N;J/=2;if(u==0)N=[-J,0,J,0,J,n,-J,n];
if(u==1){var e=J*2*A*1.3/1.5,Q=J*A;N=[-J,0,J,0,J,n-e,Q,n-e,0,n,-Q,n-e,-J,n-e]}if(u==2){var e=A[3],Q=A[2]/2,p=e*(2/3)*A[4]/100,B=e-p,$=e;
N=[];if(A[0])N.push(-J,B,-Q,$,0,0,Q,$,J,B);else N.push(-J,0,J,0);if(A[1])N.push(J,n-B,Q,n-$,0,n,-Q,n-$,-J,n-B);
else N.push(J,n,-J,n)}var R=new ix(1,0,0,1,0,0);R.rotate(Math.atan2(-q+C,Z-m)+Math.PI/2);R.translate(m,C);
j.u.I(N,R,N);return j.$.i5.tF(N,0)};j.$.i5.y$=function(u,m,C,Z){var q=[{type:6},{type:8,all:0}],p=.553;
q.push({type:0,hB:1,length:4,Y4:0,Fn:0,sF:1});var J=u,A=m,n=u+C,N=m+Z,u=(J+n)/2,m=(A+N)/2,e=(J-n)/2,Q=(A-N)/2;
q.push({type:1,Rv:new dz(u-p*e,m-Q),A:new dz(u,m-Q),wm:new dz(u+p*e,m-Q)});q.push({type:1,Rv:new dz(u+e,m-p*Q),A:new dz(u+e,m),wm:new dz(u+e,m+p*Q)});
q.push({type:1,Rv:new dz(u+p*e,m+Q),A:new dz(u,m+Q),wm:new dz(u-p*e,m+Q)});q.push({type:1,Rv:new dz(u-e,m+p*Q),A:new dz(u-e,m),wm:new dz(u-e,m-p*Q)});
return q};j.$.i5.ao2=function(u,m,C,Z,q){var J=[{type:6},{type:8,all:0}];J.push({type:3,hB:1,length:5,Y4:0,Fn:0,sF:1});
var A=(q-Z)/4;for(var D=0;D<5;D++){var n=D*A,N=Math.cos(n),e=Math.sin(n),Q=.553*(A/(Math.PI/2)),p=e*Q,B=-N*Q,$=new dz(N,e);
J.push({type:4,Rv:D==0?$.clone():new dz(N+p,e+B),A:$,wm:D==4?$.clone():new dz(N-p,e-B)})}var R=new ix;
R.rotate(-Z);R.scale(C,C);R.translate(u,m);j.$.l0(J,R);return J};j.x0={};j.x0.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
j.x0.Y2=function(u){var m=u.warpStyle.v.warpStyle;if(m=="warpNone")return!0;else if(m=="warpCustom"){var C=!1,Z=u.customEnvelopeWarp.v.meshPoints.v.arr,q=Z[0].arr,J=Z[1].arr;
for(var D=0;D<4;D++)for(var A=0;A<4;A++){if(Math.abs(q[D]-q[A*4+D])>1||Math.abs(J[D*4]-J[D*4+A])>1)C=!0}return!C}else return u.warpValue.v==0&&u.warpPerspective.v==0&&u.warpPerspectiveOther.v==0};
j.x0.U=function(u){var m={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(u){m.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:u.y}},Left:{t:"UntF",v:{type:"#Pxl",val:u.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:u.y+u.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:u.x+u.e}}}};
m.uOrder={t:"long",v:4};m.vOrder={t:"long",v:4}}return m};j.x0.aqn=function(u,m,C,Z){for(var D=0;D<u.length;
D+=2){var q=u[D],J=u[D+1],A=(q-m.x)/m.e,n=(J-m.y)/m.n,N=(1-C)/2,e=1-N,Q=N+A*(e-N);n=.5+(n-.5)*Q*2;var p=(1-Z)/2,B=1-p,$=p+n*(B-p);
A=.5+(A-.5)*$*2;q=m.x+A*m.e;J=m.y+n*m.n;u[D]=q;u[D+1]=J}};j.x0.M0=function(u,m){var C=[],Z=[];for(var D=0;
D<u.length;D+=2){C.push(u[D]);Z.push(u[D+1])}var q=[];q.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:C});
q.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:Z});m.warpStyle.v.warpStyle="warpCustom";m.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:q}}}}};
j.x0.Xw=function(u,m){if(m==null){var C=u.bounds.v,Z=C.Left.v.val,q=C.Rght.v.val,J=C.Top.v.val,A=C.Btom.v.val;
m=new bl(Z,J,q-Z,A-J)}if(m.qR())m.e=m.n=1;var n=[],N=u.warpStyle.v.warpStyle;if(N=="warpCustom"){var e=u.customEnvelopeWarp.v.meshPoints.v.arr,Q=e[0].arr,p=e[1].arr;
for(var D=0;D<16;D++)n.push(Q[D],p[D])}else n=j.x0.x0(m,N,u.warpRotate.v.Ornt=="Hrzn",u.warpValue.v/100,u.warpPerspective.v/100,u.warpPerspectiveOther.v/100);
return n};j.x0.x0=function(u,m,C,Z,q,J){var A=j.jk.U(u.x,u.y,u.e,u.n);if(m=="warpNone")return A;var n=JSON.parse(JSON.stringify(u)),N=new ix;
if(!C){N.translate(-u.x,-u.y);N.rotate(-Math.PI/2);N.translate(u.n,0);j.u.I(A,N,A);u=new bl(0,0,u.n,u.e);
A=j.jk.ZG(A,!1)}j.x0.anY(A,u,m,Z,q,J);if(!C){A=j.jk.ZG(A,!0);u=n;N.mL();j.u.I(A,N,A)}if(Z==0)j.x0.aqn(A,u,q,J);
else{var N=new ix(1/u.e,0,0,1/u.n,-u.x,-u.y);N.translate(-.5,-.5);j.u.I(A,N,A);j.x0.a9_(A,J,q);N.mL();
j.u.I(A,N,A)}return A};j.x0.anY=function(u,m,C,Z,q,J){for(var D=0;D<4;D++){for(var A=0;A<4;A++){var n=2*(4*D+A),N=u[n]-m.x,e=u[n+1]-m.y,Q=N,p=e;
if(Z!=0){var B=m.e/2,$=m.n/2;Q-=B;p-=$;var R=Q,z=Q,v=-$,a=$,X=Math.abs(Z),V=Math.tan((1-X)*Math.PI/2),o=Math.sqrt(V*V+1),h=Math.atan2(1,V),T=Q/B*h,l=B*o,w=B*o+m.n,W=Math.cos(h),U=Math.sin(h),s=j.x0.aoR(W,U),S=j.x0.akl(W,U),x=-V*B+s*l;
if(C=="warpArc"){R=Math.sin(T)*w;v=V*B-Math.cos(h)*w+$;z=Math.sin(T)*l;a=V*B-Math.cos(h)*l+$;if(A==1||A==2){R=A==1?-S*w:S*w;
z=A==1?-S*l:S*l;v=V*B+$-s*w;a=V*B+$-s*l}if(Z<0){var P=R;R=z;z=P;P=v;v=-a;a=-P}}if(C=="warpArcLower"){if(A==1||A==2){z=A==1?-S*l:S*l;
a=Z<0?$-x:$+x}}if(C=="warpArcUpper"||C=="warpArch"||C=="warpBulge"){if(A==1||A==2){R=A==1?-S*l:S*l;v=Z<0?-$+x:-$-x}if(C=="warpArch"){z=R;
a=v+2*$}if(C=="warpBulge"){z=R;a=-v}}if(C=="warpFish"||C=="warpFlag"||C=="warpWave"){var y=A;if(C=="warpFlag")y=3-A;
if(y==1){v-=Z*4*$;a+=Z*4*$}if(y==2){v+=Z*4*$;a-=Z*4*$}if(C=="warpFlag"||C=="warpWave")v=a-2*$}if(C=="warpRise"){if(A<2)v=-$+Z*$*4;
a=v+2*$}var _=(p+$)/m.n;Q=R+_*(z-R);p=v+_*(a-v);if(C=="warpWave"){if(D==0)p=-$;if(D==3)p=$;if(D==1||D==2)p=2*$*(D/3-.5)*(1/3)+p*(2/3)}if(C=="warpFisheye"){if((D==1||D==2)&&(A==1||A==2)){Q=Q+4*Q*Z;
p=p+4*p*Z}}if(C=="warpInflate"){var g=2/3;if((D==1||D==2)&&(A==1||A==2)){Q=Q+.5*Q*Z;p=p+.5*p*Z}else if(D==1||D==2)Q=Q+g*Q*Z;
else if(A==1||A==2)p=p+g*p*Z}if(C=="warpSqueeze"){var g=2/3;if((D==1||D==2)&&(A==1||A==2)){if(Z>0)Q=Q-g*Q*Z;
else p=p+g*p*Z}else if(D==1||D==2)Q=Q-g*Q*Z;else if(A==1||A==2)p=p+g*p*Z}if(C=="warpTwist"){if((D==1||D==2)&&(A==1||A==2)){var G=Z*Math.PI/2,o=1+Math.abs(Z)*2,O=Q*Math.cos(G)-p*Math.sin(G),E=Q*Math.sin(G)+p*Math.cos(G);
Q=O*o;p=E*o}}if(C=="warpShellLower"||C=="warpShellUpper"){if(C=="warpShellUpper"){D=3-D;p=-p}if(D>2||D==2&&(A==0||A==3)){if(Z>0){var L=l+D/3*2*$;
Q=Math.sin(T)*L;p=-V*B-$+Math.cos(T)*L;if(A==1||A==2){Q=A==1?-S*L:S*L;p=-V*B-$+s*L}}else{if((A==1||A==2)&&D==3){Q=A==1?-S*l:S*l;
p=V*B-s*l+$}else if(D==2){p=$-$*(2/3)*Math.cos(T);Q=Q+$*(2/3)*Math.sin(T)}}}if(C=="warpShellUpper"){D=3-D;
p=-p}}Q+=B;p+=$}N=Q,e=p;u[n]=N+m.x;u[n+1]=e+m.y}}};j.x0.a9_=function(u,m,C){var Z=[];for(var q=0;q<4;
q++)Z.push(1-C+q/3*2*C);var J=[];for(var q=0;q<4;q++)J.push(1-m+q/3*2*m);var A=[0,0,0,0],n=[0,0,0,0];
for(var D=0;D<4;D++)for(var q=0;q<4;q++){var N=2*(4*D+q),e=u[N],Q=u[N+1];A[q]+=e/4;n[q]+=Q/4}for(var D=0;
D<4;D++)for(var q=0;q<4;q++){var p=Z[q],N=2*(4*D+q),e=u[N],Q=u[N+1],B=A[q],$=n[q];u[N]=B+p*(e-B);u[N+1]=$+p*(Q-$)}var R=u.slice(0);
for(var D=0;D<4;D++)for(var q=1;q<3;q++){var N=2*(4*D+q),e=u[N],Q=u[N+1],z=N+(q==1?-2:2),v=u[z],a=u[z+1];
u[N]=e-v;u[N+1]=Q-a}var X=u[0],V=u[1],o=u[8],h=u[9],T=u[16],l=u[17],w=u[24],W=u[25],U=u[6],s=u[7],S=u[14],x=u[15],P=u[22],y=u[23],_=u[30],g=u[31],G=U-X,O=s-V,E=S-o,L=x-h,c=P-T,k=y-l,I=_-w,Y=g-W;
for(var D=0;D<4;D++){var K=2*D*4,i=0,i4=0,d7=D==1?.33:.66,d=1-d7;if(D==0){i=G;i4=O}if(D==1){i=d*G+d7*-I;
i4=d*O+d7*-Y}if(D==2){i=d*G+d7*-I;i4=d*O+d7*-Y}if(D==3){i=-I;i4=-Y}u[K]=u[K]+i/2;u[K+1]=u[K+1]+i4/2;
u[K+6]=u[K+6]-i/2;u[K+7]=u[K+7]-i4/2}for(var D=0;D<4;D++)for(var q=1;q<3;q++){var N=2*(4*D+q),e=u[N],Q=u[N+1],z=N+(q==1?-2:2),v=u[z],a=u[z+1],p=2*D/3;
u[N]=v+p*e;u[N+1]=a+p*Q}for(var D=1;D<3;D++)for(var q=1;q<3;q++){var N=2*(4*D+q),e=u[N],Q=u[N+1],fH=D==1?-8:-16,aC=D==1?16:8,f8=u[N+fH],c9=u[N+fH+1],g1=u[N+aC],cE=u[N+aC+1],p=D/3;
e=(1-p)*f8+p*g1;Q=(1-p)*c9+p*cE;u[N]=e;u[N+1]=Q}j.u.z4(R,u,u,m)};j.x0.aoR=function(u,m){return(4-u)*(1/3)};
j.x0.akl=function(u,m){return(1-u)*(3-u)/(3*m)};j.BG={};j.BG.ar3=function(u,m,C,Z,q,J,A,n,N,e){for(var Q=0;
Q<n;Q++)for(var p=0;p<A;p++){var B=3*(Q*A+p),$=Q+J,R=p+q,z=u[$*m+R];Z[B]=z;Z[B+1]=z;Z[B+2]=z}};j.BG.Va=function(u,m,C,Z,q,J,A,n,N,e){var Q=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],p=1/N,B=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],$=new Uint32Array(6);
for(var R=0;R<n;R++){for(var z=0;z<A;z++){var v=3*(R*A+z),a=R+J,X=z+q;$[0]=0;$[1]=0;$[2]=0;$[3]=0;$[4]=0;
$[5]=0;for(var D=0;D<16;D+=2){var V=X+B[D],o=a+B[D+1],h=V-N*~~(V*p),T=o-N*~~(o*p),l=e[T*N+h];$[l]+=u[o*m+V];
$[l+3]++}var V=X,o=a,h=V-N*~~(V*p),T=o-N*~~(o*p),l=e[T*N+h];$[l]=u[a*m+X];$[l+3]=1;Z[v]=$[0]*Q[$[3]];
Z[v+1]=$[1]*Q[$[4]];Z[v+2]=$[2]*Q[$[5]]}}};j.BG.zm=function(u,m,C){for(var D=0;D<C;D+=2)u[m+D]=u[m+D+1];
m=m+C;for(var D=0;D<C;D+=2)u[m+D+1]=u[m+D]};j.BG.$X=function(u,m,C,Z){for(var D=0;D<Z;D+=2){var q=m+D*C;
u[q]=u[q+C];u[q+C+1]=u[q+1]}};j.BG.ZH=function(u,m,C,Z,q,J){var A=Z[q],n=Z[q+1],N=Z[J],e=Z[J+1],Q=n+N>>>1;
u[m]=u[m+3]=u[C]=u[C+3]=A;u[m+1]=Q;u[m+4]=n;u[C+1]=N;u[C+4]=Q;u[m+2]=u[m+5]=u[C+2]=u[C+5]=e};j.BG.aio=function(u,m,C,Z,q,J){var A=J*3;
for(var D=0;D<J;D+=2){var n=m+D,N=q+D*3;j.BG.ZH(Z,N,N+A,u,n,n+C)}};j.BG.adA=function(u,m,C,Z,q,J,A){var n=J*3;
for(var D=0;D<A;D+=2){var N=m+D*C,e=q+D*J*3;j.BG.ZH(Z,e,e+n,u,N,N+C)}};j.BG.BT=function(u,D,m){var C=u[D-m-m],Z=u[D-m],q=u[D-2],J=u[D-1],A=u[D],n=u[D+1],N=u[D+2],e=u[D+m],Q=u[D+m+m],p=Math.abs(Z-e),B=Math.abs(J-n),$=Math.abs(A-C)*2+p,R=Math.abs(A-N)*2+B,z=Math.abs(A-q)*2+B,v=Math.abs(A-Q)*2+p,a=Math.min($,Math.min(R,Math.min(z,v)));
if(a==$)return Z*3+e+A-C>>2;if(a==R)return n*3+J+A-N>>2;if(a==z)return J*3+n+A-q>>2;return e*3+Z+A-Q>>2};
j.BG.JQ=function(u,m,C,Z,q){if(u<m&&m<C||u>m&&m>C)return~~(.5+Z+(q-Z)*(m-u)/(C-u));else return(Z+q>>1)+(m+m-u-C>>2)};
j.BG.bZ=function(u,m,D,C){var Z=m[D-C-1],q=m[D-C+1],J=m[D],A=m[D+C-1],n=m[D+C+1],N=u[D-C-1],e=u[D-C+1],Q=u[D],p=u[D+C-1],B=u[D+C+1],$=Math.abs(e-p)+Math.abs(u[D-C-C+2]-Q)+Math.abs(Q-u[D+C+C-2])+Math.abs(q-J)+Math.abs(J-A),R=Math.abs(N-B)+Math.abs(u[D-C-C-2]-Q)+Math.abs(Q-u[D+C+C+2])+Math.abs(Z-J)+Math.abs(J-n);
if($<R)return j.BG.JQ(q,J,A,e,p);else return j.BG.JQ(Z,J,n,N,B)};j.BG.yo=function(u,m,C,Z,q,J){u[m+0]=C[q];
u[m+1]=Z[q];u[m+2]=j.BG.bZ(C,Z,q,J)};j.BG.uK=function(u,m,C,Z,q,J){var A=Z[q];u[m+0]=j.BG.JQ(Z[q-1],A,Z[q+1],C[q-1],C[q+1]);
u[m+1]=A;u[m+2]=j.BG.JQ(Z[q-J],A,Z[q+J],C[q-J],C[q+J])};j.BG.GQ=function(u,m,C,Z,q,J){var A=Z[q];u[m+0]=j.BG.JQ(Z[q-J],A,Z[q+J],C[q-J],C[q+J]);
u[m+1]=A;u[m+2]=j.BG.JQ(Z[q-1],A,Z[q+1],C[q-1],C[q+1])};j.BG.PJ=function(u,m,C,Z,q,J){u[m+0]=j.BG.bZ(C,Z,q,J);
u[m+1]=Z[q];u[m+2]=C[q]};j.BG.amX=function(u,m,C,Z,q,J,A,n,N){var e=Date.now(),Q=2,p=m-2,B=2;if((q&1)==1){Q++;
p--}var $=C-2;if((J&1)==1){B++;$--}if(N==1||N==3){Q++;p--}var R=u.slice(0);j.BG.zm(R,0,m);j.BG.$X(R,0,m,C);
j.BG.$X(R,m-2,m,C);j.BG.zm(R,(C-2)*m,m);for(var z=B;z<$;z+=2)for(var v=Q;v<p;v+=2){var D=z*m+v,a=j.BG.BT(R,D,m),X=j.BG.BT(R,D+m+1,m);
R[D]=Math.max(0,a);R[D+m+1]=Math.max(0,X)}var V=A,o=n;if(J+n==C){o-=2;j.BG.aio(u,(C-2)*m+q,m,Z,(n-2)*A*3,A)}if(q+A==m){V-=2;
j.BG.adA(u,J*m+q+A-2,m,Z,(A-2)*3,A,n)}if(N==0)for(var z=0;z<o;z+=2)for(var v=0;v<V;v+=2){var h=(z+J)*m+v+q,T=(z*A+v)*3;
j.BG.yo(Z,T,u,R,h,m);j.BG.uK(Z,T+3,u,R,h+1,m);h+=m;T+=3*A;j.BG.GQ(Z,T,u,R,h,m);j.BG.PJ(Z,T+3,u,R,h+1,m)}else if(N==1)for(var z=0;
z<o;z+=2)for(var v=0;v<V;v+=2){var h=(z+J)*m+v+q,T=(z*A+v)*3;j.BG.uK(Z,T,u,R,h,m);j.BG.yo(Z,T+3,u,R,h+1,m);
h+=m;T+=3*A;j.BG.PJ(Z,T,u,R,h,m);j.BG.GQ(Z,T+3,u,R,h+1,m)}else if(N==2)for(var z=0;z<o;z+=2)for(var v=0;
v<V;v+=2){var h=(z+J)*m+v+q,T=(z*A+v)*3;j.BG.PJ(Z,T,u,R,h,m);j.BG.GQ(Z,T+3,u,R,h+1,m);h+=m;T+=3*A;j.BG.uK(Z,T,u,R,h,m);
j.BG.yo(Z,T+3,u,R,h+1,m)}else if(N==3)for(var z=0;z<o;z+=2)for(var v=0;v<V;v+=2){var h=(z+J)*m+v+q,T=(z*A+v)*3;
j.BG.GQ(Z,T,u,R,h,m);j.BG.PJ(Z,T+3,u,R,h+1,m);h+=m;T+=3*A;j.BG.yo(Z,T,u,R,h,m);j.BG.uK(Z,T+3,u,R,h+1,m)}};
j.raw={};j.raw.aa5=function(u){var m=Date.now(),C=u.width,Z=u.height,q=0,J=0,A=C,n=Z;if(u.t50829){var N=u.t50829;
q=N[1];J=N[0];A=N[3];n=N[2]}if(u.t50719){var e=u.t50719;q+=e[0]>>1<<1;J+=e[1]>>1<<1}if(u.t50720){var Q=u.t50720;
A=q+Q[0];n=J+Q[1]}var p=A-q,B=n-J,$=j.raw.af6(u),R=u.t33422,z=u.t33421;if(z){var Q=z[0],v=R.slice(0);
for(var a=0;a<Q;a++)for(var X=0;X<Q;X++){var V=(X+(q&1))%Q,o=(a+(J&1))%Q;v[a*Q+X]=R[o*Q+V]}R=v}if(u.t277[0]==1)j.raw.a8$($,C,Z,u,R);
j.raw.ub(2,u,$,C,Z);var h=new Float32Array(p*B*3);if(u.t277[0]==1){if(z==null){j.BG.ar3($,C,Z,h,q,J,p,B)}else if(z.length!=2||z[0]!=2||z[1]!=2){console.log("Unknown CFA pattern size",z);
j.BG.Va($,C,Z,h,q,J,p,B,z[0],R)}else{var T=u.t33422.join(","),l=0;if(T=="0,1,1,2")l=0;else if(T=="1,0,2,1")l=1;
else if(T=="2,1,1,0")l=2;else if(T=="1,2,0,1")l=3;else throw"Unknown CFA pattern "+T;if((p&1)!=0||(B&1)!=0)throw"e";
j.BG.amX($,C,Z,h,q,J,p,B,l)}}else{for(var a=0;a<B;a++)for(var X=0;X<p;X++){var w=((a+J)*C+X+q)*3,W=(a*p+X)*3;
h[W+0]=$[w+0];h[W+1]=$[w+1];h[W+2]=$[w+2]}}var U=h,s=h.length,S=j.raw.ow(u),x=1/S;for(var D=0;D<s;D+=3){h[D]=U[D]*x;
h[D+1]=U[D+1]*x;h[D+2]=U[D+2]*x}j.raw.ub(3,u,h,p,B);var P=u.Tk,y=p,_=B;if(P==1||P==9){}else{var g=j.raw.KF(P,p,B),W=0;
y=g[0];_=g[1];var G=h.slice(0);for(var a=0;a<_;a++)for(var X=0;X<y;X++){var O=g[2]*X+g[3]*a+g[4],E=g[5]*X+g[6]*a+g[7],w=(E*p+O)*3;
h[W]=G[w];h[W+1]=G[w+1];h[W+2]=G[w+2];W+=3}}return{bf:h,B5:y,Hg:_}};j.raw.KF=function(u,m,C){var Z=m,q=C;
if(!1){}else if(u==2)return[m,C,-1,0,m-1,0,1,0];else if(u==3)return[m,C,-1,0,m-1,0,-1,C-1];else if(u==4)return[m,C,1,0,0,0,-1,C-1];
else if(u==5)return[C,m,0,1,0,1,0,0];else if(u==6)return[C,m,0,1,0,-1,0,C-1];else if(u==7)return[C,m,0,-1,m-1,-1,0,C-1];
else if(u==8)return[C,m,0,-1,m-1,1,0,0];else throw"unknown orientation "+u};j.raw.a8$=function(u,m,C,Z,q){var J=Date.now(),x=0,_=0;
if(j.raw.ow(Z)>4e4){for(var D=0;D<u.length;D++)u[D]>>=1;var A=["t50714","t50715","t50712","t50717"];
for(var D=0;D<A.length;D++){var n=Z[A[D]];if(n)for(var N=0;N<n.length;N++)n[N]>>>=1}console.log("remapping to lower bit depth")}var e=~~Math.sqrt(q.length),Q=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],p=[];
for(var B=0;B<e;B++)for(var $=0;$<e;$++){var D=B*e+$,R=q[D],z=4,v=4,a=8,X=0,V=0;for(var N=0;N<18;N+=2){var o=(e+$+Q[N])%e,h=(e+B+Q[N+1])%e,T=q[h*e+o];
if(T==R){}else if(z==4){z=T;X=N}else if(v==4&&T!=z){v=T;V=N;break}}if(v<z){var l=v;v=z;z=l;l=V;V=X;X=l}if(z<R){var l=z;
z=R;R=l;l=X;X=a;a=l}if(v<z){var l=v;v=z;z=l;l=V;V=X;X=l}p[D*3]=Q[a+1]*m+Q[a];p[D*3+1]=Q[X+1]*m+Q[X];
p[D*3+2]=Q[V+1]*m+Q[V]}var w=~~(.996*j.raw.ow(Z)),W=~~(.992*j.raw.ow(Z)),U=Z.t50728,s=[],S=[0,0,0];for(var B=1;
B<C-1;B++)for(var $=1;$<m-1;$++){var D=B*m+$,P=B%e*e+$%e,R=u[D+p[P*3+0]],z=u[D+p[P*3+1]],v=u[D+p[P*3+2]],y=Math.max(R,z,v);
if(y>w)s.push(D);else if(y>W){S[0]+=R;S[1]+=z;S[2]+=v;x++}}if(s.length==0)return;if(x/(m*C)<1e-5){console.log("not enough semi-saturated pixels",x);
S=U}if(S[1]<S[_])_=1;if(S[2]<S[_])_=2;var g=[S[0]/S[_],S[1]/S[_],S[2]/S[_]],G=u.slice(0);for(var O=0;
O<s.length;O++){var D=s[O],B=~~(D/m),$=D-B*m,P=B%e*e+$%e,E=Math.min(65535,~~(u[D+p[P*3+_]]*g[q[P]]));
if(E>G[D])G[D]=E}u.set(G)};j.raw.wO=function(u,m,C,Z){var q=u.bf,J=Math.round(q.length/3),A=q.slice(0);
j.raw.if(q,A,C,Z);var n=Math.pow(2,Z[2]),N=new Uint8Array(4e3);for(var D=0;D<4e3;D++){var e=D*(1/1e3);
e=j.MD(e);e*=n;e=j.wa(e);e=Math.max(0,Math.min(1,e));e=j.raw.LN.agv(e,Z[3]/100);N[D]=~~(.5+255*e)}for(var D=0;
D<J;D++){var Q=D<<2,p=Q-D;m[Q]=N[~~(A[p]*1e3)];m[Q+1]=N[~~(A[p+1]*1e3)];m[Q+2]=N[~~(A[p+2]*1e3)]}};j.raw.if=function(u,m,C,Z){var q=Math.round(u.length/3),J=eQ.a9N(Z[0],Z[1]),A=j.raw.a7t(C,J),n=j.dZ.multiply(j.dZ.bj,A),N=Math.pow(2,C.t50730?C.t50730[0]:0);
n=j.dZ.multiply(n,j.dZ.wV(N,N,N));var e=j.raw.if.anU;if(e==null){e=j.raw.if.anU=new Float64Array(8e3);
for(var D=0;D<8e3;D++)e[D]=j.wa(D*(1/1e3))}for(var D=0;D<q;D++){var Q=D<<2,p=Q-D,B=u[p],$=u[p+1],R=u[p+2],z=n[0]*B+n[1]*$+n[2]*R,v=n[4]*B+n[5]*$+n[6]*R,a=n[8]*B+n[9]*$+n[10]*R;
if(z<0)z=0;if(v<0)v=0;if(a<0)a=0;m[p]=e[~~(z*1e3)];m[p+1]=e[~~(v*1e3)];m[p+2]=e[~~(a*1e3)]}};j.raw.LN={agv:function(u,m){var C=.5-.5*Math.cos(u*3.2),Z=0;
if(m>0){var q=u*.2;Z=q*u+(1-q)*C}else{var J=Math.pow(u,.33);Z=(1-J)*J+J*(u+(u-C)*.63)}var A=Math.abs(m);
return A*Z+(1-A)*u},akm:function(u,m){var C=0;if(m>0){var Z=u*1.47,q=Math.pow(u,2.4);C=Math.min(1,q*u+(1-q)*Z)}else{var Z=u*.68,q=Math.pow(u,3);
C=q*u*.5+(1-q)*Z}var J=Math.abs(m);return J*C+(1-J)*u},aeZ:function(u,m){var C=0;if(m>0){var Z=Math.pow(u,.3),q=u;
C=(1-u)*Z+u*q}else{var Z=Math.pow(u,2.5),J=u,q=u;C=Math.min(1,(1-J)*Z+J*q)}var A=Math.abs(m);return A*C+(1-A)*u}};
j.raw.af6=function(u){var m=u.width,C=u.height,Z=m*C*u.t277,q=new Uint16Array(Z),J=null,A=0;j.raw.ao9(u,q);
j.raw.ub(1,u,q,m,C);if(u.t50712){J=u.t50712;A=J.length-1;if(J[A]>65535)throw"too big values"}var n=j.raw.Cz(u),N=j.raw.BP(u);
if(J==null)for(var D=0;D<Z;D++)q[D]=Math.max(0,q[D]-n);else for(var D=0;D<Z;D++){var e=q[D];if(e>A)e=A;
e=J[e];q[D]=Math.max(0,e-n)}return q};j.raw.Cz=function(u){var m=u.t50714,C=m?m[0]:0,Z=u.t50715,q=u.t50716;
if(Z)C+=Z[0][0]/Z[0][1];if(q)C+=q[0][0]/q[0][1];return Math.round(C)};j.raw.BP=function(u){var m=null,C=0;
if(u.t50712){m=u.t50712;C=m.length-1}var Z=u.t50717?u.t50717[0]:(1<<u.t258[0])-1;if(m)Z=Math.min(Z,m[C]);
return Z};j.raw.ow=function(u){var m=j.raw.Cz(u),C=j.raw.BP(u);return C-m};j.raw.ao9=function(u,m){var C=m.length,Z=u.data,q=u.t258[0];
if(q!=16&&q!=14&&q!=12&&q!=10&&q!=8)throw"Unsupported Bits Per Sample:"+q;q=Math.round(Z.length*8/C);
if(q==16&&u.isLE){j.Uj(Z,m);return}for(var D=0;D<C;D+=2){var J=0,A=0,n=0;if(q==16){J=D<<1;A=Z[J]<<8|Z[J+1];
n=Z[J+2]<<8|Z[J+3]}else if(q==14){var N=D*14,e=N>>>3,Q=Z[e]<<24|Z[e+1]<<16|Z[e+2]<<8|Z[e+3];if((N&7)==0){A=Q>>>18;
n=Q>>>4&16383}else{A=Q>>>14&16383;n=Q&16383}}else if(q==12){J=D+(D>>>1);A=Z[J]<<4|Z[J+1]>>4;n=(Z[J+1]&15)<<8|Z[J+2]}else if(q==10){var N=D*10,e=N>>>3;
if((N&7)==0){A=(Z[e]<<2|Z[e+1]>>6)&1023;n=(Z[e+1]<<4|Z[e+2]>>4)&1023}else{A=(Z[e]<<6|Z[e+1]>>2)&1023;
n=(Z[e+1]<<8|Z[e+2]>>0)&1023}}else if(q==8){J=D;A=Z[J];n=Z[J+1]}m[D]=A;m[D+1]=n}};j.raw.ub=function(u,m,C,Z,q){var J=m["t"+[51008,51009,51022][u-1]],Q=0;
if(J==null)return;var A=Z*q,n=M.h,N=M.AN,e=new Uint8Array(J),fa=M.h(e,Q);Q+=4;for(var p=0;p<fa;p++){var B=n(e,Q);
Q+=4;var $=n(e,Q);Q+=4;var R=n(e,Q);Q+=4;var z=n(e,Q);Q+=4;if(!1){}else if(B==1&&u==3){var v=Q,a=n(e,v);
v+=4;var X=N(e,v);v+=8;var V=N(e,v);v+=8;var o=N(e,v);v+=8;var h=N(e,v);v+=8;var T=N(e,v);v+=8;var l=N(e,v);
v+=8;v+=(a-1)*8*6;var w=N(e,v);v+=8;var W=N(e,v);v+=8;var U=w*Z,s=W*q,S=Math.max(U,Z-U),x=Math.max(s,q-s),P=Math.sqrt(S*S+x*x),y=1/P,_=C.slice(0);
for(var g=0;g<q;g++)for(var G=0;G<Z;G++){var O=(G+.5-U)*y,E=(g+.5-s)*y,L=O*O+E*E,c=X+V*L+o*(L*L)+h*(L*L)*L,k=T*(2*O*E)+l*(L+2*O*O),I=l*(2*O*E)+T*(L+2*E*E),Y=~~(U+P*(c*O+k)),K=~~(s+P*(c*E+I)),i=(K*Z+Y)*3,i4=(g*Z+G)*3;
C[i4]=_[i];C[i4+1]=_[i+1];C[i4+2]=_[i+2]}}else if(B==3&&u==3){var v=Q,d7=N(e,v);v+=8;var d=N(e,v);v+=8;
var fH=N(e,v);v+=8;var aC=N(e,v);v+=8;var f8=N(e,v);v+=8;var w=N(e,v);v+=8;var W=N(e,v);v+=8;var U=w*Z,s=W*q,S=Math.max(U,Z-U),x=Math.max(s,q-s),P=Math.sqrt(S*S+x*x),y=1/P;
for(var g=0;g<q;g++)for(var G=0;G<Z;G++){var O=(G+.5-U)*y,E=(g+.5-s)*y,L=O*O+E*E,c9=1+(d7+(d+(fH+(aC+f8*L)*L)*L)*L)*L,i4=(g*Z+G)*3;
C[i4]=c9*C[i4];C[i4+1]=c9*C[i4+1];C[i4+2]=c9*C[i4+2]}}else if(B==4&&u==1){var v=Q,g1=n(e,v);v+=4;var cE=n(e,v);
v+=4;for(var D=0;D<A;D++)if(C[D]==g1)C[D]=C[D-2]+C[D+2]>>1}else if(B==5&&u==1){var v=Q,hG=n(e,v);v+=4;
var fA=n(e,v);v+=4;var hh=n(e,v);v+=4;for(var D=0;D<fA;D++){var eE=n(e,v);v+=4;var dh=n(e,v);v+=4;var D=eE*Z+dh;
C[D]=C[D-2]+C[D+2]>>1}}else if(B==7&&u==1){var v=Q,fT=M.ie(e,v);v+=16;var dB=n(e,v);v+=4;var iN=n(e,v);
v+=4;var gV=n(e,v),fI=n(e,v+4);v+=8;var gc=n(e,v);v+=4;var aF=new Uint16Array(gc);for(var D=0;D<gc;D++)aF[D]=M.aP(e,v+2*D);
var gh=fT.e,gD=fT.n;for(var g=0;g<gD;g+=gV)for(var G=0;G<gh;G+=fI){var D=(fT.y+g)*Z+(fT.x+G);C[D]=aF[C[D]]}}else if(B==8&&u==2){var v=Q,fT=M.ie(e,v);
v+=16;var dB=n(e,v);v+=4;var iN=n(e,v);v+=4;var gV=n(e,v),fI=n(e,v+4);v+=8;var j1=n(e,v);v+=4;var dg=[];
for(var D=0;D<=j1;D++)dg[D]=M.AN(e,v+D*8);var ao=fT.x,eC=fT.x+fT.e,bD=fT.y,fK=fT.y+fT.n,a1=m.t50717[0],fR=1/a1;
for(var bj=0;bj<iN;bj++)for(var g=bD;g<fK;g+=gV){var i4=3*g*Z+dB+bj;for(var G=ao;G<eC;G+=fI){var D=i4+3*G,b7=C[D]*fR,ha=dg[j1];
for(var eJ=j1;eJ>0;eJ--)ha=ha*b7+dg[eJ-1];C[D]=Math.max(0,Math.min(65535,~~(ha*a1)))}}}else if(B==9&&u==2){var v=Q,fT=M.ie(e,v),iU=!0;
v+=16;var dB=n(e,v);v+=4;var iN=n(e,v);v+=4;var gV=n(e,v),fI=n(e,v+4);v+=8;var cq=n(e,v),bF=n(e,v+4);
v+=8;var g4=N(e,v),eA=N(e,v+8);v+=16;var aJ=N(e,v),fU=N(e,v+8);v+=16;var iE=n(e,v);v+=4;if(iE!=1)throw"more than one map plane";
var hQ=cq*bF,bT=new Float32Array(hQ);for(var eJ=0;eJ<hQ;eJ++)bT[eJ]=M._V(e,v+eJ*4);for(var eJ=0;eJ<hQ;
eJ++)if(bT[eJ]!=1)iU=!1;if(!iU){var gh=fT.e,gD=fT.n,ba=.9999*(bF-1)/gh,eI=.9999*(cq-1)/gD;for(var g=0;
g<gD;g+=gV)for(var G=0;G<gh;G+=fI){var D=(fT.y+g)*Z+(fT.x+G),e_=G*ba,bs=g*eI,fr=Math.floor(e_),db=Math.floor(bs),fx=e_-fr,fb=bs-db,i4=db*bF+fr,dA=bT[i4]*(1-fx)+bT[i4+1]*fx,ge=bT[i4+bF]*(1-fx)+bT[i4+1+bF]*fx,bh=dA*(1-fb)+ge*fb;
C[D]=Math.max(0,Math.min(65535,~~(C[D]*bh+.5)))}}}else console.log("Unknown opcode "+B+" in OpcodeList"+u+". Length: "+z);
Q+=z}};j.raw.a7t=function(u,m){var C=eQ.g$(m),Z=j.raw.UC(u,m),q=j.dZ.mL(Z),J=eQ.aq8(C,eQ.g$(eQ.acb)),A=j.dZ.multiply(J,q);
return A};j.raw.ajG=function(u){var m=(u.t50728?u.t50728:[1,1,1]).slice(0),Z=1;m.push(0);var C={x:.34567,y:.3585};
do{var q=j.dZ.mL(j.raw.UC(u,C)),J=j.dZ.lf(q,m),A=eQ.ase(J);Z=Math.abs(C.x-A.x)+Math.abs(C.y-A.y);C=A}while(Z>1e-7);
return C};j.raw.UC=function(u,m){var C=eQ.A7(m),Z=j.raw.a3S,q=u.t50778?u.t50778[0]:0,J=u.t50779?u.t50779[0]:0,A=Z(u.t50721,u.t50722,q,J,C.BH),n=Z(u.t50723,u.t50724,q,J,C.BH);
A=A||[1,0,0,0,1,0,0,0,1];n=n||[1,0,0,0,1,0,0,0,1];var N=u.t50727?[u.t50727[0],0,0,0,u.t50727[1],0,0,0,u.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return j.dZ.multiply(j.dZ.Po(N),j.dZ.multiply(j.dZ.Po(n),j.dZ.Po(A)))};j.raw.a3S=function(u,m,C,Z,q){if(!u&&!m){return null}else if(u&&!m){return u}else if(q<C){return u}else if(q>Z){return m}else{var J=(1/q-1/Z)/(1/C-1/Z),A=1-J,n=[];
for(var D=0;D<9;D++)n[D]=u[D]*J+m[D]*A;return n}};var eQ={};eQ.acb={x:.34567,y:.3585};eQ.K6=[{p:0,ja:.18006,yg:.26352,WI:-.24341},{p:10,ja:.18066,yg:.26589,WI:-.25479},{p:20,ja:.18133,yg:.26846,WI:-.26876},{p:30,ja:.18208,yg:.27119,WI:-.28539},{p:40,ja:.18293,yg:.27407,WI:-.3047},{p:50,ja:.18388,yg:.27709,WI:-.32675},{p:60,ja:.18494,yg:.28021,WI:-.35156},{p:70,ja:.18611,yg:.28342,WI:-.37915},{p:80,ja:.1874,yg:.28668,WI:-.40955},{p:90,ja:.1888,yg:.28997,WI:-.44278},{p:100,ja:.19032,yg:.29326,WI:-.47888},{p:125,ja:.19462,yg:.30141,WI:-.58204},{p:150,ja:.19962,yg:.30921,WI:-.70471},{p:175,ja:.20525,yg:.31647,WI:-.84901},{p:200,ja:.21142,yg:.32312,WI:-1.0182},{p:225,ja:.21807,yg:.32909,WI:-1.2168},{p:250,ja:.22511,yg:.33439,WI:-1.4512},{p:275,ja:.23247,yg:.33904,WI:-1.7298},{p:300,ja:.2401,yg:.34308,WI:-2.0637},{p:325,ja:.24792,yg:.34655,WI:-2.4681},{p:350,ja:.25591,yg:.34951,WI:-2.9641},{p:375,ja:.264,yg:.352,WI:-3.5814},{p:400,ja:.27218,yg:.35407,WI:-4.3633},{p:425,ja:.28039,yg:.35577,WI:-5.3762},{p:450,ja:.28863,yg:.35714,WI:-6.7262},{p:475,ja:.29685,yg:.35823,WI:-8.5955},{p:500,ja:.30505,yg:.35907,WI:-11.324},{p:525,ja:.3132,yg:.35968,WI:-15.628},{p:550,ja:.32129,yg:.36011,WI:-23.325},{p:575,ja:.32931,yg:.36038,WI:-40.77},{p:600,ja:.33724,yg:.36051,WI:-116.45}];
eQ.A7=function(u){var m=eQ.K6,C=2*u.x/(1.5-u.x+6*u.y),Z=3*u.y/(1.5-u.x+6*u.y),q=0,J=0,A=0;for(;A<31;
A++){q=Z-m[A].yg-m[A].WI*(C-m[A].ja);if(A>0&&q<0){break}J=q}while(A>=m.length)A--;q/=Math.sqrt(1+m[A].WI*m[A].WI);
J/=Math.sqrt(1+m[A-1].WI*m[A-1].WI);var n=J/(J-q),N=1e6/((m[A].p-m[A-1].p)*n+m[A-1].p),e=C-((m[A].ja-m[A-1].ja)*n+m[A-1].ja),Q=Z-((m[A].yg-m[A-1].yg)*n+m[A-1].yg),p=Math.sqrt(1+m[A].WI*m[A].WI),B=1/p,$=m[A].WI/p,R=Math.sqrt(1+m[A-1].WI*m[A-1].WI),z=1/R,v=m[A-1].WI/R,a=(B-z)*n+z,X=($-v)*n+v,V=Math.sqrt(a*a+X*X);
a/=V;X/=V;var o=(e*a+Q*X)*-3e3;return{BH:N,ep:o}};eQ.a9N=function(u,m){var C=eQ.K6,Z=1e6/u,q=1;for(;
q<31;q++){if(Z<C[q].p){break}}var J=(C[q].p-Z)/(C[q].p-C[q-1].p),A=(C[q-1].ja-C[q].ja)*J+C[q].ja,n=(C[q-1].yg-C[q].yg)*J+C[q].yg,N=Math.sqrt(1+C[q].WI*C[q].WI),e=1/N,Q=C[q].WI/N,p=Math.sqrt(1+C[q-1].WI*C[q-1].WI),B=1/p,$=C[q-1].WI/p,R=(B-e)*J+e,z=($-Q)*J+Q,v=Math.sqrt(R*R+z*z);
R/=v;z/=v;A+=R*m/-3e3;n+=z*m/-3e3;return{x:1.5*A/(A-4*n+2),y:n/(A-4*n+2)}};eQ.ase=function(u){var m=u[0]+u[1]+u[2];
return{x:u[0]/m,y:u[1]/m}};eQ.g$=function(u){return{x:u.x/u.y,y:1,jN:(1-u.x-u.y)/u.y}};eQ.aq8=function(u,m){var C=j.dZ.Po([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),Z=[u.x,u.y,u.jN,0],q=[m.x,m.y,m.jN,0];
Z=j.dZ.lf(C,Z);q=j.dZ.lf(C,q);var J=q[0]/Z[0],A=q[1]/Z[1],n=q[2]/Z[2],N=j.dZ.Po([J,0,0,0,A,0,0,0,n]),e=j.dZ.mL(C);
return j.dZ.multiply(j.dZ.multiply(e,N),C)};j.raw.E4={};j.raw.ig=function(u){u*=8;var m=[8,10,12,14,16];
for(var C in CAMS){var Z=CAMS[C];if(Z.length==4)continue;var q=Z[4],J=Z[5];for(var D=0;D<m.length;D++)if(q*J*m[D]==u)return[C,m[D]]}var A=[[4e3,3e3]];
for(var D=0;D<A.length;D++){var Z=A[D],q=Z[0],J=Z[1];for(var D=0;D<m.length;D++)if(q*J*m[D]==u)return[Z,m[D]]}return null};
j.raw.ao8=function(u){var u=new Uint8Array(u);for(var D=0;D<u.length;D+=2){var m=u[D];u[D]=u[D+1];u[D+1]=m}var C=j.raw.ig(u.length),Z=CAMS[C[0]];
if(Z==null)Z=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,C[0][0],C[0][1]];var q=Z[4],J=Z[5],A=Math.max(Z[2],116),n={data:u,Tk:1,width:q,height:J,t256:[q],t257:[J],t258:[C[1]],t277:[1],t33421:[2,2],t33422:j.raw.An[Z[1]],t50706:[1,2,0,0],t50714:[A,A,A,A],t50717:[Z[3]],t50721:Z[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var D=0;D<9;D++)n.t50721[D]/=1e4;return n};j.raw.e2=function(u){if(u==null||u.length==0||typeof u[0]=="number")return u;
var m=[];for(var D=0;D<u.length;D++)m[D]=u[D][1]==0?0:u[D][0]/u[D][1];return m};j.raw.An=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
j.raw.normalize=function(u,m){if(u.t50706!=null||u.t271[0].startsWith("Hasselblad")){var C=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var D=0;D<C.length;D++)if(u["t"+C[D]]!=null)u["t"+C[D]]=j.raw.e2(u["t"+C[D]]);if(u.t271&&u.t271[0].startsWith("Hasselblad")){u.t50706=[1,2,0,0];
u.t33422=j.raw.An[1];u.t50723=[1,0,0,0,1,0,0,0,1];u.t50778=[17];if(!u.isLE)for(var D=0;D<u.data.length;
D+=2){var Z=u.data[D];u.data[D]=u.data[D+1];u.data[D+1]=Z}}return}var q=u.t258[0],J=u.exifIFD,m=new Uint8Array(m);
u.t50706=[1,2,0,0];var A=u.t272[0].trim();if(A.indexOf(" ")==-1)A=u.t271[0].trim()+" "+A;if(u.t50708==null)u.t50708=[A];
var n=A.toLowerCase(),N=CAMS,e=N[n];if(e==null)for(var Q in N)if(n.startsWith(Q))e=N[Q];if(e==null)alert("Unknown camera:"+A);
else{var p=e[2];u.t50714=[p,p,p,p];u.t50717=[e[3]];u.t50721=e[0].slice(0);for(var D=0;D<9;D++)u.t50721[D]=u.t50721[D]*(1/1e4)}u.t50723=[1,0,0,0,1,0,0,0,1];
if(u.t50728==null)u.t50728=[.35,1,.6];u.t50778=[17];if(u.t271[0].startsWith("SONY")){var B=UTIF["_bin"+(u.isLE?"LE":"BE")],$=u.t28688,o;
if(JSON.stringify($)!="[8000,10400,12900,14100]")console.log($);if($){var R=[0,0,0,0,0,4095],z=new Uint16Array(16385);
for(var D=0;D<4;D++){var v=$[D]>>>2;R[D+1]=v;if(v>4095)throw"e"}for(var D=0;D<16385;D++)z[D]=D;for(var D=0;
D<5;D++)for(var a=R[D]+1;a<=R[D+1];a++)z[a]=z[a-1]+(1<<D);var X=m.length*8<u.width*u.height*q;if(X)u.t50712=z}else console.log("no curve");
var V=u.dngPrvt;if(V){var h=V.t29184[0],T=V.t29185[0],l=(u.isLE?M.Jr:M.h)(V.t29217,0),w=new Uint32Array(m.slice(h,h+(T&4294967292)).buffer),W=new Uint32Array(T>>>2);
j.raw.a81(w,W,T>>>2,l);var U=new Uint8Array(h+T);U.set(new Uint8Array(W.buffer),h);var s=[];UTIF._readIFD(B,U,h,s,0,!1);
var S=s.pop(),x=S.t29458;u.t50728=[x[1]/x[0],1,x[1]/x[3]];u.t50730=[.5];var P=S.t29891;u.t50829=[P[1],P[0],P[3],P[2]]}else if(J.makerNote&&J.makerNote.t8208){var o=J.makerNote,y=o.t8208,_=y.length,g=0,G=new Uint8Array(256);
for(var D=249;D<256;D++)G[D]=D;for(var D=0;D<249;D++)G[D*D*D%249]=D;for(var D=0;D<_;D++)y[D]=G[y[D]];
if(_==6604)g=612;else throw"e";var x=[];for(var D=0;D<3;D++)x.push(M.vs(y,g+D*2));console.log(x);u.t50728=[x[1]/x[0],1,x[1]/x[2]]}else console.log("no white balance");
if(u.width*u.height*1.5==u.t279[0]){p=p>>>2;u.t50714=[p,p,p,p];u.t50717=[e[3]>>>2]}}else if(u.t271[0].startsWith("Canon")){var m=u.data,O=m.slice(0),E=u.t50752,L=[],k=0;
if(E==null||E[0]==0&&E[1]==0)L.push(u.width);else{for(var D=0;D<E[0];D++)L.push(E[1]);L.push(E[2])}var c=u.width*2;
for(var I=0;I<L.length;I++){var Y=L[I],K=2*k,i=2*Y;for(var i4=0;i4<u.height;i4+=2){var d7=i4*c+K,d=u.height*K+(i4>>1)*i*2;
for(var D=0;D<i;D++){m[d7+D]=O[d+D];m[d7+D+c]=O[d+D+i]}}k+=Y}var o=J.makerNote;if(o.t16385){var fH=o.t224,c9=0;
if(fH){u.t50719=[fH[5],fH[6]];u.t50720=[fH[7]+1-fH[5],fH[8]+1-fH[6]]}var aC=o.t16385,f8=aC.length;if(f8==582)c9=1;
else if(f8==653)c9=2;else if(f8==796)c9=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(f8)!=-1)c9=4;
else if(f8==5120){c9=5;aC=new Int16Array(aC.slice(0).buffer)}else if(f8==1273||f8==1275)c9=6;else if([1312,1313,1316,1506].indexOf(f8)!=-1)c9=7;
else if([1560,1592,1353,1602].indexOf(f8)!=-1)c9=8;else throw"e"+f8;var g1=aC[0],cE=[null,[25,166],[34,286],[63,196],[63],[71,g1==-4?333:264],[63,251],[63,g1==10?504:728],[63,326]],g=cE[c9][0],hG=cE[c9][1];
if(c9==4){if(aC[0]==2)hG=231;else if(aC[0]==3)hG=231;else if(aC[0]==4)hG=231;else if(aC[0]==5)hG=231;
else if(aC[0]==6)hG=231;else if(aC[0]==7)hG=231;else if(aC[0]==9)hG=231;else throw"e"}u.t50728=[aC[g+1]/aC[g],1,aC[g+1]/aC[g+3]];
var p=hG==null?1024:aC[hG];if(c9!=4)u.t50714=[p,p,p,p]}else{u.t50728=[.4,1,.6]}}else if(u.t271[0].startsWith("NIKON")){var o=J.makerNote,fA=u.isLE?M.vs:M.xg,iN=0,gV=0,gh,fK=0;
if(o.t61){var hh=o.t61,eE=[];for(var D=0;D<4;D++)eE[D]=hh[D]/Math.pow(2,14-q);u.t50714=eE}if(o.t3585){var dh=o.t3585,D=0,h=22;
while(h<dh.length&&D!=-4){var fT=M.Jr(dh,h);h+=4;h+=14;D=M.Jr(dh,h)-4;h+=4;if(fT==1990472198){if(dh[h]!=0)throw"Flip"}if(fT==1990472199){var dB=M.vs(dh,h);
if(dB==0)u.Tk=1;else if(dB==270)u.Tk=8;else throw"e "+dB}h+=D}}if(o.t183){var fI=o.t183,gc=[];for(var D=0;
D<6;D++)gc.push(fA(fI,16+D*2));iN=gc[0];gV=gc[1]}if(o.t3614){var aF=o.t3614;iN=M.Jr(aF,8);gV=M.Jr(aF,12)}if(iN!=0){if(iN<gV){var Z=iN;
iN=gV;gV=Z}var k=u.width-iN>>>1,i4=u.height-gV>>>1;u.t50829=[i4,k,i4+gV,k+iN]}if(o.t12){var gD=j.raw.e2(o.t12);
gh=[1/gD[0],1,1/gD[1]]}else if(o.t151){var j1=j.raw.a3H(o,151),dg=j1[0],ag=j1[1],ao=j1[2];if(dg=="0100"&&ag>=80)throw"e";
else if(dg=="0102"){var eC=[];for(var D=0;D<4;D++)eC.push(fA(ao,6+D*2));gh=[eC[1]/eC[0],1,eC[1]/eC[3]]}else if(dg=="0103"&&ag>=26){var eC=[];
for(var D=0;D<4;D++)eC.push(fA(ao,16+D*2));gh=[eC[1]/eC[0],1,eC[3]/eC[2]]}else if(dg=="0204"&&ag>=564||dg=="0205"&&ag>=284){var h=dg=="0204"?6:14,eC=[];
for(var D=0;D<4;D++)eC.push(fA(ao,h+D*2));gh=[eC[1]/eC[0],1,eC[1]/eC[3]]}else throw"e"}else console.log("no white balance info");
if(A=="NIKON D1")gh=[1,1,1];if(gh)u.t50728=gh;var bD=o.t150?o.t150:o.t140;if(bD){var a1=bD[fK++],fR=bD[fK++],ha;
if(a1==73||fR==88)fK+=2110;fK+=8;var bj=1<<q&32767,b7=fA(bD,fK);fK+=2;var z=[];if(b7>1)ha=Math.floor(bj/(b7-1));
if(a1==68&&fR==32&&ha>0){for(D=0;D<b7;D++){z[D*ha]=fA(bD,fK);fK+=2}for(D=0;D<bj;D++)z[D]=Math.floor((z[D-D%ha]*(ha-D%ha)+z[D-D%ha+ha]*(D%ha))/ha)}else if(a1!=70&&b7<=16385){bj=b7;
for(var D=0;D<b7;D++)z[D]=fA(bD,fK+2*D);fK+=2*b7}if(z.length!=0)u.t50712=new Uint16Array(z);else if(u.t272[0]=="NIKON D750")u.t50717[0]*=4}}else if(A.startsWith("FujiFilm")){}else alert("Unknown camera "+A)};
j.raw.a81=function(u,m,C,Z){if(0==C)return;var q=new Uint32Array(128),J=new Uint8Array(q.buffer),A=127,n=0,N=0;
for(var A=0;A<4;A++)q[A]=Z=(Z*15625>>>0)*3125+1>>>0;q[3]=q[3]<<1|(q[0]^q[2])>>>31;for(var A=4;A<127;
A++)q[A]=(q[A-4]^q[A-2])<<1|(q[A-3]^q[A-1])>>>31;for(var A=0;A<127;A++)q[A]=M.h(J,A*4);for(;C>0;C--){q[A&127]=q[A+1&127]^q[A+1+64&127];
var e=q[A&127],Q=u[n];Q^=e;m[N]=Q;n++;N++;A++}};j.raw.ah9=function(u,m){var C=M.Qi(m,0,4),Z=j.raw.amZ;
for(var D=0;D<Z.length;D++)if(Z[D][0]==u&&C.startsWith(Z[D][1])&&(Z[D][2]==0||Z[D][2]==m.length))return Z[D];
throw"e"};j.raw.afB=function(u){if(u.t29==null)return[];var m=j.raw.acF,C=j.raw.a7m,Z=u.t29[0],q=0,A=0;
for(var D=0;D<Z.length;D++){var J=Z.charCodeAt(D);q=q*10+(48<=J&&J<=57?J-48:J%10)}var ag=u.t167[0];for(var D=0;
D<4;D++)A^=ag>>>(D<<3)&255;var n=m[q&255],N=C[A&255];return[n,N,96]};j.raw.a3H=function(u,m){var C=u["t"+m],ag=C.length,Z=j.raw.ah9(m,C),q=M.Qi(C,0,4),J,A=Z[4];
if(A==null)J=C.slice(4);else{J=new Uint8Array(ag-A);var n=j.raw.afB(u),N=n[0],e=n[1],Q=n[2];for(var D=0;
D<J.length;D++){e=e+N*Q++&255;J[D]=C[A++]^e}}return[q,ag,J]};j.raw.amZ=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
j.raw.acF=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
j.raw.a7m=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
j.DE={};j.DE.DE=function(u,m,C,Z,q){if(Z==null)Z=3;if(q==null)q=!0;var J=u.e,A=u.n,n=1/J,N=J*A,e=Date.now(),Q=!1,p=j.DE.nM(C,J,A,255,128),B=j.DE.nM(C,J,A,0,128),d7=0;
if(Q)console.log("extract contours",Date.now()-e);e=Date.now();var $=function(ha,eJ){var cq=ha<<2,bF=eJ<<2;
return m[cq]+m[cq+1]+m[cq+2]-(m[bF]+m[bF+1]+m[bF+2])};p.sort($);B.sort($);var R=j.U(N),z=j.U(N),v=[],a=new Uint32Array(J*A);
a.fill(4294967295);for(var D=0;D<N;D++)if(C[D]==0)z[D]=255;else if(C[D]==255)R[D]=255;else{a[D]=v.length;
v.push(D)}var X=p.length,V=B.length,o=v.length;function h(ha,eJ,cq,bF){var g4=ha.length,eA=new Array(g4*2);
for(var D=0;D<g4;D++){var g=ha[D],G=~~(g*bF),O=g-G*cq,fR=g<<2;eA[D*2]=O<<16|G;eA[D*2+1]=eJ[fR]<<16|eJ[fR+1]<<8|eJ[fR+2]}return eA}var T=h(p,m,J,n),l=h(B,m,J,n),w=h(v,m,J,n);
if(Q)console.log("Itemize",Date.now()-e,"Unknown:",o,X,V);e=Date.now();var W=j.style.R4(R,J,A,!0),U=j.style.R4(z,J,A,!0),s=new Array(o),S=new Array(o),x=new Array(o),P=new Array(o),y=new Array(o);
if(Q)console.log("Dist transform",Date.now()-e);e=Date.now();var _=j.DE.Ba;for(var D=0;D<o;D++){var g=v[D],G=~~(g*n),O=g-G*J,E=W[g<<1],L=W[(g<<1)+1],c=Math.sqrt(E*E+L*L),k=U[g<<1],I=U[(g<<1)+1],Y=Math.sqrt(k*k+I*I);
s[D]=1/c;S[D]=1/Y;var K=Math.floor(j.a.x3(g*17)*X),i=Math.floor(j.a.x3(g*19)*V);x[D]=K;P[D]=i;y[D]=_(w[D*2],w[D*2+1],T[K*2],T[K*2+1],l[i*2],l[i*2+1],s[D],S[D],1e9)}var i4=[-J-1,-J,-J+1,-1,1,J-1,J,J+1];
while(Math.floor(Math.max(X,V)*Math.pow(.5,d7))>1)d7++;for(var d=0;d<Z;d++){var fH=0;for(var D=0;D<o;
D++){var g=v[D],G=~~(g*n),O=g-G*J,aC=s[D],f8=S[D],c9=w[D*2],g1=w[D*2+1],cE=y[D],K=x[D],i=P[D],fT=1;if(G!=0&&O!=0&&O!=J-1&&G!=A-1)for(var hG=0;
hG<8;hG++){var fA=a[g+i4[hG]];if(fA==4294967295)continue;var hh=x[fA],eE=P[fA];if(hh==K&&eE==i)continue;
var dh=_(c9,g1,T[hh*2],T[hh*2+1],l[eE*2],l[eE*2+1],aC,f8,cE);if(dh<cE){cE=dh;K=hh;i=eE}}for(var dB=0;
dB<d7;dB++){var iN=~~(X*fT),gV=~~(V*fT);fT*=.5;var fI=j.a.x3(g+d*17+dB*31),gc=j.a.x3(g+d*29+dB*63),aF=Math.max(0,K-iN),gh=Math.min(K+iN,X-1),gD=Math.max(0,i-gV),j1=Math.min(i+gV,V-1),hh=aF+~~(fI*(gh-aF)),eE=gD+~~(gc*(j1-gD)),dh=_(c9,g1,T[hh*2],T[hh*2+1],l[eE*2],l[eE*2+1],aC,f8,cE);
if(dh<cE){cE=dh;K=hh;i=eE}}y[D]=cE;x[D]=K;P[D]=i;fH+=cE}}if(Q)console.log(fH);if(Q)console.log("iterations",Date.now()-e);
e=Date.now();var eC=C.slice(0);for(var D=0;D<o;D++){var bD=j.DE.alpha(w[D*2+1],T[x[D]*2+1],l[P[D]*2+1]);
eC[v[D]]=~~(.5+255*bD)}eC=j.z7.afx(eC,m,new bl(0,0,J,A),16,.01*.01);if(Q)console.log("guided filter",Date.now()-e);
e=Date.now();if(q)for(var D=0;D<N;D++)if(C[D]==255||C[D]==0)eC[D]=C[D];var fK=m.slice(0);for(var D=0;
D<o;D++){var a1=v[D],K=p[x[D]],cE=y[D],fR=a1<<2,bj=eC[a1],b7=(bj>=250?a1:K)<<2;fK[fR]=m[b7];fK[fR+1]=m[b7+1];
fK[fR+2]=m[b7+2]}j.wC(eC,fK,3);if(Q)console.log(Date.now()-e);e=Date.now();return fK};j.DE.Ba=function(u,m,C,Z,q,J,A,n,N){var e=u>>>16,Q=u&65535,p=e-(C>>>16),B=Q-(C&65535),$=e-(q>>>16),R=Q-(q&65535),z=Math.sqrt(p*p+B*B)*A,v=Math.sqrt($*$+R*R)*n;
if(z+v>=N)return 1e9;var a=j.DE.a9j(m,Z,J);return a+z+v};j.DE.a9j=function(u,m,C){var Z=u>>>16,q=u>>>8&255,J=u&255,A=m>>>16,n=m>>>8&255,N=m&255,e=C>>>16,Q=C>>>8&255,p=C&255,B=j.DE.alpha(u,m,C),$=Z-(B*A+(1-B)*e),R=q-(B*n+(1-B)*Q),z=J-(B*N+(1-B)*p);
return Math.sqrt($*$+R*R+z*z)};j.DE.alpha=function(u,m,C){var Z=u>>>16,q=u>>>8&255,J=u&255,A=m>>>16,n=m>>>8&255,N=m&255,e=C>>>16,Q=C>>>8&255,p=C&255,B=A-e,$=n-Q,R=N-p,z=Z-e,v=q-Q,a=J-p,X=B*B+$*$+R*R,V=X==0?.5:(z*B+v*$+a*R)/X;
return Math.max(0,Math.min(1,V))};j.DE.arz=function(u){};j.DE.nM=function(u,m,C,Z,q){var J=[],A=m-1,n=C-1;
for(var N=1;N<n;N++)for(var e=1;e<A;e++){var D=N*m+e;if(u[D]==Z&&(u[D-m-1]==q||u[D-m]==q||u[D-m+1]==q||(u[D-1]==q||u[D+1]==q)||(u[D+m-1]==q||u[D+m]==q||u[D+m+1]==q)))J.push(D)}return J};
j.z7={};j.z7.a1D=function(u,m,C,Z,q){var J=C.e,A=C.n,n=J*A,N=j.z7.jy,e=j.U(n*4),Q;j.gs(e,4294967295);
var p=C,B=u,$=m,R=Z;j.wC(u,e,0);Q=j.z8(e,C);Q=j.z8(Q.bf,Q.rect);p=Q.rect;R=Z>>>2;console.log(p,R);B=j.U(p.Z());
j._H(Q.bf,B,0);j.wC(m,e,0);Q=j.z8(e,C);Q=j.z8(Q.bf,Q.rect);$=j.U(p.Z());j._H(Q.bf,$,0);var z=j.z7.asK(B,$,p,R,q),v=z[0],a=z[1],X=new bl(0,0,p.e*2,p.n*2);
v=N(v,p,X,!0);v=N(v,X,C,!0);a=N(a,p,X,!0);a=N(a,X,C,!0);var V=j.U(n);for(var D=0;D<n;D++)V[D]=Math.max(0,Math.min(255,Math.floor(.5+(v[D]*m[D]+255*a[D]))));
return V};j.z7.jy=function(u,m,C,Z){var q=C.e,J=C.n,A=m.e,n=m.n,N=j.z7.Zu,e=new Float32Array(q*J);for(var Q=0;
Q<n;Q++){var p=(Q+Q)*q;for(var B=0;B<A;B++){if(!0||B==0||Q==0||B==A-1||Q==n-1)e[p]=e[p+1]=e[p+q]=e[p+q+1]=u[Q*A+B];
else{e[p]=N(B+.25,Q+.25,u,A,n);e[p+1]=N(B+.75,Q+.25,u,A,n);e[p+q]=N(B+.25,Q+.75,u,A,n);e[p+q+1]=N(B+.75,Q+.75,u,A,n)}p+=2}}return e};
j.z7.Zu=function(u,m,C,Z,q){u-=.499999;m-=.499999;var J=Math.floor(u),A=Math.floor(m),n=A*Z+J,N=u-J,e=m-A,Q=(1-e)*(1-N),p=(1-e)*N,B=e*(1-N),$=e*N;
if(C[n]==null||C[n+Z+1]==null){console.log(u,m,Z,q);throw"e"}return Q*C[n+0]+p*C[n+1]+B*C[n+Z+0]+$*C[n+Z+1]};
j.z7.asK=function(u,m,C,Z,q){var J=C.e,A=C.n,n=J*A,N=j.z7._9,e=j.z7.U,Q=j.yM.PW,p=j.z7.Zo,m=N(m),u=N(u),B=e(n);
Q(m,B,C,Z);var $=e(n);Q(u,$,C,Z);var R=e(n);p(m,m,R);Q(R,R,C,Z);var z=e(n);p(m,u,z);Q(z,z,C,Z);var v=e(n),a=e(n);
for(var D=0;D<n;D++){var X=B[D],V=$[D],o=R[D]-X*X,h=z[D]-X*V,T=h/(o+q),l=V-T*X;v[D]=T;a[D]=l}var w=e(n);
Q(v,w,C,Z);var W=e(n);Q(a,W,C,Z);return[w,W]};j.z7.afx=function(u,m,C,Z,q){var J=C.e,A=C.n,n=J*A,N=j.z7.jy,e=Date.now(),Q=!1,p=C,B=u,$=m,R=Z;
p=new bl(0,0,J>>>2,A>>>2);R=Z>>>2;B=j.z7.ajq(u,J,A);$=j.z7.aqd(m,J,A);if(Q)console.log(Date.now()-e);
e=Date.now();var z=j.z7.ap4(B,$,p,R,q),v=z[0],a=z[1],X=z[2],V=z[3];if(Q)console.log(Date.now()-e);e=Date.now();
var o=j.U(n);for(var h=0;h<A;h++)for(var T=0;T<J;T++){var D=h*J+T,l=(h>>>2)*(J>>>2)+(T>>>2),w=D<<2,W=v[l]*m[w]+a[l]*m[w+1]+X[l]*m[w+2]+V[l]*255;
o[D]=Math.max(0,Math.min(255,~~(.5+W)))}if(Q)console.log(Date.now()-e);e=Date.now();return o};j.z7.ajq=function(u,m,C){var Z=m>>>2,q=C>>>2,J=j.U(m*C);
for(var A=0;A<q;A++)for(var n=0;n<Z;n++)J[A*Z+n]=u[A*m+n<<2];return J};j.z7.aqd=function(u,m,C){var Z=m>>>2,q=C>>>2,J=j.U(m*C*4);
for(var A=0;A<q;A++)for(var n=0;n<Z;n++){var N=A*Z+n<<2,e=A*m+n<<4;J[N]=u[e];J[N+1]=u[e+1];J[N+2]=u[e+2];
J[N+3]=u[e+3]}return J};j.z7.ap4=function(u,m,C,Z,q){var J=C.e,A=C.n,n=J*A,N=j.z7._9,e=j.z7.U,Q=j.yM.PW,p=j.z7.Zo,u=N(u),B=new j.HT(J*A);
j.Bh(m,B);var m=[N(B.p),N(B.T),N(B.S)],$=j.z7.a3L(u,m,C,Z,q),R=e(n);Q(u,R,C,Z);var z=e(n);p(m[0],u,z);
Q(z,z,C,Z);var v=e(n);p(m[1],u,v);Q(v,v,C,Z);var a=e(n);p(m[2],u,a);Q(a,a,C,Z);var X=e(n),V=e(n),o=e(n),h=e(n);
for(var D=0;D<n;D++){var T=R[D],l=$.Fl[D],w=$.dQ[D],W=$.Bl[D],U=z[D]-l*T,s=v[D]-w*T,S=a[D]-W*T;X[D]=$.ate[D]*U+$.PB[D]*s+$.EL[D]*S;
V[D]=$.PB[D]*U+$.ajc[D]*s+$.XW[D]*S;o[D]=$.EL[D]*U+$.XW[D]*s+$.a0D[D]*S;h[D]=T-X[D]*l-V[D]*w-o[D]*W}Q(X,X,C,Z);
Q(V,V,C,Z);Q(o,o,C,Z);Q(h,h,C,Z);return[X,V,o,h]};j.z7.a3L=function(u,m,C,Z,q){var J=C.e,A=C.n,n=J*A,N=j.z7.U,e=j.yM.PW,Q=j.z7.Zo,p={};
p.Fl=N(n);e(m[0],p.Fl,C,Z);p.dQ=N(n);e(m[1],p.dQ,C,Z);p.Bl=N(n);e(m[2],p.Bl,C,Z);var B=N(n);Q(m[0],m[0],B);
e(B,B,C,Z);var $=N(n);Q(m[0],m[1],$);e($,$,C,Z);var R=N(n);Q(m[0],m[2],R);e(R,R,C,Z);var z=N(n);Q(m[1],m[1],z);
e(z,z,C,Z);var v=N(n);Q(m[1],m[2],v);e(v,v,C,Z);var a=N(n);Q(m[2],m[2],a);e(a,a,C,Z);p.ate=B;p.PB=$;
p.EL=R;p.ajc=z;p.XW=v;p.a0D=a;for(var D=0;D<n;D++){var X=p.Fl[D],V=p.dQ[D],o=p.Bl[D],h=B[D]-X*X+q,T=$[D]-X*V,l=R[D]-X*o,w=z[D]-V*V+q,W=v[D]-V*o,U=a[D]-o*o+q,s=w*U-W*W,S=W*l-T*U,x=T*W-w*l,P=h*U-l*l,y=l*T-h*W,_=h*w-T*T,g=s*h+S*T+x*l,G=1/g;
p.ate[D]=s*G;p.PB[D]=S*G;p.EL[D]=x*G;p.ajc[D]=P*G;p.XW[D]=y*G;p.a0D[D]=_*G}return p};j.z7.U=function(u){return new Float32Array(u)};
j.z7._9=function(u){var m=u.length,C=new Float32Array(m);for(var D=0;D<m;D++)C[D]=u[D]*(1/255);return C};
j.z7.Zo=function(u,m,C){for(var D=0;D<u.length;D++)C[D]=u[D]*m[D]};j.zK={};j.zK.MR=function(u,m,C,Z){var q=u[m]-C[Z],J=u[m+1]-C[Z+1],A=u[m+2]-C[Z+2];
return Math.sqrt(q*q+J*J+A*A)*(1/441.7)};j.zK.getSelection=function(u,m,C){var Z=m*C,q=j.U(Z),J=!1,A=Math.round(C*.7),n=1,N=new Uint32Array(12),e=j.U(12);
for(var Q=0;Q<A;Q++)for(var p=0;p<m;p++){if(p<n||Q<n||p>m-n-1||Q>C-n-1){var D=Q*m+p,B=D<<2,$=0;if(Q<n)$=4;
else if(p>m-n-1)$=8;N[$]+=u[B];N[$+1]+=u[B+1];N[$+2]+=u[B+2];N[$+3]++;q[D]=255}}for(var D=0;D<12;D+=4)for(var R=0;
R<3;R++)e[D+R]=N[D+R]/N[D+3];var z=new Float32Array(Z);for(var D=0;D<Z;D++){var B=D*4,v=j.zK.MR(u,B,e,0),a=j.zK.MR(u,B,e,4),X=j.zK.MR(u,B,e,8),V=Math.max(v,Math.max(a,X));
z[D]=v+a+X-V}j.zK.tq(z);var o=Date.now(),h=new Float32Array(Z),T=[],l=j.U(Z);for(var D=0;D<3;D++){j._H(u,l,D);
var w=new Uint16Array(Z);T.push(w);j.zK.adf(l,q,m,C,w)}if(J)console.log("MBD",Date.now()-o);o=Date.now();
for(var D=0;D<Z;D++)h[D]=T[0][D]+T[1][D]+T[2][D];j.zK.tq(h);for(var D=0;D<Z;D++)h[D]+=.4*z[D];var W=m>>>1,A=C>>>1,U=1/Math.sqrt(W*W+A*A);
for(var Q=0;Q<C;Q++)for(var p=0;p<m;p++){var s=p-W,S=Q-A,x=1-Math.sqrt(s*s+S*S)*U;h[Q*m+p]*=x}if(J)console.log("Centeredness",Date.now()-o);
o=Date.now();for(var D=0;D<Z;D++)q[D]=h[D]*255;var P=Math.round(m/120),y=Math.round(P*.8);if(J)console.log(P,y);
j.ev.za(q,l,m,C,P,j.ev.EH,[]);q.set(l);if(J)console.log("erosion",Date.now()-o);o=Date.now();for(var D=0;
D<Z;D++)h[D]=q[D];j.zK.tq(h);var _=j.U(256);for(var D=0;D<256;D++)_[D]=256/(1+Math.exp(-20*(D/255-.5)));
for(var D=0;D<Z;D++){var g=~~(h[D]*255+.5);q[D]=_[g]}if(J)console.log("Simoid",Date.now()-o);o=Date.now();
return q};j.zK.tq=function(u){var m=u.length,C=0;for(var D=0;D<m;D++)C=Math.max(C,u[D]);var Z=1/C;for(var D=0;
D<m;D++)u[D]=u[D]*Z};j.zK.adf=function(u,m,C,Z,q){var J=C*Z,A=u.slice(0),n=u.slice(0);for(var D=0;D<J;
D++)q[D]=m[D]==255?0:65535;j.zK.Yr(u,n,A,q,C,Z);j.zK.hR(u,n,A,q,C,Z);j.zK.Yr(u,n,A,q,C,Z);j.zK.hR(u,n,A,q,C,Z);
return q};j.zK.Yr=function(u,m,C,Z,q,J){for(var A=1;A<q;A++)j.zK.$V(A,-1,u,m,C,Z);for(var n=1;n<J;n++){j.zK.$V(n*q,-q,u,m,C,Z);
for(var A=1;A<q;A++){var D=n*q+A;j.zK.$V(D,-1,u,m,C,Z);j.zK.$V(D,-q,u,m,C,Z)}}};j.zK.hR=function(u,m,C,Z,q,J){for(var A=q-2;
A>=0;A--)j.zK.$V(q*J-q+A,1,u,m,C,Z);for(var n=J-2;n>=0;n--){j.zK.$V(n*q+q-1,q,u,m,C,Z);for(var A=q-2;
A>=0;A--){var D=n*q+A;j.zK.$V(D,1,u,m,C,Z);j.zK.$V(D,q,u,m,C,Z)}}};j.zK.$V=function(D,u,m,C,Z,q){var J=D+u,A=m[D],n=C[J],N=Z[J];
if(n<A)n=A;else if(A<N)N=A;var e=n-N;if(q[J]!=65535&&e<q[D]){q[D]=e;C[D]=n;Z[D]=N}};j.mo={};j.mo.filter=function(u,m,C,Z){var q=m.e,J=m.n,A=q*J,n=Z[0],N=Z[1],e=Z[2],Q=Z[3],p=Z[4],B=Z[5],$=Z[6],R=Date.now(),z=new Float32Array(q*J*4);
j.mo.ado(u,q,J,z);var v=Math.ceil(n*Math.sqrt(-2*Math.log(.1))),a=new ArrayBuffer(A*4),X=new Float32Array(a),V=new Float32Array(A),o=new Float32Array(A);
for(var D=0;D<A;D++){var h=D*4;X[D]=z[h];V[D]=z[h+1];o[D]=z[h+2]}j.yM.A1(X,X,m,v*1/2.4,2);j.yM.A1(V,V,m,v*1/2.4,2);
j.yM.A1(o,o,m,v*1/2.4,2);for(var D=0;D<A;D++){var h=D*4;z[h]=X[D];z[h+1]=V[D];z[h+2]=o[D]}var T=new Uint8Array(a);
for(var D=0;D<A;D++){var h=D*4,l=D*4,X=z[h],V=z[h+1],o=z[h+2],w=Math.sqrt((X-o)*(X-o)+4*V*V),W=(X+o+w)*.5,U=(X+o-w)*.5,s=U-o,S=V,x=s*s+S*S;
if(x!=0){var P=Math.sqrt(x),y=1/P;s*=y;S*=y}T[l]=128+127*s;T[l+1]=128+127*S}var _=1.3*N+2,g=Q*(2/10),G=u.slice();
if(H.GL){var O=new Float32Array([1/q,1/J]),E=H.Gi(0,q,J);E.set(G);var L=H.Gi(1,q,J);L.set(T);H.JU(E,m);
if(p){E._h(m);H.filter.ka({type:H.filter.a4x,nQ:O,auF:1/e,ajr:g},E.Fj)}E._h(m);H.filter.ka({type:H.filter.T7,dU:L.oo,nQ:O,aq6:_,aqV:2},E.Fj);
if(p){E._h(m);H.filter.ka({type:H.filter.aeX,nQ:O,ajw:new Float32Array($),acO:B},E.Fj)}E.get(C)}else{if(p)j.mo.dq(1/e,g,G,q,J);
j.mo.T7(G,C,T,q,J,_);if(p)j.mo.a4m(q,J,C,$,B)}var c=A*4;for(var D=3;D<c;D+=4)C[D]=u[D]};j.mo.T7=function(u,m,C,Z,q,J){var A=Math.ceil(2*J),n=-1/(2*J*J),N=[],e=1;
for(var D=0;D<A+20;D++)N[D]=Math.exp(D*D*n);var Q=[0,0,0,0];for(var p=0;p<q;p++){for(var B=0;B<Z;B++){var $=p*Z+B,R=$*4,z=1,v=u[R],a=u[R+1],X=u[R+2],V=u[R+3],o=(C[R]-128)*(1/127),h=(C[R+1]-128)*(1/127),T=o,l=h,w=B==0?.51:.49,W=p==0?.51:.49;
for(var D=0;D<2;D++){var U=B+w,s=p+W,S=0;while(S<A){if(U<.5||Z-.5<U||s<.5||q-.5<s)break;var x=~~U,P=~~s,y=P*Z+x,_=y*4,g=(C[_]-128)*(1/127),G=(C[_+1]-128)*(1/127);
if(g*T+G*l<0){g=-g;G=-G}T=g;l=G;U+=e*g;s+=e*G;if(U<.5||Z-.5<U||s<.5||q-.5<s)break;var O=~~U,E=~~s,L=E*Z+O<<2;
S+=e;var c=N[~~S];j.N.SF(U,s,u,Z,q,Q);v+=Q[0]*c;a+=Q[1]*c;X+=Q[2]*c;V+=Q[3]*c;z+=c}T=-o;l=-h}var k=1/z;
m[R]=~~(.5+v*k);m[R+1]=~~(.5+a*k);m[R+2]=~~(.5+X*k);m[R+3]=~~(.5+V*k)}}};j.mo.a4m=function(u,m,C,Z,q){for(var J=0;
J<m;J++)for(var A=0;A<u;A++){var n=J*u+A<<2,N=1+j.mo.aqw(A,J,C,u,m,Z)*q;C[n]=Math.max(0,Math.min(255,C[n]*N));
C[n+1]=Math.max(0,Math.min(255,C[n+1]*N));C[n+2]=Math.max(0,Math.min(255,C[n+2]*N))}};j.mo.aqw=function(u,m,C,Z,q,J){var A=C[(m*Z+Math.max(0,u-1))*4+3],n=C[(m*Z+Math.min(Z-1,u+1))*4+3],N=C[(Math.max(0,m-1)*Z+u)*4+3],e=C[(Math.min(q-1,m+1)*Z+u)*4+3],Q=.7,p=(n-A)*(1/255),B=.7,$=(e-N)*(1/255),R=-p*B,z=-Q*$,v=Q*B,a=Math.sqrt(R*R+z*z+v*v),X=1/a,V=R*X,o=z*X,h=v*X,T=J[0]*V+J[1]*o+J[2]*h;
return T};j.mo.dq=function(u,m,C,Z,q){function J(n,e,Q){return Math.max(e,Math.min(Q,n))}for(var A=0;
A<q;A++)for(var n=0;n<Z;n++){var N=j.mo.a0M(n+.5,A+.5,u,m);C[(A*Z+n)*4+3]=Math.max(0,Math.min(255,N*255))}};
j.mo.a0M=function(u,m,C,Z){function q(l,w,W){return(1-W)*l+W*w}var J=(u+613)*C,A=(m+117)*C,n=~~J,N=~~A,e=J-n,Q=A-N,p=Math.sin(11),B=Math.cos(n)*p,$=Math.cos(n+1)*p,R=Math.cos(N)*p,z=Math.cos(N+1)*p,jt=j.mo.hash(B,R),v=j.mo.hash($,R),a=j.mo.hash(B,z),X=j.mo.hash($,z),V=q(jt,v,e),o=q(a,X,e),h=q(V,o,Q);
h=h<.5?0:1;var T=h+Z*j.mo.hash(Math.cos(J)*p,Math.cos(A)*p);return T*(1/3)};j.mo.hash=function(u,m){var C=Math.sin(u*11.697096+m*73.32456)*12157.47691;
return C-Math.floor(C)};j.mo.ado=function(u,m,C,Z){var q=[-1,0,1,-2,0,2,-1,0,1],J=[-1,-2,-1,0,0,0,1,2,1],A=m-1,n=C-1,N=m*4;
for(var e=1;e<n;e++)for(var Q=1;Q<A;Q++){var D=e*m+Q,p=D*4,B=j.mo.H5(u,p,N,q),$=j.mo.H5(u,p,N,J),R=j.mo.H5(u,p+1,N,q),z=j.mo.H5(u,p+1,N,J),v=j.mo.H5(u,p+2,N,q),a=j.mo.H5(u,p+2,N,J);
Z[p]=B*B+R*R+v*v;Z[p+1]=B*$+R*z+v*a;Z[p+2]=$*$+z*z+a*a}j.mo.au9(Z,m,C)};j.mo.H5=function(u,m,C,Z){return u[m-C-4]*Z[0]+u[m-C]*Z[1]+u[m-C+4]*Z[2]+u[m-4]*Z[3]+u[m]*Z[4]+u[m+4]*Z[5]+u[m+C-4]*Z[6]+u[m+C]*Z[7]+u[m+C+4]*Z[8]};
j.mo.au9=function(u,m,C){function Z(N,D,e){var Q=D*4,p=e*4;N[p]=N[Q];N[p+1]=N[Q+1];N[p+2]=N[Q+2]}var q=m-1,J=C-1;
Z(u,m+1,0);Z(u,2*m-2,m-1);for(var A=1;A<q;A++)Z(u,m+A,A);for(var n=1;n<J;n++){Z(u,n*m+1,n*m);Z(u,n*m+m-2,n*m+m-1)}for(var A=1;
A<q;A++)Z(u,(C-2)*m+A,(C-1)*m+A);Z(u,(n-2)*m+1,(n-1)*m);Z(u,(n-1)*m-2,n*m-1)};j.JH={};j.JH.$Q=function(u,m,C,Z){var q=u[m*2],J=u[m*2+1],A=u[C*2],n=u[C*2+1],N=u[Z*2],e=u[Z*2+1];
return q*n+A*e+N*J-N*n-A*J-q*e};j.JH.S_=function(u,m){var C=[],Z=[],q=[],J={};for(var D=0;D<m.length;
D+=3){var A=~~(D*(1/3)),n=m[D+0],N=m[D+1],e=m[D+2],Q=j.JH.$Q(u,n,N,e);if(Q>0){var p=N;N=e;e=p}var B=J[e+"-"+N],$=J[N+"-"+n],R=J[n+"-"+e],z=[e,B,A,null],v=[N,$,A,z],a=[n,R,A,v];
z[3]=a;if(B)B[1]=z;if($)$[1]=v;if(R)R[1]=a;J[e+"-"+n]=a;J[n+"-"+N]=v;J[N+"-"+e]=z;C[n]=v;q[D]=v;C[N]=z;
q[D+1]=z;C[e]=a;q[D+2]=a;Z[A]=v}return{Yn:C,AP:Z,q1:q}};j.JH.arA=function(u){var m=[],C=u.AP;for(var D=0;
D<C.length;D++){var Z=C[D];m.push(Z[0]);Z=Z[3];m.push(Z[0]);Z=Z[3];m.push(Z[0])}return m};j.JH.aaa=function(u,m,C,Z){var q=u[m*2],J=u[m*2+1],A=u[C*2],n=u[C*2+1],N=u[Z*2],e=u[Z*2+1],Q=A-q,p=n-J,B=N-q,$=e-J,R=Q*(q+A)+p*(J+n),z=B*(q+N)+$*(J+e),v=2*(Q*(e-n)-p*(N-A));
if(Math.abs(v)<1e-5){var a=Math.min(q,A,N),X=Math.min(J,n,e),V=(Math.max(q,A,N)-a)*.5,o=(Math.max(J,n,e)-X)*.5;
return[a+V,X+o,V*V+o*o,1]}var h=($*R-p*z)/v,T=(Q*z-B*R)/v,V=h-q,o=T-J;return[h,T,V*V+o*o,0]};j.JH.a9o=function(u,m,C){var Z=C[1],q=C[3],J=q[3],A=Z[3],n=A[3],N=C[2],e=Z[2],Q=C[0],p=Z[0],B=q[0],$=A[0],R=j.JH.aaa(u,p,$,B),z=u[Q*2]-R[0],v=u[Q*2+1]-R[1],a=z*z+v*v>R[2]&&R[3]==0&&j.JH.$Q(u,$,Q,B)<0&&j.JH.$Q(u,B,p,$)<0;
if(a){C[0]=B;Z[0]=$;C[3]=J;J[3]=A;A[3]=C;Z[3]=n;n[3]=q;q[3]=Z;q[2]=e;A[2]=N;m.AP[e]=n;m.AP[N]=J;m.Yn[p]=A;
m.Yn[Q]=q}return a};j.JH.aei=function(u,m,C){var Z=u[m*2]-u[C*2],q=u[m*2+1]-u[C*2+1];return Math.sqrt(Z*Z+q*q)};
j.JH.a4V=function(u,m,C){var Z=C[1],q=C[3],J=q[3],A,n,N=C[2],e,Q=C[0],p=J[0],B=q[0],$;if(Z){A=Z[3];n=A[3];
e=Z[2];$=A[0]}var R=u.length>>>1;u[2*R]=(u[2*p]+u[2*Q])*.5;u[2*R+1]=(u[2*p+1]+u[2*Q+1])*.5;if(!0){var z=N,v=C,a=m.AP.length,X=[R,null,z,v],V=[B,X,a,J];
X[1]=V;var o=[R,null,a,V];q[3]=X;J[3]=o;J[2]=a;m.AP[z]=q;m.AP[a]=o;m.Yn[Q]=q;m.Yn[B]=J;m.q1.push(X,V,o)}if(Z){var h=e,T=Z,l=a+1;
o[1]=T,T[1]=o;var w=[R,null,h,T],W=[$,w,l,n];w[1]=W;var U=[R,v,l,W];v[1]=U;A[3]=w;n[3]=U;n[2]=l;m.AP[h]=A;
m.AP[l]=n;m.Yn[p]=A;m.Yn[$]=n;m.q1.push(w,W,U)}m.Yn[R]=v};j.JH.Ri=function(u,m){var C=0;while(!0){var Z=C;
for(var D=0;D<m.q1.length;D++){var q=m.q1[D];if(q[1]==null)continue;var J=j.JH.a9o(u,m,q);if(J){C++;
break}}if(Z==C)break}return C!=0};j.JH.ab$=function(u,m,C,Z){var q=0;for(var D=0;D<Z;D++){var J=null,A=0;
for(var n=0;n<m.q1.length;n++){var N=m.q1[n],e=j.JH.aei(u,N[0],N[3][3][0])*(N[1]?1:2);if(e>A){J=N;A=e}}if(A>C){j.JH.a4V(u,m,J);
q++}}return q!=0};j.JH.a5H=function(u,m){var C=[],B=0;for(var D=0;D<u.length;D++)C.push(0);for(var D=0;
D<m.q1.length;D++){var Z=m.q1[D],q=Z[0],J=Z[3][3][0],A=u[q*2],n=u[q*2+1],N=u[J*2],e=u[J*2+1],Q=A-N,p=n-e;
C[q*2]+=-Q;C[q*2+1]+=-p;C[J*2]+=Q;C[J*2+1]+=p}for(var D=0;D<u.length;D+=2){var $=D>>>1,R=m.Yn[$],Z=R,z=!0;
do{if(Z[1]==null){z=!1;break}Z=Z[1][3]}while(Z!=R);if(z){var v=.02;u[D]+=v*C[D];u[D+1]+=v*C[D+1];B+=v*(C[D]*C[D]+C[D+1]*C[D+1])}}return B};
j.JH.apL=function(u,m,C){var Z=j.u.Of(u),q=j.JH.S_(u,m);j.JH.Ri(u,q);for(var J=0;J<300;J++){var A=!1,n=!1;
A=j.JH.ab$(u,q,C,5);if(A)n=j.JH.Ri(u,q);var N=j.JH.a5H(u,q);if(!A&&!n&&N<1e-4){break}}return j.JH.arA(q)};
j.AA={};j.AA.gj=function(u){var m=u.a_,C=u.tI,Z=u.Qa,q=u.As,J=u.yp,A=u.fX,n=u.eo,N=j.NC.gY,X,V,o=0;function e(jt){var aC=new Array(jt);
for(var D=0;D<jt;D++)aC[D]=0;return aC}var Q=C.length>>>1,p=e(m.ym*2),B=e(m.ym),$=e(m.ym),R=Date.now();
for(var D=0;D<u.md.length;D++){var z=m.a2f+D,v=m.du*(A[D*2]+n[D*2]),a=m.du*(A[D*2+1]+n[D*2+1]);p[z*2]=v;
p[z*2+1]=a;B[z]=v;$[z]=a}m.a62.WG(q,m.am7.gY(p),.01,X,V);for(var D=0;D<m.atT.q1.length;D++){var h=m.atT.q1[D],l=h[3][3][0],w=h[0],W=h[3][0],U=h[1]?h[1][3][0]:W;
if(h[1]&&l>w)continue;var s=C[l*2],S=C[l*2+1],x=C[w*2],P=C[w*2+1],y=q[l*2],_=q[l*2+1],g=q[w*2],G=q[w*2+1],O=q[W*2],E=q[W*2+1],L=q[U*2],c=q[U*2+1],k=[y,_,g,G,O,E];
if(h[1])k.push(L,c);var I=N(m.abx[o],k),Y=I[0],K=I[1],i=1/Math.sqrt(Y*Y+K*K);Y*=i;K*=i;var i4=x-s,d7=P-S;
B[o]=Y*i4+K*d7;$[o]=-K*i4+Y*d7;o++}var d=new Array(Q),fH=new Array(Q);for(var D=0;D<Q;D++){d[D]=J[D*2];
fH[D]=J[D*2+1]}m.ajo.WG(d,m.a2K.gY(B),.5);m.ajo.WG(fH,m.a2K.gY($),.5);for(var D=0;D<Q;D++){J[D*2]=d[D];
J[D*2+1]=fH[D]}};j.AA.wY=function(u){var m=u.tI,C=u.Qa,Z=u.md,q=j.NC.multiply,J=Date.now(),A=j.JH.S_(m,C),n=m.length>>>1,N=0,R=0,K=1e3;
for(var D=0;D<A.q1.length;D++)N+=A.q1[D][1]?.5:1;var e=N+Z.length,Q=[],p=new j.AX(e*2,n*2),B=new j.AX(e,n),$=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],z=[],v=[];
for(var D=0;D<A.q1.length;D++){var a=A.q1[D],X=a[3][3][0],V=a[0],o=a[3][0],h=a[1]?a[1][3][0]:o;if(a[1]&&X>V)continue;
var l=m[X*2],w=m[X*2+1],W=m[V*2],U=m[V*2+1],s=m[o*2],S=m[o*2+1],x=m[h*2],P=m[h*2+1],y=[[l,w,1,0],[w,-l,0,1],[W,U,1,0],[U,-W,0,1],[s,S,1,0],[S,-s,0,1]];
if(a[1])y.push([x,P,1,0],[P,-x,0,1]);var _=j.NC.$E(y),g=q(linear.invert(q(_,y)),_);g.pop();g.pop();Q.push(g);
var G=W-l,O=U-w,E=$[a[1]?1:0];E=j.NC.Vy(E,q([[G,O],[O,-G]],g));var L=[X*2,X*2+1,V*2,V*2+1,o*2,o*2+1,h*2,h*2+1],c=a[1]?8:6,k=[];
for(var I=0;I<c;I++)k.push([L[I],E[0][I],E[1][I]]);k.sort(function(aC,f8){return aC[0]-f8[0]});for(var Y=0;
Y<2;Y++){for(var I=0;I<c;I++){z[I]=k[I][0];v[I]=k[I][1+Y]}p.U5(v,z,c)}if(X<V)B.U5([-1,1],[X,V],2);else B.U5([1,-1],[V,X],2);
R++}for(var D=0;D<Z.length;D++){var i=Z[D];p.U5([K],[i*2],1);p.U5([K],[i*2+1],1);B.U5([K],[i],1)}var i4=p.$E(),d7=i4.Z2(i4),d=B.$E(),fH=d.Z2(d);
return{a2f:N,ym:e,am7:i4,a62:d7,a2K:d,ajo:fH,atT:A,abx:Q,du:K}};j.AA.a2c=function(u,m,C,Z,q){var J=new bl(0,0,m,C),A=j.U(J.Z());
j._H(u,A,3);j.round(A,70);var n=j.tY(A,J),N=[.1,.065,.035][Z]*Math.max(n.e,n.n),e=q+1,Q=m+e*2,p=C+e*2,B=new bl(-e,-e,Q,p),$=j.U(B.Z());
j.j5(A,J,$,B);var R=$.slice(0);for(var z=0;z<q;z++){for(var v=1;v<p-1;v++){for(var a=1;a<Q-1;a++){var D=v*Q+a;
R[D]=$[D-Q]|$[D-1]|$[D]|$[D+1]|$[D+Q]}}var V=R;R=$;$=V}var o=d1.hw($,Q,p,Math.round(n.Z()*5e-4)),h=d1.yG(o),T=new ix(1,0,0,1,-e,-e);
for(var D=0;D<h.length;D++){var l=h[D];j.u.I(l.path.s,T,l.path.s);l.tI=j.AA.a33(l.path);l.Qa=j.u.aqM(l.tI);
l.Qa=j.JH.apL(l.tI,l.Qa,N)}return h};j.AA.a33=function(u){var m=[],C=u.s,Z=u.X.length-1,q=0,J=0;for(var A=0;
A<Z;A++){var D=A*6,n=C[D+6]-C[D+0],N=C[D+7]-C[D+1],e=Math.ceil(Math.sqrt(n*n+N*N));for(var Q=0;Q<e;Q++){var p=Q/e,B=1-p,$=B*B*B*C[D+0]+3*B*B*p*C[D+2]+3*B*p*p*C[D+4]+p*p*p*C[D+6],R=B*B*B*C[D+1]+3*B*B*p*C[D+3]+3*B*p*p*C[D+5]+p*p*p*C[D+7];
m.push($,R);q=$;J=R}}m=j.u.cw(m,1);var z=[],v=m.length;for(var D=0;D<v;D+=2){var R=m.pop(),$=m.pop();
z.push($,R)}return z};j.AA.af2=function(u,m,C,Z){function q(w,W,U,s,S){var x=S[w*2]-S[W*2],P=S[w*2+1]-S[W*2+1],y=Math.sqrt(x*x+P*P);
if(U[w].indexOf(W)==-1){U[w].push(W);s[w].push(y)}if(U[W].indexOf(w)==-1){U[W].push(w);s[W].push(y)}}var J=u.length>>>1,A=new Array(J);
if(C.length==0){A.fill(0);return A}var n=new Array(J),N=new Array(J);for(var D=0;D<J;D++){n[D]=[];N[D]=[]}for(var D=0;
D<m.length;D+=3){q(m[D],m[D+1],n,N,u);q(m[D],m[D+2],n,N,u);q(m[D+1],m[D+2],n,N,u)}var e=new Float64Array(J*2),Q=new Uint32Array(J*2);
e.fill(1e9);var p=new Uint8Array(J);for(var B=0;B<C.length;B++){p.fill(0);var $=["---",[0,C[B]]];while($.length!=1){var R=j.Ma.a0C($),z=R[0],v=R[1];
if(p[v]==1)continue;var a=v<<1;if(z<e[a]){e[a+1]=e[a];Q[a+1]=Q[a];e[a]=z;Q[a]=B}else if(z<e[a+1]){e[a+1]=z;
Q[a+1]=B}p[v]=1;var X=n[v],V=N[v];for(var D=0;D<X.length;D++){var o=X[D];if(p[o]!=1){j.Ma.akg($,[z+V[D],o])}}}}for(var D=0;
D<J;D++){var a=D<<1,h=e[a],T=e[a+1],l=1/(h+T);A[D]=(1-h*l)*Z[Q[a]]+(1-T*l)*Z[Q[a+1]]}return A};j.AA.aqZ=function(u){var m={X:[],s:[]},C=[u];
while(C.length!=0){var Z=C.pop(),q=Z.hF;if(Z.aao instanceof Array||Z.alo instanceof Array){m.X.push("M","L","L","L","Z");
m.s.push(q[0],q[1],q[2],q[1],q[2],q[3],q[0],q[3])}else C.push(Z.aao,Z.alo)}return m};j.AA.mn=function(u,m,C,Z,q,J,A,n,N,e){var Q=Math.round(e.length/3),p=new Array(Q);
for(var D=0;D<Q;D++)p[D]=D;p.sort(function($,R){return N[e[$*3]]-N[e[R*3]]});for(var D=0;D<Q;D++){var B=p[D]*3;
j.AA.aoz(e[B]*2,e[B+1]*2,e[B+2]*2,A,n,u,m,C,Z,q,J)}};j.AA.aoz=function(u,m,C,Z,q,J,A,n,N,e,Q){var p=j.AA.TC,B=[u,m,C,1.2,1.2,1.2,0],$=[0,0,0,0],R=q[u],z=q[u+1],v=q[m],a=q[m+1],X=q[C],V=q[C+1],o=Math.max(0,Math.min(A-1,Z[u])),h=Math.max(0,Math.min(A-1,Z[m])),T=Math.max(0,Math.min(A-1,Z[C])),l=Math.max(0,Math.min(n-1,Z[u+1])),w=Math.max(0,Math.min(n-1,Z[m+1])),W=Math.max(0,Math.min(n-1,Z[C+1])),U=v-R,s=a-z,S=X-R,x=V-z,P=1/(U*x-S*s+1e-9),y=Math.max(0,Math.floor(Math.min(R,v,X))),_=Math.min(e,Math.ceil(Math.max(R,v,X))),g=Math.max(0,Math.floor(Math.min(z,a,V))),G=Math.min(Q,Math.ceil(Math.max(z,a,V)));
for(var O=g;O<G;O++)for(var E=y;E<_;E++){var L=E+.5-R,c=O+.5-z,k=(L*x-S*c)*P,I=(U*c-L*s)*P;if(k>=0&&I>=0&&k+I<=1){var Y=1-k-I,K=o*Y+h*k+T*I,i=l*Y+w*k+W*I;
j.N.SF(K,i,J,A,n,$);j.AA.a1$($,N,O*e+E<<2)}}};j.AA.a1$=function(u,m,C){var Z=m[C],q=m[C+1],J=m[C+2],A=m[C+3],n=1-u[3]*(1/255);
m[C]=~~(.5+u[0]+Z*n);m[C+1]=~~(.5+u[1]+q*n);m[C+2]=~~(.5+u[2]+J*n);m[C+3]=~~(.5+u[3]+A*n)};j.AA.TC=function(){var u=function(C,Z,q,J){var A=J[0],n=J[1],N=J[2],e=C[A+0],Q=C[A+1],p=C[n+0],B=C[n+1],$=C[N+0],R=C[N+1],z=p-e,v=B-Q,a=$-e,X=R-Q,V=Z-e,o=q-Q,h=z*X-a*v,T=1/(h+1e-9),l=(V*X-a*o)*T,w=(z*o-V*v)*T;
if(l>=0&&w>=0&&l+w<=1){J[3]=1-l-w;J[4]=l;J[5]=w;return 1}return 0},m=function(C,Z,q,J){var A=[0,0,0,0,0,0];
for(var D=0;D<Z.length;D+=3){A[0]=Z[D]*2;A[1]=Z[D+1]*2;A[2]=Z[D+2]*2;if(u(C,q,J,A)==1)return!0}return!1};
return{a29:u,amg:m}}();j.bg={};j.bg.arE=function(u,m,C){var Z=j.U(m*C*4),q=!1;j.N.Va(u,m,C,Z,[C,m,0,1,0,1,0,0]);
return[j.bg.Gt(u,m,C,q),j.bg.Gt(Z,C,m,q)]};j.bg.I=function(u,m){var C=!1,Z=u[0],q=u[1],J=Z[1],A=Z[2],n=Z[3],N=m.e,e=m.n;
if(A==N&&n==e)J=J.slice(0);else if(n!=e){var Q=j.U(A*e*4);j.bg.jJ(q,e,Q,C);J=j.U(A*e*4);j.N.Va(Q,e,A,J,[A,e,0,1,0,1,0,0]);
if(A!=N){Z=j.bg.Gt(J,A,e,C);J=j.U(N*e*4);j.bg.jJ(Z,N,J,C)}}else if(A!=N){J=j.U(N*n*4);j.bg.jJ(Z,N,J,C)}return J};
j.bg.Gt=function(u,m,C,Z){var q=Date.now(),J=new Uint16Array(m*C),A=1;j.bg.ak4(u,m,C,J);var n=Math.ceil(m/A),N=new Uint32Array(A),e=new Uint32Array(A),n=Math.floor(m/A);
for(var Q=0;Q<A;Q++)e[Q]=Q<A-1?n:m-(A-1)*n;for(var p=0;p<C;p++){var D=p*m;for(var Q=0;Q<A;Q++){var n=e[Q];
for(var B=0;B<n;B++)N[Q]+=J[D+B];D+=n}}if(Z){console.log(Date.now()-q,"cost");q=Date.now()}var $=new Uint32Array(m),R=new Uint32Array(m),z=new Uint32Array(m*C);
for(var B=0;B<m;B++){z[(C-1)*m+B]=J[(C-1)*m+B]}for(var p=C-2;p>=0;p--){var v=p*m;for(var Q=0;Q<A;Q++){var n=e[Q];
z[v]=J[v]+Math.min(z[v+m],z[v+m+1]);for(var B=1;B<n-1;B++){var D=v+B;z[D]=J[D]+Math.min(z[D+m-1],Math.min(z[D+m],z[D+m+1]))}v+=n-1;
z[v]=J[v]+Math.min(z[v+m-1],z[v+m]);v++}}if(Z){console.log(Date.now()-q,"Building M");q=Date.now()}function a(s,S){return s<S?s:S}function X(D,s){var S=R[D],x=z[s],P=~~(S*x*1e-4);
return P}var V=new Uint8Array(m*C),o=new Uint32Array(m);for(var D=0;D<m;D++){$[D]=D;R[D]=J[D]}for(var p=1;
p<C;p++){var h=0,v=p*m;for(var Q=0;Q<A;Q++){var n=e[Q],D=v;o[h]=X(h,D);var T=o[h]+X(h+1,D+1),l=X(h,D+1)+X(h+1,D);
o[h+1]=a(T,l);for(var B=2;B<n;B++){var D=v+B,w=o[h+B-1]+X(h+B-1,D-1),W=o[h+B-2]+X(h+B-1,D-2)+X(h+B-2,D-1);
o[h+B]=a(w,W)}var B=n-1;while(B>=2){var D=v+B,w=o[h+B-1]+X(h+B-1,D-1),W=o[h+B-2]+X(h+B-1,D-2)+X(h+B-2,D-1);
if(o[h+B]==w){V[D-m]=1;B-=1}else{V[D-m]=0;V[D-m-1]=2;B-=2}}var D=v;if(B==0){V[D-m]=1}else{if(o[h+1]==T){V[D+1-m]=1;
V[D-m]=1}else{V[D+1-m]=0;V[D-m]=2}}v+=n;h+=n}j.bg.a6o(p,m,V,J,$,R,!0,q)}if(Z){console.log(Date.now()-q,"Matching");
q=Date.now()}var U=J;return[UZIP.adler(u,0,u.length),u,m,C,A,e,N,$,R,V,U]};j.bg.jJ=function(u,m,C,Z){var q=u.slice(0),J=q.shift(),A=q.shift(),n=q.shift(),N=q.shift(),e=q.shift(),Q=q.shift(),p=q.shift(),B=q.shift(),$=q.shift().slice(0),R=q.shift(),z=q.shift(),v=Date.now(),a=Math.abs(n-m),X=Math.floor(a/e),V=new Uint32Array(e),h=0,T=1e9,w=0,W=0,U=0;
for(var o=0;o<e;o++)V[o]=o<e-1?X:a-(e-1)*X;z.fill(0);for(var l=0;l<n;l++){h=Math.max(h,$[l]);T=Math.min(T,$[l])}for(var o=0;
o<e;o++){var s=Q[o],X=V[o];for(var S=0;S<X;S++){var x=0,P=1e9;for(var l=0;l<s;l++)if($[W+l]<P){P=$[W+l];
x=W+l}if(m<n)$[x]=1e9;else $[x]*=1.2;if(U<n/3)w+=P;var y=B[x],_=z[y],g=_<65280?65280:_+1;if(g<65280)throw"e";
for(var G=0;G<N;G++){var D=G*n+y;z[D]=g;y+=R[D]-1}U++}W+=s}if(Z){console.log(Date.now()-v,"Removing best seams");
v=Date.now()}function O(D,L){var c=D<<2,k=L<<2;C[c]=A[k];C[c+1]=A[k+1];C[c+2]=A[k+2];C[c+3]=A[k+3]}for(var G=0;
G<N;G++){var E=0,D=G*n;for(var l=0;l<m;l++,E++){if(m<n){while(z[D+E]==65280)E++;O(G*m+l,G*n+E)}else{O(G*m+l,G*n+E);
while(z[D+E]>=65280){z[D+E]--;l++;O(G*m+l,G*n+E)}}}}if(Z){console.log(Date.now()-v,"Shifting image pixels");
v=Date.now()}};j.bg.a6o=function(u,m,C,Z,q,J){var A=0,D=u*m;while(A<m){if(C[D-m]==1){J[A]=J[A]+Z[D];
A++;D++}else{var n=q[A];q[A]=q[A+1];q[A+1]=n;var N=J[A];J[A]=J[A+1]+Z[D];J[A+1]=N+Z[D+1];A+=2;D+=2}}};
j.bg.ak4=function(u,m,C,Z){function q(u,D,N){var p=D<<2,B=N<<2,$=u[p]-u[B],R=u[p+1]-u[B+1],z=u[p+2]-u[B+2];
return Math.abs($)+Math.abs(R)+Math.abs(z)}for(var J=1;J<m;J++){var A=q(u,J,J-1);Z[J-1]+=A;Z[J]+=A}for(var n=1;
n<C;n++){var N=n*m,A=q(u,N,N-m);Z[N]+=A;Z[N-m]+=A;for(var J=1;J<m;J++){var D=n*m+J,e=q(u,D,D-1),Q=q(u,D,D-m);
Z[D-m]+=Q;Z[D-1]+=e;Z[D]+=Q+e}}for(var n=0;n<C;n++){Z[n*m]*=2;Z[n*m+m-1]*=2}for(var D=0;D<Z.length;D++)if(Z[D]==0)Z[D]=1};
j.vD=function(){var u=0,m=0,Z=15,J=256;function C(Q,p,B,$,R,z){var v=(R-1)*p,a=z*p;return Q[a+$]-Q[a+B-1]-Q[v+$]+Q[v+B-1]}var q=Math.round(Z/8),A=[];
function n(Q,p){for(var B=0;B<p.length;B++){var $=p[B],R=0,z=0,v=Q[$.EI],a=v.kO,X=v.du,V=v.Oh;for(var o=-Z;
o<=Z;o++)for(var h=-Z;h<=Z;h++){var T=h+$.att,l=o+$.arR;if(h*h+o*o>Z*Z||T<0||l<0||T>=X||l>=X)continue;
var w=a[l*X+T];R+=h*w;z+=o*w}$.VV=Math.atan2(z,R)}}function N(Q,p,B,$,R){var z=~~(Q+.5),v=~~(p+.5);return C(B,$,z-q,z+q,v-q,v+q)}function e(Q,p,B,$,R){u=$;
m=R;if(A.length==0){var z=new j.a.d2(16200817),V=8,o=0;function v(fH){var U=fH[0]-fH[2],s=fH[1]-fH[3];
return U*U+s*s}function a(){var fH=0,aC=0;while(fH===0)fH=z.get();while(aC===0)aC=z.get();return Math.sqrt(-2*Math.log(fH))*Math.cos(2*Math.PI*aC)}var X=a,h=[];
while(o!=J){var T=Math.max(-Z,Math.min(Z,X()*V)),l=Math.max(-Z,Math.min(Z,X()*V)),w=Math.max(-Z,Math.min(Z,X()*V)),W=Math.max(-Z,Math.min(Z,X()*V)),U=T-w,s=l-W,S=Math.sqrt(U*U+s*s);
if(S<3||S>12)continue;A.push(T,l,w,W);o++}}var x=20;for(var P=0;P<p.length;P++){var y=p[P],_=Q[y.EI],g=_.ME,B=_.kO,$=_.du,R=_.Oh,G=y.att,O=y.arR,E=y.VV,L=Math.cos(E),c=Math.sin(E),k=new Uint8Array(J>>>3);
y.yS=k;for(var D=0;D<J;D++){var I=D*4,T=A[I+0],l=A[I+1],w=A[I+2],W=A[I+3],Y=L*T-c*l,K=c*T+L*l,i=L*w-c*W,i4=c*w+L*W,d7=N(G+Y,O+K,g,$,R),d=N(G+i,O+i4,g,$,R);
k[D>>>3]|=(d7<d?0:1)<<(D&7)}}}return{ary:n,aoX:e}}();j.a3q=function(){function u(m,C){var Z=[[9]],q=Date.now(),J=[];
for(var A=0;A<m.length;A++){var n=m[A],N=n.ME,e=n.du,Q=n.Oh,$=9,V=1,y=24;if(N==null)continue;var p=new Float32Array(e*Q),B=new Uint8Array(e*Q),R=$>>>1,z=R>>>1,v=Math.round($/3);
if(v!=$/3)throw"e";var a=1/($*$),X=1.2*($/9);for(var o=R+1;o<Q-R;o+=V)for(var h=R+1;h<e-R;h+=V){var T=j.Gg(N,e,h-z,h+z,o-R,o+R)-3*j.Gg(N,e,h-z,h+z,o-R+v,o+R-v),l=j.Gg(N,e,h-R,h+R,o-z,o+z)-3*j.Gg(N,e,h-R+v,h+R-v,o-z,o+z),w=h-R+1,W=h+R-1,U=o-R+1,s=o+R-1,S=j.Gg(N,e,w,h-1,U,o-1)+j.Gg(N,e,h+1,W,o+1,s)-j.Gg(N,e,h+1,W,U,o-1)-j.Gg(N,e,w,h-1,o+1,s),x=(l*T-.9*S*(.9*S))*(a*a);
p[o*e+h]=Math.abs(x);B[o*e+h]=x<0?0:1}var P=e*V;for(var o=y;o<Q-y;o+=V)for(var h=y;h<e-y;h+=V){var D=o*e+h,_=p[D];
if(_<16)continue;if(p[D-V]>=_||p[D+V]>=_)continue;if(p[D-P-V]>=_||p[D-P]>=_||p[D-P+V]>=_)continue;if(p[D+P-V]>=_||p[D+P]>=_||p[D+P+V]>=_)continue;
J.push({x:~~(h*n.k8+.5),y:~~(o*n.k8+.5),att:h,arR:o,EI:A,k:_,apj:B[D],jL:X})}}if(C!=null){J.sort(function(I,Y){return Y.k-I.k});
J=J.slice(0,C)}return J;var g=[];for(var D=0;D<J.length;D++){var G=!0,O=J[D];for(var E=0;E<J.length;
E++){var L=J[E];if(E!=D&&L.k>O.k&&(L.EI==O.EI+1||L.EI==O.EI-1)){var c=O.x-L.x,k=O.y-L.y;if(c*c+k*k<5){G=!1;
break}}}if(G)g.push(O)}console.log(J.length,g.length);return g}return{apn:u}}();j.v$={};j.v$.adN=function(u){var m=u.length,C=j.v$.ii(u,!1),q=0,J=1;
throw"e";var Z=[];for(var D=0;D<m;D++)Z[D]=j.v$.UZ(C[D]);var A=u[0][1],n=j.v$.match(C[q],C[J],Z[J]);
console.log(n.length);var N=Math.max(Math.min(n.length,40),n.length*.54);N=Math.min(N,200);var e=n.slice(0,N),Q=j.Rw.arD(C[q],C[J],e,A.e,A.n),p=j.Rw.aoq(Q,[0,0,0],1),B=A.e/2,$=A.n/2,R=1/Math.max(B,$);
for(var D=0;D<1;D++){var z=e[D],v=C[q][z[0]],a=C[J][z[1]],X=j.Rw.a53(p,R*(v.x-B),R*(v.y-$),R*(a.x-B),R*(a.y-$))}var V=j.Rw.aku(Q,A),o=[];
for(var D=0;D<2;D++){var h=V[D],T=[h[0][0],h[0][1],h[0][2],h[1][0],h[1][1],h[1][2],h[2][0],h[2][1]],l=b.Q._5(u[D],null,T);
o.push([l.buffer,l.rect])}return[j.v$.akZ(o[0],o[1],C[q],C[J],e,Q,V,A)]};j.v$.sb=function(u,m){var C=u.length,Z=!1,q=Date.now(),J=j.v$.ii(u,!1,1e4);
if(Z)console.log("Descriptors ready",Date.now()-q);q=Date.now();for(var D=0;D<C;D++){var A=u[D][1];for(var n=0;
n<J[D].length;n++){J[D][n].x+=A.x;J[D][n].y+=A.y}}if(Z)console.log("shifted",Date.now()-q);q=Date.now();
var N=[];for(var D=0;D<C;D++)N[D]=j.v$.UZ(J[D]);if(Z)console.log("trees built",Date.now()-q);q=Date.now();
var e=[];for(var D=0;D<C-1;D++)for(var n=D+1;n<C;n++){var Q=j.v$.match(J[D],J[n],N[n]);if(Z)console.log("Matches found",D,n,Q.length);
Q=Q.slice(0,Q.length>>>1);if(Q.length<10)return null;var p=j.v$.apl(J[D],J[n],Q,2);e.push([D,n,Q,p])}e.sort(function(U,s){return s[2].length-U[2].length});
if(Z)console.log("Matches found",Date.now()-q);q=Date.now();var B=[],$=new UnionFind(C);for(var D=0;
D<e.length;D++){var R=e[D],z=$.find(R[0]),v=$.find(R[1]);if(z!=v){B.push(R);$.link(z,v)}}var X=[];for(var D=0;
D<C;D++)X[D]=[1,0,0,0,1,0,0,0];var V=[0],o=new Uint8Array(C);o[V[0]]=1;while(V.length!=0){var v=V.pop(),p=X[v],h=[];
for(var D=0;D<B.length;D++){var R=B[D],T=R[0],l=R[1];if(T==v&&o[l]==0){X[l]=j.N.kt(p,R[3]);V.push(l);
o[l]=1}if(l==v&&o[T]==0){X[T]=j.N.kt(p,j.N.mL(R[3]));V.push(T);o[T]=1}}}if(m==null){var w=[];for(var D=0;
D<C;D++)w.push([X[D][2],D]);w.sort(function(U,s){return U[0]-s[0]});m=w[w.length>>>1][1]}var W=j.N.mL(X[m]);
for(var D=0;D<C;D++)X[D]=j.N.kt(X[D],W);if(Z)console.log("Transforms reordered",Date.now()-q);q=Date.now();
return X};j.v$.ii=function(u,m,C){var Z=[],q=!1;for(var D=0;D<u.length;D++){var J=u[D][0],A=u[D][1],n=A.e,N=A.n,e=j.U(A.Z());
j.px(J,e);var Q=Date.now(),p=j.v$.anb(e,A,!0);if(q)console.log("Pyramid built ---------------",Date.now()-Q);
Q=Date.now();var B=j.a3q.apn(p,C);if(q)console.log("SURF Generation",Date.now()-Q);Q=Date.now();if(!m){j.vD.ary(p,B);
if(q)console.log("ORB Orientations",Date.now()-Q);Q=Date.now();j.vD.aoX(p,B,e,n,N);if(q)console.log("ORB Descriptors",Date.now()-Q);
Q=Date.now()}Z.push(B)}return Z};j.v$.anb=function(u,m,C){var Z=[],q=[u,m];j.MB(q);if(C){var J=j.xn(u,m),A=J.rect,n=[J.bf,A];
j.MB(n)}for(var D=0;D<q.length;D++){var N=q[2*D],e=q[2*D+1],Q=e.e,p=e.n,B=Math.min(Q,p);if(B<30)break;
if(B<1600)Z.push({kO:N,du:Q,Oh:p,k8:1<<D,ME:j._2(N,Q,p)});if(!C)continue;var N=n[2*D],e=n[2*D+1],Q=e.e,p=e.n,B=Math.min(Q,p);
if(B<30)break;if(B<1600)Z.push({kO:N,du:Q,Oh:p,k8:(1<<D)*3/2,ME:j._2(N,Q,p)})}return Z};j.v$.apl=function(u,m,C,Z){var q=Date.now(),J,A=0,n=0,N=C.length,e=new Float64Array(2);
for(var Q=0;Q<3e3;Q++){var p=~~(Math.random()*N),B=~~(Math.random()*N),$=~~(Math.random()*N),R=~~(Math.random()*N),P=0,y=0;
if(p==B||p==$||p==R||B==$||B==R||$==R)continue;var z=C[p],v=C[B],a=C[$],X=C[R],V=u[z[0]],o=m[z[1]],h=u[v[0]],T=m[v[1]],l=u[a[0]],w=m[a[1]],W=u[X[0]],U=m[X[1]],s=[V.x,V.y,h.x,h.y,l.x,l.y,W.x,W.y],S=[o.x,o.y,T.x,T.y,w.x,w.y,U.x,U.y],x=j.N.QZ(s,S);
if(x[0]==0&&x[1]==0&&x[3]==0&&x[4]==0)continue;var _=N-A+2;for(var D=0;D<N&&D-P<_;D++){var g=u[C[D][0]],G=m[C[D][1]];
j.N.WX(G.x,G.y,x,e);var O=e[0]-g.x,E=e[1]-g.y,L=O*O+E*E;if(L<Z){P++;y+=L}}if(P>A||P==A&&y<n){J=x;A=P;
n=y}}return J};var fa=new Uint8Array(256);for(var D=0;D<256;D++){var ag=0,jt=D;while(jt!=0){jt=jt&jt-1;
ag++}fa[D]=ag}j.v$.a9w=function(u,m,C){var Z=0,q=u.length;for(var D=0;D<q&&Z<C;D++)Z+=fa[u[D]^m[D]];
return Z};j.v$.a2m=function(u,m,C,top,Z){if(Z[C]==1)return;var q=j.v$.a9w(u.yS,m.yS,top[0]);if(q<top[0]){if(q<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=q;top[3]=C}else{top[0]=q;top[1]=C}}Z[C]=1};j.v$.UZ=function(u){var m=[],C=[],Z=[[],[]],q=4;
for(var D=0;D<u.length;D++)(u[D].apj==0?m:C).push(D);for(var J=0;J<2;J++){var A=new Array(q),n=[],N=J==0?m:C,e=N.length/256,Q=[];
for(var p=0;p<32;p++){var B=new Array(256),z=0;for(var $=0;$<256;$++)B[$]=[];for(var $=0;$<N.length;
$++){var R=N[$];B[u[R].yS[p]].push(R)}for(var $=0;$<256;$++)z+=Math.abs(B[$].length-e);Q.push([z,p,B])}Q.sort(function(v,a){return v[0]-a[0]});
var n=[],A=[];Z[J]=[n,A];for(var D=0;D<q;D++){n.push(Q[D][1]);A.push(Q[D][2])}}return Z};j.v$.match=function(u,m,C){var Z=[],q=new Uint16Array(m.length);
q.fill(65535);var J=new Uint8Array(m.length),top=new Uint32Array(4),A=[];for(var n=0;n<u.length;n++){var N=u[n],e=N.yS;
top.fill(1e6);J.fill(0);var Q=C[N.apj];for(var p=0;p<Q[1].length;p++){var B=Q[1][p][e[Q[0][p]]];for(var $=0;
$<B.length;$++){var R=B[$];j.v$.a2m(N,m[R],R,top,J)}}if(top[2]<50&&top[2]<top[0]*.5){var z=q[top[3]];
if(z==65535){q[top[3]]=Z.length;Z.push([n,top[3],top[2]])}else if(top[2]<Z[z][2]){Z[z]=[n,top[3],top[2]]}}}Z.sort(function(v,a){return v[2]-a[2]});
return Z};j.v$.a3u=function(u){var m=new bl;for(var D=0;D<u.length;D++)m=m.QN(u[D][1]);var C=j.U(m.Z()*4);
for(var D=0;D<u.length;D++)j.a.q5("norm",u[D][0],u[D][1],C,m,m,1);return[C,m]};j.v$.akZ=function(u,m,C,Z,q,J,A,n){var N=u[1].clone(),e=N.clone();
N.x=N.y=0;var Q=m[1].clone(),p=Q.clone();Q.x=Q.y=0;Q.x=N.e;var B=N.QN(Q),$=p.y-e.y,R=j.U(B.Z()*4);j.zO(u[0],N,R,B);
j.zO(m[0],new bl(Q.x,Q.y+$,Q.e,Q.n),R,B);var z=document.createElement("canvas");z.width=B.e;z.height=B.n;
var v=z.getContext("2d");v.lineWidth=.5;v.putImageData(new ImageData(new Uint8ClampedArray(R.buffer),B.e,B.n),0,0);
if(J){var a=J[0],X=j.NC.$E(a),V=N.e,o=n.e;for(var D=0;D<q.length;D++){var h=q[D],u=C[h[0]],m=Z[h[1]];
v.strokeStyle="#"+"ff0000";v.beginPath();var T=j.Rw.aeS(X,A[0],m,0,o),l=j.Rw.aeS(a,A[1],u,0,o);v.moveTo(-e.x+T[0],-e.y+T[1]);
v.lineTo(-e.x+T[2],-e.y+T[3]);v.moveTo(V-p.x+l[0],-p.y+$+l[1]);v.lineTo(V-p.x+l[2],-p.y+$+l[3]);v.stroke()}}if(q){var w=q.length;
for(var D=0;D<w;D++){var h=q[D],u=C[h[0]],m=Z[h[1]];v.strokeStyle="#"+"ffff00"}}var W=new Uint8Array(v.getImageData(0,0,B.e,B.n).data.buffer);
if(!1){for(var U=0;U<2;U++){var s=U==0?C:Z,S=U*N.e;for(var D=0;D<s.length;D++){var x=s[D],P=~~x.x,y=~~x.y,_=(y*B.e+P+S)*4;
W[_+1]=W[_+2]=x.asv*60;W[_+0]=0;W[_+3]=255}}}return[W,B]};j.stack={};j.stack.stack=function(u,m,C){var Z=u.length,q=m.length;
if(Z==1){m.set(u[0]);return}if(C=="avrg"||C=="stdv"||C=="summ"||C=="vari"){var J=1/Z;for(var D=0;D<q;
D++){var A=0;for(var n=0;n<Z;n++)A+=u[n][D];var N=~~(A*J+.5);if(C=="avrg"||(D&3)==3)m[D]=N;else if(C=="summ")m[D]=255*Math.pow(Math.min(255,A)*(1/255),1/2.4);
else{var e=0;for(var n=0;n<Z;n++){var Q=u[n][D]-N;e+=Q*Q}var p=Math.sqrt(e*J)*(1/255);if(C=="stdv")m[D]=255*Math.pow(p,1/2.4);
else m[D]=255*Math.pow(p*p,1/2.4)}}}else if(C=="maxx"){for(var D=0;D<q;D++){var B=0;for(var n=0;n<Z;
n++)B=Math.max(B,u[n][D]);m[D]=B}}else if(C=="minn"){for(var D=0;D<q;D++){var B=255;for(var n=0;n<Z;
n++)B=Math.min(B,u[n][D]);m[D]=B}}else if(C=="medn"||C=="rang"){var $=function(a,X){return a-X},R=new Array(Z),z=0,v=0;
if(Z%1==0){v=Z>>>1;z=v-1}else{z=v=Z>>>1}for(var D=0;D<q;D++){for(var n=0;n<Z;n++)R[n]=u[n][D];R.sort($);
if(C=="medn")m[D]=R[z]+R[v]>>>1;else m[D]=(D&3)==3?R[Z-1]:R[Z-1]-R[0]}}else console.log(C)};j.xG={};
j.xG.ahi=function(u,m,C,Z){var q=Date.now(),J=new Uint32Array(m*C),A=new Uint8Array(m*C);while(!0){A.fill(0);
J.fill(0);var n=[],N=0;for(var e=0;e<C;e++){for(var Q=0;Q<m;Q++){var D=e*m+Q;if(A[D]==0){var p=n.length,B=j.xG.EW(u,m,C,Q,e,A,J,p);
n.push([p,Q,e,B[0],B[1],u[D]]);if(B[0]<Z)N++}}}if(N==0)break;var $=n.length,R=new UnionFind($),z=[];
for(var D=0;D<$;D++)z.push([]);for(var D=0;D<$;D++){var B=n[D],v=B[4],a=0,X=0;if(B[3]>=Z)continue;var p=B[0];
for(var V=0;V<v.length;V+=2){var o=J[v[V+1]*m+v[V]],h=n[o];if(h[3]>X){X=h[3];a=o}}if(R.find(p)!=R.find(a)){R.link(p,a);
z[p].push(a);z[a].push(p)}}var T=new Uint32Array($);T.fill(4294967295);var l=new Uint32Array($);for(var D=0;
D<$;D++){if(T[D]!=4294967295||z[D].length==0)continue;var w=[D],W=[D],U=D,s=n[D][3];while(W.length!=0){var S=W.pop(),x=z[S];
for(var V=0;V<x.length;V++){var P=x[V];if(w.indexOf(P)==-1){w.push(P);W.push(P);var y=n[P];if(y[3]>s){s=y[3];
U=P}}}}for(var V=0;V<w.length;V++){T[w[V]]=U;var _=n[U];l[w[V]]=u[_[2]*m+_[1]]}}for(var e=0;e<C;e++)for(var Q=0;
Q<m;Q++){var D=e*m+Q,g=T[J[D]];if(g!=4294967295)u[D]=l[g]}}};j.xG.EW=function(u,m,C,Z,q,J,A,n){var N=[Z,q],e=u[q*m+Z],Q=0,p=[];
J[q*m+Z]=1;while(N.length!=0){var B=N.pop(),$=N.pop(),D=B*m+$;A[D]=n;Q++;if(B!=C-1)if(u[D+m]==e){if(J[D+m]==0){N.push($,B+1);
J[D+m]=1}}else p.push($,B+1);if(B!=0)if(u[D-m]==e){if(J[D-m]==0){N.push($,B-1);J[D-m]=1}}else p.push($,B-1);
if($!=m-1)if(u[D+1]==e){if(J[D+1]==0){N.push($+1,B);J[D+1]=1}}else p.push($+1,B);if($!=0)if(u[D-1]==e){if(J[D-1]==0){N.push($-1,B);
J[D-1]=1}}else p.push($-1,B)}return[Q,p]};j.xG.ama=function(u,m,C,Z,q){var J=j.xG.Az(u.buffer,m,C).BJ,A=Date.now(),n=[];
for(var D=0;D<J.length;D++){var N=J[D],e=1;for(var Q=0;Q<e;Q++)n.push(N.ZU)}var p=new Uint32Array(n),B=UPNG.quantize.getKDtree(new Uint8Array(p.buffer),Z),$=[m,1,-m,-1,m+1,-m+1,-m-1,m-1,m+m,2,-m-m,-2,m+m-1,m+m+1,m+2,-m+2,-m-m+1,-m-m-1,-m-2,m-2,m+m+2,-m-m+2-m-m-2,m+m-2],R=new Uint8Array(m*C),z=u;
for(var v=0;v<C;v++)for(var a=0;a<m;a++){var D=v*m+a<<2,X=z[D]*(1/255),V=z[D+1]*(1/255),o=z[D+2]*(1/255),h=z[D+3]*(1/255),T=j.xG.Iz(B,X,V,o,h,q);
if(T==null){var l=[],w=0;while(w<20){var W=v*m+a+$[w]<<2,U=z[W]*(1/255),s=z[W+1]*(1/255),S=z[W+2]*(1/255),x=z[W+3]*(1/255),P=j.xG.Iz(B,U,s,S,x,.005);
if(P!=null){if(l.indexOf(P)==-1){l.push(P);P.uW=1}else P.uW++}w++}l.sort(function(h,o){return o.uW-h.uW});
while(l.length!=0&&l[l.length-1].uW<3)l.pop();if(l.length==0)T=j.xG.Iz(B,X,V,o,h,100);else if(l.length==1)T=l[0];
else if(l.length==2){var y=l[0],_=l[1],g=y.est.q,G=_.est.q,O=G[0]-g[0],E=G[1]-g[1],L=G[2]-g[2],c=G[3]-g[3],k=X-g[0],I=V-g[1],Y=o-g[2],K=h-g[3],i=O*O+E*E+L*L+c*c,i4=k*k+I*I+Y*Y+K*K,d7=(k*O+I*E+Y*L+K*c)/i,d=i4-d7*d7*i;
if(d<.5)T=d7<.5?y:_;else{T=j.xG.Iz(B,X,V,o,h,100)}}else{var y=l[0],_=l[1],fH=l[2],g=y.est.q,G=_.est.q,aC=fH.est.q,f8=g[0]-aC[0],c9=g[1]-aC[1],g1=g[2]-aC[2],cE=g[3]-aC[3],hG=G[0]-aC[0],fA=G[1]-aC[1],hh=G[2]-aC[2],eE=G[3]-aC[3],dh=aC[0]-X,fT=aC[1]-V,dB=aC[2]-o,iN=aC[3]-h,gV=f8*f8+c9*c9+g1*g1+cE*cE,fI=f8*hG+c9*fA+g1*hh+cE*eE,gc=dh*f8+fT*c9+dB*g1+iN*cE,aF=f8*hG+c9*fA+g1*hh+cE*eE,gh=hG*hG+fA*fA+hh*hh+eE*eE,gD=dh*hG+fT*fA+dB*hh+iN*eE,j1=1/(fI*aF-gV*gh),d7=(gh*gc-gD*fI)*j1,dg=(gD*gV-gc*aF)*j1,ao=1-d7-dg,eC=Math.max(d7,dg,ao);
if(eC==d7)T=y;else if(eC==dg)T=_;else T=fH}}R[D>>2]=T.ind}return{Qa:R,BJ:B[1]}};j.xG.Az=function(u,m,C){var Z=[],q={},J=m-1,A=C-1,n=0,N=new Uint32Array(u),e=[-m-1,-m,-m+1,-1,1,m-1,m,m+1,m+m,2,-m-m,-2,m+m-1,m+m+1,m+2,-m+2,-m-m+1,-m-m-1,-m-2,m-2,m+m+2,-m-m+2-m-m-2,m+m-2];
for(var Q=1;Q<A;Q++)for(var p=1;p<J;p++){var B=Q*m+p,$=N[B],R=!0;for(var D=0;D<8;D++)R=R&&N[B+e[D]]==$;
if(R){n++;var z=q[$];if(z==null){q[$]=Z.length;Z.push({ZU:$,M8:1})}else Z[z].M8++}}return{BJ:Z,aqp:n}};
j.xG.Iz=function(u,m,C,Z,q,J){var A=UPNG.quantize.getNearest(u[0],m,C,Z,q);return j.xG.a5r(A,m,C,Z,q)<J?A:null};
j.xG.a5r=function(u,m,C,Z,q){var J=u.est.q,A=m-J[0],n=C-J[1],N=Z-J[2],e=q-J[3];return A*A+n*n+N*N+e*e};
j.xG.xb=function(){function u(a,X,V,o,h,T){var l=[],w=T,W=T,U=T>>>2;for(var s=0;s<h;s++)for(var S=0;
S<o;S++){var x=~~((S+.5)*w),P=~~((s+.5)*W),y=1e9,_=Math.max(0,x-U),g=Math.min(X,x+U+1),G=Math.max(0,P-U),O=Math.min(V,P+U+1);
for(var E=G;E<O;E++)for(var L=_;L<g;L++){var c=m(a,X,L,E);if(c<y){x=L;P=E;y=c}}var k=(P*X+x)*4;l.push(x,P)}return l}function m(a,X,V,o){var h=(o*X+V)*4,T=X*4,l=C(a,h-4,h)+C(a,h,h+4),w=C(a,h-T,h)+C(a,h,h+T);
return l+w}function C(a,X,V){var o=a[X]-a[V],h=a[X+1]-a[V+1],T=a[X+2]-a[V+2];return o*o+h*h+T*T}var Z=0,q=0;
function J(a,X,V,o){q++;if(o<Z)Z=o;a[o].push(X,V)}function A(a){q--;while(a[Z].length==0)Z++}function n(a,X,V,o,h){Z=0;
q=0;var T=X*V,l=Math.round(Math.min(X,V)/(o?o:50)),_=0,g=16;if(l==0)l=1;var w=(h?h:30)/l,W=Math.floor(X/l),U=Math.floor(V/l),s=new Uint16Array(T);
for(var D=0;D<T;D++)s[D]=65535;var S=u(a,X,V,W,U,l),x=S.length>>>1;if(x>65535)throw x;var P=[];for(var D=0;
D<1e3+V;D++)P.push([]);var y=[0,1,0,-1,-1,0,1,0],G=Math.min(U,5),O=new Uint32Array(x*6);for(var E=0;
E<U;E+=G){var L=Math.min(E+G+1,U);for(var c=E;c<L;c++)for(var k=0;k<W;k++){var D=c*W+k,I=D*2,Y=S[I+1]<<16|S[I];
J(P,Y,D,S[I+1]>>>g)}var K=Math.min(V,L*l);if(E+G>=U)K=V;while(q!=0){A(P);var i=P[Z].pop(),i4=P[Z].pop(),d7=i4>>>16,d=i4&65535,D=d7*X+d;
if(s[D]==65535){var fH=i*6,aC=D<<2;s[D]=i;O[fH]+=a[aC];O[fH+1]+=a[aC+1];O[fH+2]+=a[aC+2];O[fH+3]+=d;
O[fH+4]+=d7;O[fH+5]++;var f8=d7>>>g;if(d7!=K-1&&s[D+X]==65535)J(P,d7+1<<16|d,i,N(a,X,w,d,d7+1,O,fH)+f8);
if(d7!=0&&s[D-X]==65535)J(P,d7-1<<16|d,i,N(a,X,w,d,d7-1,O,fH)+f8);if(d!=0&&s[D-1]==65535)J(P,d7<<16|d-1,i,N(a,X,w,d-1,d7,O,fH)+f8);
if(d!=X-1&&s[D+1]==65535)J(P,d7<<16|d+1,i,N(a,X,w,d+1,d7,O,fH)+f8)}}if(K!=d7){var c9=(E+G)*W;O.fill(0,c9*6,(c9+W)*6);
for(var d7=(E+G-2)*l;d7<K;d7++)for(var d=0;d<X;d++){var D=d7*X+d;if(s[D]>=c9){s[D]=65535}}}}return{Qa:s,Lt:x,lj:O}}j.xG.ni=function(a,X,V,o,h){var T=a.Lt,l=X*V,w=a.lj,W=a.Qa,U=$(o,W,T,l),s=new UnionFind(T),g=0;
for(var S=1;S<V;S++)for(var x=1;x<X;x++){var D=S*X+x,P=W[D],y=0;if((y=W[D-1])!=P&&U[y]==U[P]&&e(w,0,P*6,y*6)<h)s.link(P,y);
if((y=W[D-X])!=P&&U[y]==U[P]&&e(w,0,P*6,y*6)<h)s.link(P,y)}var _=new Uint16Array(T);_.fill(65535);var G=new Uint16Array(T);
for(var D=0;D<T;D++){var O=s.find(D);if(_[O]==65535)_[O]=g++;G[D]=_[O]}var E=new Uint16Array(l);for(var D=0;
D<l;D++)E[D]=G[W[D]];return{Qa:E,Lt:g}};j.xG.abP=function(a,X,V,o){var h=j.U(V),T=X.length,l=0;for(var D=0;
D<T&&l!=3;D++){var w=o[D];if(w==0||w==255){var W=X[D],U=2-(w>>>7);h[W]=l=h[W]|U}}return l!=3};function N(a,X,V,o,h,T,l){var w=(h*X+o)*4,W=T[l+5],U=1/W,s=a[w]*W-T[l],S=a[w+1]*W-T[l+1],x=a[w+2]*W-T[l+2],P=o*W-T[l+3],y=h*W-T[l+4],_=Math.sqrt(s*s+S*S+x*x),g=Math.sqrt(P*P+y*y);
return~~((_+V*g)*U+.5)}function e(a,X,V,o){var h=1/a[V+5],T=1/a[o+5],l=a[V]*h-a[o]*T,w=a[V+1]*h-a[o+1]*T,W=a[V+2]*h-a[o+2]*T,U=a[V+3]*h-a[o+3]*T,s=a[V+4]*h-a[o+4]*T,S=Math.sqrt(l*l+w*w+W*W),x=Math.sqrt(U*U+s*s);
return~~(S+X*x+.5)}function Q(a,X,V){var o=j.Zz(a,new bl(0,0,X,V)),h=o.rect.e,T=o.rect.n,l=n(o.bf,h,T),w=l.Qa,W=Date.now(),U=new Uint16Array(X*V);
U.fill(65535);for(var s=0;s<T;s++){for(var S=0;S<h;S++){var x=s*h+S,D=(s<<1)*X+(S<<1),P=w[x];if(w[x-h]!=P||w[x-1]!=P||w[x+1]!=P||w[x+h]!=P)P=65535;
U[D]=P;U[D+1]=P;U[D+X]=P;U[D+X+1]=P}}l.Qa=U;return l}function p(a,X){var D=0,V=a.length;while(D!=V&&a[D]!=X)D+=2;
return D==V?-1:D}function B(a,D){if(D==a.length-2){a.pop();a.pop()}else{a[D+1]=a.pop();a[D]=a.pop()}}j.xG.aev=function(a,X,V,o,h){var T=new Uint32Array(h*4400),m=[];
for(var D=0;D<h;D++)m.push([]);for(var l=0;l<V;l++)for(var w=0;w<X;w++){var D=l*X+w,W=D<<2,U=o[D],s=0,S=a[W]>>>4,x=a[W+1]>>>4,P=a[W+2]>>>4;
T[U*4400+(S<<8|x<<4|P)]++;T[U*4400+4096]++;T[U*4400+4100+(S<<4|x)]++;T[U*4400+4360+S]++;if(w!=0&&(s=o[D-1])!=U&&p(m[U],s)==-1){m[U].push(s,0);
m[s].push(U,0)}if(l!=0&&(s=o[D-X])!=U&&p(m[U],s)==-1){m[U].push(s,0);m[s].push(U,0)}}for(var D=0;D<h;
D++){var P=m[D];for(var y=0;y<P.length;y+=2)P[y+1]=v(T,D,P[y])}return[T,m]};function $(a,X,V,o){var h=j.U(V);
for(var D=0;D<o;D++){var T=a[D];if(T==0||T==255)h[X[D]]=2-(T>>>7)}return h}j.xG.a3p=function(a,X,V,o,h,T,l){var w=X*V,W=l[0],m=l[1],U=new UnionFind(o),s=$(h,a,o,w),S=-1,x=!0,P=0;
for(var D=0;D<o;D++)if(s[D]==1){if(S==-1)S=D;else U.link(D,S)}if(S==-1){for(var D=0;D<w;D++)T[D]=h[D]==255?255:0;
return}while(x){while(x){x=!1;for(var D=0;D<o;D++){if(s[D]==0){var y=R(m[D]);if(s[y]==1){s[D]=s[y];x=!0;
U.link(D,y)}}}}x=!0;P=0;while(x){x=!1;for(var D=0;D<o;D++){if(s[D]==0){var y=R(m[D]);if(s[y]==0){var _=D*4400,g=y*4400;
for(var G=0;G<4400;G+=2){W[_+G]+=W[g+G];W[_+G+1]+=W[g+G+1]}z(m,W,D,y);P++;s[y]=3;x=!0;U.link(D,y)}}}}x=P!=0}var O=U.find(S);
for(var D=0;D<o;D++)s[D]=U.find(D)==O?255:0;for(var D=0;D<w;D++){T[D]=s[a[D]]}for(var D=0;D<w;D++){var y=h[D];
if(y==0||y==255)T[D]=y}};function R(a){var X=0,V=0,o=a.length;for(var h=0;h<o;h+=2){var T=a[h+1];if(T>V){V=T;
X=h}}return a[X]}function z(m,a,X,V){var o=m[X],h=m[V];B(o,p(o,V));B(h,p(h,X));for(var D=0;D<h.length;
D+=2){var T=h[D],l=m[T];B(l,p(l,V));if(p(l,X)==-1){l.push(X,0);o.push(T,0)}}for(var D=0;D<o.length;D+=2){var T=o[D],l=m[T],w=v(a,X,T);
o[D+1]=w;l[p(l,X)+1]=w}}function v(a,X,V){var o=0,h=4096,T=X*4400,l=V*4400;for(var w=0;w<16;w++){if(a[T+4360+w]==0||a[l+4360+w]==0)continue;
for(var W=0;W<16;W++){var U=w<<4|W;if(a[T+4100+U]==0||a[l+4100+U]==0)continue;var s=T+(U<<4),S=l+(U<<4);
for(var D=0;D<16;D++)o+=Math.sqrt(a[s+D]*a[S+D])}}var x=o/Math.sqrt(a[T+h]*a[l+h]);return~~(999.99999*x)}return n}();
j.FH={};j.FH.a3f=function(){var u=11,m=7,C=u>>>1,jt=m>>>1,Z=2,q=2e3/Z,J=[],n=null,N="";function A(Q,p,B){var $=(Q[p+0]-Q[B+0])*(1/255),R=(Q[p+1]-Q[B+1])*(1/255),z=(Q[p+2]-Q[B+2])*(1/255),v=(Q[p+3]-Q[B+3])*(1/255),a=$*$*.125+R*R*.25+z*z*.5+v*v;
return J[~~(a*q)]}function e(Q,p,B,$,R,z){var v=Date.now(),a=j.U(p*B);j.px(Q,a);var X=UZIP.adler(a,0,p*B);
if(X!=N){var V=j._2(a,p,B);n=j.U(p*B*4);N=X;var o=[1,1/9,1/25,1/49,1/81];for(var h=0;h<B;h++)for(var T=0;
T<p;T++)for(var D=0;D<4;D++){var l=Math.max(1,T-D),w=Math.min(p-1,T+D),W=Math.max(1,h-D),U=Math.min(B-1,h+D),s=j.Gg(V,p,l,w,W,U);
if(isNaN(s))throw T+","+h+","+D+","+s;n[(h*p+T)*4+D]=s*o[D]}}if(H.GL){var S=H.Gi(0,p,B);S.set(Q);var x=H.Gi(1,p,B);
x.set(n);var P=H.Gi(2,p,B);H.JU(P);H.filter.ka({type:H.filter.abB,nQ:new Float32Array([1/p,1/B]),aed:x.oo,a6U:R,amu:z},S.oo);
P.get($)}else{for(var D=0;D<2e3;D++)J[D]=Math.exp(-(D/2e3)*Z*(100+(1-R)*(1-R)*1e4));var y=jt+2;for(var h=y;
h<B-y;h++)for(var T=y;T<p-y;T++){var _=0,g=0,G=0,O=0;for(var E=0;E<u;E++)for(var L=0;L<u;L++){var c=T+L-C,k=h+E-C;
if(c==T&&k==h||c<y||k<y||c>=p-y||k>=B-y)continue;var I=A(n,(h*p+T)*4,(k*p+c)*4),Y=k*p+c<<2;_+=I*Q[Y+0];
g+=I*Q[Y+1];G+=I*Q[Y+2];O+=I}if(O==0){continue}var K=1/O,i=(h*p+T)*4;$[i+0]=~~((1-z)*K*_+z*$[i+0]);$[i+1]=~~((1-z)*K*g+z*$[i+1]);
$[i+2]=~~((1-z)*K*G+z*$[i+2])}}}return e}();var d1=function(){function u(){this.Z=0;this.PV=0;this.Dw={};
this.qT=[];this.my=1e5;this.XY=1e5;this.PY=-1;this.lu=-1;this.color=0}function m(jt){this.k1=jt;this.Bp=new Array(jt);
this.ZU=new Array(jt*6);this.a8x=0;this.kM=new Array(jt*2);this.alpha=new Array(jt);this.C3=new Array(jt);
this.Pu=new Array(jt)}function C(q,J,A,n){function N(v,a,q,J){return q[J*a+v]}function e(D){var l=q.length;
while(D<l&&q[D]==0)D++;return D<l?D:-1}function Q(v,a,l){for(var D=2;D<5;D++){var w=0;for(var W=-D+1;
W<=D-1;W++){w+=N(v+W,a+D-1,q,J)==l?1:-1;w+=N(v+D-1,a+W-1,q,J)==l?1:-1;w+=N(v+W-1,a-D,q,J)==l?1:-1;w+=N(v-D,a+W,q,J)==l?1:-1}if(w>0)return 1;
else if(w<0)return 0}return 0}function p(l,R){var z=new u,v=l,a=R,w=0,W=1,U;z.color=q[R*J+l];z.sign=N(l,R,q,J)==z.color?"+":"-";
while(1){z.qT.push(v,a);if(v>z.PY)z.PY=v;if(v<z.my)z.my=v;if(a>z.lu)z.lu=a;if(a<z.XY)z.XY=a;z.PV++;v+=w;
a+=W;z.Z-=v*W;if(v==l&&a==R)break;var s=N(v+(w+W-1>>1),a+(W-w-1>>1),q,J)==z.color,S=N(v+(w-W-1>>1),a+(W+w-1>>1),q,J)==z.color;
if(S&&!s){if(n._O=="right"||n._O=="black"&&z.sign=="+"||n._O=="white"&&z.sign=="-"||n._O=="majority"&&Q(v,a,z.color)||n._O=="minority"&&!Q(v,a,z.color)){U=w;
w=-W;W=U}else{U=w;w=W;W=-U}}else if(S){U=w;w=-W;W=U}else if(!s){U=w;w=W;W=-U}}return z}var B=0,$=[];
while(!0){var B=e(B);if(B==-1)break;var R=Math.floor(B/J),z=p(B-R*J,R);for(var D=0;D<z.qT.length-2;D+=2){var v=z.qT[D],a=z.qT[D+1],X=a*J+v;
if(v==z.qT[D+2]&&a+1==z.qT[D+3]&&q[X]!=0)d1.fill(X,q,J,0)}if(z.Z>n.aix)$.push(z)}for(var D=0;D<$.length;
D++)$[D].parent=-1;var V=Date.now();for(var D=1;D<$.length;D++){var o=$[D];for(var h=D-1;h>=0;h--){var T=$[h];
if(o.my<T.my||o.PY>T.PY||o.XY<T.XY||o.lu>T.lu)continue;if(!d1.abk(T.qT,o.qT[0]+.5,o.qT[1]+.5))continue;
o.parent=h;break}}return $}function Z(q,J){function A(w,W,U,s,S){this.x=w;this.y=W;this.en=U;this.DP=s;
this.hZ=S}function n(w,jt){return(jt+w)%jt}function N(w,W,U,s){return w*s-U*W}function e(w,W,U,s){return w*U+W*s}function Q(w,W,U){if(w<=U)return w<=W&&W<U;
else return w<=W||W<U}function p(w,W,U){var s=0;s+=W*w[0]*W;s+=W*w[1]*U;s+=W*w[2];s+=U*w[3]*W;s+=U*w[4]*U;
s+=U*w[5];s+=w[6]*W;s+=w[7]*U;s+=w[8];return s}function B(w,W,U){return W+w*(U-W)}function $(w,W,U,s){var S=Math.sign(U-w),x=-Math.sign(s-W);
return S*(U-w)-x*(s-W)}function R(w,W){return Math.sqrt(w*w+W*W)}function z(w,W,U,s,S){var x=1-w;return x*x*x*W+3*(x*x*w)*U+3*(w*w*x)*s+w*w*w*S}function v(w,W,U,s,S,x,P,y){var _=N(w,W,P,y),g=N(U,s,P,y),G=N(S,x,P,y),O=_-2*g+G,E=-2*_+2*g,L=_,c=E*E-4*O*L;
if(O==0||c<0)return-1;var k=Math.sqrt(c),I=(-E+k)/(2*O),Y=(-E-k)/(2*O);if(I>=0&&I<=1)return I;else if(Y>=0&&Y<=1)return Y;
else return-1}function a(l){var D,w,W;l.De=l.qT[0];l.a9e=l.qT[1];l.ln=[];var U=l.ln;U.push(new A(0,0,0,0,0));
for(D=0;D<l.PV;D++){w=l.qT[D<<1]-l.De;W=l.qT[(D<<1)+1]-l.a9e;U.push(new A(U[D].x+w,U[D].y+W,U[D].en+w*W,U[D].DP+w*w,U[D].hZ+W*W))}}function X(l){var jt=l.PV,w=l.qT,W,U=new Array(jt),s=new Array(jt),S=new Array(4),x,P,y,_,g,G,O,E,L,c,k,D,I,Y,K,i,i4,d7,d=0;
l.IL=new Array(jt);for(D=jt-1;D>=0;D--){if(w[D<<1]!=w[d<<1]&&w[(D<<1)+1]!=w[(d<<1)+1])d=D+1;s[D]=d}for(D=jt-1;
D>=0;D--){var fH=n(D+1,jt)<<1;S[0]=S[1]=S[2]=S[3]=0;W=(3+3*(w[fH]-w[D<<1])+(w[fH+1]-w[(D<<1)+1]))/2;
S[W]++;x=0;P=0;y=0;_=0;d=s[D];Y=D;while(1){k=0;W=(3+3*Math.sign(w[d*2]-w[Y*2])+Math.sign(w[d*2+1]-w[Y*2+1]))/2;
S[W]++;if(S[0]&&S[1]&&S[2]&&S[3]){U[D]=Y;k=1;break}L=w[d*2]-w[D*2];c=w[d*2+1]-w[D*2+1];if(N(x,P,L,c)<0||N(y,_,L,c)>0){break}if(Math.abs(L)<=1&&Math.abs(c)<=1){}else{g=L+(c>=0&&(c>0||L<0)?1:-1);
G=c+(L<=0&&(L<0||c<0)?1:-1);if(N(x,P,g,G)>=0){x=g;P=G}g=L+(c<=0&&(c<0||L<0)?1:-1);G=c+(L>=0&&(L>0||c<0)?1:-1);
if(N(y,_,g,G)<=0){y=g;_=G}}Y=d;d=s[Y];if(!Q(d,D,Y)){break}}if(k==0){O=Math.sign(w[d*2]-w[Y*2]);E=Math.sign(w[d*2+1]-w[Y*2+1]);
L=w[Y*2]-w[D*2];c=w[Y*2+1]-w[D*2+1];K=N(x,P,L,c);i=N(x,P,O,E);i4=N(y,_,L,c);d7=N(y,_,O,E);I=1e7;if(i<0){I=Math.floor(K/-i)}if(d7>0){I=Math.min(I,Math.floor(-i4/d7))}U[D]=n(Y+I,jt)}}I=U[jt-1];
l.IL[jt-1]=I;for(D=jt-2;D>=0;D--){if(Q(D+1,U[D],I)){I=U[D]}l.IL[D]=I}for(D=jt-1;Q(n(D+1,jt),I,l.IL[D]);
D--){l.IL[D]=I}}function V(l){function w(l,D,W){var jt=l.PV,L=l.qT,c=l.ln,k,I,Y,K,i,s,i4,d7,E,d,fH,aC,f8,c9,g1=0;
if(W>=jt){W-=jt;g1=1}if(g1==0){k=c[W+1].x-c[D].x;I=c[W+1].y-c[D].y;K=c[W+1].DP-c[D].DP;Y=c[W+1].en-c[D].en;
i=c[W+1].hZ-c[D].hZ;s=W+1-D}else{k=c[W+1].x-c[D].x+c[jt].x;I=c[W+1].y-c[D].y+c[jt].y;K=c[W+1].DP-c[D].DP+c[jt].DP;
Y=c[W+1].en-c[D].en+c[jt].en;i=c[W+1].hZ-c[D].hZ+c[jt].hZ;s=W+1-D+jt}fH=(L[D<<1]+L[W<<1])/2-L[0];aC=(L[(D<<1)+1]+L[(W<<1)+1])/2-L[1];
c9=L[W<<1]-L[D<<1];f8=-(L[(W<<1)+1]-L[(D<<1)+1]);i4=(K-2*k*fH)/s+fH*fH;d7=(Y-k*aC-I*fH)/s+fH*aC;E=(i-2*I*aC)/s+aC*aC;
d=f8*f8*i4+2*f8*c9*d7+c9*c9*E;return Math.sqrt(d)}var D,W,U,s,jt=l.PV,S=new Array(jt+1),x=new Array(jt+1),P=new Array(jt),y=new Array(jt+1),_=new Array(jt+1),g=new Array(jt+1),G,O,E;
for(D=0;D<jt;D++){E=n(l.IL[n(D-1,jt)]-1,jt);if(E==D){E=n(D+1,jt)}if(E<D){P[D]=jt}else{P[D]=E}}W=1;for(D=0;
D<jt;D++){while(W<=P[D]){y[W]=D;W++}}D=0;for(W=0;D<jt;W++){_[W]=D;D=P[D]}_[W]=jt;U=W;D=jt;for(W=U;W>0;
W--){g[W]=D;D=y[D]}g[0]=0;S[0]=0;for(W=1;W<=U;W++){for(D=g[W];D<=_[W];D++){O=-1;for(s=_[W-1];s>=y[D];
s--){G=w(l,s,D)+S[s];if(O<0||G<O){x[D]=s;O=G}}S[D]=O}}l.afm=U;l.amF=new Array(U);for(D=jt,W=U-1;D>0;
W--){D=x[D];l.amF[W]=D}}function o(l){function w(l,D,G,P,y,cE){var jt=l.PV,hG=l.ln,fA=0,E;while(G>=jt){G-=jt;
fA+=1}while(D>=jt){D-=jt;fA-=1}while(G<0){G+=jt;fA-=1}while(D<0){D+=jt;fA+=1}var hh=hG[G+1].x-hG[D].x+fA*hG[jt].x,eE=hG[G+1].y-hG[D].y+fA*hG[jt].y,dh=hG[G+1].DP-hG[D].DP+fA*hG[jt].DP,fT=hG[G+1].en-hG[D].en+fA*hG[jt].en,dB=hG[G+1].hZ-hG[D].hZ+fA*hG[jt].hZ,O=G+1-D+fA*jt;
P[cE]=hh/O;P[cE+1]=eE/O;var iN=(dh-hh*hh/O)/O,gV=(fT-hh*eE/O)/O,fI=(dB-eE*eE/O)/O,gc=(iN+fI+Math.sqrt((iN-fI)*(iN-fI)+4*gV*gV))/2;
iN-=gc;fI-=gc;if(Math.abs(iN)>=Math.abs(fI)){E=Math.sqrt(iN*iN+gV*gV);if(E!=0){y[cE]=-gV/E;y[cE+1]=iN/E}}else{E=Math.sqrt(fI*fI+gV*gV);
if(E!=0){y[cE]=-fI/E;y[cE+1]=gV/E}}if(E==0){y[cE]=y[cE+1]=0}}var W=l.afm,U=l.amF,jt=l.PV,s=l.qT,S=l.De,x=l.a9e,P=new Array(W*2),y=new Array(W*2),_=new Array(W),g=new Array(3),D,G,O,E,I,Y,K,i,i4,d7,d;
l.Dw=new m(W);for(D=0;D<W;D++){G=U[n(D+1,W)];G=n(G-U[D],jt)+U[D];P[D<<1]=0;P[(D<<1)+1]=0;y[D<<1]=0;y[(D<<1)+1]=0;
w(l,U[D],G,P,y,D<<1)}for(D=0;D<W;D++){_[D]=[0,0,0,0,0,0,0,0,0];var L=y[D<<1]*y[D<<1]+y[(D<<1)+1]*y[(D<<1)+1],c=1/L;
if(L!=0){g[0]=y[(D<<1)+1];g[1]=-y[D<<1];g[2]=-g[1]*P[(D<<1)+1]-g[0]*P[D<<1];for(E=0;E<3;E++){_[D][E*3+0]=g[E]*g[0]*c;
_[D][E*3+1]=g[E]*g[1]*c;_[D][E*3+2]=g[E]*g[2]*c}}}var k=[0,0,0,0,0,0,0,0,0];for(D=0;D<W;D++){k[0]=k[1]=k[2]=k[3]=k[4]=k[5]=k[6]=k[7]=k[8]=k[9]=0;
var fH=s[U[D]<<1]-S,aC=s[(U[D]<<1)+1]-x,f8=0,c9=0;G=n(D-1,W);for(E=0;E<9;E+=3){k[E+0]=_[G][E+0]+_[D][E+0];
k[E+1]=_[G][E+1]+_[D][E+1];k[E+2]=_[G][E+2]+_[D][E+2]}while(1){var g1=k[0]*k[4]-k[1]*k[3];if(g1!=0){f8=(-k[2]*k[4]+k[5]*k[0])/g1;
c9=(k[2]*k[3]-k[5]*k[0])/g1;break}if(k[0]>k[4]){g[0]=-k[1];g[1]=k[0]}else if(k[4]){g[0]=-k[4];g[1]=k[3]}else{g[0]=1;
g[1]=0}var L=g[0]*g[0]+g[1]*g[1],c=1/L;g[2]=-g[1]*aC-g[0]*fH;for(E=0;E<3;E++){k[E*3+0]+=g[E]*g[0]*c;
k[E*3+1]+=g[E]*g[1]*c;k[E*3+2]+=g[E]*g[2]*c}}I=Math.abs(f8-fH);Y=Math.abs(c9-aC);if(I<=.5&&Y<=.5){l.Dw.kM[D<<1]=f8+S;
l.Dw.kM[(D<<1)+1]=c9+x;continue}K=p(k,fH,aC);i4=fH;d7=aC;if(k[0]!=0){for(d=0;d<2;d++){c9=aC-.5+d;f8=-(k[1]*c9+k[2])/k[0];
I=Math.abs(f8-fH);i=p(k,f8,c9);if(I<=.5&&i<K){K=i;i4=f8;d7=c9}}}if(k[4]!=0){for(d=0;d<2;d++){f8=fH-.5+d;
c9=-(k[3]*f8+k[5])/k[4];Y=Math.abs(c9-aC);i=p(k,f8,c9);if(Y<=.5&&i<K){K=i;i4=f8;d7=c9}}}for(E=0;E<2;
E++){for(O=0;O<2;O++){f8=fH-.5+E;c9=aC-.5+O;i=p(k,f8,c9);if(i<K){K=i;i4=f8;d7=c9}}}l.Dw.kM[D<<1]=i4+S;
l.Dw.kM[(D<<1)+1]=d7+x}}function h(l){var w=l.Dw.k1,W=l.Dw,D,U,s,S,x,P,y,_,g;for(D=0;D<w;D++){U=n(D+1,w);
s=n(D+2,w);var G=W.kM[D<<1],O=W.kM[(D<<1)+1],E=W.kM[s<<1],L=W.kM[(s<<1)+1],c=W.kM[U<<1],k=W.kM[(U<<1)+1],I=B(.5,E,c),Y=B(.5,L,k);
x=$(G,O,E,L);if(x!=0){S=N(c-G,k-O,E-G,L-O)/x;S=Math.abs(S);P=S>1?1-1/S:0;P=P*(1/.75)}else{P=4/3}W.C3[U]=P;
var K=3*U<<1;if(P>=J.a7X){W.Bp[U]=0;W.ZU[K+0]=W.ZU[K+1]=0;W.ZU[K+2]=c;W.ZU[K+3]=k;W.ZU[K+4]=I;W.ZU[K+5]=Y}else{if(P<.55){P=.55}else if(P>1){P=1}var i=.5+.5*P;
W.Bp[U]=1;W.ZU[K]=B(i,G,c);W.ZU[K+1]=B(i,O,k);W.ZU[K+2]=B(i,E,c);W.ZU[K+3]=B(i,L,k);W.ZU[K+4]=I;W.ZU[K+5]=Y}W.alpha[U]=P;
W.Pu[U]=.5}W.ad5=1}function T(l){function w(){this.RF=0;this.Y5=0;this.pv=0;this.sw=0;this.J$=0;this.WI=0;
this.jL=0;this.alpha=0}function W(l,D,G,gh,gD,i4,d7){var s=l.Dw.k1,j1=l.Dw.ZU,dg=l.Dw.kM;if(D==G)return 1;
var ao=D,c=n(D+1,s),eC=n(ao+1,s),fT=dg[D<<1],dB=dg[(D<<1)+1],bD=dg[c<<1],fK=dg[(c<<1)+1],a1=i4[eC];if(a1==0)return 1;
var fR=R(fT-bD,dB-fK);for(ao=eC;ao!=G;ao=eC){var eC=n(ao+1,s),bj=n(ao+2,s),b7=dg[eC<<1],ha=dg[(eC<<1)+1],eJ=dg[bj<<1],cq=dg[(bj<<1)+1];
if(i4[eC]!=a1)return 1;if(Math.sign(N(bD-fT,fK-dB,eJ-b7,cq-ha))!=a1)return 1;if(e(bD-fT,fK-dB,eJ-b7,cq-ha)<fR*R(b7-eJ,ha-cq)*-.999847695156)return 1}var bF=n(D,s)*3+2<<1,g4=n(D+1,s)<<1,eA=n(G,s)<<1,aJ=n(G,s)*3+2<<1,cE=j1[bF],hG=j1[bF+1],fU=dg[g4],iE=dg[g4+1],hQ=dg[eA],bT=dg[eA+1],iU=j1[aJ],ba=j1[aJ+1],d=dg[0],fH=dg[1];
bF=G*3+2<<1;var eI=j1[bF],e_=j1[bF+1],k=d7[G]-d7[D];k-=N(eI-d,e_-fH,eI-d,e_-fH)/2;if(D>=G){k+=d7[s]}var bs=fU-cE,fr=iE-hG,db=hQ-cE,fx=bT-hG,fb=iU-cE,dA=ba-hG,ge=N(bs,fr,db,fx),bh=N(bs,fr,fb,dA),cY=N(db,fx,fb,dA),d6=ge+cY-bh;
if(bh==ge)return 1;var i=cY/(cY-d6),K=bh/(bh-ge),hU=bh*i/2;if(hU==0)return 1;var f2=k/hU,I=2-Math.sqrt(4-f2/.3);
gh.Y5=B(i*I,cE,fU);gh.pv=B(i*I,hG,iE);gh.sw=B(K*I,iU,hQ);gh.J$=B(K*I,ba,bT);gh.alpha=I;gh.WI=i;gh.jL=K;
fU=gh.Y5;iE=gh.pv;hQ=gh.sw;bT=gh.J$;gh.RF=0;for(ao=n(D+1,s);ao!=G;ao=eC){eC=n(ao+1,s);var cQ=dg[ao<<1],i8=dg[(ao<<1)+1],b7=dg[eC<<1],ha=dg[(eC<<1)+1];
i=v(fU-cE,iE-hG,hQ-fU,bT-iE,iU-hQ,ba-bT,b7-cQ,ha-i8);if(i<-.5)return 1;var hw=z(i,cE,fU,hQ,iU),iA=z(i,hG,iE,bT,ba),fR=R(b7-cQ,ha-i8);
if(fR==0)return 1;var ce=N(b7-cQ,ha-i8,hw-cQ,iA-i8)/fR;if(Math.abs(ce)>gD)return 1;if(e(b7-cQ,ha-i8,hw-cQ,iA-i8)<0||e(cQ-b7,i8-ha,hw-b7,iA-ha)<0){return 1}gh.RF+=ce*ce}for(ao=D;
ao!=G;ao=eC){eC=n(ao+1,s);var bF=ao*3+2<<1,g4=eC*3+2<<1,al=j1[bF],aS=j1[bF+1],gM=j1[g4],gS=j1[g4+1];
i=v(fU-cE,iE-hG,hQ-fU,bT-iE,iU-hQ,ba-bT,gM-al,gS-aS);if(i<-.5)return 1;var hw=z(i,cE,fU,hQ,iU),iA=z(i,hG,iE,bT,ba),fR=R(gM-al,gS-aS);
if(fR==0)return 1;var ce=N(gM-al,gS-aS,hw-al,iA-aS)/fR,h3=N(gM-al,gS-aS,dg[eC<<1]-al,dg[(eC<<1)+1]-aS)/fR;
h3*=.75*l.Dw.alpha[eC];if(h3<0){ce=-ce;h3=-h3}if(ce<h3-gD)return 1;if(ce<h3){gh.RF+=(ce-h3)*(ce-h3)}}return 0}var U=l.Dw,s=U.k1,S=U.kM,x=new Array(s+1),P=new Array(s+1),y=new Array(s+1),_=new Array(s+1),g,D,G,O,E=new w,L,c,k,I,Y,K,i,i4=new Array(s),d7=new Array(s+1);
for(D=0;D<s;D++){if(U.Bp[D]=="CURVE"){var d=S[n(D-1,s)<<1],fH=S[(n(D-1,s)<<1)+1],aC=S[D<<1],f8=S[(D<<1)+1],c9=S[n(D+1,s)<<1],g1=S[(n(D+1,s)<<1)+1];
i4[D]=Math.sign(N(aC-d,f8-fH,c9-aC,g1-f8))}else{i4[D]=0}}k=0;d7[0]=0;var cE=U.kM[0],hG=U.kM[1];for(D=0;
D<s;D++){c=n(D+1,s);if(U.Bp[c]=="CURVE"){I=U.alpha[c];var fA=D*3+2<<1,hh=c*3+2<<1,eE=U.ZU[fA],dh=U.ZU[fA+1],fT=S[c<<1],dB=S[(c<<1)+1],iN=U.ZU[hh],gV=U.ZU[hh+1];
k+=.3*I*(4-I)*N(fT-eE,dB-dh,iN-eE,gV-dh)/2;k+=N(eE-cE,dh-hG,iN-cE,gV-hG)/2}d7[D+1]=k}x[0]=-1;P[0]=0;
y[0]=0;for(G=1;G<=s;G++){x[G]=G-1;P[G]=P[G-1];y[G]=y[G-1]+1;for(D=G-2;D>=0;D--){O=W(l,D,n(G,s),E,J.a0w,i4,d7);
if(O){break}if(y[G]>y[D]+1||y[G]==y[D]+1&&P[G]>P[D]+E.RF){x[G]=D;P[G]=P[D]+E.RF;y[G]=y[D]+1;_[G]=E;E=new w}}}g=y[s];
Y=new m(g);K=new Array(g);i=new Array(g);G=s;for(D=g-1;D>=0;D--){var fI=n(G,s),gc=D*3+0<<1,aF=fI*3+0<<1;
if(x[G]==G-1){Y.Bp[D]=U.Bp[fI];Y.ZU[gc]=U.ZU[aF];Y.ZU[gc+1]=U.ZU[aF+1];Y.ZU[gc+2]=U.ZU[aF+2];Y.ZU[gc+3]=U.ZU[aF+3];
Y.ZU[gc+4]=U.ZU[aF+4];Y.ZU[gc+5]=U.ZU[aF+5];Y.kM[D<<1]=U.kM[fI<<1];Y.kM[(D<<1)+1]=U.kM[(fI<<1)+1];Y.alpha[D]=U.alpha[fI];
Y.C3[D]=U.C3[fI];Y.Pu[D]=U.Pu[fI];K[D]=i[D]=1}else{Y.Bp[D]="CURVE";Y.ZU[gc]=_[G].Y5;Y.ZU[gc+1]=_[G].pv;
Y.ZU[gc+2]=_[G].sw;Y.ZU[gc+3]=_[G].J$;Y.ZU[gc+4]=U.ZU[aF+4];Y.ZU[gc+5]=U.ZU[aF+5];Y.kM[D<<1]=B(_[G].jL,U.ZU[aF+4],S[fI<<1]);
Y.kM[(D<<1)+1]=B(_[G].jL,U.ZU[aF+5],S[(fI<<1)+1]);Y.alpha[D]=_[G].alpha;Y.C3[D]=_[G].alpha;K[D]=_[G].jL;
i[D]=_[G].WI}G=x[G]}for(D=0;D<g;D++){c=n(D+1,g);Y.Pu[D]=K[D]/(K[D]+i[c])}Y.ad5=1;l.Dw=Y}for(var D=0;
D<q.length;D++){var l=q[D];a(l);X(l);V(l);o(l);h(l);if(J.ae$)T(l)}}return{a8W:C,a9u:Z}}();d1.hw=function(u,m,C,Z){var q={_O:"minority",aix:Z,ae$:!0,a7X:1,a0w:.2},J=d1.a8W(u,m,C,q);
d1.a9u(J,q);return J};d1.yG=function(u){var m=[];for(var D=0;D<u.length;D++){var C=u[D],Z=C.Dw,q=["M"],J=[Z.ZU[(Z.k1-1)*6+4],Z.ZU[(Z.k1-1)*6+5]];
for(var A=0;A<Z.k1;A++){var n=A*6;if(Z.Bp[A]==1){q.push("C");for(var N=0;N<6;N++)J.push(Z.ZU[n+N])}else if(Z.Bp[A]==0){q.push("L");
for(var N=2;N<4;N++)J.push(Z.ZU[n+N])}}q.push("Z");m.push({parent:C.parent,color:C.color,path:{s:J,X:q}})}return m};
d1.ata=function(u,m,C,Z,q){function J(R){function z(D){var $="C "+(R.ZU[D*3+0<<1]*m).toFixed(1)+" "+(R.ZU[(D*3+0<<1)+1]*m).toFixed(1)+",";
$+=(R.ZU[D*3+1<<1]*m).toFixed(1)+" "+(R.ZU[(D*3+1<<1)+1]*m).toFixed(1)+",";$+=(R.ZU[D*3+2<<1]*m).toFixed(1)+" "+(R.ZU[(D*3+2<<1)+1]*m).toFixed(1)+" ";
return $}function v(D){var X="L "+(R.ZU[D*3+1<<1]*m).toFixed(1)+" "+(R.ZU[(D*3+1<<1)+1]*m).toFixed(1)+" ";
X+=(R.ZU[D*3+2<<1]*m).toFixed(1)+" "+(R.ZU[(D*3+2<<1)+1]*m).toFixed(1)+" ";return X}var jt=R.k1,D,a="M"+(R.ZU[(jt-1)*3+2<<1]*m).toFixed(1)+" "+(R.ZU[((jt-1)*3+2<<1)+1]*m).toFixed(1)+" ";
for(D=0;D<jt;D++){if(R.Bp[D]==1){a+=z(D)}else if(R.Bp[D]==0){a+=v(D)}}return a}var C=C*m,Z=Z*m,A=u.length,n=[];
for(var D=0;D<256;D++)n.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var N="<svg id=\"svg\" version=\"1.1\" width=\""+C+"\" height=\""+Z+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var D=0;D<A;D++){var e=q[u[D].color-1].asj.Fh;if((e>>>24&255)==0)continue;N+="<path d=\"";var Q=u[D].Dw;
N+=J(Q);var p=e>>0&255,B=e>>8&255,$=e>>16&255,e="rgb("+p+","+B+","+$+")";N+="\" fill=\""+e+"\" fill-rule=\"evenodd\"/>"}N+="</svg>";
return N};d1.abk=function(u,m,C){var jt=u.length>>1,Z,q=u[2*jt-3]-C,J=u[2*jt-2]-m,A=u[2*jt-1]-C,n=A>q,N=0;
for(var D=0;D<jt;D++){Z=J;q=A;J=u[2*D]-m;A=u[2*D+1]-C;if(q==A)continue;n=A>q}for(var D=0;D<jt;D++){Z=J;
q=A;J=u[2*D]-m;A=u[2*D+1]-C;if(q<0&&A<0)continue;if(q>0&&A>0)continue;if(Z<0&&J<0)continue;if(q==A&&Math.min(Z,J)<=0)return!0;
if(q==A)continue;var e=Z+(J-Z)*-q/(A-q);if(e==0)return!0;if(e>0)N++;if(q==0&&n&&A>q)N--;if(q==0&&!n&&A<q)N--;
n=A>q}return(N&1)==1};d1.fill=function(u,m,C,Z){var q=m[u],J=[u],A=0;while(A<J.length){var n=J[A];A++;
m[n]=Z;if(m[n-C]==q){J.push(n-C);m[n-C]=254}if(m[n-1]==q){J.push(n-1);m[n-1]=254}if(m[n+1]==q){J.push(n+1);
m[n+1]=254}if(m[n+C]==q){J.push(n+C);m[n+C]=254}}};function jG(){}jG.Nh=function(u){var m=new Uint8Array(u),C=0,Z={Ub:[],MS:[],list:[]},q=M.aP(m,C);
C+=2;if(q<=2){return jG.akc(m)}var J=M.aP(m,C);C+=2;var A=M.Qi(m,C,8);C+=8;var n=M.h(m,C);C+=4;if(n>0)Z.Ub=jG.i1(m,C,n,J,q);
C+=n;var N=M.Qi(m,C,8);C+=8;var e=M.h(m,C);C+=4;if(e>0)Z.MS=eN.Mf(m,C,e);C+=e;var Q=M.Qi(m,C,8);C+=8;
var p=M.h(m,C);C+=4;if(p>0){var B={};f6.ee(m,B,C+4);Z.list=B.Brsh.v}C+=p;var $=Z.list;for(var D=0;D<$.length;
D++){c4.E4.check($[D].v)}return Z};jG.hK=function(u,m){u.v.Nm.v=m};jG.akc=function(u){var m={Ub:[],MS:[],list:[]},C=0,Z=M.aP(u,C);
C+=2;var q=M.aP(u,C);C+=2;for(var D=0;D<q;D++){var J=M.aP(u,C);C+=2;var A=M.h(u,C);C+=4;var n=C;if(J==2){var N={};
m.Ub.push(N);var e=M.h(u,n);n+=4;var Q=M.aP(u,n);n+=2;if(Z==2){var p=M.P3(u,n);n+=4+p.length*2+2}N.id=gj.b2()+"-d71c-11e5-b1ae-a548a96e5f9f";
n++;n+=8;N.yt=M.ie(u,n);n+=16;var B=M.aP(u,n);n+=2;var $=u[n];n++;var R=hl.YS(!1,B,u,N.yt.e,N.yt.n,n,$);
jG.hi(N,R);var z=c4.Im(N.id),v=z.Brsh.v;v.Dmtr.v.val=N.yt.e;v.Spcn.v.val=Q;m.list.push({t:"Objc",v:z})}C+=A}return m};
jG.d4=function(u){var m=new cV,C=0,Z=0;M.iV(m,C,6);C+=2;M.iV(m,C,2);C+=2;M.s7(m,C,"8BIMsamp");C+=8;C+=4;
Z=C;C=jG.ou(m,C,u.Ub);M.N6(m,Z-4,C-Z);M.s7(m,C,"8BIMpatt");C+=8;C+=4;Z=C;C=eN.rQ(m,C,u.MS);M.N6(m,Z-4,C-Z);
var q={classID:"null",Brsh:{t:"VlLs",v:u.list}};M.s7(m,C,"8BIMdesc");C+=8;C+=4;Z=C;M.N6(m,C,16);C+=4;
C+=f6.$$(m,q,C);M.N6(m,Z-4,C-Z);return m.data.slice(0,C).buffer};jG.i1=function(u,m,C,Z,q){var J=M.h,A=M.ie,n=m+C,N=[];
while(m<n){var e={};N.push(e);var Q=J(u,m);m+=4;var p=m,B=M.Dh(u,m);m+=B.length;e.id=B.Ud;if(Z==1){m+=9;
e.yt=A(u,m);m+=16}else{m+=7;var $=J(u,m);m+=4;e.yt=A(u,m);m+=16;var R=J(u,m);m+=4;m+=R*4;var z=J(u,m);
m+=4;var v=J(u,m);m+=4;var a=A(u,m);m+=16}var X=M.aP(u,m);m+=2;var V=u[m];m+=1;var o=hl.YS(!1,X,u,e.yt.e,e.yt.n,m,V);
jG.hi(e,o);if(Q%4!=0)Q+=4-Q%4;m=p+Q}return N};jG.hi=function(u,m){var C=u.yt.clone(),Z=j.U(C.Z()*4);
j.wC(m,Z,3);C.x=C.y=0;u.k9=[Z,C]};jG.ou=function(u,m,C){var Z=M.N6,q=M.Kk;for(var D=0;D<C.length;D++){var J=C[D],A=m+4,N=56,Q=1;
m+=4;M.h6(u,m,J.id);m+=J.id.length+2;u.Ic(m,1);u.data[m]=1;m+=3;Z(u,m,3);m+=4;var n=m;m+=4;q(u,m,J.yt);
m+=16;Z(u,m,N);m+=4;m+=N*4;Z(u,m-4,1);var e=m;m+=4;Z(u,m,8);m+=4;q(u,m,J.yt);m+=16;M.iV(u,m,8);m+=2;
u.Ic(m,1);u.data[m]=Q;m++;var p=j.U(J.yt.Z());j._H(J.k9[0],p,3);u.Ic(m,J.yt.Z()*2);m=hl.bo(!1,p,u.data,J.yt.e,J.yt.n,m,Q);
u.Ic(m,8);m+=8;var B=m-A;Z(u,A-4,B);Z(u,n,B-49);Z(u,e,B-305);if(B%4!=0)m+=4-B%4}return m};function ee(){}ee.Nh=function(u){var m=new Uint8Array(u),C=[],Z=0,q=M.aP(m,Z);
Z+=2;if(q!=4){throw"Unknown version of curves: "+q}var J=M.aP(m,Z);Z+=2;for(var D=0;D<J;D++){var A=ee.kG(m,Z);
Z+=2+2*A.length;C.push(A)}if(Z==m.length)return C;var n=M.Qi(m,Z,4);Z+=4;var N=M.aP(m,Z);Z+=2;var e=M.aP(m,Z);
Z+=2;if(e!=0)throw"extra curves for channels";return C};ee.xX=function(u,m,C){var Z=m,q=[],J=u[m];m+=3;
var A=M.h(u,m);m+=4;for(var D=0;D<4;D++){var n=A>>>D&1;if(n){if(J==0){var N=ee.kG(u,m);m+=2+2*N.length}else{var N=ee.amb(u,m);
m+=256}q.push(N)}else q.push(J==0?[0,0,255,255]:ee.ahw())}var e=a7.Qv("curv");for(var D=0;D<4;D++){if(J==0){var Q=q[D],p=[];
for(var B=0;B<Q.length;B+=2)p.push(j.AE.Ft(Q[B],Q[B+1],!0));ee.Kq(e,D,p)}else ee.Kq(e,D,q[D])}return e};
ee.ahw=function(){var u=[];for(var D=0;D<256;D++)u.push(D);return u};ee.Kq=function(u,m,C){var Z=ii.nj("CrvA",m);
if(C.length<256)Z.Crv={t:"VlLs",v:C};else{Z.Mpng={t:"VlLs",v:[]};for(var D=0;D<256;D++)Z.Mpng.v[D]={t:"long",v:C[D]}}Z={t:"Objc",v:Z};
var q=u.Adjs.v,J=ii.Lx(q,m);if(J==-1)q.push(Z);else q[J]=Z};ee.kN=function(u,m){var C=u.Adjs.v,Z=ii.Lx(C,m);
if(Z==-1){if(C.length==0||C[0].v.Crv)return[j.AE.Ft(0,0,!0),j.AE.Ft(255,255,!0)];if(C[0].v.autoMachineLearning||C[0].v.AuCo)return[j.AE.Ft(0,0,!0),j.AE.Ft(128,160,!0),j.AE.Ft(255,255,!0)];
var q=[];for(var D=0;D<256;D++)q.push(D);return q}var J=C[Z].v;if(J.Crv)return J.Crv.v;if(J.Mpng){var q=[];
for(var D=0;D<256;D++)q.push(J.Mpng.v[D].v);return q}return[j.AE.Ft(0,0,!0),j.AE.Ft(255,255,!0)]};ee.kG=function(u,m){var C=[],Z=M.aP(u,m);
m+=2;for(var q=0;q<Z;q++){var J=M.aP(u,m);m+=2;var A=M.aP(u,m);m+=2;C.push(A,J)}return C};ee.a70=function(u,m,C){var Z=C.length/2;
M.iV(u,m,Z);m+=2;for(var q=0;q<Z;q++){M.iV(u,m,C[q*2+1]);m+=2;M.iV(u,m,C[q*2+0]);m+=2}};ee.amb=function(u,m){var C=[];
for(var D=0;D<256;D++)C.push(u[m+D]);return C};ee.afD=function(u,m,C){u.Ic(m,256);for(var D=0;D<256;
D++)u.data[m+D]=C[D]};ee.Yb=function(u,m,C){var Z=[];for(var D=0;D<4;D++){var q=ee.kN(C,D);if(q.length==256)Z.push(q);
else{var J=[];for(var A=0;A<q.length;A++)J.push(q[A].v.Hrzn.v,q[A].v.Vrtc.v);Z.push(J)}}var n=m,N=Z[0].length==256?1:0;
u.Ic(m,3);u.data[m]=N;u.data[m+1]=0;u.data[m+2]=1;m+=3;M.N6(u,m,15);m+=4;for(var D=0;D<4;D++){var e=Z[D];
if(N==0){ee.a70(u,m,e);m+=2+2*e.length}else{ee.afD(u,m,e);m+=256}}return m-n};function je(){}je.xX=function(u,m,C){var Z={},q=M.aP(u,m);
m+=2;Z.B3=u[m]==1;m++;m++;Z.Ac=[M.xg(u,m),M.xg(u,m+2),M.xg(u,m+4)];m+=6;Z.XR=[M.xg(u,m),M.xg(u,m+2),M.xg(u,m+4)];
m+=6;Z.i3=[];for(var D=0;D<6;D++){var J={};J.w8=[M.xg(u,m),M.xg(u,m+2),M.xg(u,m+4),M.xg(u,m+6)];m+=8;
J.tZ=[M.xg(u,m),M.xg(u,m+2),M.xg(u,m+4)];m+=6;Z.i3.push(J)}var A=a7.Qv("hue2"),n=Z;if(A.Clrz==null)A.Clrz={t:"bool",v:!1};
A.Clrz.v=n.B3;for(var D=0;D<7;D++){var N=D==0?n.B3?n.Ac:n.XR:n.i3[D-1];je.Kq(A,D,N)}return A};je.aim=function(u){return{classID:"Hst2",H:{t:"long",v:u[0]},Strt:{t:"long",v:u[1]},Lght:{t:"long",v:u[2]}}};
je.Lx=function(u,m){for(var D=0;D<u.length;D++){var C=u[D].v.LclR;if(m==0&&C==null||C!=null&&C.v==m)return D}return-1};
je.Kq=function(u,m,C){var Z=m==0?C:C.tZ,q=je.aim(Z);if(m!=0){var J=C.w8;q.LclR={t:"long",v:m},q.BgnR={t:"long",v:J[0]};
q.BgnS={t:"long",v:J[1]};q.EndS={t:"long",v:J[2]};q.EndR={t:"long",v:J[3]}}q={t:"Objc",v:q};var A=u.Adjs.v,n=je.Lx(A,m);
if(n==-1)A.push(q);else A[n]=q};je.kN=function(u,m){var C=u.Adjs.v,Z=je.Lx(C,m);if(Z==-1){if(m==0)return[0,0,0];
else return[{w8:[315,345,15,45],tZ:[0,0,0]},{w8:[15,45,75,105],tZ:[0,0,0]},{w8:[75,105,135,165],tZ:[0,0,0]},{w8:[135,165,195,225],tZ:[0,0,0]},{w8:[195,225,255,285],tZ:[0,0,0]},{w8:[255,285,315,345],tZ:[0,0,0]}][m-1]}var q=C[Z].v,J=[q.H.v,q.Strt.v,q.Lght.v];
if(m==0)return J;return{tZ:J,w8:[q.BgnR.v,q.BgnS.v,q.EndS.v,q.EndR.v]}};je.Yb=function(u,m,C){var Z={B3:C.Clrz?C.Clrz.v:!1,i3:[]};
Z.Ac=Z.XR=je.kN(C,0);for(var D=1;D<7;D++)Z.i3.push(je.kN(C,D));var q=2+2+12+6*14,J=u.data;u.Ic(m,q);
M.Z8(J,m,2);m+=2;J[m]=Z.B3?1:0;m++;m++;M.FO(J,m+0,Z.Ac[0]);M.FO(J,m+2,Z.Ac[1]);M.FO(J,m+4,Z.Ac[2]);m+=6;
M.FO(J,m+0,Z.XR[0]);M.FO(J,m+2,Z.XR[1]);M.FO(J,m+4,Z.XR[2]);m+=6;for(var D=0;D<6;D++){var A=Z.i3[D].w8,n=Z.i3[D].tZ;
M.FO(J,m+0,A[0]);M.FO(J,m+2,A[1]);M.FO(J,m+4,A[2]);M.FO(J,m+6,A[3]);m+=8;M.FO(J,m+0,n[0]);M.FO(J,m+2,n[1]);
M.FO(J,m+4,n[2]);m+=6}return q};function ii(){}ii.Nh=function(u){var m=new Uint8Array(u),C=2,Z=[];for(var D=0;
D<29;D++){var q=[];Z.push(q);for(var J=0;J<5;J++)q.push(M.aP(m,C+D*10+J*2))}C+=29*10;if(C<m.length){var A=M.Qi(m,C,4);
C+=4;var n=M.aP(m,C);C+=2;var N=M.aP(m,C);C+=2;var e=N-29;for(var D=0;D<e;D++){var q=[];Z.push(q);for(var J=0;
J<5;J++)q.push(M.aP(m,C+D*10+J*2))}}var Q=a7.Qv("levl");for(var D=0;D<4;D++)ii.Kq(Q,D,Z[D]);return Q};
ii.nj=function(u,D){var m=["Cmps","Rd","Grn","Bl"],C={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:m[D]}}]};
return{classID:u,Chnl:C}};ii.Lx=function(u,m){var C={Cmps:0,Rd:1,Grn:2,Bl:3};for(var D=0;D<u.length;
D++){var Z=u[D].v,q=C[Z.Chnl.v[0].v.enum];if(q==m)return D}return-1};ii.Kq=function(u,m,C){var Z=ii.nj("LvlA",m);
Z.Inpt={t:"VlLs",v:[{t:"long",v:C[0]},{t:"long",v:C[1]}]};Z.Otpt={t:"VlLs",v:[{t:"long",v:C[2]},{t:"long",v:C[3]}]};
Z.Gmm={t:"doub",v:C[4]/100};Z={t:"Objc",v:Z};var q=u.Adjs.v,J=ii.Lx(q,m);if(J==-1)q.push(Z);else q[J]=Z};
ii.kN=function(u,m){var C=[0,255,0,255,100],Z=u.Adjs.v,q=ii.Lx(Z,m);if(q==-1)return C;var J=Z[q].v;if(J.Inpt){C[0]=J.Inpt.v[0].v;
C[1]=J.Inpt.v[1].v}if(J.Otpt){C[2]=J.Otpt.v[0].v;C[3]=J.Otpt.v[1].v}if(J.Gmm){C[4]=Math.round(J.Gmm.v*100)}return C};
ii.d4=function(u,m){var C=[],Z=0;for(var D=0;D<4;D++)C.push(ii.kN(m,D));while(C.length<29)C.push([0,255,0,255,100]);
u.Ic(0,2+10*29);M.Z8(u.data,Z,2);Z+=2;for(var D=0;D<29;D++){var q=C[D];for(var J=0;J<5;J++)M.Z8(u.data,Z+D*10+J*2,q[J])}Z+=29*10;
if(C.length==29)return Z;u.Ic(Z,8+10*(C.length-29));M.xI(u.data,Z,"Lvls");Z+=4;M.Z8(u.data,Z,3);Z+=2;
M.Z8(u.data,Z,C.length);Z+=2;var A=C.length-29;for(var D=0;D<A;D++){var q=C[29+D];for(var J=0;J<5;J++)M.Z8(u.data,Z+D*10+J*2,q[J])}Z+=10*A;
return Z};function c2(){}c2.Nh=function(u){var m=new Uint8Array(u),C=2,Z={aU:[],bp:[]},q=M.Qi(m,C,4);
C+=4;var J=M.aP(m,C);C+=2;var A=M.h(m,C);C+=4;Z.aU=eN.Mf(m,C,A);C+=A;var n=M.h(m,C);C+=4;for(var D=0;
D<n;D++){var N=M.h(m,C);C+=4;var e=C,Q={J4:{},lr:{}};Z.bp.push(Q);C+=4;C+=f6.ee(m,Q.J4,C);C+=4;C+=f6.ee(m,Q.lr,C);
C=e+N;var p=Q.lr.blendOptions,B=Q.lr.Lefx;if(p&&Object.keys(p.v).length>1){}if(B){if(B.v.masterFXSwitch==null)B.v.masterFXSwitch={t:"bool",v:!0};
fg.HJ(B.v)}}return Z};c2.hK=function(u,m){u.J4.Nm.v=m};c2.d4=function(u){var m=new cV,C=0;M.iV(m,C,2);
C+=2;M.s7(m,C,"8BSL");C+=4;M.iV(m,C,3);C+=2;var Z=C;C+=4;C=eN.rQ(m,C,u.aU);M.N6(m,Z,C-Z-4);var q=u.bp.length;
M.N6(m,C,q);C+=4;for(var D=0;D<q;D++){C+=4;var J=C,A=u.bp[D];M.N6(m,C,16);C+=4;C+=f6.$$(m,A.J4,C);var n=A.lr.Lefx;
if(n){A.lr.Lefx=JSON.parse(JSON.stringify(n));fg.UJ(A.lr.Lefx.v)}M.N6(m,C,16);C+=4;C+=f6.$$(m,A.lr,C);
if(n)A.lr.Lefx=n;M.N6(m,J-4,C-J)}return m.data.slice(0,C).buffer};function iw(){}iw.xX=function(u,m,C){var Z=M.aP(u,m);
m+=2;var q={};q.Am=M.aP(u,m)==1;m+=2;q.Lq=[];for(var D=0;D<10;D++){var J=[];q.Lq.push(J);for(var A=0;
A<4;A++)J.push(M.xg(u,m+A*2));m+=8}var n=a7.Qv("selc");n.Mthd.v.CrcM=q.Am?"Absl":"Rltv";for(var D=1;
D<10;D++)iw.Kq(n,D-1,q.Lq[D]);return n};iw.Ef="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
iw.nj=function(u,D){var m=["Cmps","Rd","Grn","Bl"],C={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:m[D]}}]};
return{classID:u,Chnl:C}};iw.Lx=function(u,m){var C=iw.Ef;for(var D=0;D<u.length;D++){var Z=u[D].v,q=C.indexOf(Z.Clrs.v.Clrs);
if(q==m)return D}return-1};iw.Kq=function(u,m,C){var Z=["Cyn","Mgnt","Ylw","Blck"],q={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:iw.Ef[m]}}};
for(var J=0;J<4;J++)q[Z[J]]={t:"UntF",v:{type:"#Prc",val:C[J]}};q={t:"Objc",v:q};var A=u.ClrC.v,n=iw.Lx(A,m);
if(n==-1)A.push(q);else A[n]=q};iw.kN=function(u,m){var C=[0,0,0,0],Z=u.ClrC.v,q=iw.Lx(Z,m);if(q==-1)return C;
var J=["Cyn","Mgnt","Ylw","Blck"];for(var D=0;D<4;D++)if(Z[q].v[J[D]])C[D]=Z[q].v[J[D]].v.val;return C};
iw.Yb=function(u,m,C){var Z={Am:C.Mthd.v.CrcM=="Absl",Lq:[[0,0,0,0]]};for(var D=0;D<9;D++)Z.Lq.push(iw.kN(C,D));
u.Ic(m,84);M.Z8(u.data,m,1);m+=2;M.Z8(u.data,m,Z.Am?1:0);m+=2;for(var D=0;D<10;D++){var q=Z.Lq[D];for(var J=0;
J<4;J++)M.FO(u.data,m+J*2,q[J]);m+=8}return 84};function j9(){}j9.Qv=function(){return{hF:new bl(0,0,50,50),J4:"",jA:"play",B:j.$.i5.tF([.1,.1,.9,.5,.1,.9],0)}};
j9.Nh=function(u){u=new Uint8Array(u);var m=0,C=[],Z=Date.now(),q=M.Qi(u,0,4);m+=4;var J=M.h(u,m);m+=4;
var A=M.h(u,m);m+=4;for(var D=0;D<A;D++){var n=M.P3(u,m);m+=n.length*2+4+2;if((n.length&1)==0)m+=2;m=j9.Wn(u,m,n,C)}return C};
j9.Wn=function(u,m,C,Z){var q=M.h(u,m);m+=4;var J=M.h(u,m);m+=4;var A=m,n=M.Dh(u,A).Ud;A+=n.length+1;
var N=M.ie(u,A);A+=16;var e=j9.m7(u,A,J-(A-m)),Q=j.$.lD(e),p=j.u.Of(Q),B=1/p.e,$=1/p.n;j.$.l0(e,new ix(B,0,0,$,-p.x*B,-p.y*$));
Z.push({jA:C,J4:n,B:e,hF:N});m+=J;return m};j9.hK=function(u,m){u.jA=m};j9.d4=function(u){var m=new cV,C=0;
M.s7(m,C,"cush");C+=4;M.N6(m,C,2);C+=4;M.N6(m,C,u.length);C+=4;for(var D=0;D<u.length;D++){var Z=u[D],q=Z.jA+"\0";
M.rI(m,C,q);C+=4+q.length*2;if((q.length&1)==1)C+=2;M.N6(m,C,1);C+=4;C+=4;var J=C;M.h6(m,C,Z.J4);C+=Z.J4.length+1;
M.Kk(m,C,Z.hF);C+=16;m.Ic(C,Z.B.length*26);j9.$0(m.data,C,Z.B,1,1);C+=Z.B.length*26;var A=C-J;if((A&3)!=0)A+=4-(A&3);
M.N6(m,J-4,A);C=J+A}return m.data.slice(0,C).buffer};j9.abX=function(u){var m=[];for(var D=0;D<u.length;
D++){var C=u[D],Z=C.type,q={type:Z};m.push(q);if(Z==6){}else if(Z==8)q.all=C.all;else if(Z==0||Z==3){q.length=C.length;
q.frule=C.hB;q.third=C.sF;q.prmA=C.Y4;q.prmB=C.Fn}else{q.c=[C.Rv.x,C.Rv.y,C.A.x,C.A.y,C.wm.x,C.wm.y]}}return m};
j9.ahg=function(u){var m=[];for(var D=0;D<u.length;D++){var C=u[D],Z=C.type,q={type:Z};m.push(q);if(Z==6){}else if(Z==8)q.all=C.all;
else if(Z==0||Z==3){q.length=C.length;q.hB=C.frule;q.sF=C.third;q.Y4=C.prmA;q.Fn=C.prmB}else{var J=C.c;
q.Rv=new dz(J[0],J[1]);q.A=new dz(J[2],J[3]);q.wm=new dz(J[4],J[5])}}return m};j9.m7=function(u,m,C,Z,q){if(Z==null)Z=1;
if(q==null)q=1;function J(z,v,a){var X=M.a8i(z,v)*a,V=Math.round(X);return Math.abs(X-V)<1e-6?V:X}var A=M.xg,n=[],N=Math.floor(C/26);
for(var D=0;D<N;D++){var e=m+D*26,Q={},p=0;n.push(Q);Q.type=A(u,e);e+=2;if(Q.type==6){p=24}if(Q.type==8){Q.all=A(u,e);
e+=2;p=22}if(Q.type==0||Q.type==3){Q.length=A(u,e);e+=2;Q.hB=A(u,e);e+=2;Q.sF=A(u,e);e+=2;Q.Y4=M.h(u,e);
e+=4;Q.Fn=M.h(u,e);e+=4;p=10}if(Q.type==1||Q.type==2||Q.type==4||Q.type==5){var B,$;$=J(u,e,q);e+=4;
B=J(u,e,Z);e+=4;Q.Rv=new dz(B,$);$=J(u,e,q);e+=4;B=J(u,e,Z);e+=4;Q.A=new dz(B,$);$=J(u,e,q);e+=4;B=J(u,e,Z);
e+=4;Q.wm=new dz(B,$);p=0}for(var R=0;R<p;R++)if(u[e+R]!=0){console.log("Unexpected non-zero byte!",Q,R,u[e+R])}}return n};
j9.$0=function(u,m,C,Z,q){var J=M.FO,A=M.yB,n=C.length;for(var D=0;D<n;D++){var N=m+D*26,e=C[D];J(u,N,e.type);
N+=2;if(e.type==6){}if(e.type==8)J(u,N,e.all);if(e.type==0||e.type==3){J(u,N,e.length);N+=2;J(u,N,e.hB);
N+=2;J(u,N,e.sF);N+=2}if(e.type==1||e.type==2||e.type==4||e.type==5){A(u,N,e.Rv.y/q);N+=4;A(u,N,e.Rv.x/Z);
N+=4;A(u,N,e.A.y/q);N+=4;A(u,N,e.A.x/Z);N+=4;A(u,N,e.wm.y/q);N+=4;A(u,N,e.wm.x/Z);N+=4}}};function ff(){}ff.Nh=function(u){var m=new Uint8Array(u),C=[],Z=0;
Z=ff.zN(m,Z,C);if(Z+3<m.length){C=[];Z=ff.zN(m,Z,C)}return C};ff.zN=function(u,m,C){var Z=M.aP,q=M.xg,J=Z(u,m);
m+=2;var A=Z(u,m);m+=2;for(var D=0;D<A;D++){var n=ff.Di(u,m);m+=10;if(J==2){n.TB=M.P3(u,m);m+=4+n.TB.length*2+2}C.push(n)}return m};
ff.Di=function(u,m){var C=M.aP,Z=M.xg,q=C(u,m),$=null;m+=2;var J=C(u,m);m+=2;var A=C(u,m);m+=2;var n=C(u,m);
m+=2;var N=C(u,m);m+=2;var e=1/65535,Q=255/65535,p=100/65535,B=255/1e4;if(q==0)$={p:J*Q,T:A*Q,S:n*Q};
else if(q==1){$=j.$t(J*e,A*e,n*e);$.p*=255;$.T*=255;$.S*=255}else if(q==2)$=j.C.o5({classID:"CMYC",Cyn:{t:"doub",v:100-J*p},Mgnt:{t:"doub",v:100-A*p},Ylw:{t:"doub",v:100-n*p},Blck:{t:"doub",v:100-N*p}});
else if(q==7){var R=j.bK(J/100,Z(u,m-6)/100,Z(u,m-4)/100);$=R}else if(q==8){$={p:255-J*B,T:255-A*B,S:255-n*B}}else throw"e "+q+", ";
return $};ff.d4=function(u){var m=new cV,C=0,Z=M.iV;Z(m,C,2);C+=2;Z(m,C,u.length);C+=2;for(var D=0;D<u.length;
D++){var q=u[D];m.Ic(C,10);ff.T9(m.data,C,q);C+=10;var J=(q.TB?q.TB:"")+"\0";M.rI(m,C,J);C+=4+J.length*2}return m.data.slice(0,C).buffer};
ff.hK=function(u,m){u.TB=m};ff.T9=function(u,m,C){var Z=65535/255,q=M.Z8;q(u,m,0);q(u,m+2,Math.round(C.p*Z));
q(u,m+4,Math.round(C.T*Z));q(u,m+6,Math.round(C.S*Z));q(u,m+8,0)};function ck(){}ck.Nh=function(u){var m=new Uint8Array(u),C=4,Z={};
Z.wy=M.P3(m,C);C+=4+Z.wy.length*2+2;Z.exp=m[C++]==1;Z.pQ=[];var q=M.h(m,C);C+=4;for(var D=0;D<q;D++){var J={};
Z.pQ.push(J);J.NR=M.aP(m,C);C+=2;J.shift=m[C++]==1;J.ahV=m[C++]==1;J.color=M.aP(m,C);C+=2;J.wy=M.P3(m,C);
C+=4+J.wy.length*2+2;J.exp=m[C++]==1;J.pQ=[];var A=M.h(m,C);C+=4;for(var n=0;n<A;n++){var N={};J.pQ.push(N);
N.exp=m[C++]==1;N.P=m[C++]==1;N.a2g=m[C++]==1;N.auw=m[C++];var e=M.Qi(m,C,4);C+=4;if(e=="TEXT"){N.ZO=ck.UR(m,C);
C+=4+N.ZO.length}else if(e=="long"){N.ZO=M.Qi(m,C,4);C+=4}else throw"e";N.wi=ck.UR(m,C);C+=4+N.wi.length;
var Q=M.LR(m,C);C+=4;if(Q==-1){N.yS={};var p=f6.ee(m,N.yS,C);C+=p}}}console.log(Z);var B=new Uint8Array(ck.d4(Z));
for(var D=0;D<B.length;D++)if(B[D]!=m[D]){console.log(m.length,B.length);var $=4*(D>>>2)-16;console.log(M.g_(m,$,64));
console.log(M.g_(B,$,64));console.log(m.slice($,$+64));console.log(B.slice($,$+64));throw D}return[Z]};
ck.UR=function(u,m){var C=M.h(u,m);return M.Qi(u,m+4,C)};ck.P6=function(u,m,C){M.N6(u,m,C.length);M.s7(u,m+4,C)};
ck.d4=function(u){var m=new cV,C=0;M.N6(m,C,16);C+=4;M.rI(m,C,u.wy+"\0");C+=4+u.wy.length*2+2;m.Ic(C,1);
m.data[C++]=u.exp?1:0;var Z=u.pQ.length;M.N6(m,C,Z);C+=4;for(var D=0;D<Z;D++){var q=u.pQ[D];M.iV(m,C,q.NR);
C+=2;m.Ic(C,2);m.data[C++]=q.shift?1:0;m.data[C++]=q.ahV?1:0;M.iV(m,C,q.color);C+=2;M.rI(m,C,q.wy+"\0");
C+=4+q.wy.length*2+2;m.Ic(C,1);m.data[C++]=q.exp?1:0;var J=q.pQ.length;M.N6(m,C,J);C+=4;for(var A=0;
A<J;A++){var n=q.pQ[A];m.Ic(C,4);m.data[C++]=n.exp?1:0;m.data[C++]=n.P?1:0;m.data[C++]=n.a2g?1:0;m.data[C++]=n.auw;
var N="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(n.ZO)!=-1;M.s7(m,C,N?"long":"TEXT");C+=4;
if(!N){ck.P6(m,C,n.ZO);C+=4+n.ZO.length}else{M.s7(m,C,n.ZO);C+=4}ck.P6(m,C,n.wi);C+=4+n.wi.length;M.n0(m,C,n.yS?-1:0);
C+=4;if(n.yS){var e=f6.$$(m,n.yS,C);C+=e}}}return m.data.slice(0,C).buffer};function eX(){}eX.Nh=function(u){var m=new Uint8Array(u),C=0,Z=M.h(m,C),N;
C+=4;var q=M.Qi(m,C,8);C+=8;var J=M.Jr(m,C);C+=4;var A=M.Jr(m,C);C+=4;var n=M.Jr(m,C);C+=4;if(Z==2){N=new Float32Array(u,32,u.byteLength-32>>>2)}else if(Z==3||Z==4){N=new Float32Array(A*n*2);
var e=0,Q=0,p=!0;C=Z==3?32:16+8+40;while(C<m.length){var B=M.Jr(m,C);C+=4;if(p)Q+=B;else{for(var D=0;
D<B;D++){N[e+Q+D<<1]=M.de(m,C);N[(e+Q+D<<1)+1]=M.de(m,C+4);C+=8}Q+=B}p=!p;if(B!=0&&Q==A){e+=A;Q=0;p=!0;
if(e==A*n)break}}}else throw"unknown Mesh version: "+Z;return{du:A,Oh:n,map:N}};eX.Zw=function(u){var m=u.du,C=u.Oh,Z=u.map,q=new Uint8Array(32+C*m*8+C*8),J=0,A=0;
M.G9(q,J,3);J+=4;M.xI(q,J,"yfqLhseM");J+=8;M.uu(q,J,2);J+=4;M.uu(q,J,m);J+=4;M.uu(q,J,C);J+=4;M.uu(q,J,0);
J+=4;M.uu(q,J,1);J+=4;for(var n=0;n<C;n++){M.uu(q,J,0);J+=4;M.uu(q,J,m);J+=4;for(var N=0;N<m;N++){M.Xa(q,J,Z[A]);
M.Xa(q,J+4,Z[A+1]);A+=2;J+=8}}return q.buffer};function jH(){}jH.Nh=function(u){var m=new Uint8Array(u),C=0,Z=M.Qi(m,C,4);
C+=4;var q=M.aP(m,C);C+=2;var J=M.h(m,C);C+=4;var A=[];for(var D=0;D<J;D++){var n=M.h(m,C);C+=4;var N={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
A.push(N);var e=M.P3(m,C);N.Nm.v=e;C+=4+e.length*2+2;var Q=M.aP(m,C);C+=2;var p=M.aP(m,C);C+=2;for(var B=0;
B<p;B++){var $=j.AE.Ft(0,0,!0);$.v.Vrtc.v=M.aP(m,C);C+=2;$.v.Hrzn.v=M.aP(m,C);C+=2;N.Crv.v.push($)}if(n==1){}else if(n==2){for(var B=0;
B<p;B++){N.Crv.v[B].v.Cnty.v=m[C]==1;C+=1}}else throw"error";var R=M.h(m,C);C+=4;var z=M.h(m,C);C+=4}return A};
jH.hK=function(u,m){u.Nm.v=m};jH.d4=function(u){var m=new cV,C=0;M.s7(m,C,"8BFS");C+=4;M.iV(m,C,1);C+=2;
M.N6(m,C,u.length);C+=4;for(var D=0;D<u.length;D++){M.N6(m,C,2);C+=4;var Z=u[D];M.rI(m,C,Z.Nm.v+"\0");
C+=4+Z.Nm.v.length*2+2;M.iV(m,C,2);C+=2;var q=Z.Crv.v.length;M.iV(m,C,q);C+=2;for(var J=0;J<q;J++){var A=Z.Crv.v[J];
M.iV(m,C,A.v.Vrtc.v);C+=2;M.iV(m,C,A.v.Hrzn.v);C+=2}m.Ic(C,q);for(var J=0;J<q;J++){m.data[C]=Z.Crv.v[J].v.Cnty.v;
C++}M.N6(m,C,0);C+=4;M.N6(m,C,0);C+=4}return m.data.slice(0,C).buffer};function eN(){}eN.Nh=function(u){var m=new Uint8Array(u),C=4,Z=M.aP(m,C);
C+=2;var q=M.h(m,C);C+=4;var J=[];for(var D=0;D<q;D++){var A={};J.push(A);C=eN.ac(m,C,A)}return J};eN.hK=function(u,m){u.name=m};
eN.d4=function(u){var m=new cV,C=0;M.s7(m,C,"8BPT");C+=4;M.iV(m,C,1);C+=2;M.N6(m,C,u.length);C+=4;for(var D=0;
D<u.length;D++){C=eN.rw(m,C,u[D])}return m.data.slice(0,C).buffer};eN.Mf=function(u,m,C){var Z=m+C,q=[];
while(m<Z){var J={},A=M.h(u,m);m+=4;var n=m;m=eN.ac(u,m,J);if(!J.k9[1].qR())q.push(J);if(A%4!=0)A+=4-A%4;
m=n+A}return q};eN.rQ=function(u,m,C){for(var D=0;D<C.length;D++){var Z=C[D];m+=4;var q=m;m=eN.rw(u,m,Z);
var J=m-q;M.N6(u,q-4,J);if(J%4!=0)q+=4-J%4;m=q+J}return m};eN.ac=function(u,m,C){var Z=M.h(u,m);m+=4;
if(Z!=1)alert("Unknown version of pattern");var q=M.h(u,m);m+=4;if(q!=1&&q!=2&&q!=3)console.log("Unsupported mode of pattern: "+q);
var J=M.aP(u,m);m+=2;var A=M.aP(u,m);m+=2;var n=new bl(0,0,A,J);C.name=M.P3(u,m);m+=4+2*C.name.length+2;
var N=u[m];m++;C.id=M.Qi(u,m,N);m+=C.id.length;var e=-1;if(q==2){e=m;m+=3*256+4}var Q=new j.HT(A*J);
m=eN.agI(u,m,Q);if(q==2){for(var D=0;D<Q.p.length;D++){var p=3*Q.p[D];Q.p[D]=u[e+p+0];Q.T[D]=u[e+p+1];
Q.S[D]=u[e+p+2]}}var B=j.U(n.Z()*4);j.jh(Q,B);C.k9=[B,n];return m};eN.rw=function(u,m,C){var Z=C.k9[0],q=C.k9[1];
M.N6(u,m,1);m+=4;M.N6(u,m,3);m+=4;M.iV(u,m,q.n);m+=2;M.iV(u,m,q.e);m+=2;M.rI(u,m,C.name+"\0");m+=4+2*C.name.length+2;
M.P_(u,m,C.id.length);m++;M.s7(u,m,C.id);m+=C.id.length;var J=new j.HT(q.Z());j.Bh(Z,J);m=eN.a57(u,m,J,q);
return m};eN.agI=function(u,m,C){var Z=m,q={yt:null,Np:[],apW:null,wh:null},J=M.h(u,m);m+=4;var A=M.h(u,m);
m+=4;q.yt=M.ie(u,m);m+=16;var n=M.h(u,m);m+=4;for(var D=0;D<n+2;D++){var N=M.h(u,m);m+=4;if(N==0)continue;
var e=M.h(u,m);m+=4;if(e==0)continue;var Q=M.h(u,m);m+=4;var p=M.ie(u,m);m+=16;var B=M.aP(u,m);m+=2;
var $=u[m];m++;var R=hl.YS(!1,Q,u,p.e,p.n,m,$);if(D<n)q.Np.push(R);if(D==n)q.apW=R;if(D==n+1)q.wh=R;
m+=e-23}if(!q.yt.qR()){if(q.Np[0])C.p=q.Np[0];if(q.Np[1])C.T=q.Np[1];else C.T=q.Np[0].slice(0);if(q.Np[2])C.S=q.Np[2];
else C.S=q.Np[0].slice(0);if(q.wh)C.w7=q.wh;else C.w7.fill(255)}return m};eN.a57=function(u,m,C,Z){var q=m,J={yt:Z,Np:[C.p,C.T,C.S],apW:null,wh:C.w7};
M.N6(u,m,3);m+=4;M.N6(u,m,0);m+=4;M.Kk(u,m,Z);m+=16;M.N6(u,m,24);m+=4;for(var D=0;D<24+2;D++){var A=m,n=D<3||D==25?1:0;
M.N6(u,m,n);m+=4;if(n==0)continue;M.N6(u,m,0);m+=4;M.N6(u,m,8);m+=4;M.Kk(u,m,Z);m+=16;M.iV(u,m,8);m+=2;
M.P_(u,m,1,1);m++;var N=D<3?J.Np[D]:J.wh;u.Ic(m,Z.Z()+2);m=hl.bo(!1,N,u.data,Z.e,Z.n,m,1);M.N6(u,A+4,m-A-8)}M.N6(u,q+4,m-q-8);
return m};function hz(){}hz.Nh=function(u){var m=new Uint8Array(u),C=0,Z=M.Qi(m,C,4);C+=4;var q=M.aP(m,C);
C+=2;var J=[];if(q<=3){var A=M.aP(m,C);C+=2;for(var D=0;D<A;D++){var n=m[C++],N=M.Qi(m,C,n);C+=n;var e=hz.RO(m,C,N),Q=e[0];
C=e[1];J.push(Q)}}else{var e={},p=f6.ee(m,e,C+4),B=e.GrdL.v;for(var D=0;D<B.length;D++)J[D]=B[D].v.Grad.v}return J};
hz.hK=function(u,m){u.Nm.v=m};hz.d4=function(u){var m=new cV,C=0;M.s7(m,C,"8BGR");C+=4;M.iV(m,C,5);C+=2;
M.N6(m,C,16);C+=4;var Z={classID:"null",GrdL:{t:"VlLs",v:[]}},q=Z.GrdL.v;for(var D=0;D<u.length;D++)q[D]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:u[D]}}};
C+=f6.$$(m,Z,C);return m.data.slice(0,C).buffer};hz.RO=function(u,m,C){var Z={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:C},Trns:{t:"VlLs",v:[]}},q=M.aP(u,m);
m+=2;if(q==0)throw"e";for(var D=0;D<q;D++){var J=M.h(u,m),A=M.h(u,m+4),n=ff.Di(u,m+8),N={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:n.p},Grn:{t:"doub",v:n.T},Bl:{t:"doub",v:n.S}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:J},Mdpn:{t:"long",v:A}}};
Z.Clrs.v.push(N);m+=20}var e=M.aP(u,m);m+=2;for(var D=0;D<e;D++){var J=M.h(u,m),A=M.h(u,m+4),Q=M.aP(u,m+8),N={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*Q/255)}},Lctn:{t:"long",v:J},Mdpn:{t:"long",v:A}}};
Z.Trns.v.push(N);m+=10}var p=M.aP(u,m);m+=2;if(p!=2)throw p;Z.Intr.v=M.aP(u,m);m+=2;var B=M.aP(u,m);
m+=2;if(B!=32)throw"e";return[Z,m]};hz.afY=function(u,m,C){var Z=C.Clrs.v.length;M.iV(u,m,Z);m+=2;for(var D=0;
D<Z;D++){var q=C.Clrs.v[D];M.N6(u,m,q.v.Lctn.v);M.N6(u,m+4,q.v.Mdpn.v);M.iV(u,m+8,0);var J=j.C.sG(j.C.o5(q.v.Clr.v)),A=[J.Rd.v,J.Grn.v,J.Bl.v,0];
for(var n=0;n<4;n++)M.iV(u,m+10+n*2,Math.round(65535*(A[n]/255)));m+=20}var N=C.Trns.v.length;M.iV(u,m,N);
m+=2;for(var D=0;D<N;D++){var q=C.Trns.v[D];M.N6(u,m,q.v.Lctn.v);M.N6(u,m+4,q.v.Mdpn.v);M.iV(u,m+8,Math.round(255*q.v.Opct.v.val/100));
m+=10}M.iV(u,m,2);m+=2;M.iV(u,m,C.Intr.v);m+=2;M.iV(u,m,32);m+=2;return m};function ig(){}ig.Nh=function(u){var m=new Uint8Array(u),C=[],Z=[],q=[],J=[],A=[],n=0,N=M.Qi(m,n,4);
n+=4;var e=M.h(m,n);n+=4;var Q=M.h(m,n);n+=4;while(n<m.length){var p=M.Qi(m,n,4);n+=4;var B=M.Qi(m,n,4);
n+=4;var $=M.h(m,n);n+=4;if(B=="tppa"){Z=eN.Mf(m,n,$);n+=$}else if(B=="tpbd"){q=jG.i1(m,n,$,1,1);n+=$}else if(B=="tptp"){var R=M.h(m,n);
n+=4;for(var D=0;D<R;D++){var z=M.P3(m,n);n+=6+z.length*2;n+=4;var v={};n+=f6.ee(m,v,n);C.push([z,v])}while((n&3)!=0)n++}else if(B=="tpsh"){var a=n,X=m.slice(n,n+$);
while(n<a+$){var V=M.h(m,n);n+=4;n=j9.Wn(m,n,"Shape",J)}n=a+$}else if(B=="tpst"){var a=n;n+=4;while(n<a+$){var o=M.h(m,n);
n+=4;var h=n,T=M.h(m,n);n+=4;var v={J4:{},lr:{}};A.push(v);n+=4;n+=f6.ee(m,v.J4,n);n+=4;n+=f6.ee(m,v.lr,n);
n=h+o;var l=v.lr.Lefx;if(l){if(l.v.masterFXSwitch==null)l.v.masterFXSwitch={t:"bool",v:!0};fg.HJ(l.v)}}n=a+$}else{console.log(m.slice(n-8,n+64));
console.log(M.Qi(m,n-8,64));throw B}}return{Ub:q,MS:Z,list:C,atX:J,bp:A}};ig.hK=function(u,m){u[0]=m};
ig.d4=function(u){var m=new cV,C=0;M.s7(m,C,"8BTP");C+=4;M.N6(m,C,3);C+=4;M.N6(m,C,1);C+=4;var Z=[u.MS,u.Ub,u.list];
for(var D=0;D<3;D++){if(Z[D].length==0)continue;M.s7(m,C,"8BIM");C+=4;var q=["tppa","tpbd","tptp"][D];
M.s7(m,C,q);C+=4;var J=C;C+=4;if(q=="tppa"){C=eN.rQ(m,C,u.MS)}else if(q=="tpbd"){C=jG.ou(m,C,u.Ub)}else if(q=="tptp"){M.N6(m,C,u.list.length);
C+=4;for(var A=0;A<u.list.length;A++){var n=u.list[A];M.rI(m,C,n[0]+"\0");C+=6+n[0].length*2;M.N6(m,C,16);
C+=4;C+=f6.$$(m,n[1],C)}}M.N6(m,J,C-J-4);while((C&3)!=0)C++;m.Ic(C,0)}return m.data.slice(0,C).buffer};
function ir(){}ir.Nh=function(u,m){var C=new Uint8Array(u),Z;if(M.h(C,0)==C.length)Z="icc";else if(C[0]=="<".charCodeAt(0))Z="look";
else if(M.MC(C,"LUT_3D_SIZE")!=-1)Z="cube";else Z="3DL";if(Z!="icc"){var q=ir.alv(C,Z),J=ir.aaK(q[0],q[1]);
C=J}var A=[];for(var D=0;D<C.length;D++)A.push(C[D]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:m?m:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:A}}]};
ir.d4=function(u){var m=u[0],C=new Uint8Array(m.profile.v);return C.buffer};ir.hK=function(u,m){u.Nm.v=m};
ir.aaK=function(u,m){var C=new cV,Z=128;C.Ic(0,128);var q=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var D=0;D<q.length;D++)C.data[D]=q[D];var J=["desc","A2B0"],A=J.length,n=128+4+A*12;M.N6(C,Z,A);
Z+=4;for(var N=0;N<A;N++){var e=J[N];M.s7(C,Z,e);Z+=4;M.N6(C,Z,n);Z+=4;var Q=n;if(e=="desc"){M.s7(C,Q,"mluc");
Q+=4;Q+=4;M.N6(C,Q,1);Q+=4;M.N6(C,Q,12);Q+=4;M.s7(C,Q,"enUS");Q+=4;var p="ICC by Photopea\0",B=p.length*2+2;
M.N6(C,Q,B);Q+=4;M.N6(C,Q,28);Q+=4;C.Ic(Q,B);for(var D=0;D<p.length;D++)C.data[Q+D*2+1]=p.charCodeAt(D);
Q+=B}if(e=="A2B0"){M.s7(C,Q,"mAB ");Q+=4;Q+=4;C.Ic(Q,4);C.data[Q]=3;C.data[Q+1]=3;Q+=4;C.Ic(Q,4*5);Q+=4*3;
M.N6(C,Q,Q+8-n);Q+=4;Q+=4;C.Ic(Q,20);C.data[Q]=u;C.data[Q+1]=u;C.data[Q+2]=u;Q+=16;C.data[Q]=2;Q+=4;
var $=u*u*u*3;C.Ic(Q,$*2);for(var D=0;D<$;D++)M.Z8(C.data,Q+D*2,Math.max(0,Math.min(65535,Math.round(m[D]*65535))));
Q+=$*2}var R=Q-n;while((R&3)!=0)R++;M.N6(C,Z,R);Z+=4;n+=R}M.N6(C,0,n);return C.data.slice(0,n)};ir.alv=function(u,m){m="LUTFormat"+m.toUpperCase();
var C=[],Z=0,q=M.V6(u,0,u.length),J="";for(var D=0;D<u.length&&J=="";D++){if(u[D]==10)J="\n";else if(u[D]==13){J="\r";
if(u[D+1]==10)J+="\n"}}if(m=="LUTFormatCUBE"){var A=q.split(J);for(var D=0;D<A.length;D++){if(A[D]==""||A[D][0]=="#")continue;
var n=A[D].split(" "),N=n[0];if(N=="LUT_3D_SIZE"){Z=parseInt(n[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(N)!=-1)continue;
C.push(parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2]))}C=ir._Z(Z,C)}else if(m=="LUTFormat3DL"){var A=q.split(J),e=1/4095;
for(var D=0;D<A.length;D++){var Q=A[D];if(Q==""||Q=="3DMESH"||Q.startsWith("Mesh")||Q[0]=="#")continue;
var n=Q.split(" "),N=n[0];if(Z==0){Z=n.length;continue}C.push(parseFloat(n[0])*e,parseFloat(n[1])*e,parseFloat(n[2])*e)}}else if(m=="LUTFormatLOOK"){var p=new DOMParser,B=p.parseFromString(q,"text/xml"),$=B.getElementsByTagName("LUT")[0],R=$.children[0].textContent;
Z=parseInt(JSON.parse(R));var z=$.children[1].textContent;z=z.replace(/"/g,"").replace(/\s/g,"");var v=3*Z*Z*Z,a=v*4,X=new Uint8Array(a);for(var D=0;D<a;D++){var V=z.charCodeAt(D*2),o=z.charCodeAt(D*2+1),h=V<58?V-48:V-55,T=o<58?o-48:o-55;X[D]=(h<<4)+T}for(var D=0;D<v;D++)C.push(M.de(X,D<<2));C=ir._Z(Z,C)}else throw m;return[Z,C]};ir.amt=function(u,m,C){var Z=["#Created by www.Photopea.com","TITLE \""+C+"\"","","#LUT size","LUT_3D_SIZE "+m,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],q=6;
for(var D=0;D<u.length;D+=3){Z.push(u[D].toFixed(q)+" "+u[D+1].toFixed(q)+" "+u[D+2].toFixed(q))}Z.push("");
return M.t2(Z.join("\n")).buffer};ir._Z=function(u,m){var C=[],Z=u*u*u;for(var D=0;D<Z;D++)C.push(0,0,0);
for(var q=0;q<u;q++)for(var J=0;J<u;J++)for(var A=0;A<u;A++){var D=3*(A+J*u+q*u*u),n=3*(q+J*u+A*u*u);
C[n]=m[D];C[n+1]=m[D+1];C[n+2]=m[D+2]}return C};function f6(){}f6.ee=function(u,m,C,Z,q){var J=C,A;if(q==null)q=0;
var n=M.h(u,C);if(n==0){A="";C+=4}else{A=M.P3(u,C);C+=4+2*A.length+2}if(A!="")m.__name=A;m.classID=f6.jn(u,C);
if(Z)console.log("\t".repeat(q),"- reading descriptor",m.classID,C);C+=f6.S9(u,C);var N=M.LR(u,C);C+=4;
for(var D=0;D<N;D++){var e=f6.jn(u,C);C+=f6.S9(u,C);var Q=f6.Ni(u,C,Z,q);m[e]=Q;C+=Q.size;delete Q.size}return C-J};
f6.$$=function(u,m,C,Z){var q=C,J=m.__name;if(J==null)J="";J+="\0";M.rI(u,C,J);C+=4+2*J.length;f6.pp(u,C,m.classID);
C+=f6.S9(u.data,C);M.n0(u,C,Object.keys(m).length-1-(m.__name==null?0:1));C+=4;for(var A in m){if(A=="classID")continue;
if(A=="__name")continue;f6.pp(u,C,A);C+=f6.S9(u.data,C);C+=f6.mw(u,C,m[A])}return C-q};f6.Ni=function(u,m,C,Z){var q=m,J=M.Qi(u,m,4);
m+=4;var A={size:0,t:J,v:null};if(C)console.log("\t".repeat(Z),"reading key",J,q);switch(J){case"obj ":case"VlLs":A.v=[];
var n=M.h(u,m);m+=4;for(var D=0;D<n;D++){var N=f6.Ni(u,m,C,Z+1);m+=N.size;delete N.size;A.v.push(N)}break;
case"UntF":A.v={type:M.Qi(u,m,4),val:M.AN(u,m+4)};m+=12;break;case"doub":A.v=M.AN(u,m);m+=8;break;case"bool":A.v=u[m]==1;
m+=1;break;case"long":A.v=M.LR(u,m);m+=4;break;case"comp":A.v=M.LR(u,m+4);m+=8;break;case"Objc":A.v={};
var e=f6.ee(u,A.v,m,C,Z+1);m+=e;break;case"TEXT":var Q=M.h(u,m);if(Q==0){A.v="";m+=4}else{A.v=M.P3(u,m);
m+=4+A.v.length*2+2}break;case"enum":var p=f6.jn(u,m);m+=f6.S9(u,m);var B=f6.jn(u,m);m+=f6.S9(u,m);A.v={};
A.v[p]=B;break;case"tdta":var $=M.LR(u,m);m+=4;A.v=[];for(var D=0;D<$;D++)A.v.push(u[m+D]);m+=$;break;
case"ObAr":var R=M.h(u,m);m+=4;var z=M.P3(u,m);m+=4+2*z.length+2;if(z!="")throw z;var v=f6.jn(u,m);m+=4+Math.max(4,v.length);
A.v={classID:v,arr:[]};var a=M.h(u,m);m+=4;for(var D=0;D<a;D++){var v=f6.jn(u,m);m+=4+Math.max(4,v.length);
var p=M.Qi(u,m,4);m+=4;var X=M.Qi(u,m,4);m+=4;var V={id:v,type:p,uID:X,arr:[]};A.v.arr.push(V);var o=M.h(u,m,4);
m+=4;for(var h=0;h<o;h++){var T=M.AN(u,m);m+=8;V.arr.push(T)}}break;case"Pth ":var l=m,$=M.h(u,m);m+=4;
var w=M.Qi(u,m,4);m+=4;var W=M.Jr(u,m);m+=4;var U=M.a2i(u,m);m+=4+U.length*2;A.v={sig:w,pth:U};break;
case"Clss":case"type":case"rele":var U=M.P3(u,m);m+=4+U.length*2+2;var s=f6.jn(u,m);m+=4+Math.max(4,s.length);
A.v={classID:s};if(U!="")A.v.__name=U;if(J=="rele"){A.v.val=M.LR(u,m);m+=4}break;case"prop":case"Enmr":case"indx":case"name":var S=f6.fq[J],U=M.P3(u,m);
m+=4+U.length*2+2;if(U.length!=0){console.log(J,U);throw"e"}A.v={};for(var D=0;D<S.length;D++){var s=f6.jn(u,m);
m+=4+Math.max(4,s.length);A.v[S[D]]=s}if(J=="name"){var U=M.P3(u,m);m+=4+U.length*2+2;A.v.val=U}if(J=="indx"){A.v.val=M.h(u,m);
m+=4}break;case"alis":var $=M.h(u,m);m+=4;A.v=M.Qi(u,m,$);m+=$;break;default:{console.log("unknown oskey: "+J+", "+q);
throw"e";return A}}if(C){console.log("\t".repeat(Z),A.v);console.log("\t".repeat(Z),"======",m)}A.size=m-q;
return A};f6.fq={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};
f6.mw=function(u,m,C){var Z=m,q=C.t;C=C.v;M.s7(u,m,q);m+=4;switch(q){case"obj ":case"VlLs":M.n0(u,m,C.length);
m+=4;for(var J=0;J<C.length;J++){var A=f6.mw(u,m,C[J]);m+=A}break;case"UntF":M.s7(u,m,C.type);M.Aj(u,m+4,C.val);
m+=12;break;case"doub":M.Aj(u,m,C);m+=8;break;case"bool":M.P_(u,m,C?1:0,1);m+=1;break;case"long":M.n0(u,m,C);
m+=4;break;case"comp":M.n0(u,m+4,C);m+=8;break;case"Objc":var A=f6.$$(u,C,m);m+=A;break;case"TEXT":M.rI(u,m,C+"\0");
m+=4+C.length*2+2;break;case"enum":var n=Object.keys(C)[0],N=C[n];f6.pp(u,m,n);m+=f6.S9(u.data,m);f6.pp(u,m,N);
m+=f6.S9(u.data,m);break;case"tdta":M.N6(u,m,C.length);m+=4;M.fa(u,m,C);m+=C.length;break;case"ObAr":M.N6(u,m,C.arr[0].arr.length);
m+=4;M.rI(u,m,"\0");m+=6;f6.pp(u,m,C.classID);m+=4+Math.max(4,C.classID.length);M.N6(u,m,C.arr.length);
m+=4;for(var D=0;D<C.arr.length;D++){var e=C.arr[D];f6.pp(u,m,e.id);m+=4+Math.max(4,e.id.length);M.s7(u,m,e.type);
m+=4;M.s7(u,m,e.uID);m+=4;M.N6(u,m,e.arr.length);m+=4;for(var J=0;J<e.arr.length;J++){M.Aj(u,m,e.arr[J]);
m+=8}}break;case"Pth ":var Q=C.pth.length*2+4+8;M.N6(u,m,Q);m+=4;M.s7(u,m,C.sig);m+=4;M.CF(u,m,Q);m+=4;
M.ahp(u,m,C.pth);m+=C.pth.length*2+4;break;case"Clss":case"type":case"rele":var p=C.__name;if(p==null)p="";
M.rI(u,m,p+"\0");m+=4+p.length*2+2;var B=C.classID;f6.pp(u,m,B);m+=4+Math.max(4,B.length);if(q=="rele"){M.n0(u,m,C.val);
m+=4}break;case"prop":case"Enmr":case"indx":case"name":var $=f6.fq[q];M.N6(u,m,1);m+=6;for(var D=0;D<$.length;
D++){var B=C[$[D]];f6.pp(u,m,B);m+=4+Math.max(4,B.length)}if(q=="name"){M.rI(u,m,C.val+"\0");m+=4+C.val.length*2+2}if(q=="indx"){M.N6(u,m,C.val);
m+=4}break;case"alis":var Q=C.length;M.N6(u,m,Q);m+=4;M.s7(u,m,C);m+=Q;break;default:console.log("unknown oskey: "+q);
m=Z;break}return m-Z};f6.jn=function(u,m){var C=M.LR(u,m);if(C>1e3)throw"e";if(C==0)C=4;return M.Qi(u,m+4,C).trim()};
f6.S9=function(u,m){var C=M.LR(u,m);return C==0?8:4+C};f6.pp=function(u,m,C){var Z="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow trim then else".split(" "),q=4<C.length||Z.indexOf(C)!=-1;
M.n0(u,m,q?C.length:0);M.s7(u,m+4,C);if(C.length<4&&!q){var J="";for(var D=C.length;D<4;D++)J+=" ";M.s7(u,m+4+C.length,J)}};
f6.aoi=function(u){var m={};for(var C in u){if(C=="classID")m[C]=u[C];else if(C=="__name")m[C]=u[C];
else m[C]=f6.y_(u[C])}return m};f6.y_=function(u){if(u.WI=="Objc")return f6.aoi(u.v);else if(u.WI=="VlLs"){var m=[];
for(var D=0;D<u.v.length;D++)m.push(f6.y_(u.v[D]));return m}else if(u.WI=="UntF")return u.v.val;else return u.v};
function fg(){}fg.kT=function(u,m,C,Z,q,J){while(m<C){var A=M.Qi(u,m,4);m+=4;if(A!="8BIM"&&A!="8B64"){console.log("layer information signature error! "+A,"PSB = "+q);
alert("Error in PSD file: wrong signature.");return C}var n=M.Qi(u,m,4);m+=4;var N=M.h(u,m);m+=4;var e=q&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(n)!=-1;
if(e){N=N<<32|M.LR(u,m);m+=4}var Q=["lrFX","PlLd"];if(Q.indexOf(n)!=-1){if(N%4!=0)N+=4-N%4;m+=N;continue}switch(n){case"iOpa":Z[n]=u[m];
break;case"brst":Z[n]=[1,1,1];for(var D=0;D<N;D+=4)Z[n][M.h(u,m+D)]=0;break;case"knko":Z[n]=u[m];break;
case"infx":Z[n]=u[m];break;case"clbl":Z[n]=u[m];break;case"lmgm":Z[n]=u[m];break;case"vmgm":Z[n]=u[m];
break;case"lyid":Z[n]=M.h(u,m);break;case"lsct":Z[n]={type:M.h(u,m)};if(N>=12)Z[n].Um=M.Qi(u,m+8,4);
break;case"lsdk":Z.lsct={type:M.h(u,m)};break;case"lyvr":Z[n]=M.h(u,m);break;case"lnsr":var p={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
Z[n]=M.Qi(u,m,4);break;case"lspf":Z[n]=M.h(u,m);break;case"lclr":Z[n]=M.aP(u,m);break;case"luni":Z[n]=M.oi(u,m);
break;case"fxrp":Z[n]=new dz(M.AN(u,m),M.AN(u,m+8));break;case"artb":case"artd":Z[n]={};f6.ee(u,Z[n],m+4);
break;case"SoCo":Z[n]={};f6.ee(u,Z[n],m+4);break;case"GdFl":Z[n]={};f6.ee(u,Z[n],m+4);fg.W$(Z[n],n);
break;case"PtFl":Z[n]={};f6.ee(u,Z[n],m+4);fg.W$(Z[n],n);break;case"CgEd":var B=Z.brit=a7.Qv("brit"),$={};
f6.ee(u,$,m+4);B.Brgh.v=$.Brgh?$.Brgh.v:0;B.Cntr.v=$.Cntr?$.Cntr.v:0;B.useLegacy.v=$.useLegacy?$.useLegacy.v:0;
break;case"brit":if(Z.brit==null){var B=Z.brit=a7.Qv("brit"),$={};B.Brgh.v=M.xg(u,m);B.Cntr.v=M.xg(u,m+2);
B.useLegacy.v=!1}break;case"levl":var R=u.buffer.slice(m,m+N);Z[n]=ii.Nh(R);break;case"curv":Z[n]=ee.xX(u,m,N);
break;case"expA":var z=M.aP(u,m),v=Z[n]=a7.Qv("expA");v.Exps.v=M._V(u,m+2);v.Ofst.v=M._V(u,m+6);v.gammaCorrection.v=M._V(u,m+10);
break;case"vibA":Z[n]={};f6.ee(u,Z[n],m+4);break;case"hue2":Z[n]=je.xX(u,m,N);break;case"blnc":var v=Z[n]=a7.Qv(n);
v.PrsL.v=u[m+18]==1;var a=["ShdL","MdtL","HghL"];for(var D=0;D<3;D++)for(var X=0;X<3;X++)v[a[D]].v[X].v=M.xg(u,m+D*6+X*2);
break;case"blwh":var V={};f6.ee(u,V,m+4);var v=a7.Qv(n),o="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var D=0;D<o.length;D++){v[o[D]]=V[o[D]];delete V[o[D]]}Z[n]=v;break;case"phfl":var v=Z[n]=a7.Qv(n),h=v.Clr.v,z=M.aP(u,m);
if(z==3){var T=[M.h(u,m+2),M.h(u,m+6),M.h(u,m+10)],l=32768,w=j.IO(T[0]/l,T[1]/l,T[2]/l);h.Lmnc.v=w.nI;
h.A.v=w.w7;h.B.v=w.S}if(z==2){var W=M.aP(u,m+2);if(W!=7)throw"e";h.Lmnc.v=M.xg(u,m+4)/100;h.A.v=M.xg(u,m+6)/100;
h.B.v=M.xg(u,m+8)/100}var U=m+2+(z==3?12:10);v.Dnst.v=M.h(u,U);U+=4;v.PrsL.v=u[U]==1;break;case"mixr":var s={ct:M.aP(u,m+2)==1,k:[]};
for(var D=0;D<20;D++)s.k.push(M.xg(u,m+4+D*2));Z[n]=b1.vp(s);break;case"clrL":case"rplc":Z[n]={};f6.ee(u,Z[n],m+6);
break;case"nvrt":Z[n]={};break;case"post":Z[n]=a7.Qv("post");Z[n].Lvls.v=M.aP(u,m);break;case"thrs":Z[n]=a7.Qv("thrs");
Z[n].Lvl.v=M.aP(u,m);break;case"grdm":var S=m,x=u[m+2]==1,P=u[m+3]==1;S+=4;var y=M.oi(u,S);S+=4+y.length*2;
var _=hz.RO(u,S,y),g=_[0];S=_[1];var G=M.aP(u,S);S+=2;var O=M.h(u,S);S+=4;var E=M.aP(u,S)==1;S+=2;var L=M.aP(u,S)==1;
S+=2;var c=M.h(u,S);S+=4;var k=M.aP(u,S);S+=2;var I=[],Y=[];for(var D=0;D<4;D++){I.push({t:"long",v:~~(M.aP(u,S+D*2)*100/32768)});
Y.push({t:"long",v:~~(M.aP(u,S+D*2+8)*100/32768)})}S+=16;var K=M.aP(u,S);S+=2;if(G==1)g={classID:"Grdn",Nm:{t:"TEXT",v:y},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:E},VctC:{t:"bool",v:L},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:O},Smth:{t:"long",v:c},Mnm:{t:"VlLs",v:I},Mxm:{t:"VlLs",v:Y}};
var i=a7.Qv("grdm");i.Rvrs.v=x;i.Grad.v=g;Z[n]=i;break;case"selc":Z[n]=iw.xX(u,m,N);break;case"vmsk":case"vsms":var i4=Z.vmsk=new F.nq,d7=M.LR(u,m+4),d=(d7>>0&1)==1;
i4.ca=(d7>>1&1)==0;i4.isEnabled=(d7>>2&1)==0;i4.B=j9.m7(u,m+8,N-8,J.e,J.n);break;case"shmd":Z[n]={};
var fH=M.h(u,m),U=m+4;for(var D=0;D<fH;D++){var A=M.Qi(u,U,4);U+=4;var aC=M.Qi(u,U,4);U+=4;var f8=u[U];
U++;if(Math.max(u[U],u[U+1],u[U+2])!=0)throw"e";U+=3;var c9=M.h(u,U);U+=4;if(aC=="cust"||aC=="cmls"||aC=="extn"||aC=="mlst"){var g1=M.h(u,U);
if(g1!=16)U+=4;if(M.h(u,U)==16){var V={};f6.ee(u,V,U+4,!1);Z[n][aC]=V;if(aC=="cmls")b.Sa.agH(Z[n][aC])}}else{console.log("unknown shmd key: "+aC+", size: "+c9)}U+=c9}break;
case"shpa":var z=M.h(u,m),cE=M.h(u,m+4);if(cE!=0)console.log("some patterns present!");break;case"TySh":var hG=Z[n]={},z=M.aP(u,m);
hG.I=M.sr(u,m+2);var fA=M.aP(u,m+2+48);hG.uv={};var hh=f6.ee(u,hG.uv,m+56),eE=ad.ak8();for(var dh in eE)if(hG.uv[dh]==null)hG.uv[dh]=eE[dh];
hG.av={};var fT=f6.ee(u,hG.av,m+56+hh+6);hG.jR=M.a1q(u,m+56+hh+6+fT);hG.pU=fZ.Nh(hG.uv.EngineData.v);
ad.a9b(hG.pU.EngineDict.StyleRun.RunArray);if(hG.pU.ResourceDict==null)hG.pU.ResourceDict=JSON.parse(JSON.stringify(hG.pU.DocumentResources));
delete hG.uv.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var dB=M.h(u,m),iN=M.h(u,m+4);Z.lmfx={};
var hh=f6.ee(u,Z.lmfx,m+8);fg.HJ(Z.lmfx);break;case"FMsk":Z[n]=M.$r(u,m,N);break;case"Txt2":Z[n]={};
Z[n].raw=M.$r(u,m,N);Z[n].et=dR.Nh(Z[n].raw);break;case"Patt":Z[n]=eN.Mf(u,m,N);break;case"SoLd":var gV=M.Qi(u,m,4),fI=M.h(u,m+4),gc=M.h(u,m+8);
Z[n]={};var aF=f6.ee(u,Z[n],m+12);if(Z[n].nonAffineTransform==null)Z[n].nonAffineTransform=JSON.parse(JSON.stringify(Z[n].Trnf));
if(Z[n].Impr==null)Z[n].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var fI=M.h(u,m);
Z[n]={};var aF=f6.ee(u,Z[n],m+4);break;case"vscg":var aC=M.Qi(u,m,4),fI=M.h(u,m+4);Z[aC]={};var aF=f6.ee(u,Z[aC],m+8);
fg.W$(Z[aC],aC);break;case"vogk":var gh=M.h(u,m),fI=M.h(u,m+4);Z[n]={};var aF=f6.ee(u,Z[n],m+8);Z[n]=Z[n].keyDescriptorList.v;
for(var D=0;D<Z[n].length;D++){var gD=Z[n][D].v;if(!j.xK.f7(gD))continue;if(gD.keyOriginBoxCorners==null){var j1=j.xK.i_(gD);
gD.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var dg=[j1[0],j1[1],j1[2],j1[1],j1[2],j1[3],j1[0],j1[3]];
if(gD.keyOriginType.v==4)dg=j.xK.sf(j.xK.ly(gD),gD.keyOriginLineWeight.v);j.xK.sl(gD,"keyOriginBoxCorners",dg)}}break;
case"lnk2":case"lnkD__":case"lnk3__":Z[n]=[];var S=m;while(S<m+N){var ao=new F.Jk;Z[n].push(ao);var eC=M.gv(u,S);
S+=8;var bD=S;ao.type=M.Qi(u,S,4);S+=4;if(ao.type!="liFD"){alert("Unknown Linked Layer type: "+ao.type);
break;throw ao.type}ao.x1=M.h(u,S);S+=4;var fK=M.Dh(u,S);S+=1+fK.Ud.length;ao.Yw=fK.Ud;ao.sK=M.P3(u,S);
S+=4+ao.sK.length*2+2;ao.Er=M.Qi(u,S,4);S+=4;ao.cg=M.Qi(u,S,4);S+=4;var a1=M.gv(u,S);S+=8;ao.open=u[S];
S+=1;if(ao.open!=0){var fR={},hh=f6.ee(u,fR,S+4);if(hh%4!=0)hh+=4-hh%4;console.log(fR);S+=hh+4}ao.open=0;
ao.raw=M.$r(u,S,a1);S=bD+eC;if(eC%4!=0)S+=4-eC%4}break;case"FEid":var S=m;Z[n]=[];var bj=S+N,z=M.h(u,S);
S+=4;while(S<bj){S+=4;var eC=M.h(u,S);S+=4;var _={};Z[n].push(_);_.id=M.Dh(u,S).Ud;S+=_.id.length+1;
var z=M.h(u,S);S+=4;S+=4;var b7=M.h(u,S);S+=4;_.rect=M.ie(u,S);S+=16;var ha=M.h(u,S);S+=4;var eJ=M.h(u,S);
S+=4;var cq=new j.HT(0);for(var D=0;D<eJ+2;D++){var bF=M.h(u,S);S+=4;if(bF!=0){S+=4;var g4=M.h(u,S),eA=null;
S+=4;if(D<3||D==25)eA=hl.vU(!0,ha,u,_.rect.e,_.rect.n,S,g4);if(D==0)cq.p=eA;if(D==1)cq.T=eA;if(D==2)cq.S=eA;
if(D==25)cq.w7=eA;S+=g4}}_.buffer=j.U(_.rect.Z()*4);j.jh(cq,_.buffer);j.TS(_);var aJ=u[S];S++;if(aJ!=0){_.M=new F.ol;
_.M.rect=M.ie(u,S);S+=16;S+=4;var fU=M.h(u,S);S+=4;_.M.channel=hl.vU(!0,ha,u,_.M.rect.e,_.M.rect.n,S,fU);
_.M.color=255;_.M.GJ();S+=fU}if(eC%4!=0)S+=4-eC%4}break;case"Lr16":gA.eL(J,u,m);break;default:break}var iE="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf".split(" ");
if(iE.indexOf(n)==-1)if(N%4!=0)console.log("size not multiple of 4!!!",n);if(n!="luni"&&n!="TySh"&&n!="tySh"&&n!="lfx2")if(N%4!=0)N+=4-N%4;
m+=N}var hQ=[];for(var D=0;D<hQ.length;D++)delete Z[hQ[D]];return m};fg.Yf=function(u,m,C,Z,q){for(var J in C)if(C[J]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+J+"\" tag was present with a null value.");delete C[J]}for(var J in C){var A=Z&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(J)!=-1,N=0;
M.s7(u,m,A?"8B64":"8BIM");m+=4;var n=m;M.s7(u,m,J);m+=4;M.n0(u,m,0);m+=A?8:4;switch(J){case"iOpa":M.P_(u,m,C[J],1);
N=4;break;case"brst":N=0;for(var D=0;D<3;D++)if(C[J][D]==0){M.N6(u,m+N,D);N+=4}break;case"knko":M.P_(u,m,C[J],1);
N=4;break;case"infx":M.P_(u,m,C[J],1);N=4;break;case"clbl":M.P_(u,m,C[J],1);N=4;break;case"lmgm":M.P_(u,m,C[J],1);
N=4;break;case"vmgm":M.P_(u,m,C[J],1);N=4;break;case"lyid":M.N6(u,m,C[J]);N=4;break;case"lsct":M.N6(u,m,C[J].type);
N=4;if(C[J].Um){M.s7(u,m+4,"8BIM");M.s7(u,m+8,C[J].Um);N=12}break;case"lyvr":M.N6(u,m,C[J]);N=4;break;
case"lnsr":M.s7(u,m,C[J]);N=4;break;case"lspf":M.N6(u,m,C[J]);N=4;break;case"lclr":M.iV(u,m,C[J]);N=8;
break;case"luni":M.rI(u,m,C[J]);N=4+2*C[J].length;break;case"fxrp":M.Aj(u,m,C[J].x);M.Aj(u,m+8,C[J].y);
N=16;break;case"artb":case"artd":M.N6(u,m,16);N=f6.$$(u,C[J],m+4)+4;break;case"SoCo":M.N6(u,m,16);N=f6.$$(u,C[J],m+4)+4;
break;case"GdFl":M.N6(u,m,16);N=f6.$$(u,C[J],m+4)+4;break;case"PtFl":M.N6(u,m,16);N=f6.$$(u,C[J],m+4)+4;
break;case"CgEd":var e={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},Q=e,p=C[J];
Q.Brgh.v=p.Brgh.v;Q.Cntr.v=p.Cntr.v;Q.useLegacy.v=p.useLegacy.v;M.N6(u,m,16);N=f6.$$(u,e,m+4)+4;break;
case"brit":u.Ic(m,8);N=8;break;case"levl":var B=new cV;N=ii.d4(B,C[J]);M.fa(u,m,B.data);break;case"curv":N=ee.Yb(u,m,C[J]);
break;case"expA":N=14;u.Ic(m,14);M.Z8(u.data,m,1);M.VN(u.data,m+2,C[J].Exps?C[J].Exps.v:0);M.VN(u.data,m+6,C[J].Ofst?C[J].Ofst.v:0);
M.VN(u.data,m+10,C[J].gammaCorrection?C[J].gammaCorrection.v:1);break;case"vibA":M.N6(u,m,16);N=f6.$$(u,C[J],m+4)+4;
break;case"hue2":N=je.Yb(u,m,C[J]);break;case"blnc":N=19;u.Ic(m,N);var $=["ShdL","MdtL","HghL"];for(var D=0;
D<3;D++){var R=C[J][$[D]].v;for(var z=0;z<3;z++)R.push(M.FO(u.data,m+D*6+z*2,R[z].v))}u.data[m+18]=C[J].PrsL.v?1:0;
break;case"blwh":var e={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},v="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var D=0;D<v.length;D++){e[v[D]]=C[J][v[D]]}M.N6(u,m,16);N=f6.$$(u,e,m+4)+4;break;case"phfl":M.iV(u,m,2);
var a=C[J].Clr.v;M.iV(u,m+2,7);M.iV(u,m+4,Math.round(a.Lmnc.v*100));M.iV(u,m+6,Math.round(a.A.v*100));
M.iV(u,m+8,Math.round(a.B.v*100));M.iV(u,m+10,0);var X=m+2+10;u.Ic(X,5);M.G9(u.data,X,C[J].Dnst.v);X+=4;
u.data[X]=C[J].PrsL.v?1:0;X++;N=X-m;break;case"mixr":N=44;u.Ic(m,N);var V=b1.yP(C[J]);M.Z8(u.data,m,1);
M.Z8(u.data,m+2,V.ct?1:0);for(var D=0;D<20;D++)M.FO(u.data,m+4+D*2,V.k[D]);break;case"clrL":case"rplc":M.iV(u,m,1);
M.N6(u,m+2,16);N=f6.$$(u,C[J],m+6)+6;break;case"nvrt":N=0;break;case"post":M.iV(u,m,C[J].Lvls.v);N=2;
break;case"thrs":M.iV(u,m,C[J].Lvl.v);N=2;break;case"grdm":var o=C[J].Rvrs?C[J].Rvrs.v:!1,h=!1,T=867527939,l=!1,w=!1,W=2048,U=[0,0,0,0],s=[32768,32768,32768,32768],S=C[J].Grad.v,x,P,y=S.Clrs==null?1:0;
if(y==0){x=S;P=JSON.parse(c0.gy.aau).v}else{x=a7.Qv("grdm").Grad.v;P=S}u.Ic(m,4);M.Z8(u.data,m,1);u.data[m+2]=o?1:0;
u.data[m+3]=h?1:0;var _=m+4;M.rI(u,_,S.Nm.v);_+=4+S.Nm.v.length*2;_=hz.afY(u,_,x);M.iV(u,_,y);_+=2;M.N6(u,_,P.RndS.v);
_+=4;M.iV(u,_,P.ShTr.v?1:0);_+=2;M.iV(u,_,P.VctC.v?1:0);_+=2;M.N6(u,_,P.Smth.v);_+=4;M.iV(u,_,3);_+=2;
for(var D=0;D<4;D++)M.iV(u,_+D*2,U[D]);_+=8;for(var D=0;D<4;D++)M.iV(u,_+D*2,s[D]);_+=8;_+=2;N=_-m;break;
case"selc":N=iw.Yb(u,m,C[J]);break;case"FMsk":M.fa(u,m,C[J]);N=C[J].length;break;case"Txt2":var g=new cV,G=dR.Zw(C[J].et,g),O=j.U(G,!0);
for(var D=0;D<G;D++)O[D]=g.data[D];M.fa(u,m,O);N=O.length;break;case"vmsk":var E=C[J],L=0;M.N6(u,m,3);
if(!E.ca)L+=1<<1;if(!E.isEnabled)L+=1<<2;M.N6(u,m+4,L);N=8;var c=E.B.length;u.Ic(m+8,c*26);j9.$0(u.data,m+8,E.B,q.e,q.n);
N+=c*26;break;case"shmd":M.N6(u,m,Object.keys(C[J]).length);var X=m+4;for(var k in C[J]){M.s7(u,X,"8BIM");
X+=4;M.s7(u,X,k);X+=4;M.N6(u,X,0);X+=4;M.N6(u,X,0);X+=4;M.N6(u,X,16);X+=4;var I=f6.$$(u,C[J][k],X);if(I%4!=0)I+=4-I%4;
M.N6(u,X-8,I+4);X+=I}N=X-m;break;case"TySh":var X=m;M.IK(u,X,1);X+=2;var Y=C[J],g=new cV;Y.pU.DocumentResources=JSON.parse(JSON.stringify(Y.pU.ResourceDict));
var G=fZ.Zw(Y.pU,g),O=j.U(G,!0);for(var D=0;D<G;D++)O[D]=g.data[D];Y.uv.EngineData={t:"tdta",v:O};var K=Y.pU.EngineDict.Editor.Text;
Y.uv.Txt.v=K.substring(0,K.length-1);M.a98(u,X,Y.I);X+=48;M.IK(u,X,50);X+=2;M.N6(u,X,16);X+=4;X+=f6.$$(u,Y.uv,X);
M.IK(u,X,1);X+=2;M.N6(u,X,16);X+=4;X+=f6.$$(u,Y.av,X);M.ak5(u,X,Y.jR);X+=16;N=X-m;break;case"lmfx":M.N6(u,m,0);
M.N6(u,m+4,16);var e=JSON.parse(JSON.stringify(C[J])),i=!1;fg.UJ(e);for(var D=0;D<c0.Ca.length;D++)if(e[c0.Ca[D]]!=null)i=!0;
M.s7(u,n,i?"lmfx":"lfx2");N=f6.$$(u,e,m+8)+8;break;case"Patt":var X=eN.rQ(u,m,C[J]);N=X-m;break;case"SoLd":M.s7(u,m,"soLD");
M.N6(u,m+4,4);M.N6(u,m+8,16);N=f6.$$(u,C[J],m+12)+12;break;case"vstk":case"pths":M.N6(u,m,16);N=f6.$$(u,C[J],m+4)+4;
break;case"vscg__":M.s7(u,m,C[J].key);M.N6(u,m+4,16);N=f6.$$(u,C[J].k,m+8)+8;break;case"vogk":M.N6(u,m,1);
M.N6(u,m+4,16);j.xK.adj(C[J]);for(var D=0;D<C[J].length;D++){var i4=C[J][D].v.keyOriginResolution;if(i4)i4.v=q.JJ}var d7={classID:"null",keyDescriptorList:{t:"VlLs",v:C[J]}};
N=f6.$$(u,d7,m+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var _=m;for(var D=0;D<C[J].length;D++){var d=C[J][D],fH=_;
M.Dm(u,_,0);_+=8;M.s7(u,_,d.type);_+=4;M.N6(u,_,d.x1);_+=4;u.Ic(_,1);u.data[_]=d.Yw.length;_++;M.s7(u,_,d.Yw);
_+=d.Yw.length;M.rI(u,_,d.sK+"\0");_+=4+d.sK.length*2+2;M.s7(u,_,d.Er);_+=4;M.s7(u,_,d.cg);_+=4;M.Dm(u,_,d.raw.length);
_+=8;u.Ic(_,1);u.data[_]=d.open;_++;M.fa(u,_,d.raw);_+=d.raw.length;M.N6(u,_,1);_+=4;_+=11;var aC=_-fH-8;
M.Dm(u,fH,aC);if(aC%4!=0){u.Ic(_,4-aC%4);_+=4-aC%4}}N=_-m;break;case"FEid":var _=m;M.N6(u,_,3);_+=4;
for(var f8=0;f8<C[J].length;f8++){var c9=C[J][f8];_+=4;var g1=_;_+=4;M.h6(u,_,c9.id);_+=c9.id.length+1;
M.N6(u,_,1);_+=4;var cE=j.U(c9.rect.Z()),hG=c9.rect,fA=j.U(hG.Z());_+=4;var hh=_;_+=4;M.Kk(u,_,hG);_+=16;
M.N6(u,_,8);_+=4;M.N6(u,_,24);_+=4;for(var D=0;D<24+2;D++){var eE=-1;if(D==0)eE=0;if(D==1)eE=1;if(D==2)eE=2;
if(D==25)eE=3;M.N6(u,_,eE!=-1?1:0);_+=4;if(eE!=-1){j._H(c9.buffer,cE,eE);j.j5(cE,c9.rect,fA,hG);_+=4;
var dh=_;_+=4;u.Ic(_,hG.Z()+2);_=hl.GM(!0,fA,u.data,hG.e,hG.n,_,3);M.N6(u,dh,_-(dh+4))}}M.N6(u,hh,_-(hh+4));
u.Ic(_,1);u.data[_]=c9.M?1:0;_++;if(c9.M!=null){var fT=hG,dB=j.U(fT.Z());dB.fill(c9.M.color);j.j5(c9.M.channel,c9.M.rect,dB,fT);
M.Kk(u,_,fT);_+=16;_+=4;var iN=_;_+=4;u.Ic(_,fT.Z()+2);_=hl.GM(!0,dB,u.data,fT.e,fT.n,_,3);M.N6(u,iN,_-(iN+4))}var aC=_-(g1+4);
M.N6(u,g1,aC);if(aC%4!=0)_+=4-aC%4}N=_-m;break;default:console.log("unknown layer tag: "+J+", size: "+N);
m-=12;continue}var gV=["Txt2","artd","extd","pths"];if(gV.indexOf(J)==-1)if(N%4!=0)N+=4-N%4;if(A)M.Dm(u,m-8,N);
else M.N6(u,m-4,N);if(J!="luni"&&J!="TySh")if(N%4!=0)N+=4-N%4;m+=N}return m};fg.HJ=function(u){for(var D=0;
D<c0.order.length;D++){var m=c0.order[D],C=c0.Ca[D];if(u[C]==null)u[C]={t:"VlLs",v:[]};if(u[m]!=null){u[C].v.push(u[m]);
delete u[m]}var Z=[];for(var q=0;q<u[C].v.length;q++){var J=u[C].v[q];if(J.v.present==null||J.v.present.v==!0)Z.push(J)}u[C].v=Z}};
fg.UJ=function(u){for(var D=0;D<c0.order.length;D++){var m=c0.order[D],C=c0.Ca[D],Z=u[C].v.length;if(Z==0){delete u[C];
continue}if(Z==1){u[m]=u[C].v[0];delete u[C];continue}}};fg.W$=function(u,m){if(m=="GdFl"){if(u.Angl==null)u.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(u.Algn==null)u.Algn={v:!0,t:"bool"};if(u.Scl==null)u.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(u.Ofst==null)u.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(u.Rvrs==null)u.Rvrs={v:!1,t:"bool"};if(u.Dthr==null)u.Dthr={v:!1,t:"bool"}}if(m=="PtFl"){if(u.Algn==null)u.Algn={v:!0,t:"bool"};
if(u.Angl==null)u.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(u.Scl==null)u.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(u.phase==null)u.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};fg.clone=function(u,m){var C={};
if(u=="TySh"){C.I=m.I.clone();C.uv=JSON.parse(JSON.stringify(m.uv));C.av=JSON.parse(JSON.stringify(m.av));
C.jR=m.jR.clone();C.pU=JSON.parse(JSON.stringify(m.pU));if(m.add)C.add={vmsk:m.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(m.add.vogk))};
return C}else if(u=="fxrp")return m.clone();else if(u=="vmsk")return m.clone();else return JSON.parse(JSON.stringify(m))};
function jv(u,m){}jv.Nh=function(u,m,C,Z){Z=jv.a2N(u,m,C,Z);return Z};jv.Zw=function(u,m,C,Z,q){Z=jv.alN(u,m,C,Z,q);
return Z};jv.a2N=function(u,m,C,Z){var q=Z;u.rect=M.ie(C,Z);Z+=16;var J=M.aP(C,Z);Z+=2;u.Xu=[];var A=m.d_;
for(var D=0;D<J;D++){u.Xu[D]={id:M.xg(C,Z),length:(A?M.gv:M.h)(C,Z+2)};Z+=A?10:6}var n=M.Qi(C,Z,4);Z+=4;
if(n!="8BIM"){console.log("Invalid Blend mode signature: "+n);alert("Error in Photoshop file: wrong signature.");
throw"e"}u.Um=M.Qi(C,Z,4);Z+=4;u.opacity=C[Z];Z+=1;u.G8=C[Z]==1;Z+=1;u.VO=C[Z];Z+=1;if(C[Z]!=0)console.log("error in filler!");
Z+=1;var N=M.h(C,Z);Z+=4;var e=Z;Z=jv.a67(u,C,Z);Z=jv.ar0(u,C,Z);var Q=M.Dh(C,Z);u.name=Q.Ud;Z+=Q.length;
if(Q.length%4!=0)Z+=4-Q.length%4;Z=fg.kT(C,Z,e+N,u.add,A,m);if(u.add.lsct){if(u.add.lsct.Um)u.Um=u.add.lsct.Um;
u.add.lsct=u.add.lsct.type}return Z};jv.alN=function(u,m,C,Z,q){var J=Z;M.Kk(C,Z,u.rect);Z+=16;var A=u.Z0();
M.iV(C,Z,A.length);Z+=2;var n=m.d_;q.push(Z);for(var D=0;D<A.length;D++){M.IK(C,Z,A[D]);if(n)M.Dm(C,Z+2,0);
else M.N6(C,Z+2,0);Z+=n?10:6}M.s7(C,Z,"8BIM");Z+=4;M.s7(C,Z,u.Um);Z+=4;M.P_(C,Z,u.opacity,1);Z+=1;M.P_(C,Z,u.G8?1:0,1);
Z+=1;M.P_(C,Z,u.VO,1);Z+=1;M.P_(C,Z,0,1);Z+=1;var N=Z;M.N6(C,Z,0);Z+=4;var e=Z;Z=jv.ajX(u,C,Z);Z=jv.aqQ(u,C,Z);
var Q=M.h6(C,Z,u.name.slice(0,255));Z+=Q;if(Q%4!=0)Z+=4-Q%4;if(u.add.lsct){u.add.lsct={type:u.add.lsct};
if(u.Um=="pass"){u.add.lsct.Um="pass";u.Um="norm"}}if(u.Um=="pass")u.add.lsct={type:u.add.lsct,Um:"pass"};
if(u.add.brit)u.add.CgEd=u.add.brit;Z=fg.Yf(C,Z,u.add,n,m);delete u.add.CgEd;if(u.add.lsct){if(u.add.lsct.Um)u.Um=u.add.lsct.Um;
u.add.lsct=u.add.lsct.type}var p=Z-e;M.N6(C,N,p);return Z};jv.a67=function(u,m,C){var Z=M.h(m,C);C+=4;
if(Z==0)return C;var q=C;u.M=new F.ol;u.M.rect=M.ie(m,C);C+=16;u.M.color=m[C];C+=1;var J=jv.Ob(u.M,m,C);
C+=1;if(J){var A=!1,n=255,N=0,e=255,Q=0;for(var D=0;D<u.Xu.length;D++)if(u.Xu[D].id==-3)A=!0;if(A){u.yR=jv.$U(m,C);
C+=18}var p=C,B=m[C];C++;if(B>>0&1){n=m[C];C++}if(B>>1&1){N=M.AN(m,C);C+=8}if(B>>2&1){e=m[C];C++}if(B>>3&1){Q=M.AN(m,C);
C+=8}if((C-p&1)==1)C++;u.Rz=[n,N,e,Q]}else{if(Z==20)C+=2;else{u.yR=jv.$U(m,C);C+=18}}return q+Z};jv.ajX=function(u,m,C){M.N6(m,C,0);
C+=4;if(u.M==null)return C;var Z=u.Te(),q=u.add.vmsk,J=C,A=!0;M.N6(m,C,0);M.Kk(m,C,u.M.rect);C+=16;M.P_(m,C,u.M.color);
C+=1;jv.fh(u.M,m,C,A);C+=1;if(A){if(u.yR){jv.ak1(m,C,u.yR);C+=18}M.P_(m,C,15);C+=1;M.P_(m,C,Z?Z.cp:255);
C+=1;M.Aj(m,C,Z?Z.To:0);C+=8;M.P_(m,C,q?q.cp:255);C+=1;M.Aj(m,C,q?q.To:0);C+=8;C++}M.N6(m,J-4,C-J);return C};
jv.$U=function(u,m){var C=new F.ol;jv.Ob(C,u,m);m+=1;C.color=u[m];m+=1;C.rect=M.ie(u,m);m+=16;return C};
jv.ak1=function(u,m,C){jv.fh(C,u,m,!1);m+=1;M.P_(u,m,C.color);m+=1;M.Kk(u,m,C.rect);m+=16};jv.Ob=function(u,m,C){var Z=m[C];
u.ca=(Z>>0&1)==0;u.isEnabled=(Z>>1&1)==0;u.Qr=(Z>>3&1)==1;return Z>>4&1};jv.fh=function(u,m,C,Z){var q=0;
if(!u.ca)q+=1<<0;if(!u.isEnabled)q+=1<<1;if(u.Qr)q+=1<<3;if(Z)q+=1<<4;M.P_(m,C,q)};jv.ar0=function(u,m,C){var Z=M.h(m,C);
C+=4;for(var D=0;D<Z;D++)u.Aw[D]=m[C+D];return C+Z};jv.aqQ=function(u,m,C){M.N6(m,C,u.Aw.length);C+=4;
m.Ic(C,40);for(var D=0;D<40;D++){m.data[C+D]=u.Aw[D]}return C+40};function hl(){}hl.Nh=function(u,m,C,Z){Z=hl.aoo(m.d_,m.vO,m.Bu,u,C,Z);
return Z};hl.d4=function(u,m,C,Z,q,J){Z=hl.afa(u,m,C,Z,q,J);return Z};hl.aoo=function(u,m,C,Z,q,J){var A=Z.Xu,n={},N=J;
for(var D=0;D<A.length;D++){var e=A[D],Q=e.id,p=e.length,B;if(Q==-3)B=Z.yR.rect;else if(Q==-2)B=Z.M.rect;
else B=Z.rect;var $=hl.vU(u,m,q,B.e,B.n,J,p);J+=p;if(Q==-3)Z.yR.channel=$;else if(Q==-2)Z.M.channel=$;
else n["c"+Q]=$}var R=new j.HT(0);R.w7=null;if(C==3){R.p=n.c0;R.T=n.c1;R.S=n.c2;R.w7=n["c-1"]}else if(C==1){R.p=n.c0;
R.T=n.c0;R.S=n.c0;R.w7=n["c-1"]}else if(C==4){var z=n.c0,v=n.c1,a=n.c2,X=n.c3,V=z.length,o=1/255;for(var D=0;
D<V;D++){var h=z[D],T=v[D],l=a[D],w=X[D]*o;z[D]=Math.round(h*w);v[D]=Math.round((.2*h+.8*T)*w);a[D]=Math.round((.2*T+.8*l)*w)}R.p=z;
R.T=v;R.S=a;R.w7=n["c-1"];console.log("converting from CMYK to RGB")}if(R.p==null)R.p=j.U(0);if(R.w7==null&&R.p!=null){R.w7=R.p.slice(0);
R.w7.fill(255)}if(R.T==null)R.T=R.p.slice(0);if(R.S==null)R.S=R.p.slice(0);Z.buffer=j.U(Math.max(0,Z.rect.Z()*4));
j.jh(R,Z.buffer);return J};hl.afa=function(u,m,C,Z,q,J){var A=m.Z0(),n=new j.HT(m.rect.Z());j.Bh(m.buffer,n);
for(var D=0;D<A.length;D++){var N=A[D],e,Q;if(N==-3)e=m.yR.rect;else if(N==-2)e=m.M.rect;else e=m.rect;
if(N==-3)Q=m.yR.channel;if(N==-2)Q=m.M.channel;if(N==-1)Q=n.w7;if(N==0)Q=n.p;if(N==1)Q=n.T;if(N==2)Q=n.S;
C.Ic(Z,e.Z()*3+4);var p=Z;Z=hl.GM(u,Q,C.data,e.e,e.n,Z,J[1]?3:1);var B=Z-p;if(u)M.Wx(C.data,q+D*10+2,B);
else M.G9(C.data,q+D*6+2,B)}return Z};hl.vU=function(u,m,C,Z,q,J,A){var n=M.aP(C,J);J+=2;return hl.YS(u,m,C,Z,q,J,n,A-2)};
hl.GM=function(u,m,C,Z,q,J,A){M.FO(C,J,A);J+=2;J=hl.bo(u,m,C,Z,q,J,A);return J};hl.YS=function(u,m,C,Z,q,J,A,n){var N,e=Z*q*(m>>>3),Q=e&3,p=e+(Q==0?0:4-Q);
if(n<=0){return j.U(p)}if(A>3){console.log("unknown compression: "+A,Z,q,Z*q,n);A=0}if(A==0){if(J+p<=C.length)N=C.slice(J,J+p);
else{N=j.U(e);for(var D=0;D<e;D++)N[D]=C[J+D]}J+=e}else if(A==1){N=j.U(e);var B=u?4:2,$=hl.ll(C,N,Z,q,J,J+B*q,B);
J+=B*q+$}else if(A==2||A==3){var R=new Uint8Array(C.buffer,J+2,n-6),z=pako.inflateRaw(R);if(A==3){if(m==8)for(var v=0;
v<q;v++){var a=v*Z+1,X=a+Z-1,V=z[a-1];for(var o=a;o<X;o++){V+=z[o];z[o]=V&255}}else for(var v=0;v<q;
v++){var a=v*Z+1,X=a+Z-1,V=z[2*a-2]<<8|z[2*a-1];for(var o=a;o<X;o++){var h=o<<1;V+=z[h]<<8|z[h+1];z[h]=V>>>8;
z[h+1]=V&255}}}if(z.length==p)N=z;else{N=j.U(p);for(var D=0;D<z.length;D++)N[D]=z[D]}}if(m==16){var T=j.U(Z*q);
for(var D=0;D<e;D+=2)T[D>>>1]=N[D];N=T}return N};hl.bo=function(u,m,C,Z,q,J,A){var n=Z*q;if(A==0)for(var D=0;
D<n;D++)C[J++]=m[D];else if(A==1){var N=u?4:2,e=hl.NO(m,C,Z,q,J,J+N*q,N);J+=N*q+e}else if(A==2||A==3){if(A==3){var Q=new Uint8Array(m.length);
for(var p=0;p<q;p++){var B=p*Z+1,$=B+Z-1,R=m[B-1];Q[B-1]=R;for(var z=B;z<$;z++){Q[z]=m[z]+(256-R)&255;
R=m[z]}}m=Q}C[J]=120;C[J+1]=156;J+=2;var v=pako.deflateRaw(m,{asu:4});M.f3(C,J,v);J+=v.length+4}else console.log("Unknown compression: "+A);
return J};hl.ll=function(u,m,C,Z,q,J,A){if(!(u instanceof Uint8Array)||!(m instanceof Uint8Array))throw"e";
var n=J,N=Z|0;if(A==2)for(var D=0;D<N;D++){var e=M.aP(u,q+(D<<1));hl.kw(u,J,e,m,D*C,C);J+=e}else for(var D=0;
D<N;D++){var e=M.h(u,q+(D<<2));hl.kw(u,J,e,m,D*C,C);J+=e}return J-n};hl.NO=function(u,m,C,Z,q,J,A){var n=J;
if(A==2)for(var D=0;D<Z;D++){var N=hl.Od(u,D*C,C,m,J);M.Z8(m,q+D*2,N);J+=N}else for(var D=0;D<Z;D++){var N=hl.Od(u,D*C,C,m,J);
M.G9(m,q+D*4,N);J+=N}return J-n};hl.Od=function(u,m,jt,C,Z){var q,J,A,n,N,ag,e;n=m+jt;for(A=m,J=Z;jt>0;
A=q,jt-=ag){e=jt<128?jt:128;if(A<=n-3&&u[A+1]==u[A+0]&&u[A+2]==u[A+0]){for(q=A+3;q<A+e&&u[q]==u[A+0];
)++q;ag=q-A;C[J++]=1+256-ag;C[J++]=u[A+0]}else{for(q=A;q<A+e;)if(q<=n-3&&u[q+1]==u[q+0]&&u[q+2]==u[q+0])break;
else++q;ag=q-A;C[J++]=ag-1;for(var D=0;D<ag;D++)C[J+D]=u[A+D];J+=ag}}return J-Z};hl.kw=function(u,m,C,Z,q,J){for(var A=0;
A<C;){var jt=u[m++];if(jt>=128){var n=u[m++],N=q+(257-jt);Z.fill(n,q,N);q=N;A+=2}else{for(var D=0;D<=jt;
D++)Z[q+D]=u[m+D];m+=jt+1;q+=jt+1;A+=1+1+jt}}};function gA(){}gA.xQ=function(u,m,C){return;var Z="",q=m;
while(q!=0){var J=q%1e3+"";while(J.length<3)J="0"+J;Z=(Z==""?J:J+" ")+Z;q=Math.floor(q/1e3)}while(Z.startsWith("0")&&Z!="0")Z=Z.slice(1);
while(Z.length<11)Z=" "+Z;console.log("===",Z,"\t".repeat(u),": "+C)};gA.Nh=function(u,m){m.d_=!1;m.vO=8;
var C=new Uint8Array(u),Z=0,q=0,I,f8=!1,c9=!0,g1=!1,cE=0,fx=0;q=gA.em(m,C,Z);gA.xQ(0,q-Z,"PSD Header");
Z=q;q=gA.aiA(m,C,Z);gA.xQ(0,q-Z,"Color Mode Data");Z=q;q=gA.aqk(m,C,Z);gA.xQ(0,q-Z,"Image Resources");
Z=q;q=gA.a0x(m,C,Z);gA.xQ(0,q-Z,"Layer And Mask Info");Z=q;q=gA.aew(m,C,Z);gA.xQ(0,q-Z,"Merged Image");
Z=q;if(m.g.length==0){var J=m.Rp();J.RS("Background");m.g.push(J);J.buffer=m.buffer.slice(0);J.rect=new bl(0,0,m.e,m.n)}if(m.aB.r1005){m.JJ=M.acV(m.aB.r1005,0)}if(m.aB.r1026){var C=m.aB.r1026;
for(var D=0;D<C.length;D+=2){var q=m.g[D>>>1];if(q)q.Aa=M.aP(C,D)}}if(m.aB.r1072){var C=m.aB.r1072;for(var D=0;
D<C.length;D++){var q=m.g[D];if(q)q.Hy=C[D]==1}}if(m.aB.r1032){var C=m.aB.r1032,A=M.h(C,12);for(var D=0;
D<A;D++){var n=C[16+D*5+4],N=M.LR(C,16+D*5)/32;m.lZ.push([n,N])}}delete m.aB.r1036;delete m.aB.r1039;
if(m.aB.r1050){var e=M.h,Q=m.aB.r1050,p=M.h(Q,0);if(p==6){var B=4,$=M.ie(Q,B);B+=16;var R=M.oi(Q,B);
B+=4+R.length*2;var z=e(Q,B);B+=4;var v=m.$o;for(var D=0;D<z;D++){var a=b.JN.Mu(),V;v.push(a);a=a.v;
a.sliceID.v=e(Q,B);B+=4;a.groupID.v=e(Q,B);B+=4;var X=e(Q,B);B+=4;if(X==1){V=e(Q,B);B+=4}var R=M.oi(Q,B);
B+=4+R.length*2;var o=e(Q,B);B+=4;var h=[e(Q,B),e(Q,B+4),e(Q,B+8),e(Q,B+12)];B+=16;b.JN.t_(v,v.length-1,h);
var T=a.url.v=M.oi(Q,B);B+=4+T.length*2;var l=a.null.v=M.oi(Q,B);B+=4+l.length*2;var w=a.Msge.v=M.oi(Q,B);
B+=4+w.length*2;var W=a.altTag.v=M.oi(Q,B);B+=4+W.length*2;a.cellTextIsHTML.v=Q[B]==1;B++;var U=a.cellText.v=M.oi(Q,B);
B+=4+U.length*2;var s=e(Q,B);B+=4;var S=e(Q,B);B+=4;var x=Q.slice(B,B+4);B+=4;if(X!=2)v.pop()}}else if(p==8){var P={};
f6.ee(Q,P,8,!1);var Q=m.$o=P.slices.v;for(var D=0;D<Q.length;D++){if(Q[D].v.origin.v.ESliceOrigin!="userGenerated"){Q.splice(D,1);
D--}}}}if(m.aB.r1058){var y=m.aB.r1058,_=UTIF.decode(y.buffer,{parseMN:!1,debug:!1});bG.XL(_[0],m.wn);
delete m.aB.r1058}if(m.aB.r1060){var g=M.V6(m.aB.r1060);bG.ao_(g,m.wn);delete m.aB.r1060}if(m.aB.r1065){var C=m.aB.r1065;
m.CG={};f6.ee(C,m.CG,4,!1)}if(m.aB.r1069){var C=m.aB.r1069,G=[];for(var D=2;D<C.length;D+=4){var V=M.h(C,D);
for(var O=0;O<m.g.length;O++){var q=m.g[O];if(q.add.lyid==V&&q.add.lsct!=3)G.push(O)}}m.w=G}if(m.aB.r1025){var E=m.aB.r1025;
delete m.aB.r1025;var L=j9.m7(E,0,E.length,m.e,m.n),c=new F.nq;c.B=L;m.kL[0]=gj.Q2("Working Path",{vmsk:c})}var k=m.add.pths;
delete m.add.pths;var Y=m.aB.r3000;if(Y){I={};f6.ee(Y,I,4,!1);delete m.aB.r3000}for(var K=0;K<=997;K++){var i="r"+(2e3+K),E=m.aB[i];
if(E==null)break;var L=j9.m7(E,0,E.length,m.e,m.n),i4=k?k.pathList.v[K].v.pathUnicodeName.v:"Path "+K,d7=I?I.keyRootDescriptorList.v[K].v.keyDescriptorList.v:F.yz(L),c=new F.nq;
c.B=L;m.kL[K+1]=gj.Q2(i4,{vmsk:c,vogk:d7});delete m.aB[i]}delete m.d_;var d=new bl(0,0,m.e,m.n),fH=m.add.Txt2,aC=fH;
if(aC){aC=aC.et;if(aC._DocumentResources==null)aC=iv.afo(aC)}for(var D=0;D<m.g.length;D++){var q=m.g[D],hG=q.add.lsct,fA=q.add.vmsk,hh=q.Te();
if(hG==cT.Ip){cE++;q.add.lspf=0}else if(hG==cT.G6||hG==cT.an)cE--;if(q.name==""){q.name="Layer "+(D+1);
g1=!0}if(g1&&q.ld()&&q.Um=="norm")q.Um="pass";if(q.Bv()&&q.Ha(m).M){var eE=q.Ha(m);eE.M.isEnabled=q.add.SoLd.filterFX.v.filterMaskEnable.v}if(fA&&q.Y8()){var dh=c0.K_.default;
if(q.add.vstk==null)q.add.vstk=JSON.parse(JSON.stringify(dh));else{var fT="strokeStyleLineDashSet";if(q.add.vstk[fT]==null)q.add.vstk[fT]=JSON.parse(JSON.stringify(dh[fT]))}q.add.vstk.strokeStyleResolution.v=m.JJ}if(fA&&(q.add.vogk==null||j.$.o1(fA.B)!=q.add.vogk.length))q.yz();
if(q.add.SoLd&&q.rect.qR()){console.log("redrawing smart instance");q.go(m)}if(hh==null&&q.M!=null){if(q.M.Qr==!1){q.M.Qr=!0;
q.yR=q.M.clone()}}hh=q.Te();if(q.Rz){var dh=q.Rz,c=fA;if(hh){hh.cp=dh[0];hh.To=dh[1]}if(c){c.cp=dh[2];
c.To=dh[3]}q.Rz=null}if(hh!=null&&fA!=null&&(hh.To+fA.To!=0||hh.cp+fA.cp!=2*255))q.uE(m);else if(fA!=null&&!q.Y8())q.uE();
var dB=q.add.artb;if(dB&&dB.artboardBackgroundType==null)dB.artboardBackgroundType={t:"long",v:1};if(dB&&cE!=0)delete q.add.artb;
var iN=q.add.vstk;if(q.Y8()&&(q.rect.qR()||fA&&fA.To!=0||iN&&!iN.fillEnabled.v&&(!iN.strokeEnabled.v||iN.strokeStyleLineWidth.v.val==0)))q.ik(m);
if(q.add.TySh){f8=!0;if(!q.rect.qR())c9=!1}if(q.add.TySh&&aC){var gV=q.add.TySh.uv.TextIndex.v;if(gV==-1)continue;
var fI=q.add.TySh.pU,gc=ad.uG(fI),aF=aC._DocumentObjects._TextObjects;if(aF.length<=gV){console.log("Txt2 incomplete");
continue}var gh=aF[gV]._Model,gD=gh._StyleRun?gh._StyleRun._RunArray:[],j1=fI.EngineDict.StyleRun.RunArray;
for(var dg=0;dg<j1.length;dg++){var ao=j1[dg].StyleSheet.StyleSheetData;if(gD[dg]==null)continue;var eC=gD[dg]._RunData._StyleSheet._Features;
if(eC&&eC._BaselineDirection)ao.BaselineDirection=parseInt(eC._BaselineDirection.slice(1));if(eC&&eC._FillBackgroundFlag)ao._FillBackgroundFlag=eC._FillBackgroundFlag;
if(eC&&eC._FillBackgroundColor){var bD=eC._FillBackgroundColor,fK=bD._Color._Values.slice(0);for(var O=0;
O<4;O++)fK[O]=parseFloat(fK[O].slice(1));ao._FillBackgroundColor={Type:1,Values:fK}}if(eC&&eC._LineWidth)ao._LineWidth=parseFloat(eC._LineWidth.slice(1))}var a1=fI.EngineDict.ParagraphRun.RunArray,fR=gh._ParagraphRun._RunArray;
if(fR==null)fR=[];var bj=Math.min(fR.length,a1.length);for(var O=0;O<bj;O++){var b7=a1[O].ParagraphSheet.Properties,ha=aC._DocumentResources._ParagraphSheetSet._Resources,eJ=fR[O]._RunData._ParagraphSheet;
if(typeof eJ=="string")eJ=ha[parseInt(eJ.slice(1))]._Resource;var cq=eJ._Parent==null?eJ:ha[parseInt(eJ._Parent.slice(1))]._Resource;
eJ=eJ._Features;cq=cq._Features;var bF=eJ._ParagraphDirection;if(bF==null)bF=cq._ParagraphDirection;
if(bF)b7._Direction=parseInt(bF.slice(1));if(eJ._ComposerEngine)b7._ComposerEngine=parseInt(eJ._ComposerEngine.slice(1))}if(gh._AlternateGlyphRun){var fR=gh._AlternateGlyphRun._RunArray,bj=fR.length,g4=fI.EngineDict.AlternateGlyphRun=ad.adb();
for(var O=0;O<bj;O++){var eJ=fR[O],eA={},aJ=eJ._RunData._AlternateGlyphSheet;if(aJ)eA.Glyph=parseInt(aJ._Glyph.slice(1));
g4.RunArray.push(eA);g4.RunLengthArray.push(parseInt(eJ._Length.slice(1)))}}var fU=aC._DocumentResources,iE=fU._TextFrameSet._Resources,hQ=iE[gV]._Resource,bT=hQ._Data,iU=new ix(1,0,0,1,0,0);
if(hQ._0){var ba=parseFloat(hQ._0[0].slice(1)),eI=parseFloat(hQ._0[1].slice(1));iU.translate(ba,eI)}if(gc){iU.translate(gc[0],gc[1]);
ad.Fm(fI,[0,0,gc[2]-gc[0],gc[3]-gc[1]])}else{if(hQ._Bezier&&hQ._Bezier._Points){var L=hQ._Bezier._Points,ba=parseFloat(L[0].slice(1)),eI=parseFloat(L[1].slice(1));
if(ba!=0||eI!=0){iU.translate(ba,eI)}}}if(hQ._Data&&hQ._Data._FrameMatrix){var e_=hQ._Data._FrameMatrix;
e_=e_.map(function(ge){return parseFloat(ge.slice(1))});iU.concat(new ix(e_[0],e_[1],e_[2],e_[3],e_[4],e_[5]))}iU.concat(q.add.TySh.I);
q.add.TySh.I=iU;var o=bT._Type?parseInt(bT._Type.slice(1)):0;if(o==2||o==1&&bT._PathData&&bT._PathData._Spacing=="i-3"){var bs=function(ge){return parseFloat(ge.slice(1))},L=hQ._Bezier._Points.map(bs);
if(gc)j.u.I(L,new ix(1,0,0,1,-gc[0],-gc[1]),L);var fr=bT._PathData?bT._PathData._Reversed:!1;fI.Curve={Points:L,TextOnPathTRange:bT._TextOnPathTRange.map(bs),Reversed:fr==null?!1:fr};
q.add.TySh.add={vmsk:new F.nq,vogk:null};ad.p9(q.add.TySh)}if(bT._LineOrientation=="i2")fI._LineOrientation=2}}b.Sa.us(m,!0);
var db={},fb=[];for(var D=0;D<m.g.length;D++){var dA=m.g[D].add.lyid;if(dA==null)continue;var fx=Math.max(fx,dA);
if(db[dA]!=null)fb.push(D);else db[dA]=!0}for(var D=0;D<fb.length;D++)m.g[fb[D]].add.lyid=fx+1+D};gA.Zw=function(u,m,C){b.Sa.$C(u);
b.Sa.us(u,!1);u.d_=C[3]==!0;var Z=[],q=[],R=0,v=1,l=16,K=0;for(var D=0;D<u.g.length;D++){var J=u.g[D];
if(J.Bv()&&J.Ha(u).M){J.add.SoLd.filterFX.v.filterMaskEnable.v=J.Ha(u).M.isEnabled}if(J.add.TySh){var A=J.add.TySh.pU,n=ad.wH(A);
J.add.TySh.uv.TextIndex={t:"long",v:Z.length};Z.push(A);if(n==2)ad.GA(J.add.TySh)}var N=J.add.vstk;if(N)N.strokeStyleResolution.v=u.JJ;
if(J.Y8()||C[2]&&J.add.SoLd){q[D]=[J.rect,J.buffer];J.rect=new bl;J.buffer=j.U(0);if(J.add.SoLd){var e=J.Ha(u);
if(e!=null){q[D].push(e.buffer);e.buffer=j.U(e.buffer.length)}}}}if(Z.length>0){var Q=u.add.Txt2?u.add.Txt2.et:null;
if(u.add.Txt2==null)u.add.Txt2={};u.add.Txt2.et=ct.arZ(Z,null,Q)}var p=[u.add.lnk2,u.add.FEid,u.add.Patt],B=u.arB(u.g);
u.a2e(B);u.aB.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);M.Fk(u.aB.r1005,0,u.JJ);M.Fk(u.aB.r1005,8,u.JJ);
if(u.D0()){u.aB.r1022=new Uint8Array([0,3+u.YG.length-1,0])}else delete u.aB.r1022;var $=new Uint8Array(u.g.length*2),z=new Uint8Array(u.g.length);
for(var D=0;D<u.g.length;D++){var J=u.g[D],X=J.Aa,V=J.Hy?1:0;M.Z8($,D*2,X);z[D]=V;if(X>R)R=X;if(V==0)v=0}if(R>0)u.aB.r1026=$;
if(v<1)u.aB.r1072=z;var o=u.lZ,h=o.length,T=u.aB.r1032=j.U(16+5*h,!0);M.G9(T,0,1);M.G9(T,4,576);M.G9(T,8,576);
M.G9(T,12,h);for(var D=0;D<h;D++){M.Tg(T,l,Math.round(o[D][1]*32));T[l+4]=o[D][0];l+=5}var w=j.iW(u.buffer),W=[];
if(w)W.push({name:"Transparency",fB:{p:255,T:0,S:0},UO:100,X1:1});W=W.concat(u.YG);delete u.aB.r1045;
delete u.aB.r1006;delete u.aB.r1077;var U=new cV;l=0;var s=new Uint8Array(4+W.length*13);s[3]=1;for(var D=0;
D<W.length;D++){var S=W[D],x=S.name+"\0";M.rI(U,l,x);l+=4+x.length*2;var P=4+D*13;ff.T9(s,P,S.fB);s[P+11]=S.UO;
s[P+12]=S.X1}u.aB.r1045=U.data.slice(0,l);u.aB.r1077=s;for(var D=0;D<u.$o.length;D++)u.$o[u.$o.length-D-1].v.sliceID.v=2+D*3;
var y={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:u.$o}},U=new cV;
M.N6(U,0,8);M.N6(U,4,16);var _=f6.$$(U,y,8);u.aB.r1050=U.data.slice(0,_+8);var U=new cV;M.N6(U,0,16);
var _=f6.$$(U,u.CG,4);u.aB.r1065=U.data.slice(0,_+4);var g=u.w;T=u.aB.r1069=j.U(2+g.length*4,!0);M.Z8(T,0,g.length);
for(var D=0;D<g.length;D++)M.G9(T,2+4*D,u.g[g[D]].add.lyid);delete u.aB.r1058;delete u.aB.r1060;if(Object.keys(u.wn).length!=0){var G=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
bG.aC(u.wn,G[0],C[0]&&C[1]);u.aB.r1058=new Uint8Array(UTIF.encode(G));var O=bG.a0E(u.wn);u.aB.r1060=M.t2(O)}var E=[],L=[];
for(var D=0;D<u.kL.length;D++){var c=u.kL[D],k=c.add.vmsk.B;if(D==0&&k.length==2)continue;var I=j.U(k.length*26);
j9.$0(I,0,k,u.e,u.n);var Y=D==0?1025:2e3+D-1;u.aB["r"+Y]=I;if(D!=0){E.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:c.name}}});
L.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:c.add.vogk}}})}}if(E.length!=0){u.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:E}};
L={classID:"null",keyRootDescriptorList:{t:"VlLs",v:L}};var U=new cV;M.N6(U,0,16);var _=f6.$$(U,L,4);
u.aB.r3000=U.data.slice(0,_+4)}else{delete u.add.pths;delete u.aB.r3000}K=gA.ajA(u,m,K,3+W.length);K=gA.asO(u,m,K);
K=gA.a6_(u,m,K);K=gA.aml(u,m,K,C,w);K=gA.an4(u,m,K,C[0],w);var i=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var D=0;D<i.length;D++)delete u.aB["r"+i[D]];for(var D=0;D<u.g.length;D++){var J=u.g[D];if(J.Y8()||C[2]&&J.add.SoLd){J.rect=q[D][0];
J.buffer=q[D][1];if(q[D][2]){var e=J.Ha(u);q[D].push(e.buffer);e.buffer=q[D][2]}}}u.a2e(p);b.Sa.us(u,!0);
delete u.d_;return K};gA.em=function(u,m,C){var Z=M.Qi(m,C,4);C+=4;if(Z!="8BPS")alert("invalid header signature: "+Z);
var q=M.aP(m,C);C+=2;u.d_=q==2;if(q!=1&&q!=2)alert("invalid version: "+q);C+=6;u.Sv=M.aP(m,C);C+=2;u.n=M.LR(m,C);
C+=4;u.e=M.LR(m,C);C+=4;u.vO=M.aP(m,C);C+=2;u.Bu=M.aP(m,C);C+=2;return C};gA.ajA=function(u,m,C,Z){m.Ic(0,64);
M.xI(m.data,C,"8BPS");C+=4;M.Z8(m.data,C,u.d_?2:1);C+=2;M.G9(m.data,C,0);C+=4;M.Z8(m.data,C,0);C+=2;
M.Z8(m.data,C,Z);C+=2;M.Tg(m.data,C,u.n);C+=4;M.Tg(m.data,C,u.e);C+=4;M.Z8(m.data,C,8);C+=2;M.Z8(m.data,C,3);
C+=2;return C};gA.aiA=function(u,m,C){var Z=M.LR(m,C);C+=4;if(Z!=0)u.kK=m.slice(C,C+Z);C+=Z;return C};
gA.asO=function(u,m,C){M.n0(m,C,0);C+=4;return C};gA.aqk=function(u,m,C){var Z=M.h(m,C),q=0;C+=4;var J=[];
while(q<Z){var A=M.Qi(m,C+q,4);q+=4;var n=M.aP(m,C+q);q+=2;var N=M.Dh(m,C+q);q+=N.length;if(A!="8BIM"){J.push(n);
console.log("Unknown Image Resources signature: "+A+", ID: "+n)}var e=M.h(m,C+q);q+=4;if(u.aB["r"+n]!=null)console.log("--- two resources with same ID");
u.aB["r"+n]=M.$r(m,C+q,e);q+=e+(e&1)}for(var D=0;D<J.length;D++)delete u.aB["r"+J[D]];return C+Z};gA.a6_=function(u,m,C){var Z=C,A=0;
C+=4;var q=[];for(var J in u.aB){q.push(parseInt(J.slice(1)))}q.sort(function(p,B){return p-B});for(var D=0;
D<q.length;D++){M.s7(m,C+A,"8BIM");A+=4;var n=q[D];M.iV(m,C+A,n);A+=2;var N=M.h6(m,C+A,"");A+=N;var e=u.aB["r"+n],Q=e.length;
M.N6(m,C+A,Q);A+=4;M.fa(m,C+A,e);A+=Q;if(Q%2==1)A++}M.N6(m,Z,A);return C+A};gA.a0x=function(u,m,C){var Z=C,q,J,A=u.d_?8:4;
if(u.d_)q=M.gv(m,C);else q=M.h(m,C);C+=A;if(q==0)return Z+A;J=gA.as5(u,m,C);gA.xQ(1,J-C,"Layer Info");
C=J;J=gA.ars(u,m,C);gA.xQ(1,J-C,"Global Layer Mask Info");C=J;J=fg.kT(m,C,Z+A+q,u.add,u.d_,u);gA.xQ(1,J-C,"Project Add Info");
C=J;return Z+A+q};gA.aml=function(u,m,C,Z,q){var J=C;M.N6(m,C,0);C+=4;if(u.d_){M.N6(m,C,0);C+=4}C=gA.a4e(u,m,C,Z,q);
C=gA.a56(u,m,C);C=fg.Yf(m,C,u.add,u.d_,u);if(u.d_)M.Dm(m,J,C-J-8);else M.N6(m,J,C-J-4);return C};gA.as5=function(u,m,C){var Z,q=u.d_?8:4;
if(u.d_)Z=M.gv(m,C);else Z=M.h(m,C);C+=q;if(Z!=0)gA.eL(u,m,C);return C+Z};gA.eL=function(u,m,C){var Z=M.xg(m,C);
C+=2;var q=Math.abs(Z);for(var D=0;D<q;D++){var J=new F;C=jv.Nh(J,u,m,C);u.g[D]=J}var A=new bl(0,0,u.e,u.n);
for(var D=0;D<q;D++){var n=u.g[D],N=n.Te(),e=hl.Nh(n,u,m,C);if(e-C>8)gA.xQ(2,e-C,"Lay: "+n.getName());
C=e;gA.aj(n,A);if(N)gA.aj(N,A)}};gA.aj=function(u,m){var C=u.rect.Z(),Z=u.rect.aR(m),q=Z.Z()/C;if(C>2e3*3e3&&q<.5){if(u.buffer){var J=j.U(Z.Z()*4);
j.zO(u.buffer,u.rect,J,Z);u.buffer=J;u.rect=Z}else{var J=j.U(Z.Z());j.j5(u.channel,u.rect,J,Z);u.channel=J;
u.rect=Z}alert("Removing hidden parts of layers")}};gA.a4e=function(u,m,C,Z,q){var J=C,A=u.d_;C+=A?8:4;
C=gA.bc(u,m,C,Z,q);var n=C-J-(A?8:4);if(n%2!=0)n++;if(A)M.Dm(m,J,n);else M.N6(m,J,n);return J+n+(A?8:4)};
gA.bc=function(u,m,C,Z,q){var J=u.g.length;M.IK(m,C,q?-J:J);C+=2;var A=[];for(var D=0;D<J;D++)C=jv.Zw(u.g[D],u,m,C,A);
for(var D=0;D<J;D++)C=hl.d4(u.d_,u.g[D],m,C,A[D],Z);return C};gA.ars=function(u,m,C){var Z=M.h(m,C);
C+=4;C+=Z;return C};gA.a56=function(u,m,C){var Z=M.N6(m,C,0);C+=4;return C};gA.aew=function(u,m,C){var Z=u.Bu,q="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),J=[1,1,1,3,4,1,1,3],A,z;
if(Z!=3){if(Z==1||Z==2||Z==4)alert("Project will be converted from "+q[Z]+" to "+q[3]+" mode.");else{alert("Color mode "+q[Z]+" is not supported yet :(")}}if(u.aB.r1045){A=[];
var n=u.aB.r1045,N=0;while(N<n.length){var e=M.P3(n,N);A.push(e);N+=4+2+e.length*2}}var Q=J[Z]+(A==null||A[0]=="Transparency"?1:0),p=u.e,B=u.n,$=p*B,R=M.aP(m,C);
C+=2;u.buffer=j.U($*4);j.gs(u.buffer,4278190080);var v=C;for(var a=0;a<u.Sv;a++){if(R==0){z=hl.YS(u.d_,u.vO,m,p,B,C,R);
C+=$*(u.vO>>>3)}else if(R==1){z=j.U($);var X=u.d_?4:2;if(a==0)C+=u.Sv*B*X;C+=hl.ll(m,z,p,B,v+a*B*X,C,X)}else{console.log("unknown compression of image data: ",R);
return}if(a<Q){j.wC(z,u.buffer,a);if(u.Sv==1&&a==0){j.wC(z,u.buffer,1);j.wC(z,u.buffer,2)}}else{var V=new F.ol,o=a-Q,h=a-J[u.Bu];
V.name=A?A[h]:"Alpha";if(V.name=="Quick Mask"){V.GH=!0;u.Rc.push(o)}V.rect=new bl(0,0,p,B);V.channel=z;
V.color=0;V.GJ();u.YG[o]=V;if(u.aB.r1077){var n=u.aB.r1077.slice(4+h*13);V.fB=ff.Di(n,0);V.UO=n[11];
V.X1=n[12];if(V.X1==2)V.GH=!0}}}u.Sv=4;if(u.Bu==2)for(var D=0;D<$;D++){var T=D*4,l=u.buffer[T];u.buffer[T]=u.kK[0+l];
u.buffer[T+1]=u.kK[256+l];u.buffer[T+2]=u.kK[512+l]}return C};gA.an4=function(u,m,C,Z,q){var J=1,A=16,n=u.e,N=u.n,Q,p;
M.iV(m,C,J);C+=2;var e=n*N;if(!Z){p=new j.HT(n*N);j.Bh(u.buffer,p);var B=p.p,$=p.T,R=p.S,z=p.w7;for(var D=0;
D<e;D++){var v=z[D]*(1/255);B[D]=~~(B[D]*v+255*(1-v));$[D]=~~($[D]*v+255*(1-v));R[D]=~~(R[D]*v+255*(1-v))}}else Q=j.U(e);
var a=[Q,Q,Q];if(!Z)a=[p.p,p.T,p.S];if(q)a.push(Z?Q:p.w7);for(var D=0;D<u.YG.length;D++){a.push(u.YG[D].f9(new bl(0,0,u.e,u.n)))}var X=C;
for(var V=0;V<a.length;V++){m.Ic(C,n*N+4);Q=a[V];if(J==0||J==2||J==3)C=hl.bo(u.d_,Q,m.data,n,N,C,J);
else{var o=u.d_?4:2;if(V==0)C+=a.length*N*o;var h=C;C+=hl.NO(Q,m.data,n,N,X+V*N*o,C,o)}}return C};function fZ(){}fZ.Nh=function(u){var m={};
fZ.QT(u,m,0,0);return m};fZ.Zw=function(u,m){var C=0;C=fZ.Ru(u,m,C,0);return C};fZ.QT=function(u,m,C,Z){while(u[C]!="<".charCodeAt(0))C++;
C+=2;while(!0){if(u[C]=="/".charCodeAt(0)){C++;var q=M.indexOf(u," ".charCodeAt(0),C,C+50),J=M.indexOf(u,"\n".charCodeAt(0),C,C+50);
if(J==-1)J=Infinity;if(q==-1)q=Infinity;var A=Math.min(J,q),n=M.Qi(u,C,A-C),N=fZ.CM(u,A+1,Z+1,n);m[n]=N.k;
C=A+1;C+=N.size}else if(u[C]==">".charCodeAt(0)){C+=2;break}else{var e=u[C];if(e==10||e==9||e==32)C++;
else{console.log("unknown byte: "+e+", char: "+String.fromCharCode(e),C);C++}}}return C};fZ.Ru=function(u,m,C,Z){M.s7(m,C,"<<\n");
C+=3;var q=fZ.a34;for(var J in u){M.P_(m,C,"\t".charCodeAt(0),Z+1);C+=Z+1;M.s7(m,C,"/"+J);C+=1+J.length;
if(q(u[J])||u[J]instanceof Array){M.s7(m,C," ");C++}else{M.s7(m,C,"\n");C++;M.P_(m,C,"\t".charCodeAt(0),Z+1);
C+=Z+1}C=fZ.Ht(u[J],m,C,Z+1);M.s7(m,C,"\n");C++}M.P_(m,C,"\t".charCodeAt(0),Z);C+=Z;M.s7(m,C,">>");C+=2;
return C};fZ.CM=function(u,m,C,Z){var q=m,J={size:0,k:0};while(!0){while(u[m]==" ".charCodeAt(0)||u[m]=="\t".charCodeAt(0)||u[m]=="\n".charCodeAt(0))m++;
if(u[m]=="<".charCodeAt(0)){J.k={};m=fZ.QT(u,J.k,m,C+1);break}else if(u[m]=="(".charCodeAt(0)){m+=3;
var A=m;while(!0){if(u[A-1]!="\\".charCodeAt(0)&&u[A]==")".charCodeAt(0)&&(u[A+1]=="\n".charCodeAt(0)||u[A+1]==" ".charCodeAt(0)))break;
else A++}J.k=M.WJ(u,m,A);m=A+2;break}else if(u[m]=="[".charCodeAt(0)){m++;J.k=[];while(u[m]==" ".charCodeAt(0)||u[m]=="\t".charCodeAt(0)||u[m]=="\n".charCodeAt(0))m++;
while(u[m]!="]".charCodeAt(0)){var n=fZ.CM(u,m,C+1,Z);J.k.push(n.k);m+=n.size;while(u[m]==" ".charCodeAt(0)||u[m]=="\t".charCodeAt(0)||u[m]=="\n".charCodeAt(0))m++}m++;
break}else{var N=M.indexOf(u," ".charCodeAt(0),m,m+50),e=M.indexOf(u,"\n".charCodeAt(0),m,m+50);if(e==-1)e=Infinity;
if(N==-1)N=Infinity;var Q=M.Qi(u,m,Math.min(N,e)-m).trim(),p=parseFloat(Q);if(!isNaN(p)){J.k=parseFloat(Q);
m=Math.min(N,e)+1;break}else if(Q=="true"||Q=="false"){J.k=Q=="true";m=Math.min(N,e)+1;break}else if(Q=="null"||Q=="NaN"||Q=="undefined"){J.k=0;
m=Math.min(N,e)+1;break}else{console.log("unknown identifier: "+Q);throw"e"}m=Math.min(N,e)+1}}J.size=m-q;
return J};fZ.Ht=function(u,m,C,Z){if(u instanceof Array){var q=u.length==0||typeof u[0]=="number";if(q){M.s7(m,C,"[ ");
C+=2;for(var D=0;D<u.length;D++){var J=u[D]+" ";M.s7(m,C,J);C+=J.length}M.s7(m,C,"]");C+=1}else{M.s7(m,C,"[\n");
C+=2;for(var D=0;D<u.length;D++){M.P_(m,C,"\t".charCodeAt(0),Z);C+=Z;C=fZ.Ht(u[D],m,C,Z);M.s7(m,C,"\n");
C++}M.P_(m,C,"\t".charCodeAt(0),Z);C+=Z;M.s7(m,C,"]");C+=1}}else if(u instanceof Object){C=fZ.Ru(u,m,C,Z)}else if(typeof u=="string"){M.s7(m,C,"(");
C++;M.P_(m,C,254);C++;M.P_(m,C,255);C++;C=M.QD(m,C,u);M.s7(m,C,")");C+=1}else{var J=u+"";M.s7(m,C,J);
C+=J.length}return C};fZ.a34=function(u){var m=typeof u;return m=="string"||m=="number"||m=="boolean"};
function dR(){}dR.Nh=function(u){var m={};dR.pe(u,m,0,0);return m};dR.Zw=function(u,m){var C=0;M.s7(m,C," ");
C++;C=dR.Jx(u,m,C,0);C--;m.Ic(C,2);m.data[C]=m.data[C+1]=0;C+=2;return C};dR.QT=function(u,m,C,Z){while(u[C]!="<".charCodeAt(0)){C++;
console.log("\u0161ipka")}C+=2;C=dR.pe(u,m,C,Z);return C};dR.Ru=function(u,m,C,Z){M.s7(m,C,"<< ");C+=3;
C=dR.Jx(u,m,C,Z);M.s7(m,C,">>");C+=2;return C};dR.r0=function(u){return u==9||u==10||u==32};dR.pe=function(u,m,C,Z){while(!0){while(dR.r0(u[C])||u[C]==0)C++;
if(C>=u.length)break;if(u[C]=="/".charCodeAt(0)){C++;var q=C;while(!dR.r0(u[q]))q++;var J=M.Qi(u,C,q-C);
C=q+1;var A=dR.CM(u,C,Z,J);m["_"+J]=A.k;C+=A.size}else if(u[C]==">".charCodeAt(0)){C+=2;break}else{var n=u[C];
console.log(M.Qi(u,C,C+100));console.log("unknown byte: "+n+", char: "+String.fromCharCode(n)+", offset: "+C);
C++;throw"e";return-1}}return C};dR.Jx=function(u,m,C,Z){for(var q in u){var J=q.substring(1,q.length);
M.s7(m,C,"/"+J);C+=1+J.length;M.s7(m,C," ");C++;C=dR.Ht(u[q],m,C,Z+1);M.s7(m,C," ");C++}return C};dR.CM=function(u,m,C,Z){var q=m,J={type:"",size:0,k:0};
while(dR.r0(u[m]))m++;if(u[m]=="<".charCodeAt(0)){J.type="Object";J.k={};m=dR.QT(u,J.k,m,C+1)}else if(u[m]=="(".charCodeAt(0)){J.type="String";
m++;if(u[m]==")".charCodeAt(0)){J.k="e";m++}else{m+=2;var A=m,n=0;while(!0){if(u[A]==")".charCodeAt(0)&&u[A-1]!="\\".charCodeAt(0))break;
else A+=1}J.k="s"+M.WJ(u,m,A);m=A+2}}else if(u[m]=="[".charCodeAt(0)){m++;J.k=[];J.type="Array";while(dR.r0(u[m]))m++;
while(u[m]!="]".charCodeAt(0)){var N=dR.CM(u,m,C+1,Z);if(N==-1)return-1;J.k.push(N.k);m+=N.size;delete N.size;
while(dR.r0(u[m]))m++}m++}else{var e=m;while(!dR.r0(u[e]))e++;var Q=M.Qi(u,m,e-m),p=parseFloat(Q);if(!isNaN(p)&&Q.indexOf(".")!=-1){J.type="Float";
var B=parseFloat(Q);J.k="f"+B}else if(!isNaN(p)&&Q.indexOf(".")==-1){J.type="Integer";J.k="i"+parseInt(Q)}else if(Q=="true"||Q=="false"){J.type="Boolean";
J.k=Q=="true"}else if(Q.charAt(0)=="/"){J.type="BString";J.k=Q}else if(Q=="NaN"){J.type="Float";J.k="f0"}else{console.log("unknown value",JSON.stringify(Q));
throw"e"}m=e+1}J.size=m-q;return J};dR.a2h=function(u){if(u==Math.round(u))return u+".0";var m=u.toFixed(5);
while(m.endsWith("0")&&m[m.length-2]!=".")m=m.slice(0,m.length-1);if(0<u&&u<1)m=m.slice(1);if(-1<u&&u<0)m="-"+m.slice(2);
return m};dR.Ht=function(u,m,C,Z){var q=typeof u=="string"?u.charAt(0):"";if(u instanceof Array){M.s7(m,C,"[ ");
C+=2;for(var D=0;D<u.length;D++){C=dR.Ht(u[D],m,C,Z);M.s7(m,C," ");C++}M.s7(m,C,"]");C+=1}else if(u instanceof Object){C=dR.Ru(u,m,C,Z)}else if(q=="e"){M.s7(m,C,"()");
C+=2}else if(q=="s"){M.s7(m,C,"(");C++;M.P_(m,C,254);C++;M.P_(m,C,255);C++;C=M.QD(m,C,u.substring(1));
M.s7(m,C,")");C++}else if(q=="/"){M.s7(m,C,u);C+=u.length}else if(q=="f"){var J=parseFloat(u.substring(1)),A=dR.a2h(J);
M.s7(m,C,A);C+=A.length}else if(q=="i"){M.s7(m,C,u.substring(1));C+=u.length-1}else{var A=u+"";M.s7(m,C,A);
C+=A.length}return C};function M(){}M.aeY=function(jt){var u="";for(var D=3;D>=0;D--)u+=String.fromCharCode(jt>>D*8&255);
return u};M.abe=function(u){var jt=0;for(var D=u.length-1;D>=0;D--)jt|=u.charCodeAt(D)<<(3-D)*8;return jt};
M.indexOf=function(u,m,C,Z){if(C==null)C=0;if(Z==null)Z=u.length;Z=Math.min(Z,u.length);for(var D=C;
D<Z;D++)if(u[D]==m)return D;return-1};M.MC=function(u,m,C){if(C==null)C=0;var Z=m.length,q=u.length-Z;
if(typeof m=="string"){var J=[];for(var D=0;D<Z;D++)J.push(m.charCodeAt(D));m=J}if(m.length>0){var A=m[0];
for(var D=C;D<q;D++)if(u[D]==A){var n=!0;for(var N=1;N<Z;N++)if(m[N]!=u[D+N]){n=!1;break}if(n)return D}}return-1};
M.WJ=function(u,m,C){var Z=[],J="";while(m<C){var q=u[m++];if(q=="\\".charCodeAt(0))Z.push(u[m++]);else Z.push(q)}for(var D=0;
D<Z.length;D+=2)J+=String.fromCharCode(Z[D]<<8|Z[D+1]);return J};M.ans=function(u,m,C){var Z=new Uint8Array(2);
for(var D=0;D<C.length;D++){M.Z8(Z,0,C.charCodeAt(D));if(Z[0]==")".charCodeAt(0)||Z[0]=="(".charCodeAt(0)||Z[0]=="\\".charCodeAt(0)){u[m]="\\".charCodeAt(0);
m++}u[m]=Z[0];m++;if(Z[1]==")".charCodeAt(0)||Z[1]=="(".charCodeAt(0)||Z[1]=="\\".charCodeAt(0)){u[m]="\\".charCodeAt(0);
m++}u[m]=Z[1];m++}return m};M.QD=function(u,m,C){u.Ic(m,4*C.length);return M.ans(u.data,m,C)};M.hJ=function(u,m,C){var Z="";
for(var D=0;D<C;D++){var q=u[m++]|u[m++]<<8;Z+=String.fromCharCode(q)}return Z};M.W2=function(u,m,C){var Z="";
for(var D=0;D<C;D++){var q=u[m++]<<8|u[m++];Z+=String.fromCharCode(q)}return Z};M.asb=function(u,m,C){for(var D=0;
D<C.length;D++){var Z=C.charCodeAt(D);M.Xe(u,m+2*D,Z)}};M.mu=function(u,m,C){for(var D=0;D<C.length;
D++){var Z=C.charCodeAt(D);M.Z8(u,m+2*D,Z)}};M.aof=function(u,m,C){u.Ic(m,2*C.length);M.mu(u.data,m,C)};
M.aiR=function(u,D,m){var C=[],Z=0,q=0;m+=D;while(D<m){Z=u[D++];if((Z&128)==0)q=Z;else if((Z&224)==192){q=(Z&31)<<6;
Z=u[D++];q|=Z&63}else if((Z&240)==224){q=(Z&15)<<12;Z=u[D++];q|=(Z&63)<<6;Z=u[D++];q|=Z&63}else if((Z&248)==240){q=(Z&7)<<18;
Z=u[D++];q|=(Z&63)<<12;Z=u[D++];q|=(Z&63)<<6;Z=u[D++];q|=Z&63}else throw"e";C.push(q)}return C};M.Ek=window.TextDecoder?new window.TextDecoder("utf8"):null;
M.V6=function(u,m,C){if(m==null)m=0;if(C==null)C=u.length;if(M.Ek&&m==0&&C==u.length)return M.Ek.decode(u);
var Z=M.aiR(u,m,C),q=Z.length;for(var D=0;D<q;D++)Z[D]=String.fromCharCode(Z[D]);return Z.join("")};
M.Qj=window.TextEncoder?new window.TextEncoder("utf8"):null;M.t2=function(u){if(M.Qj)return M.Qj.encode(u);
var m=new Uint8Array(u.length*4),C=M.ic(u,m,0);return m.slice(0,C)};M.ic=function(u,m,C){var Z=u.length,D=0;
for(var q=0;q<Z;q++){var J=u.charCodeAt(q);if((J&4294967295-(1<<7)+1)==0){m[C+D]=J;D++}else if((J&4294967295-(1<<11)+1)==0){m[C+D]=192|J>>6;
m[C+D+1]=128|J>>0&63;D+=2}else if((J&4294967295-(1<<16)+1)==0){m[C+D]=224|J>>12;m[C+D+1]=128|J>>6&63;
m[C+D+2]=128|J>>0&63;D+=3}else if((J&4294967295-(1<<21)+1)==0){m[C+D]=240|J>>18;m[C+D+1]=128|J>>12&63;
m[C+D+2]=128|J>>6&63;m[C+D+3]=128|J>>0&63;D+=4}else throw"e"}return D};M.Nc=function(u,m){var C=M.h(u,m),Z=M.V6(u,m+4,C-1);
return{jL:Z,Hc:4+C}};M.a2i=function(u,m){var C=M.Jr(u,m),Z=M.hJ(u,m+4,C);return Z};M.oi=function(u,m){var C=M.h(u,m),Z=M.W2(u,m+4,C);
return Z};M.P3=function(u,m){var C=M.h(u,m),Z=M.W2(u,m+4,C-1);return Z};M.a9L=function(u,m,C){M.uu(u,m,C.length);
m+=4;M.asb(u,m,C)};M.a31=function(u,m,C){M.G9(u,m,C.length);m+=4;M.mu(u,m,C)};M.rI=function(u,m,C){u.Ic(m,4+2*C.length);
M.a31(u.data,m,C)};M.ahp=function(u,m,C){u.Ic(m,4+2*C.length);M.a9L(u.data,m,C)};M.g_=function(u,m,C){var Z=[];
for(var D=0;D<C;D++)Z.push(String.fromCharCode(u[m+D]));return Z};M.as1=function(u,m,C){var Z=!1,q=u.length-C.length;
for(var D=m;D<q;D++){for(var J=0;J<C.length;J++){if(u[D+J]!=C.charCodeAt(J))break;if(J==C.length-1)return D}}};
M.Qi=function(u,m,C){var Z="";for(var D=0;D<C;D++)Z+=String.fromCharCode(u[m+D]);return Z};M.xI=function(u,m,C){for(var D=0;
D<C.length;D++)u[m+D]=C.charCodeAt(D)};M.s7=function(u,m,C){u.Ic(m,C.length);M.xI(u.data,m,C)};M.anR=function(u,m,C){var Z="";
for(var D=0;D<C;D++){var q=u[m+D];if(q<10)Z+="  ";else if(q<100)Z+=" ";Z+=q+", "}return Z};M.aP=function(u,m){return u[m]<<8|u[m+1]};
M.Z8=function(u,m,jt){u[m]=jt>>8&255;u[m+1]=jt&255};M.iV=function(u,m,jt){u.Ic(m,4);M.Z8(u.data,m,jt)};
M.acV=function(u,m){var C=M.aP(u,m),Z=M.aP(u,m+2);return C+Z*(1/65536)};M.Fk=function(u,m,jt){var C=Math.floor(jt),Z=Math.floor((jt-C)*65536);
M.Z8(u,m,C);M.Z8(u,m+2,Z)};M.OQ=function(u,m){return u[m+1]<<8|u[m]};M.Xe=function(u,m,jt){u[m+1]=jt>>8&255;
u[m]=jt&255};M.zl=function(u,m,jt){u.Ic(m,4);M.Xe(u.data,m,jt)};M.xg=function(u,m){M.M1[0]=u[m+1];M.M1[1]=u[m];
return M.w_[0]};M.vs=function(u,m){M.M1[0]=u[m];M.M1[1]=u[m+1];return M.w_[0]};M.FO=M.Z8;M.IK=M.iV;M.LR=function(u,m){M.eP[0]=u[m+3];
M.eP[1]=u[m+2];M.eP[2]=u[m+1];M.eP[3]=u[m];return M.ns[0]};M.Tg=function(u,m,jt){M.ns[0]=jt;u[m+3]=M.eP[0];
u[m+2]=M.eP[1];u[m+1]=M.eP[2];u[m+0]=M.eP[3]};M.n0=function(u,m,jt){u.Ic(m,4);M.Tg(u.data,m,jt)};M.pH=function(u,m,C,Z){C[Z+0]=u[m+0];
C[Z+1]=u[m+1];C[Z+2]=u[m+2];C[Z+3]=u[m+3]};M.Jr=function(u,m){M.pH(u,m,M.eP,0);return M.lE[0]};M.uu=function(u,m,jt){M.lE[0]=jt;
M.pH(M.eP,0,u,m)};M.CF=function(u,m,jt){u.Ic(m,4);M.uu(u.data,m,jt)};M.KU=function(u,m){M.pH(u,m,M.eP,0);
return M.ns[0]};M.at8=function(u,m,jt){M.ns[0]=jt;M.pH(M.eP,0,u,m)};M.aus=function(u,m,jt){u.Ic(m,4);
M.at8(u.data,m,jt)};M.h=function(u,m){var C=u[m]*(256*256*256)+(u[m+1]<<16|u[m+2]<<8|u[m+3]);return C};
M.G9=function(u,m,jt){u[m]=jt>>24&255;u[m+1]=jt>>16&255;u[m+2]=jt>>8&255;u[m+3]=jt>>0&255};M.N6=function(u,m,jt){u.Ic(m,4);
M.G9(u.data,m,jt)};M.gv=function(u,m){return M.h(u,m)<<32|M.h(u,m+4)};M.Wx=function(u,m,jt){M.G9(u,m,jt>>16>>16);
M.G9(u,m+4,jt&4294967295)};M.Dm=function(u,m,jt){u.Ic(m,8);M.Wx(u.data,m,jt)};M.AN=function(u,m){var C=new Uint8Array(8);
for(var D=0;D<8;D++)C[D]=u[m+7-D];var Z=new Float64Array(C.buffer);return Z[0]};M.Ik=function(u,m){var C=new Uint8Array(8);
for(var D=0;D<8;D++)C[D]=u[m+D];var Z=new Float64Array(C.buffer);return Z[0]};M.Yp=function(u,m,jt){var C=new Float64Array(1);
C[0]=jt;var Z=new Uint8Array(C.buffer);for(var D=0;D<4;D++){var q=Z[D];Z[D]=Z[7-D];Z[7-D]=q}for(var D=0;
D<8;D++)u[m+D]=Z[D]};M.Aj=function(u,m,jt){u.Ic(m,8);M.Yp(u.data,m,jt)};M._V=function(u,m){M.eP[0]=u[m+3];
M.eP[1]=u[m+2];M.eP[2]=u[m+1];M.eP[3]=u[m+0];return M.jG[0]};M.de=function(u,m){M.eP[0]=u[m+0];M.eP[1]=u[m+1];
M.eP[2]=u[m+2];M.eP[3]=u[m+3];return M.jG[0]};M.VN=function(u,m,jt){M.jG[0]=jt;u[m+0]=M.eP[3];u[m+1]=M.eP[2];
u[m+2]=M.eP[1];u[m+3]=M.eP[0]};M.aoJ=function(u,m,jt){u.Ic(m,4);M.VN(u.data,m,jt)};M.Xa=function(u,m,jt){M.jG[0]=jt;
u[m+0]=M.eP[0];u[m+1]=M.eP[1];u[m+2]=M.eP[2];u[m+3]=M.eP[3]};M.arI=function(u,m,jt){u.Ic(m,4);M.Xa(u.data,m,jt)};
M.a8i=function(u,m){var C=M.LR(u,m),Z=C*(1/(1<<24));return Z};M.yB=function(u,m,C){var Z=Math.floor(C*(1<<24));
M.Tg(u,m,Z)};M.a5u=function(u,m,C){u.Ic(m,4);M.yB(u.data,m,C)};M.Dh=function(u,m){var C=u[m],Z=M.Qi(u,m+1,C);
C+=1-C%2;return{Ud:Z,length:C+1}};M.a89=function(u,m,C){var Z=C.length;u[m]=Z;M.xI(u,m+1,C);if(Z%2==0){u[m+1+Z]=0;
++Z}return Z+1};M.h6=function(u,m,C){u.Ic(m,C.length+2);return M.a89(u.data,m,C)};M.sr=function(u,m){var C=new ix;
C.w7=M.AN(u,m+0*8);C.S=M.AN(u,m+1*8);C.ZU=M.AN(u,m+2*8);C.MX=M.AN(u,m+3*8);C.GI=M.AN(u,m+4*8);C.c_=M.AN(u,m+5*8);
return C};M.MI=function(u,m,C){M.Yp(u,m+0*8,C.w7);M.Yp(u,m+1*8,C.S);M.Yp(u,m+2*8,C.ZU);M.Yp(u,m+3*8,C.MX);
M.Yp(u,m+4*8,C.GI);M.Yp(u,m+5*8,C.c_)};M.a98=function(u,m,C){u.Ic(m,48);M.MI(u.data,m,C)};M.a1q=function(u,m){var C=M._V(u,m),Z=M._V(u,m+4),q=M._V(u,m+8),J=M._V(u,m+12);
return new bl(C,Z,q-C,J-Z)};M.arl=function(u,m,C){M.VN(u,m,C.x);M.VN(u,m+4,C.y);M.VN(u,m+8,C.x+C.e);
M.VN(u,m+12,C.y+C.n)};M.ak5=function(u,m,C){u.Ic(m,16);M.arl(u.data,m,C)};M.ie=function(u,m){var C=M.LR(u,m),Z=M.LR(u,m+4),q=M.LR(u,m+8),J=M.LR(u,m+12);
return new bl(Z,C,J-Z,q-C)};M.dT=function(u,m,C){M.Tg(u,m,C.y);M.Tg(u,m+4,C.x);M.Tg(u,m+8,C.y+C.n);M.Tg(u,m+12,C.x+C.e)};
M.Kk=function(u,m,C){u.Ic(m,16);M.dT(u.data,m,C)};M.$r=function(u,m,C){var Z=new Uint8Array(C);for(var D=0;
D<C;D++)Z[D]=u[m+D];return Z};M.f3=function(u,m,C){u.set(C,m)};M.fa=function(u,m,C){u.Ic(m,C.length);
M.f3(u.data,m,C)};M.aqv=function(u,m,C,jt){if(!jt)jt=1;for(var D=0;D<jt;D++)u[m+D]=C};M.P_=function(u,m,C,jt){if(!jt)jt=1;
u.Ic(m,jt);M.aqv(u.data,m,C,jt)};M.w_=new Int16Array(1);M.M1=new Uint8Array(M.w_.buffer);M.ns=new Int32Array(1);
M.lE=new Uint32Array(M.ns.buffer);M.eP=new Uint8Array(M.ns.buffer);M.jG=new Float32Array(M.ns.buffer);
function fd(){}fd.Nh=function(u,m){var C=new Uint8Array(u),Z=0,q=M.Qi(C,Z,9),n=4,N=100;Z+=9;var J=M.Qi(C,Z,4);
Z+=4;Z++;m.e=M.h(C,Z);Z+=4;m.n=M.h(C,Z);Z+=4;var A=M.h(C,Z);Z+=4;if(A!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(J)==-1){N=M.h(C,Z);Z+=4;if(parseInt(J.slice(1))>=7){N=N}else alert("Unknown XCF version: "+J);
n=8}var e={};Z=fd.bb(C,Z,e);var Q=[];Z=fd.oh(C,Z,Q,n);var p=[];Z=fd.oh(C,Z,p,n);m.fs=0;for(var D=0;D<Q.length;
D++)fd.ahO(C,Q[D],m,e,n,N);while(m.fs>0){m.g.push(m.B$());m.fs--}m.g.reverse();delete m.fs;m.buffer=j.U(m.e*m.n*4);
if(m.g.length==0)console.log("No layers!!!");for(var D=0;D<p.length;D++){var B=fd.wS(C,p[D],e,n,N);if(B.d9[dT.art])m.q={channel:B.kO,rect:new bl(0,0,m.e,m.n)}}};
fd.ahO=function(u,m,C,Z,q,J){var A=C.Rp(),n=M.h(u,m),p=0;m+=4;var N=M.h(u,m);m+=4;A.rect=new bl(0,0,n,N);
var e=M.h(u,m);m+=4;var Q=M.Nc(u,m);m+=Q.Hc;A.RS(Q.jL);var B={};m=fd.bb(u,m,B);if(B[dT.wL]){var $=B[dT.wL];
p=$.length/4-1}if(B[dT.DB]){A.rect.x=M.LR(B[dT.DB],0);A.rect.y=M.LR(B[dT.DB],4)}if(B[dT.VI]){A.opacity=M.h(B[dT.VI],0)}if(B[dT.ajC]){A.add.lsct=cT.G6;
A.rect=new bl(0,0,0,0);A.buffer=j.U(0);A.VO=24}if(B[dT.j$]){var R=M.h(B[dT.j$],0);A.Um=dT.a5G[R];if(A.ld()&&A.Um=="norm")A.Um="pass"}if(B[dT.LX]){if(M.h(B[dT.LX],0)==0)A.VO+=2}if(B[dT.Pv]){var z=M.h(B[dT.Pv],0);
A.add.lsct=z&1==1?cT.G6:cT.an}if(B[dT.hj]){var v=B[dT.hj];for(var a in v){var X=v[a];if(a=="gimp-text-layer"){var V=fd.aaL(X),o=V.text,h=V.font,T=V.color,l=V["font-size"];
if(o==null&&V.markup){var w=new DOMParser,W=w.parseFromString(V.markup,"image/svg+xml");while(W.firstChild!=null&&W.firstChild.tagName!=null){W=W.firstChild;
var U=W.getAttribute("font"),s=W.getAttribute("foreground"),S=W.getAttribute("size");if(U!=null)h=U;
if(s!=null){s=CSS.Di(s);T=[1,s.p/255,s.T/255,s.S/255]}if(S!=null){l=""+parseFloat(S)/245}}o=W.textContent}A.add.lnsr="rend";
A.add.TySh=ad.bF(0,0);A.add.TySh.jR=new bl(0,0,100,100);A.add.TySh.I=new ix(1,0,0,1,A.rect.x,A.rect.y);
var x=A.add.TySh.pU;ad.Y9(x,0,o);var P=ad.zd(x,0,0),y=V.justify,_=V["line-spacing"];if(T)P.L4.FillColor={Type:1,Values:[1,parseFloat(T[1]),parseFloat(T[2]),parseFloat(T[3])]};
if(l){l=Math.round(parseFloat(l));P.L4.FontSize=l;A.add.TySh.I.c_+=Math.min(17,l*.17)}if(_){_=Math.round(parseFloat(_)+P.L4.FontSize*1.2);
P.L4.Leading=_;P.L4.AutoLeading=!1}if(y)P.n9.Justification=["left","right","center","fill"].indexOf(y);
if(h&&h!="Sans-serif"){var g=h.toLowerCase(),G="bold italic semi extra regular condensed light".split(" "),O=g.length;
for(var D=0;D<G.length;D++){var E=g.indexOf(G[D]);if(E!=-1&&E<O&&g[E-1]==" ")O=E}if(O!=g.length)h=h.slice(0,O-1).split(" ").join("")+"-"+h.slice(O).split(" ").join("");
ad.t7(P,h)}ad.sM(x,0,o.length,P);var L=V["box-width"],c=V["box-height"],k=L?parseFloat(L):A.rect.e,I=c?parseFloat(c):A.rect.n;
ad.Qt(x,1);ad.Fm(x,[0,0,Math.ceil(k),Math.ceil(I)])}else console.log("Unknown property "+a)}}while(C.fs>p){C.g.push(C.B$());
C.fs--}C.fs=p;if(A.add.lsct==cT.G6||A.add.lsct==cT.an)C.fs++;var Y=q==4?M.h:M.gv;if(A.b0()){A.buffer=j.U(A.rect.Z()*4);
var K=new j.HT(A.rect.Z()),i=Y(u,m);m+=q;var i4=Y(u,m);m+=q;fd.R2(u,i,K,Z,q,J);j.jh(K,A.buffer);if(i4!=0){A.M=new F.ol;
A.M.color=0;A.M.rect=A.rect.clone();A.M.channel=fd.wS(u,i4,Z,q,J).kO;if(B[dT.bl])A.M.isEnabled=M.h(B[dT.bl],0)==1}}C.g.push(A)};
fd.aaL=function(u){var m="("+M.V6(u,0,u.length-1)+")",C=[],Z={};fd.oG(m,1,C);fd.ajI(C,Z);return Z};fd.ajI=function(u,m){for(var D=0;
D<u.length;D++){var C=u[D],Z=C[0];if(C.length==2)m[Z]=C[1];else m[Z]=C.slice(1)}};fd.oG=function(u,m,C){while(!0){if(m>=u.length)throw"e";
var Z=u.charAt(m);m++;if(Z=="("){var q=[];m=fd.oG(u,m,q);C.push(q)}else if(Z==" "||Z=="\n"||Z=="\r"){}else if(Z==")")return m;
else if(Z=="\""){var J=m;while(!0){var A=u[m];m++;if(A=="\"")break;if(A=="\\")m++}C.push(JSON.parse(u.slice(J-1,m)))}else{var J=m-1;
while(u[m]!=" "&&u[m]!=")")m++;C.push(u.slice(J,m))}}};fd.wS=function(u,m,C,Z,q){var J=M.h(u,m);m+=4;
var A=M.h(u,m);m+=4;var n=M.Nc(u,m);m+=n.Hc;var N={};m=fd.bb(u,m,N);var e=new j.HT(J*A),Q=Z==4?M.h:M.gv,p=Q(u,m);
m+=Z;fd.R2(u,p,e,C,Z,q);return{kO:e.p,d9:N}};fd.R2=function(u,m,C,Z,q,J){var A=M.h(u,m);m+=4;var n=M.h(u,m);
m+=4;var N=M.h(u,m);m+=4;var e=q==4?M.h:M.gv,Q=e(u,m);m+=q;fd.aey(u,Q,C,Z,N,q,J)};fd.aey=function(u,m,C,Z,q,J,A){var n=M.h(u,m),Q=0,D=0;
m+=4;var N=M.h(u,m);m+=4;var e=new bl(0,0,n,N);if(A==100||A==150)Q=1;else if(A==200||A==250)Q=2;else if(A==300||A==350)Q=4;
else if(A==500||A==550)Q=2;else if(A==600||A==650)Q=4;else if(A==700||A==750)Q=8;else{alert("unsupported bit depth "+A);
throw"e"}var p=q/Q,Q=Math.round(q/p),B=[];m=fd.oh(u,m,B,J);var $=new j.HT(64*64*Q),R=new bl,z=Z[dT.a7z][0],v=[$.p,$.T,$.S,$.w7];
if(p==3)$.w7.fill(255);var a=Date.now();for(var X=0;X<N;X+=64)for(var V=0;V<n;V+=64){var o=Math.min(n-V,64),h=Math.min(N-X,64),T=o*h;
R.qX(V,X,o,h);fd.amO(u,B[D++],T*Q,z,p,v);if(A==100||A==150){}else if(A==250){for(var l=0;l<p;l++){var w=v[l];
for(var W=0;W<T;W++){var U=w[W]<<8|w[T+W];w[W]=Math.min(U>>>8,255)}}}else if(A==600){var s=fd.a9V(),S=new Uint32Array(1),x=new Float32Array(S.buffer);
for(var l=0;l<p;l++){var w=v[l];for(var W=0;W<T;W++){S[0]=w[W]<<24|w[T+W]<<16|w[(T<<1)+W]<<8|w[(T<<1)+T+W]<<0;
var P=x[0];if(P<0)P=0;else if(P>1)P=1;w[W]=s[~~(.5+P*1e3)]}}}else console.log("unknown data format",A);
j.rt($,R,C,e)}};fd.a9V=function(){var u=fd.asG;if(u!=null)return u;u=fd.asG=new Uint8Array(1001);for(var D=0;
D<1001;D++)u[D]=~~(.49+255*j.wa(D*.001));return u};fd.amO=function(u,m,C,Z,q,J){if(Z==1){for(var A=0;
A<q;A++){var n=J[A],N=0;while(N<C){var jt=u[m];m++;if(jt<127){var e=u[m];m++;jt++;for(var D=0;D<jt;D++)n[N+D]=e}else if(jt==127){var Q=u[m];
m++;var p=u[m];m++;var e=u[m];m++;jt=Q<<8|p;for(var D=0;D<jt;D++)n[N+D]=e}else if(jt==128){var Q=u[m];
m++;var p=u[m];m++;jt=Q<<8|p;for(var D=0;D<jt;D++)n[N+D]=u[m+D];m+=jt}else{jt=256-jt;for(var D=0;D<jt;
D++)n[N+D]=u[m+D];m+=jt}N+=jt}}}else if(Z==2){var B=pako.inflate(u.slice(m)),$=Math.round(B.length/C);
for(var D=0;D<C;D++){var R=D*$;J[0][D]=B[R];J[1][D]=B[R+1];J[2][D]=B[R+2];J[3][D]=$==3?255:B[R+3]}}else alert("Unknown compression "+Z)};
fd.oh=function(u,m,C,Z){var q=Z==4?M.h:M.gv;while(!0){var J=q(u,m);m+=Z;if(J==0)break;else C.push(J)}return m};
fd.bb=function(u,m,C){while(!0){var Z=M.h(u,m);m+=4;var q=M.h(u,m);m+=4;if(Z==dT.a3o)break;else if(Z==dT.hj)C[Z]=fd.atz(u,m,m+q);
else C[Z]=M.$r(u,m,q);m+=q}return m};fd.atz=function(u,m,C){var Z={};while(m<C){var q=M.Nc(u,m);m+=q.Hc;
var J=M.h(u,m);m+=4;if(J!=1)console.log("unknown flags",J);var A=M.h(u,m);m+=4;Z[q.jL]=M.$r(u,m,A);m+=A}return Z};
var dT={a3o:0,atf:1,aeT:2,a44:3,art:4,a6N:5,VI:6,j$:7,LX:8,ahZ:9,a13:10,bl:11,acI:12,abv:13,akw:14,DB:15,a2$:16,a7z:17,atZ:18,auD:19,amv:20,hj:21,aiQ:22,a4E:23,aln:24,a9Y:25,ad8:26,arf:27,auA:28,ajC:29,wL:30,Pv:31,a2n:32,asE:33,a8v:34,al6:35,a1F:36,aa3:37,aeF:38,aeC:0,aqD:1,aiz:2,an2:3,acn:1,ats:2,a3a:0,a4L:1,a90:1};
dT.a5G="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var bb=function(){var u=!1,m,C,V;function Z(){var T=M.Qi(m,C,4);C+=4;return T[3]+T[2]+T[1]+T[0]}function q(){var T=M.Qi(m,C,4);
C+=4;return T}function J(){var T=m[C];C+=1;return T}function A(){var T=M.OQ(m,C);C+=2;return T}function n(){var T=M.Jr(m,C);
C+=4;return T}function N(){var T=M.KU(m,C);C+=4;return T}function e(){var T=M.Jr(m,C);C+=8;return T}function Q(){var T=M.de(m,C);
C+=4;return T}function p(){var T=M.Ik(m,C);C+=8;return T}function B(){var T=M.OQ(m,C),l=M.V6(m,C+2,T);
C+=2+T;return l}function $(){var T=M.Jr(m,C),l=M.V6(m,C+4,T);C+=4+T;return l}function R(T){C=T;var l=[];
while(C!=0){var w=q();if(w!="#FT4"&&w!="#FT3"&&w!="#FT2")throw w;var W=e(),U=e(),s=e(),S=e(),x=e(),P=n(),y=n(),_=n(),g=A(),G=J(),O={};
l.push(O);for(var D=0;D<P;D++){var E=n(),L=J();if(L!=0&&L!=1&&L!=2)throw L;var c=[];if(L==0||L==1){var k=e(),I=e(),Y=e(),K=n(),i=J(),i4=n(),d7=w!="#FT4"?0:n(),d=null;
if(w=="#FAT"||w=="#FT2"){switch(i){case 1:i=1;break;case 2:i=65;break;case 3:i=129;break;case 4:i=193;
break;default:i=0;break}}if(L==0)d=B();c=[k,I,Y,i,d]}O["i"+E]=[L,c]}for(var D=0;D<g;D++){var fH=A(),aC=A(),f8=e(),c9=M.Qi(m,C,fH);
C+=fH}C=W}l.reverse();for(var g1=1;g1<l.length;g1++){var O=l[g1],cE=l[g1]=JSON.parse(JSON.stringify(l[g1-1]));
for(var hG in O){var fA=O[hG];if(fA[0]==0)cE[hG]=fA;else if(fA[0]==1){fA[1][4]=cE[hG][1][4];cE[hG]=fA}else if(fA[0]==2)delete cE[hG]}}var hh=l.pop(),eE=[];
for(var hG in hh)eE.push(hh[hG][1]);eE.sort(function(dh,fT){return dh[0]-fT[0]});return eE}function z(T,l,w,W){while(C<m.length){var U=J(),P=null;
if(U==0){if(W){var s=J();if(s!=2){var S=Z()}if(s==0)C+=4;W=!1;continue}else{break}}var x=Z();if(u)console.log("  ".repeat(l),U,U&127,x,T._type);
if(U>127)P=v(U,l,w);else P=a(U,l,w);T[x]=P}}function v(T,l,w){var W=[];T=T&127;if(T==43)C+=4;var U=n();
if(T==50){var s=Z(),S=A();if(S!=1)throw"e";for(var D=0;D<U;D++){var x={_status:"NotShared",_type:s};
W.push(x);var P=J();if(P!=1)throw P;z(x,l+1,w)}}else for(var D=0;D<U;D++){W.push(a(T,l,w));if(T==42)T=2}return W}function a(T,l,w){var W=null;
if(T==49){W={};var U=J();if(U!=0){var s=n();if(w==null){W._id=s;W._status=["Shared","Link"][U-1]}if(w&&U==2)W=w[s];
if(U==1){if(w)w[s]=W;var S=J(),x=!1;if(S>1)throw S;W._type=Z();if(u)console.log("  ".repeat(l),"new",W._type,S,C);
if(S==0){while(!0){var P=A();if(P!=0&&P!=1&&P!=2&&P!=4)throw P;if(m[C]!=0){x=!0;break}var y=A();if(y==512)break;
var _=Z();if(y==256)break}}z(W,l+1,w,x)}}}else if(T==50){W={_status:"NotShared"};if(J()==1){W._type=Z();
C+=2;z(W,l+1,w)}}else if(T==1)W={type:"byte",value:J()};else if(T==2)W={type:"uint16",value:A()};else if(T==3)W={type:"uint32",value:n()};
else if(T==4)W={type:"uint64",value:e()};else if(T==7)W={type:"int32",value:N()};else if(T==8)W={type:"int64",value:e()};
else if(T==9)W={type:"float32",value:Q()};else if(T==10)W={type:"float64",value:p()};else if(T==21)W={type:"Vec2i",value:[n(),n()]};
else if(T==23)W={type:"Vec4i",value:[n(),n(),n(),n()]};else if(T==33)W={type:"Vec4f",value:[Q(),Q(),Q(),Q()]};
else if(T==36)W={type:"Vec2",value:[p(),p()]};else if(T==38)W={type:"Vec4",value:[p(),p(),p(),p()]};
else if(T==40)W={type:"Vec6",value:[p(),p(),p(),p(),p(),p()]};else if(T==41)W={type:"bool",value:J()!=0};
else if(T==42)W={type:"Enum",value:n()};else if(T==43)W={type:"string",value:$()};else if(T==44){var g=A();
W={type:"curv16",value:[p(),g==12?[J(),J(),J(),J()]:[n(),n()]]}}else if(T==45){var g=n();W={type:"buff",value:m.slice(C,C+g)};
C+=g}else if(T==47){W={type:"uint32",value:n()}}else if(T==48){var G=[],O=A();if(O!=1)throw O;if(m[C]==135){var E=v(J(),l+1,w),L=v(J(),l+1,w),c=v(J(),l+1,w);
G=[E,L,c]}else{var k=1;if(m[C]==3){J();k=n()}for(var D=0;D<k;D++){if(J()!=41)throw"e";var s=J();if(s!=0&&s!=1)throw s;
if(J()!=172)throw"e";var I=n(),Y=A(),K=[];G.push(K);if(Y!=18)throw Y;if(I>2e3)throw I;for(var i=0;i<I;
i++)K.push([p(),p(),J(),J()])}}C++;W={type:"curve",value:G}}else if(T==51){W={type:"EmbeddedData"};W[Z()]=$()}else if(T==52)W={type:"uint32",value:n()};
else if(T==56)W={type:"Color32",value:[J(),J(),J(),J()]};else if(T==68)W={type:"ColorRGBA",value:[Q(),Q(),Q(),Q()]};
else if(T==72)W={type:"ColorCMYK",value:[Q(),Q(),Q(),Q(),Q()]};else{throw T}return T==49||T==50||T==51?W:W.value}function X(T){var l=0,w=T.length;
for(var D=0;D<w;D++)T[D]=l=l+T[D]&255}function o(T){m=T;C=4;var l=n(),w=q();if(w!="nsrP")throw w;var w=q();
if(w!="#Inf")throw w;var W=e();V=e();var U=e(),s=e(),S=e(),x=n(),P=n(),w=q();if(w!="Prot")throw w;var x=n(),y=R(W),_={},g=Date.now();
for(var G=0;G<y.length;G++){var O=y[G],E=O[3],Y=null;C=O[0];var w=q();if(w!="#Fil")throw w;var L=E>>>5&1,c=E&3,k=E&192;
switch(k){case 64:k=1;L=0;break;case 128:k=2;break;case 192:k=3;break;default:k=0;L=0}var I=new Uint8Array(m.buffer,C,O[2]);
if(c==0)Y=I;else if(c==1)Y=pako.inflate(I);else if(c==2)Y=d4.o3.Lu(I,O[1]);else throw c;if(L==0){if(k==1)X(Y);
if(k==2)throw"e"}else throw L;_[O[4]]=Y}return _}function h(T){var l=o(new Uint8Array(T));m=l["doc.dat"];
C=16;var w={};z(w,0,[]);return[l,w,V]}return{a3W:h}}();function cP(){}cP.Nh=function(){function u($,R){var z=Date.now(),v=bb.a3W($),a=v[0],X=v[1],V=v[2],o=X.DocR,h=o.DfSz,T=o.Chld;
if(T.length!=1)throw"e";var l=T[0],w=l.SprB;T=l.Chld;R.e=~~w[2];R.n=~~w[3];R.buffer=j.U(R.e*R.n*4);var W=[0,{}];
for(var D=0;D<T.length;D++)q(T[D],R,a,new ix,W);R.gS(W[0]);console.log(Date.now()-z,"Document created");
z=Date.now()}function m($){return new ix($[0],$[3],$[1],$[4],$[2],$[5])}function C($,R){var z=R.Xfrm;
z=z?m(z):new ix;z.concat($);return z}function Z($){var R={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[$];
return R?R:"norm"}function q($,R,z,v,a){var X=$._type,V=$.Chld,o=R.Rp();o.RS($.Desc==null||$.Desc==""?X=="Grup"?"Folder":"Layer":$.Desc);
o.$S($.Visi);o.opacity=Math.round(255*$.Opac);if($.FOpc!=1)o.add.iOpa=Math.round(255*$.FOpc);var h=$.Blnd;
if(h!=null)o.Um=Z(h);var T=C(v,$),l=X=="ShpN"||X=="PCrv";if(V){R.g.push(R.B$());o.add.lsct=cT.G6;o.Um="pass";
o.VO=24;if(X=="ShpN"){var w=$.ShpB;o.Cw(new bl(w[0]+T.GI,w[1]+T.c_,w[2]-w[0],w[3]-w[1]));a[0]++;o.add.artb.Clr={t:"Objc",v:j.C.sG({p:255,T:255,S:255})}}for(var D=0;
D<V.length;D++)q(V[D],R,z,T,a)}else if(X=="Rstr"||X=="ImgN"||X=="MRst"){var W=$.Bitm,U=W.Bckg,s=Date.now(),S;
if(U==null){S=e(W,z,a[1]);o.rect=S[2].clone();o.buffer=S[1].slice(0);o.rect.x+=T.GI;o.rect.y+=T.c_}if(U||T.p1()!=1){var x,P=0,y=0;
if(U){var _=z[U.Data],g=M.MC(_,"ataD")+4,G=M.Jr(_,g);g+=4;x=_.slice(g,g+G)}else{P=o.rect.x-T.GI;y=o.rect.y-T.c_;
if(S[3]==null)S[3]=new Uint8Array(d4.X5("PNG").c2([[o.buffer.buffer]],o.rect.e,o.rect.n));x=S[3].slice(0)}var O=R.mV(x,o.getName(),0,0);
O.VO=o.VO;O.opacity=o.opacity;o=O;var E=new ix;E.translate(P,y);E.concat(T);var L=o.rect.clone();L.x=L.y=0;
var c=j.u.yj(L).s;j.u.I(c,E,c);o.add.SoLd.Trnf=b.Q.Ii(c);o.add.SoLd.nonAffineTransform=b.Q.Ii(c);o.go(R,!1)}}else if(X=="TxtA"||X=="TxtF"){o.add.lnsr="rend";
o.add.TySh=ad.bF(0,0);o.add.TySh.jR=new bl(0,0,100,100);var k=$.TxtH.FrmB,I=new ix,i4=0;I.translate(k[0],k[1]);
I.concat(T);o.add.TySh.I=I;var Y=o.add.TySh.pU,K=$.StSt,i=K.Blok;if(i.length!=1)throw"e";for(var d7=0;
d7<i.length;d7++){var d=i[d7],fH=i4,aC=0,f8=d.Glyp.Utf8;f8=f8.replace(/\u2028/g,"\n");f8=f8.replace(/\u2029/g,"\n");
f8=f8.slice(0,f8.length-1);ad.Y9(Y,i4,f8);i4+=f8.length;var c9=d.GAtt.Runs,g1=d.PAtt.Runs[0],cE=g1.Item.Ints[0];
for(var hG=0;hG<c9.length;hG++){var fA=c9[hG],hh=fA.Indx,eE=fA.Item,dh=eE.Objs,fT=ad.zd(Y,fH,1);fT.n9.Justification=cE==0?0:cE==1?2:1;
ad.t7(fT,eE.DFnt.Post);fT.L4.FontSize=eE.Doub[0];for(var D=0;D<dh.length;D++){var dB=dh[D];if(dB._type=="FDsc"){var iN=dB.FDeF;
if(iN._type=="FilS"){var gV=N(iN.Colr);fT.L4.FillColor={Type:1,Values:[1,gV[0],gV[1],gV[2]]}}}}ad.sM(Y,fH+aC,fH+Math.min(hh,f8.length),fT);
aC=hh}}ad.Qt(Y,1);ad.Fm(Y,[0,0,Math.round(k[2]-k[0]),Math.round((k[3]-k[1])*1.2)]);R.Ex=!0}else if(l){o.VO|=16;
var fI=o.add.vstk=JSON.parse(JSON.stringify(c0.K_.default));o.add.vstk.strokeEnabled.v=!1;o.add.vogk=[];
var gc=o.add.vmsk=J($);j.$.l0(gc.B,T);if($.BFFl){var aF=$.BFFl[0].FDeF,gh=aF._type;if(gh=="FilS")o.add.SoCo={classID:"null",Clr:n(aF.Colr)};
else if(gh=="FilG"){var gD=o.add.GdFl=JSON.parse(c0.j_[c0.order.indexOf("GrFl")]);A(aF,gD)}else if(gh=="FilN"){o.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.C.sG({p:0,T:0,S:0})}};
fI.fillEnabled.v=!1}else console.log(gh)}if($.LILn){var j1=$.LILn[0].LDeL,dg=j1.Wght;if(dg!=0){fI.strokeEnabled.v=!0;
fI.strokeStyleLineWidth.v.val=dg;var aF=$.LIFl[0].FDeF,gh=aF._type;if(gh=="FilS")fI.strokeStyleContent.v.Clr=n(aF.Colr);
else if(gh=="FilN")fI.strokeEnabled.v=!1}}o.uE(R)}else console.log(X);var ao=$.AdCh,eC=[];if(ao)for(var D=0;
D<ao.length;D++){var bD=ao[D],fK=bD._type;if(fK=="ShpN"||fK=="PCrv"){var gc=o.add.vmsk=J(bD),a1=C(T,bD);
j.$.l0(gc.B,a1);o.uE(R)}else if(bD.AdjP){var fR=bD.AdjP,bj=fR._type,b7={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[bj];
if(b7==null){console.log(fR);continue}var ha=a7.TH(b7,{});eC.push(ha);var eJ=ha.v.Fltr.v;if(bj=="LevP"){var cq=ii.kN(eJ,0);
cq[0]=fR.OutB*255;cq[1]=fR.OutW*255;ii.Kq(eJ,0,cq)}else if(bj=="WhBP"){var cq=ii.kN(eJ,2);cq[4]=100+fR.WBTi*20;
ii.Kq(eJ,2,cq);var cq=ii.kN(eJ,3);cq[4]=100+fR.WBTi*200;ii.Kq(eJ,3,cq)}else if(bj=="HSSP"){var cq=je.kN(eJ,0);
cq[0]=Math.round(fR.HueA*256);cq[1]=Math.round(fR.SatA*256);cq[2]=Math.round(fR.LumA*256);je.Kq(eJ,0,cq)}else if(bj=="RecP"){eJ.Clrz.v=!0;
var cq=je.kN(eJ,0);cq[0]=Math.round(fR.RecH*100);cq[1]=Math.round(fR.RecS*100);cq[2]=Math.round(fR.RecL*100);
je.Kq(eJ,0,cq)}else if(bj=="B&CP"){eJ.Brgh.v=Math.round(fR.Brig*100);eJ.Cntr.v=Math.round(fR.Ctrs*100-100)}else if(bj=="PosP"){eJ.Lvls.v=fR.Post}else if(bj=="VibP"){eJ.vibrance.v=fR.Vibr-100;
eJ.Strt.v=Math.round(fR.Satu*100)}else if(bj=="ExpP"){eJ.Exps.v=fR.Expo;eJ.gammaCorrection.v=fR.Gamm/2.2}else if(bj=="ThrP"){eJ.Lvl.v=Math.round(fR.Thre*255)}else if(bj=="CrvP"){var bF=fR.Mast["Cnt "],g4=fR.Mast.Vals,cq=ee.kN(eJ,0),eA=cq[0];
for(var aJ=0;aJ<bF;aJ++){var fU=cq[aJ]=JSON.parse(JSON.stringify(eA));fU.v.Hrzn.v=Math.round(g4[aJ]*255);
fU.v.Vrtc.v=Math.round(g4[4+aJ]*255)}ee.Kq(eJ,0,cq)}}else console.log(bD)}if(eC.length!=0){o.add.SoLd.filterFX=a7.wN();
R.qr({id:o.add.SoLd.placed.v,rect:new bl,buffer:j.U(1),M:new F.ol});o.add.SoLd.filterFX.v.filterFXList.v=eC;
o.go(R,!1)}var iE=$.FiEf;if(iE&&iE.length!=0){var hQ=o.add.lmfx=JSON.parse(c0.default);for(var D=0;D<c0.order.length;
D++)hQ[c0.Ca[D]]={t:"VlLs",v:[]};for(var bT=0;bT<iE.length;bT++){var iU=iE[bT],ba=iU._type,eI={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[ba],gD=eI?JSON.parse(c0.j_[c0.order.indexOf(eI)]):null;
if(ba=="ColO"){gD.Clr=n(iU.Colr)}else if(ba=="GrdO"){A(iU.GrFl.FDeF,gD)}else if(ba=="Shad"||ba=="InnS"||ba=="OutG"||ba=="InnG"){gD.Clr=n(iU.Colr);
gD.blur.v.val=Math.round(iU.Radi/2.4);if(iU.Offs!=null){gD.Dstn.v.val=iU.Offs;gD.lagl.v.val=Math.round(180-iU.Angl*180/Math.PI);
gD.uglg.v=!1}}else if(ba=="Strk"){gD.Clr=n(iU.Colr);gD.Sz.v.val=Math.round(iU.Radi)}else if(ba=="PhgB"||ba=="BevE"){gD.blur.v.val=Math.round(iU.Radi);
if(ba=="BevE")gD.bvlS.v.BESl="PlEb"}else if(ba=="Gaus"){if(l&&iU.Enab){o.add.vmsk.To=iU.Radi/2.4;o.add.vmsk.hf=!0;
o.uE(R)}}if(eI){gD.enab.v=iU.Enab;if(gD.Md&&iU.BlnM!=null)gD.Md.v.BlnM=hR.gt(Z(iU.BlnM));if(gD.Opct&&iU.Opac!=null)gD.Opct.v.val=Math.round(iU.Opac*100);
var e_=c0.Ca[c0.order.indexOf(eI)];hQ[e_].v.unshift({t:"Objc",v:gD})}}}R.g.push(o)}function J($){var R=new F.nq,z=$._type;
if(z=="PCrv"){var v=$.Crvs.Data,a=[],X=[];for(var D=0;D<v.length;D++){var V=v[D];if(V.length%3!=1){V=V.slice(1,V.length-1)}for(var o=0;
o<V.length;o++){var h=V[o],T=h[2];if(T!=0)a.push(o==0?"M":"C");X.push(h[0],h[1])}}R.B=j.u.DA({s:X,X:a},!0)}else{var l=$.ShpB,w=$.Shpe,W=w._type,U=l[2]-l[0];
if(W=="ShpE"){R.B=j.$.i5.y$(l[0],l[1],l[2]-l[0],l[3]-l[1])}else if(W=="ShNR"){var s=[0,0,0,0];if(w.CTyp){s=w.ShCR.slice(0);
for(var D=0;D<4;D++)s[D]*=l[2]-l[0]}R.B=j.$.i5.Rect(l[0],l[1],l[2]-l[0],l[3]-l[1],s)}else if(W=="ShpT"){R.B=j.u.DA({X:["M","L","L","Z"],s:[l[0],l[3],l[2],l[3],l[0]+U*.5,l[1]]},!0)}else if(W=="ShTz"){R.B=j.u.DA({X:["M","L","L","L","Z"],s:[l[0]+U*w.PosL,l[1],l[0]+U*w.PosR,l[1],l[2],l[3],l[0],l[3]]},!0)}else{console.log("--",W);
R.B=j.$.i5.Rect(l[0],l[1],l[2]-l[0],l[3]-l[1],[0,0,0,0])}}return R}function A($,R){var z=$.Grad,v=z.Cols;
R.Type.v.GrdT=$.Type==0?"Lnr":"Rdl";var a=[];for(var D=0;D<v.length;D++){var X=N(v[D]);a.push([z.Posn[D][0],X])}R.Grad.v.Intr.v=0;
j.C.Hk(a,R.Grad.v);var V=z.Posn,o=new dz(V[0][0],V[0][1]),h=new dz(V[1][0],V[1][1]);if($.Type==0)o=new dz((o.x+h.x)/2,(o.y+h.y)/2);
j.C.$a(o,h,new bl(0,0,1,1),R)}function n($){var R=N($);return{t:"Objc",v:j.C.sG({p:R[0]*255,T:R[1]*255,S:R[2]*255})}}function N($){var R=$._col,z=$._type;
if(z=="HSLA"){var v=j.dB(R[0],R[1],R[2]);return[v.p,v.T,v.S,R[3]]}else if(z=="RGBA")return R;else if(z=="CMYK"){var a=1-R[3];
return[(1-R[0])*a,(1-R[1])*a,(1-R[2])*a]}else{console.log(R);throw z}}function e($,R,z){var v=$.Frmt,s="";
if(v!=0&&v!=6)throw v;var a=$.BmpW,X=$.BmpH,V=v==0?4:1,o=Math.ceil(a/256),h=Math.ceil(X/256),T=new bl(0,0,o,h),l=new bl;
for(var D=0;D<V;D++){var w=new Uint8Array($["Sta"+(D+1)]),W=j.tY(w,T);l=l.QN(W)}var U=[];for(var D=0;
D<V;D++){var w=new Uint8Array($["Sta"+(D+1)]),S=j.U(l.Z());j.j5(w,T,S,l);U[D]=[];for(var x=0;x<S.length;
x++)U[D][x]=S[x];s+=JSON.stringify(U[D])+","+JSON.stringify($["Idx"+(D+1)])+","}if(z[s]==null){var P=l.e*256,y=l.n*256,_=new Array(V);
for(var D=0;D<V;D++){var w=_[D]=new Uint8Array(P*y);Q(w,$["Idx"+(D+1)],U[D],R,P,y)}var g=j.U(P*y*4);
if(v==0)j.jh({p:_[0],T:_[1],S:_[2],w7:_[3]},g);else{g.fill(255);j.Ps(_[0],g)}var G=new bl(0,0,P,y),O={buffer:g,rect:G};
j.TS(O);z[s]=[O.rect,O.buffer]}var W=z[s][2]=z[s][0].clone();W.x+=l.x*256;W.y+=l.y*256;return z[s]}function Q($,R,z,v,a,X){var V=0,o=a>>>8,h=X>>>8;
for(var T=0;T<h;T++)for(var l=0;l<o;l++){var w=l*256,W=T*256,U=T*o+l,s=W*a+w,S=z[U];if(S<=1)p($,s,0,a,256,256);
else if(S==2)p($,s,4294967295,a,256,256);else if(S==4){var x=R[V];V++;var P=v[x.Data.DatI],y=x.Rect;
if(y==null)y=[0,0,256,256];p($,s,0,a,256,256);B($,(W+y[1])*a+w+y[0],P,y[1]*256+y[0],a,256,y[2]-y[0],y[3]-y[1])}else console.log(S)}}function p($,R,z,v,a,X){var V=R+v*X;
for(;R<V;R+=v){var o=R+a;for(var h=R;h<o;h++){$[h]=z}}}function B($,R,z,v,a,X,V,o){var h=R+a*o,T=v+X*o;
for(;R<h&&v<T;R+=a,v+=X){for(var D=0;D<V;D++)$[R+D]=z[v+D]}}return u}();function iH(){}iH.Nh=function(u,m){var C=iH,Z=hp.parse(u),J=0;
if(Z.pages.length>1)console.log(Z.pages.length,"pages");var q=[],A=new bl;for(var n=0;n<Z.pages.length;
n++){var N=Z.pages[n],e=N.layers,Q=C.Of(e,n),B=!1;if(Q.Z()>8e3*8e3||Q.e>3e4||Q.n>3e4){C.sY(e,!0);var p=C.Of(e,n);
if(p.Z()>=Q.Z())C.sY(e,!1)}Q=C.Of(e,n);for(var $=0;$<e.length;$++){var R=e[$];if(C.Wp(R)=="artboard")B=!0}if(!B){console.log("no artboard");
var z={};for(var v in N)z[v]=N[v];z._class="group";N.layers=[z]}q.push(Q.clone());if(Q.qR())continue;
Q.x=0;Q.y=J;J+=Q.n+200;A=A.QN(Q)}var a={};if(Z.foreignSymbols)for(var D=0;D<Z.foreignSymbols.length;
D++){var X=Z.foreignSymbols[D].symbolMaster;a[X.symbolID]={Ij:X}}C.p7(Z.pages,a,m);for(var V in a){var R=a[V].Ij,o=C.jY(R.layers)}var h=iH.xs(A,8192*8192);
m.Ex=!0;m.e=Math.round(A.e/h);m.n=Math.round(A.n/h);m.buffer=j.U(m.e*m.n*4);m.gS(Z.pages[0].layers.length);
m.C_={};m.jq=[];J=0;for(var n=0;n<Z.pages.length;n++){var T=Z.pages[n],Q=q[n],l=new ix(h,0,0,h,Q.x,Q.y-J);
C.f1(T.layers,m,l,Z,a,{},[]);J+=Q.n+200}delete m.C_;delete m.jq;if(h!=1)alert("File scaled down "+h+"x");
m.ak6()};iH.aht=0;iH.Wp=function(u){return u._class?u._class:u.$class};iH.xs=function(u,m){var C=1;while(Math.round(u.e/C)*Math.round(u.n/C)>m||Math.max(Math.round(u.e/C),Math.round(u.n/C))>3e4)C++;
if(C!=1&&!window.confirm("Your image is quite large ("+u.e+" x "+u.n+" px).\n"+"Press OK to scale it down "+C+"x, or Cancel to keep the size."))C=1;
return C};iH.Of=function(u,m){var C=[],Z=iH;for(var q=0;q<u.length;q++){var J=u[q],A=Z.ie(J.frame);if(m==0||Z.Wp(J)=="artboard")C.push(A)}return j.rect.mz(C)};
iH.sY=function(u,m){var C=[],Z=iH;for(var q=0;q<u.length;q++){var J=u[q],A=Z.ie(J.frame);A.e+=150;A.n+=150;
C.push(A)}var n=j.rect.mz(C);j.rect.ahL(C,m);var N=j.rect.mz(C);if(N.Z()*1.5<n.Z()||n.e>3e4&&N.e<=3e4||n.n>3e4&&N.n<=3e4){alert("Re-arranging artboards");
for(var q=0;q<u.length;q++){var e=C[q],J=u[q],Q=J.frame;Q.x=e.x;Q.y=e.y}}};iH.p7=function(u,m,C){var Z=iH;
for(var q=0;q<u.length;q++){var J=u[q],A=Z.Wp(J);if(["page","artboard","group"].indexOf(A)!=-1)Z.p7(J.layers,m,C);
else if(A=="symbolMaster")m[J.symbolID]={Ij:J}}};iH.jY=function(u){var m=iH;for(var C=0;C<u.length;C++){var Z=u[C],q=m.Wp(Z),J=null;
if(["page","artboard","group"].indexOf(q)!=-1)J=m.jY(Z.layers);if(q=="symbolMaster"||q=="symbolInstance")J=Z;
if(J!=null)return J}return null};iH.f1=function(u,m,C,Z,q,J,A){var n=iH,N=[];for(var e=0;e<u.length;
e++){var Q=u[e],p=Q.frame?n.ie(Q.frame):null,B=Q.style,a="",l=null,w=!1;if(B==null){console.log("no styles")}var $=n.u_(Q,C),R=n.Wp(Q),z=R=="shapeGroup"||R=="shapePath"||R=="rectangle"||R=="oval"||R=="triangle"||R=="polygon",v=["page","artboard","group"].indexOf(R)!=-1;
if(R=="shapeGroup"){for(var D=0;D<Q.layers.length;D++)if(n.Wp(Q.layers[D])=="shapeGroup")v=!0}var X=Q.exportOptions;
if(X){var V=X.exportFormats;if(V==null)V=X.sizes;if(R!="artboard"&&(V&&V.length!=0)){var o=V[0].scale}}var h=m.Rp();
h.$S(Q.isVisible);var T=Q.name;if(!(typeof T=="string"))T=R;h.RS(a+T.slice(0,250));if(B!=null)l=n.ac7(Z,m,B,p,$,h.getName(),z||R=="artboard"||v);
if(R=="rectangle"&&B&&B.fills&&B.fills[0]){var W=B.fills[0];if(W.fillType==4&&W.patternFillType>1&&W.image!=null)w=!0}if(Q.shouldBreakMaskChain){while(N.length!=0)n.Uq(N.pop(),m)}if(v){h.add.lsct=Q.layerListExpandedType==2?cT.G6:cT.an;
h.Um="pass";h.VO=24;h.$S(Q.isVisible);m.g.push(m.B$());if(R=="artboard"){var U=p.clone(),s=$.p1();U.x=-Math.floor($.GI/s);
U.y=-Math.floor($.c_/s);U.e=Math.floor(U.e/s);U.n=Math.floor(U.n/s);h.Cw(U);var S=Q.backgroundColor,x=S?{p:255*S.red,T:255*S.green,S:255*S.blue}:{p:255,T:255,S:255};
h.add.artb.Clr={t:"Objc",v:j.C.sG(x)};h.add.artb.artboardBackgroundType={t:"long",v:4}}n.f1(Q.layers,m,$,Z,q,J,A)}else if(z&&!w){h.add.vmsk=new F.nq;
h.add.vstk=JSON.parse(JSON.stringify(c0.K_.default));h.add.vstk.strokeEnabled.v=!1;h.add.vogk=[];var P=l!=null&&l.frameFXMulti.v.length==1,y=B?B.fills:null,_=B?n.C9(Z,y,p,$,h.getName(),m,n.I0(A,Q.do_objectID+"_image")):[];
if(_.length==0){if(P)h.add.vstk.fillEnabled.v=!1;else h.add.iOpa=0;h.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.C.sG({p:0,T:0,S:0})}}}else{var g=_[0],G=null,O=null;
if(g.type=="SoFi"){G="SoCo";O=c0.wP}if(g.type=="GrFl"){G="GdFl";O=c0.mr}if(g.type=="patternFill"){G="PtFl";
O=c0.d0}if(G!=null){h.add[G]={classID:"null"};for(var D=0;D<O.length;D++){var E=O[D];h.add[G][E]=g.k.v[E]}var L=g.k.v.Opct.v.val;
if(P&&L==0)h.add.vstk.fillEnabled.v=!1;else h.add.iOpa=Math.round(255*L/100)}}h.VO|=16;h.add.vmsk.B=n.VF(Q.layers?Q.layers:[Q],Q.layers?$:C,h.add.vogk);
var c=B?B.blur:null;if(c&&c.isEnabled&&c.type<=1)h.add.vmsk.To=c.radius;if(h.add.vmsk.B.length==2){console.log("shape with no content:",h.getName())}if(P){var k=l.frameFXMulti.v[0].v,I=h.add.vstk,Y=B.borders[0];
l.frameFXMulti.v=[];dU.agV(k,I);var K=B.borderOptions,i=B.miterLimit;if(K){var i4=K.dashPattern;I.strokeStyleLineCapType.v.strokeStyleLineCapType=c0.K_.kS[K.lineCapStyle];
I.strokeStyleLineJoinType.v.strokeStyleLineJoinType=c0.K_.join[K.lineJoinStyle];if(i4)I.strokeStyleLineDashSet.v=dU.di(i4,1/k.Sz.v.val);
if(i!=null)I.strokeStyleMiterLimit.v=i}}h.uE(m)}else if(R=="bitmap"||w){if(!w&&Q.image==null)continue;
var d7=w?B.fills[0]:null,d=w?d7.image.bdata:Q.image.bdata,fH=m.mV(d,h.getName(),0,0);fH.VO=h.VO;h=fH;
var c=B?B.blur:null,aC=B?B.colorControls:null;if(c||aC){h.add.SoLd.filterFX=a7.wN();m.qr({id:h.add.SoLd.placed.v,rect:new bl,buffer:j.U(1),M:new F.ol});
var y=h.add.SoLd.filterFX.v.filterFXList.v;if(c){var f8=a7.TH("GsnB",{});f8.v.enab.v=c.isEnabled;f8.v.Fltr.v.Rds.v.val=c.radius;
y.push(f8)}if(aC){var c9=aC.brightness,g1=aC.contrast,cE=aC.hue,hG=aC.saturation;if(cE!=0||hG!=1){var f8=a7.TH("hue2",{});
f8.v.enab.v=aC.isEnabled;je.Kq(f8.v.Fltr.v,0,[Math.round(cE*180/Math.PI),Math.round((hG-1)*100),0]);
y.push(f8)}if(c9!=0||g1!=1){var f8=a7.TH("brit",{});f8.v.enab.v=aC.isEnabled;g1=g1-1;if(g1>0)g1/=2;var fA=f8.v.Fltr.v;
fA.Brgh.v=Math.round(c9*255);fA.Cntr.v=Math.round(g1*255);fA.useLegacy.v=!0;y.push(f8)}}}if(w){var hh=d7.patternFillType;
if(hh==3){var eE=h.rect.e/h.rect.n,dh=p.e/p.n;if(eE<dh){$.translate(-(p.e*(1-eE/dh))/2,0);$.scale(dh/eE,1)}else{$.translate(0,-(p.n*(1-dh/eE))/2);
$.scale(1,eE/dh)}}}p.x=p.y=0;var fT=j.u.yj(p).s;$.mL();j.u.I(fT,$,fT);h.add.SoLd.Trnf=b.Q.Ii(fT);h.add.SoLd.nonAffineTransform=b.Q.Ii(fT);
h.go(m,!1)}else if(R=="text"){if(Q.attributedString==null)continue;var dB=$.clone(),iN,gV,gD=0;dB.mL();
dB.w7=dB.MX=Math.min(dB.w7,dB.MX);h.add.lnsr="rend";h.add.TySh=ad.bF(0,0);h.add.TySh.jR=new bl(0,0,p.e,p.n);
h.add.TySh.I=dB;var fI=Q.attributedString;if(fI.archivedAttributedString)fI=fI.archivedAttributedString;
var gc=fI.NSString;if(gc==null)gc=fI.string;if(gc==null)gc="";if(gc["NS.string"])gc=gc["NS.string"];
if(J[Q.do_objectID]!=null)gc=J[Q.do_objectID];var aF=n.I0(A,Q.do_objectID+"_stringValue");if(aF)gc=aF.value;
if(fI.attributes!=null){iN=[];gV=[];var gh=fI.attributes;for(var D=0;D<gh.length;D++){iN.push(gh[D].length,D);
gV.push(gh[D].attributes)}}else if(fI.NSAttributeInfo==null){iN=[gc.length,0];gV=[fI.NSAttributes]}else{iN=fI.NSAttributeInfo["NS.data"];
gV=fI.NSAttributes;iN=iH.aqj(iN,gV)}for(var D=0;D<iN.length;D+=2)gD+=iN[D];if(gD!=gc.length){while(gD>gc.length){iN[iN.length-2]--;
gD--;if(iN[iN.length-2]==0){iN.pop();iN.pop()}}iN[iN.length-2]+=gc.length-gD}gc=gc.replace(/\u2028/g,"\n");
gc=gc.replace(/\u2029/g,"\n");gc=gc.replace(/\r/g,"\n");var j1=h.add.TySh.pU;ad.Y9(j1,0,gc);if(gc!=""){var dg=Q.textBehaviour,ao=B.textStyle,eC=ao?ao.verticalAlignment:0,bD=n.amw(j1,iN,gV,gc),s=dB.p1(),fK=ad.zd(j1,0,1),bj=0;
if(fK.L4.Font){var a1=fK.nS[fK.L4.Font].Name;if(a1=="FontAwesome"||a1=="Ionicons")bD*=.87}var fR=fK.L4.AutoLeading?0:fK.L4.Leading*.6,b7=Math.max(bD,fR)*s,ha=p.e,eJ=p.n;
if(dg==0){ad.Qt(j1,0);var cq=ad.p5(fK.n9);if(cq==1)bj=ha*s;if(cq==2)bj=ha*s*.5;if(eC==0)b7*=1;else b7*=.9}else{ad.Qt(j1,1);
ad.Fm(j1,[0,0,Math.round(ha),Math.round(eJ)]);if(dg==2&&eC==0)b7=b7*.2;else if(dg==2&&eC==1){b7=s*.5*(eJ-fK.L4.FontSize)}else if(dg==1&&eC==0)b7=b7*.2;
else b7=b7*.35}h.add.TySh.I.translate(bj,b7)}}else if(R=="symbolInstance"||R=="symbolMaster"){var bF=Q.symbolID;
if(J[Q.do_objectID])bF=J[Q.do_objectID].symbolID;var g4=n.I0(A,Q.do_objectID+"_symbolID");if(g4)bF=g4.value;
if(bF=="")continue;var eA={};for(var E in J)eA[E]=J[E];if(Q.overrides)for(var E in Q.overrides)eA[E]=Q.overrides[E];
var aJ=A.slice(0);if(Q.overrideValues)aJ=aJ.concat(Q.overrideValues);var fU=q[bF];if(fU==null){console.log("Unknown master master",Q.symbolID);
continue}var iE=iH.ie(fU.Ij.frame),hQ=iE.e/p.e,bT=iE.n/p.n,iU=$.clone();iU.scale(hQ,bT);h.add.lsct=cT.an;
h.Um="pass";h.VO=24;h.$S(Q.isVisible);m.g.push(m.B$());var ba=fU.Ij;if(m.jq.indexOf(ba)==-1){m.jq.push(ba);
n.f1(ba.layers,m,iU,Z,q,eA,aJ);m.jq.pop()}}else if(R=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+R,Q);continue}if(B&&B.contextSettings){var eI=B.contextSettings,e_=eI.blendMode;
if(e_<n.rS.length){h.Um=hR.AO[hR.C7.indexOf(n.rS[e_])];if(v&&h.Um=="norm")h.Um="pass"}h.opacity=Math.round(h.opacity*eI.opacity)}if(l!=null){h.add.lmfx=l}m.g.push(h);
if(Q.hasClippingMask&&u.length>1){N.push(h);m.g.push(m.B$())}}while(N.length!=0)n.Uq(N.pop(),m)};iH.I0=function(u,m){for(var D=0;
D<u.length;D++)if(u[D].overrideName.startsWith(m))return u[D]};iH.aqj=function(u,m){var C=0,Z=[];while(C+1<u.length){var q=u[C];
C++;if(q>127){q+=128*(u[C]-1);C++;if(u[C-1]>127){q+=128*(u[C]-1);C++}}var J=u[C];C++;Z.push(q,J)}return Z};
iH.amw=function(u,m,C,Z){var q=iH,J=0,Q=0,p=0;for(var D=0;D<Z.length;D++){var A=Z.charCodeAt(D),n=1473<=A&&A<=1479||1488<=A&&A<=1514||1520<=A&&A<=1524,N=1569<=A&&A<=1594||1600<=A&&A<=1749;
if(n||N)J++}var e=J>Z.length/2;for(var D=0;D<m.length;D+=2){var B=m[D],T=14,l="DejaVuSans";if(B==0)continue;
var $=m[D+1],R=C[$],z=ad.zd(u,Q,Q+B-1),v=R.NSColor;if(v==null){var v=R.MSAttributedStringColorDictionaryAttribute;
if(v==null)v=R.MSAttributedStringColorAttribute;if(v==null)v="0 0 0";else v=[v.red,v.green,v.blue].join(" ")}else if(q.Wp(v)=="MSArchivedColor")v=v.dr+" "+v.dg+" "+v.db;
else if(v.NSRGB){v=v.NSRGB;v=M.Qi(v,0,v.length-1)}else if(v.NSCMYK){v=v.NSCMYK;v=M.Qi(v,0,v.length-1);
v=v.split(" ").map(parseFloat);var X=1-v[0],V=1-v[1],o=1-v[2],h=1-v[3];v=X*h+" "+V*h+" "+o*h}else if(v.NSWhite){v="1 1 1"}v=v.split(" ");
z.L4.FillColor={Type:1,Values:[1,parseFloat(v[0]),parseFloat(v[1]),parseFloat(v[2])]};var w=R.MSAttributedStringFontAttribute;
if(R.NSFont){T=R.NSFont.NSSize;l=R.NSFont.NSName}else if(w){if(w.attributes){w=w.attributes;T=w.size;
l=w.name}else{var W=w.NSFontDescriptorAttributes;if(W==null)W=w.UIFontDescriptorAttributes;w=W;T=w.NSFontSizeAttribute;
l=w.NSFontNameAttribute}if(l==null)l="DejaVuSans"}var p=Math.max(p,T);z.L4.FontSize=Math.round(T);ad.t7(z,l);
var U=R.NSKern;if(U==null)U=R.kerning;if(U!=null)z.L4.Tracking=Math.round(1e3*U/T);if(R.NSUnderline!=null)z.L4.Underline=R.NSUnderline>0;
var s=R.NSStrikethrough;if(s==null)s=R.strikethroughStyle;if(s!=null)z.L4.Strikethrough=s>0;if(R.MSAttributedStringTextTransformAttribute==1)z.L4.FontCaps=2;
var S=R.NSParagraphStyle;if(S==null)S=R.paragraphStyle;if(S){var x=S.paragraphSpacing;if(x!=null){z.n9.SpaceAfter=x}var P=S.NSAlignment;
if(P==null)P=S.alignment;if(P!=null){var y=0;if(!1){}else if(P==1)y=1;else if(P==2)y=2;else if(P==4)y=0;
else{y=P;console.log("unknown align",P)}if(e&&y<2)y=1-y;z.n9.Justification=y}var _=S.NSMinLineHeight;
if(_==null)_=S.minimumLineHeight;if(_!=null){z.L4.AutoLeading=!1;z.L4.Leading=_}}z.n9._Direction=e?1:0;
ad.sM(u,Q,Q+B,z);Q+=B}return p};iH.ac7=function(u,m,C,Z,q,J,A){var n=iH,N=JSON.parse(c0.default),e=!1;
for(var D=0;D<c0.order.length;D++)N[c0.Ca[D]]={t:"VlLs",v:[]};var Q=C.fills,p=n.C9(u,Q,Z,q,J,m);for(var B=0;
B<2;B++){var $=C[["shadows","innerShadows"][B]];if($==null)continue;var R=["DrSh","IrSh"][B],z=c0.Ca[c0.order.indexOf(R)];
for(var D=0;D<$.length;D++){var v=$[D];if(!v.isEnabled)continue;if(v.contextSettings.opacity==0||v.color.alpha==0)continue;
var a=JSON.parse(c0.j_[c0.order.indexOf(R)]);N[z].v.unshift({t:"Objc",v:a});e=!0;a.Clr.v=n.Di(v.color);
a.blur.v.val=Math.round(v.blurRadius/q.p1());var X=q.clone();X.GI=X.c_=0;X.mL();var V=X.HL(new dz(v.offsetX,v.offsetY)),o=Math.sqrt(V.x*V.x+V.y*V.y);
a.Dstn.v.val=Math.round(o);a.lagl.v.val=Math.round(Math.atan2(V.y,-V.x)*(180/Math.PI));if(a.layerConceals)a.layerConceals.v=p.length!=0;
n.He(v,a)}}var h=C.borders;if(h!=null&&(p.length==0||C.blur==null||!C.blur.isEnabled))for(var D=0;D<h.length;
D++){var T=h[D];if(!T.isEnabled)continue;var a=JSON.parse(c0.j_[c0.order.indexOf("FrFX")]),z=c0.Ca[c0.order.indexOf("FrFX")];
N[z].v.unshift({t:"Objc",v:a});e=!0;a.Clr.v=n.Di(T.color);if(T.fillType!=0&&T.gradient){var l=n.JP(T.gradient,Z,q,J),w=["Type","Angl","Ofst","Scl"];
for(var D=0;D<w.length;D++)a[w[D]]=l[w[D]];a.Grad.v=l.Grad.v;a.PntT.v.FrFl="GrFl"}a.Sz.v.val=T.thickness/q.p1();
a.Styl.v.FStl=["CtrF","InsF","OutF"][T.position];n.He(T,a)}for(var D=A?1:0;D<p.length;D++){var W=p[D],z=c0.Ca[c0.order.indexOf(W.type)];
N[z].v.unshift(W.k);e=!0}return e?N:null};iH.C9=function(u,m,C,Z,q,J,A){if(m==null)return[];var n=iH,N=[];
for(var D=0;D<m.length;D++)if(m[D].isEnabled)N.push(m[D]);m=N;var e=[];for(var D=0;D<m.length;D++){var Q=m[D],p=null,B=null;
if(Q.fillType==0){p="SoFi";var $=JSON.parse(c0.j_[c0.order.indexOf("SoFi")]);B={t:"Objc",v:$};B.v.Clr.v=n.Di(Q.color)}else if(Q.fillType==1){p="GrFl";
B={t:"Objc",v:n.JP(Q.gradient,C,Z,q)}}else if(Q.fillType==4&&Q.image!=null){var R=Q.image;if(A)R=A.value;
var z=d4.BM(R.bdata.buffer);if(z!=null&&z!="pdf"&&z!="eps"){var v,T=0,l=0,w=0;if(J.C_[R.key])v=J.C_[R.key];
else{var a=d4.X5(z).Pl(R.bdata)[0],X=a.WL.clone();v={};v.id=gj.b2()+"-d71c-11e5-b1ae-a548a96e5f9f";v.name="someImage";
v.k9=[new Uint8Array(a.data),X];J.Vp(v);J.C_[R.key]=v}var V=v.k9[1],$=JSON.parse(c0.j_[c0.order.indexOf("patternFill")]);
p="patternFill";B={t:"Objc",v:$};var o=Q.patternFillType,h=Q.patternTileScale;$.Algn.v=!0;$.Ptrn.v.Idnt.v=v.id;
if(o==0){T=h*V.e/Math.min(V.e,V.n);l=-Z.GI;w=-Z.c_}else{T=Math.max(C.e/V.e,C.n/V.n);l=-Z.GI-(V.e*T-C.e)/2;
w=-Z.c_-(V.n*T-C.n)/2}$.Scl.v.val=100*T*(1/Z.p1());$.phase.v.Hrzn.v=Math.round(l/Z.p1());$.phase.v.Vrtc.v=Math.round(w/Z.p1())}}else if(Q.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",Q.fillType);
if(p!=null){n.He(Q,B.v);e.push({type:p,k:B})}}return e};iH.acB=function(u){var m=iH,C=new bl(0,0,1,1);
u=u.slice(0);while(!0){var Z=!1;for(var D=0;D<u.length-1;D++){var q=u[D],J=u[D+1],A=null,n=q.contextSettings;
if(q.fillType==0&&(n==null||n.opacity==1&&n.blendMode==0)&&q.color.alpha==1){var N="norm",e=1,n=J.contextSettings;
if(n){e=n.opacity;N=hR.Sp(m.rS[n.blendMode])}if(J.fillType==0){A=JSON.parse(JSON.stringify(J));m.Q6(A.color,q.color,A.color,C,N,e)}if(J.fillType==1){A=JSON.parse(JSON.stringify(J));
var Q=A.gradient.stops;for(var p=0;p<Q.length;p++)m.Q6(Q[p].color,q.color,Q[p].color,C,N,e)}if(A!=null&&A.contextSettings){var n=A.contextSettings;
n.opacity=1;n.blendMode=0}}if(A!=null){u.splice(D,0,A);Z=!0;break}}if(!Z||u.length<2)break}return u};
iH.Q6=function(u,m,C,Z,q,J){var A=iH,n=j.U(4);A.v2(u,n);var N=j.U(4);A.v2(m,N);j.a.q5(q,n,Z,N,Z,Z,J);
A.at5(N,C)};iH.v2=function(u,m){m[0]=255*u.red;m[1]=255*u.green;m[2]=255*u.blue;m[3]=255*u.alpha};iH.at5=function(u,m){m.red=u[0]/255;
m.green=u[1]/255;m.blue=u[2]/255;m.alpha=u[3]/255};iH.Uq=function(u,m){u=u.clone();u.VO=24;u.RS("Mask by "+u.getName());
m.g.push(u);u.add.lsct=cT.G6;u.add.lyid=m.Ls();delete u.add.lmfx;delete u.add.SoCo;delete u.add.GdFl;
delete u.add.PtFl;delete u.add.iOpa;if(u.add.vmsk)u.add.vmsk.hf=!0;u.uE(m);if((u.VO&16)==16)u.VO-=16;
if((u.VO&2)==2)u.VO-=2;u.Um="pass";u.opacity=255};iH.rS="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
iH.JP=function(u,m,C,Z){C=C.clone();C.mL();C.GI=C.c_=0;var q=C.p1(),B=0,$=0;C.scale(1/q,1/q);var J=iH,A=JSON.parse(c0.j_[c0.order.indexOf("GrFl")]),n=A.Grad.v;
n.Intr.v=0;if(u==null)return A;var N=u.gradientType,e=J.HO(u.from),Q=J.HO(u.to);e.offset(-.5,-.5);Q.offset(-.5,-.5);
e=C.HL(e);Q=C.HL(Q);var p=Math.atan2(-(Q.y-e.y),Q.x-e.x);A.Type.v.GrdT=["Lnr","Rdl","Angl"][N];A.Scl.v.val=100*dz.th(e,Q);
if(N==0){A.Angl.v.val=180/Math.PI*p;A.Scl.v.val=100*dz.th(e,Q);B=(e.x+Q.x)/2;$=(e.y+Q.y)/2}if(N==1){A.Scl.v.val=200*dz.th(e,Q);
B=e.x;$=e.y}if(N==2){A.Angl.v.val=180/Math.PI*(p-Math.PI/2)}var R=A.Ofst.v;R.Hrzn.v.val=B*100;R.Vrtc.v.val=$*100;
var z=[];for(var D=0;D<u.stops.length;D++){var v=u.stops[D],a=v.color;z.push([v.position,a?[a.red,a.green,a.blue]:[0,0,0],a.alpha])}j.C.Hk(z,n);
return A};iH.He=function(u,m){var C=iH,Z=1,q=u.contextSettings;if(q!=null){m.Md.v.BlnM=C.rS[q.blendMode];
Z*=q.opacity}else m.Md.v.BlnM=C.rS[0];m.enab.v=u.isEnabled;if(m.uglg!=null)m.uglg.v=!1;if(u.color!=null)Z*=u.color.alpha;
m.Opct.v.val=Math.round(Z*100)};iH.Di=function(u){return j.C.sG(u?{p:u.red*255,T:u.green*255,S:u.blue*255}:{p:0,T:0,S:0})};
iH.VF=function(u,m,C){var Z=iH,q=[{type:6},{type:8,all:0}];for(var J=0;J<u.length;J++){var A=u[J],n=A.booleanOperation,N=0,e=A._class,z=!1;
if(e=="group"||e=="text"||e=="symbolInstance"||e=="slice"){console.log(e+" inside ShapeGroup");continue}if(n==-1)N=0;
else if(n==0)N=1;else if(n==1)N=2;else if(n==2)N=3;else if(n==3)N=0;if(J==0)N=1;var Q=iH.ie(A.frame),p=Z.u_(A,m),B=A.path?A.path:A,$=[{type:0,length:0,hB:N,sF:2,Y4:0,Fn:0}],R=B.points;
for(var D=0;D<R.length;D++){var v=R[D],a=Z.HO(v.curveTo),X=Z.HO(v.point),V=Z.HO(v.curveFrom);z=z||v.hasCurveFrom&&!V.QV(X)||v.hasCurveTo&&!a.QV(X)}var o=[];
if(!z){var h=[],jt=R.length;if(jt==0)continue;for(var D=0;D<jt;D++){o[D]=R[D].cornerRadius;var v=Z.HO(R[D].point);
h.push(v.x,v.y)}p.scale(1/Q.e,1/Q.n);p.mL();j.u.I(h,p,h);$=j.$.i5.tF(h,o).slice(2);$[0].hB=N}else{var T=R.length;
$[0].length=T;for(var D=0;D<T;D++){var v=R[D],l=v.curveMode,w=Z.HO(v.point);$[1+D]={type:l==2||l==4?1:2,Rv:v.hasCurveTo?Z.HO(v.curveTo):w.clone(),A:w,wm:v.hasCurveFrom?Z.HO(v.curveFrom):w.clone()}}p.scale(1/Q.e,1/Q.n);
p.mL();j.$.l0($,p);var o=[];for(var D=0;D<T;D++){var v=R[D],l=v.curveMode,W=v.cornerRadius;if(l==1&&W!=0)o.push(W);
else o.push(0)}}if(!B.isClosed)for(var D=0;D<$.length;D++)$[D].type+=3;q=q.concat($);var U=j.xK.LW(),s=Z.Wp(A);
if(p.S==0&&p.ZU==0){var S=p.GI,x=p.c_,P=S+p.w7,y=x+p.MX,_=[S,x,P,y];if(s=="rectangle"&&o.length==4)U=j.xK.JK(2,_,o);
if(s=="oval")U=j.xK.JK(5,_)}C.push(U)}return q};iH.u_=function(u,m){var C=m.clone(),Z=u.frame?iH.ie(u.frame):null;
if(Z)C.translate(-Z.x-Z.e/2,-Z.y-Z.n/2);if(u.isFlippedHorizontal)C.scale(-1,1);if(u.isFlippedVertical)C.scale(1,-1);
C.rotate(-u.rotation*(Math.PI/180));if(Z)C.translate(Z.e/2,Z.n/2);return C};iH.HO=function(u){u=u.slice(1,u.length-1).split(",");
return new dz(parseFloat(u[0]),parseFloat(u[1]))};iH.ie=function(u){return new bl(u.x,u.y,u.width,u.height)};
iH.dT=function(u){return{_class:"rect",constrainProportions:!1,x:u.x,y:u.y,width:u.e,height:u.n}};function iq(){}iq.Nh=function(u,m){var C=Date.now(),Z=iq,q=UZIP.parse(u),J=JSON.parse(M.V6(q.manifest)),A=JSON.parse(M.V6(q["resources/graphics/graphicContent.agc"])).resources,n=[],N=[],e=J.children;
for(var D=0;D<e.length;D++){var Q=e[D];if(Q.name=="artwork"){var p=Q.children;for(var B=0;B<p.length;
B++){var $=p[B],R=JSON.parse(M.V6(q["artwork/"+$.path+"/graphics/graphicContent.agc"])),z=R.children;
if(z.length==0){}else if(z.length==1){if($["uxdesign#bounds"]){$._node=z[0];n.push($)}}else{var v=z[0],a=v.transform,X=v.shape;
if(X==null)X={x:0,y:0,width:1e3,height:1e3};X=JSON.parse(JSON.stringify(X));X.x+=a.tx;X.y+=a.ty;$["uxdesign#bounds"]=X;
$._node={type:"artboard",artboard:{children:z}};N.push($)}}}}if(n.length==0)n=N;var V=[],o=new bl;for(var D=0;
D<n.length;D++){var $=n[D],h=iH.ie($["uxdesign#bounds"]);V.push(h);o=o.QN(h)}var T=iH.xs(o,8192*8192);
m.Ex=!0;m.e=Math.round(o.e/T);m.n=Math.round(o.n/T);m.buffer=j.U(m.e*m.n*4);m.gS(n.length);var l=new ix(T,0,0,T,o.x,o.y);
m.C_={};for(var D=0;D<n.length;D++){var $=n[D],h=iH.ie($["uxdesign#bounds"]),w=$._node,W=l.clone(),U=h.clone(),s=W.p1();
W.translate(-h.x,-h.y);U.x=-Math.floor(W.GI/s);U.y=-Math.floor(W.c_/s);U.e=Math.floor(U.e/s);U.n=Math.floor(U.n/s);
W.translate(h.x,h.y);iq.ug(w,m,W,A,q,U);var S=m.g[m.g.length-1];S.RS($.name);S.Cw(U);if(D!=n.length-1)S.add.lsct=cT.an}delete m.C_};
iq.sr=function(u){if(u==null)return new ix;return new ix(u.a,u.b,u.c,u.d,u.tx,u.ty)};iq.ug=function(u,m,C,Z,q,J){var A=iq,n=u.type,N=u[n],e=u.style,Q=A.sr(u.transform),R,z="none",v,a="none",X,V;
Q.mL();var p=C.clone();p.concat(Q);var B=m.Rp(),$=u.name;B.RS($?$.slice(0,250):"Layer");if(u.visible!=null)B.$S(u.visible);
if(e){R=e.stroke;z=R?R.type:"none";v=e.fill;a=v?v.type:"none";X=e.filters;V=e.clipPath;if(V&&Z.clipPaths[V.ref])V=Z.clipPaths[V.ref].children;
else V=null;if(e.opacity)B.opacity=Math.round(255*e.opacity);if(a=="solid"&&v.color.alpha)B.opacity=Math.round(B.opacity*v.color.alpha);
if(X){B.add.lmfx=A.a48(X);for(var D=0;D<X.length;D++)if(X[D].type=="uxdesign#blur"){var o=X[D],h=o.params,T=h.brightnessAmount;
if(T==null)T=0;T=Math.abs(T/100);if((o.visible==null||o.visible==!0)&&h.backgroundEffect)B.opacity=Math.round(B.opacity*(T+(1-T)*h.fillOpacity))}}if(a=="pattern"&&v.pattern.meta.ux.uid=="")a="none"}if(V==null&&u.meta&&u.meta.ux&&u.meta.ux.clipPathResources)V=u.meta.ux.clipPathResources.children;
if(n=="artboard"||n=="group"){if(V){var l=V[0],w=l.shape,W=w!=null&&w.type=="rect"&&w.width*w.height>1e6;
if(l.type!="text"&&!W){if(w){var Q=A.sr(l.transform);Q.mL();var U=p.clone();U.concat(Q);B.add.vmsk=new F.nq;
B.add.vmsk.B=A.VF(w);U=U.clone();U.mL();j.$.l0(B.add.vmsk.B,U);B.uE(m)}}else if(!W)alert("Clipping by text has been ignored")}B.add.lsct=cT.G6;
B.Um="pass";B.VO=24;if(u.visible!=null)B.$S(u.visible);m.g.push(m.B$());var s=N.children,S=v;if(S)S=S.color;
if(S)S=S.value;if(v){if(n=="artboard"&&a=="solid"){B.Cw(new bl(0,0,10,10));B.add.artb.Clr={t:"Objc",v:j.C.sG({p:S.r,T:S.g,S:S.b})};
B.add.artb.artboardBackgroundType={t:"long",v:4}}else{var x=m.Rp();x.RS("BACKGROUND");x.VO|=16;x.add.vstk=JSON.parse(JSON.stringify(c0.K_.default));
x.add.vmsk=new F.nq;x.add.vmsk.B=A.VF({type:"rect",x:J.x,y:J.y,width:J.e,height:J.n});A.MM(v,a,p,J,J,x,m,Z,q);
x.uE(m);m.g.push(x)}}for(var D=0;D<s.length;D++){iq.ug(s[D],m,p,Z,q,J)}}else if(n=="shape"&&u.shape.type=="rect"&&(u.shape.r==null||u.shape.r==0)&&a=="pattern"&&Math.abs(u.shape.width/u.shape.height-v.pattern.width/v.pattern.height)<.01){var P=v.pattern,y=P.meta.ux,_=y.uid,g=q["resources/"+_];
if(g==null){console.log(P);return}var G=m.mV(g,B.getName(),0,0);G.VO=B.VO;G.opacity=B.opacity;B=G;var O=j.u.yj(new bl(0,0,P.width,P.height)).s,E=new ix;
E.scale(P.width/u.shape.width,P.height/u.shape.height);if(y.offsetX)E.translate(-y.offsetX*P.width,0);
if(y.offsetY)E.translate(0,-y.offsetY*P.height);p.concat(E);p.mL();j.u.I(O,p,O);B.add.SoLd.Trnf=b.Q.Ii(O);
B.add.SoLd.nonAffineTransform=b.Q.Ii(O);B.go(m,!1)}else if(n=="shape"){B.VO|=16;B.add.vstk=JSON.parse(JSON.stringify(c0.K_.default));
B.add.vmsk=new F.nq;B.add.vmsk.B=A.VF(N);var L=j.$.Br(B.add.vmsk.B,null),U=p.clone();U.mL();j.$.l0(B.add.vmsk.B,U);
var c=j.$.Br(B.add.vmsk.B,null);if(z=="none"){}else{var k=R.color.value,I,Y;I="SoFi";var K=JSON.parse(c0.j_[c0.order.indexOf("SoFi")]);
Y={t:"Objc",v:K};Y.v.Clr.v=j.C.sG({p:k.r,T:k.g,S:k.b});var i=R.align,i4=R.cap;if(i==null)i="center";
var d7=B.add.vstk;d7.strokeEnabled.v=!0;d7.strokeStyleLineWidth.v.val=R.width;if(i)d7.strokeStyleLineAlignment.v.strokeStyleLineAlignment=c0.K_.bt[["inside","center","outside"].indexOf(i)];
if(i4)d7.strokeStyleLineCapType.v.strokeStyleLineCapType=c0.K_.kS[["butt","round","square"].indexOf(i4)];
var d=["SoFi","GrFl","patternFill"].indexOf(I),fH=[c0.wP,c0.mr,c0.d0][d];d7.strokeStyleContent.v={classID:c0.K_.j1[0]};
var aC=d7.strokeStyleContent.v={classID:c0.K_.j1[d]};for(var D=0;D<fH.length;D++)aC[fH[D]]=Y.v[fH[D]]}if(X)for(var D=0;
D<X.length;D++)if(X[D].type=="uxdesign#blur"&&X[D].visible){var f8=X[D];B.add.vmsk.To=f8.params.blurAmount}A.MM(v,a,p,L,c,B,m,Z,q);
B.uE(m)}else if(n=="text"&&u.text){var c9=u.text,g1=c9.frame,cE=e.font,hG=e.textAttributes,Q=p.clone(),dB=0;
Q.mL();B.add.lnsr="rend";B.add.TySh=ad.bF(0,0);B.add.TySh.jR=new bl(0,0,100,100);B.add.TySh.I=Q;var fA=B.add.TySh.pU,hh=c9.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
ad.Y9(fA,0,hh);if(hh!=""){var eE=ad.zd(fA,0,1),dh=cE.postscriptName;if(dh==null)dh=cE.family;ad.t7(eE,dh);
eE.L4.FontSize=Math.round(cE.size);if(v){var k=v.color.value;eE.L4.FillColor={Type:1,Values:[1,k.r/255,k.g/255,k.b/255]}}if(hG){if(hG.paragraphAlign)eE.n9.Justification=["left","right","center"].indexOf(hG.paragraphAlign);
if(hG.letterSpacing)eE.L4.Tracking=Math.round(hG.letterSpacing);if(hG.lineHeight){eE.L4.AutoLeading=!1;
eE.L4.Leading=Math.round(hG.lineHeight)}}ad.sM(fA,0,hh.length,eE)}var fT=u.meta.ux.rangedStyles;if(fT)for(var D=0;
D<fT.length;D++){var N=fT[D],iN=Math.min(N.length,hh.length-dB),eE=ad.zd(fA,dB,dB+iN),dh=N.postscriptName;
if(dh==null)dh=N.family;if(dh!=null)ad.t7(eE,dh);var gV=N.textScript,fI=N.underline,gc=N.fontSize,o=N.fill,aF=N.textTransform;
if(gV&&gV!="none")eE.L4.FontBaseline=gV=="superscript"?1:2;if(fI!=null)eE.L4.Underline=fI;if(gc!=null)eE.L4.FontSize=Math.round(gc);
if(aF!=null)eE.L4.FontCaps=aF=="uppercase"?2:0;if(o!=null){var gh=o.value;eE.L4.FillColor={Type:1,Values:[1,(gh>>>16&255)/255,(gh>>>8&255)/255,(gh>>>0&255)/255]}}ad.sM(fA,dB,dB+iN,eE);
dB+=iN}if(g1.type=="area"||g1.type=="autoHeight"){var gD=g1.width,j1=g1.height;ad.Qt(fA,1);ad.Fm(fA,[0,0,gD,j1!=null?j1:gD*2])}}else console.log(n,u);
m.g.push(B)};iq.VF=function(u){var m=u.type,C=[{type:6},{type:8,all:0}];if(m=="rect"){var Z=u.r,q=u.x,J=u.y,A=u.width,n=u.height;
C=j.$.i5.Rect(q,J,A,n,Z?Z:0)}else if(m=="circle"){var Z=u.r;C=j.$.i5.y$(u.cx-Z,u.cy-Z,2*Z,2*Z)}else if(m=="ellipse"){var N=u.rx,e=u.ry;
C=j.$.i5.y$(u.cx-N,u.cy-e,2*N,2*e)}else if(m=="path"||m=="compound"){var Q=Typr.U.SVGToPath(u.path);
C=j.u.DA({X:Q.cmds,s:Q.crds},!1)}else if(m=="line"){var p=u.x1,B=u.x2,$=u.y1,R=u.y2;C=j.$.i5.tF([p,$,B,R],0,!0)}else if(m=="polygon"){var z=u.points,v=[];
for(var D=0;D<z.length;D++)v.push(z[D].x,z[D].y);C=C.concat(j.$.i5.tF(v,0,!1).slice(2))}else console.log(m,u);
return C};iq.a48=function(u){var m=JSON.parse(c0.default);for(var D=0;D<c0.order.length;D++)m[c0.Ca[D]]={t:"VlLs",v:[]};
for(var D=0;D<u.length;D++){var C=u[D],Z=C.type,q=C.params,J=C.visible;if(Z=="dropShadow"){var A=c0.Ca[c0.order.indexOf("DrSh")],n=JSON.parse(c0.j_[c0.order.indexOf("DrSh")]);
m[A].v.unshift({t:"Objc",v:n});var N=q.dropShadows;if(N.length!=1)throw"e";var e=N[D],Q=e.color,p=Q.value,B=e.dx,$=e.dy;
n.Clr.v=j.C.sG({p:p.r,T:p.g,S:p.b});n.Opct.v.val=Math.round((Q.alpha!=null?Q.alpha:1)*100);n.uglg.v=!1;
n.enab.v=J!=null?J:!0;n.lagl.v.val=Math.round(180/Math.PI*Math.atan2($,-B));n.Dstn.v.val=Math.round(Math.sqrt(B*B+$*$));
n.blur.v.val=Math.round(e.r*2.3)}}return m};iq.MM=function(u,m,C,Z,q,J,A,n,N){var e=iq;if(m=="none"){J.add.vstk.fillEnabled.v=!1;
J.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.C.sG({p:0,T:0,S:0})}}}else{var Q,p,B;if(m=="solid"){var $=u.color.value;
Q="SoCo";p=c0.wP;var R=JSON.parse(c0.j_[c0.order.indexOf("SoFi")]);B={t:"Objc",v:R};B.v.Clr.v=j.C.sG({p:$.r,T:$.g,S:$.b})}else if(m=="gradient"){Q="GdFl";
p=c0.mr;var R=JSON.parse(c0.j_[c0.order.indexOf("GrFl")]),z=R.Grad.v,o,h,T;z.Intr.v=0;var v=u[m],a=v.ref?n.gradients[v.ref]:v.meta.ux.gradientResources,X=["linear","radial"].indexOf(a.type),V=a.stops;
R.Type.v.GrdT=["Lnr","Rdl","Angl"][X];if(X==0){var o=new dz(v.x1,v.y1),h=new dz(v.x2,v.y2);o.x=h.x+.5*(o.x-h.x);
o.y=h.y+.5*(o.y-h.y)}else{var o=new dz(v.cx,v.cy),h=new dz(v.cx+v.r,v.cy)}T=q;if(v.units=="objectBoundingBox"){var l=new ix(Z.e,0,0,Z.n,Z.x,Z.y);
o=l.HL(o);h=l.HL(h)}var l=e.sr(v.transform);o=l.HL(o);h=l.HL(h);l=C.clone();l.mL();o=l.HL(o);h=l.HL(h);
j.C.$a(o,h,T,R);var w=[];for(var D=0;D<V.length;D++){var W=V[D],U=W.color,$=U.value,s=U.alpha;if(s==null)s=1;
w.push([W.offset,[$.r/255,$.g/255,$.b/255],s])}j.C.Hk(w,z);B={t:"Objc",v:R}}else if(m=="pattern"){Q="PtFl";
p=c0.d0;var R=JSON.parse(c0.j_[c0.order.indexOf("patternFill")]),g,k=1,I=0,Y=0,K=1;B={t:"Objc",v:R};
var S=u[m],x=S.meta.ux,P=x.uid,y=N["resources/"+P].buffer,_=d4.BM(y);if(A.C_[P])g=A.C_[P];else{var G=new bl(0,0,S.width,S.height),O;
if(G.qR()||_==null){G=new bl(0,0,1,1);O=new ArrayBuffer(4)}else{var E=d4.X5(_);if(E.x5){var L=new gj;
E.Pl(y,L);O=L.K9().buffer}else{var c=E.Pl(y)[0];O=c.data;G=c.WL}}g={};g.id=gj.b2()+"-d71c-11e5-b1ae-a548a96e5f9f";
g.name="someImage";g.k9=[new Uint8Array(O),G];A.Vp(g);A.C_[P]=g}var G=g.k9[1];R.Algn.v=!0;R.Ptrn.v.Idnt.v=g.id;
if(x.scaleBehavior=="cover"){k=K*Math.max(q.e/G.e,q.n/G.n);var i=k;if(x.scale!=null)k*=x.scale;I=q.x-(G.e*k-q.e)/2;
Y=q.y-(G.n*k-q.n)/2;if(x.offsetX!=null)I+=x.offsetX*G.e*i;if(x.offsetY!=null)Y+=x.offsetY*G.n*i}else if(x.scaleBehavior=="fill"){k=K*Math.min(q.e,q.n)/Math.max(G.e,G.n);
I=q.x-(G.e*k-q.e)/2;Y=q.y-(G.n*k-q.n)/2}else throw"Unknown scale behaviour";R.Scl.v.val=100*k;R.phase.v.Hrzn.v=Math.round(I);
R.phase.v.Vrtc.v=Math.round(Y)}else console.log(m);if(Q!=null){J.add[Q]={classID:"null"};for(var D=0;
D<p.length;D++){var i4=p[D];J.add[Q][i4]=B.v[i4]}}}};function gp(){}gp.Nh=function(u,m,C){u=new Uint8Array(u);
var Z=M.V6(u,0,u.length),q=new DOMParser,J=q.parseFromString(Z,"image/svg+xml"),A=J.getElementsByTagName("style")[0],$=1;
if(A)A=Typr.U.SVG.cssMap(A.textContent);else A={};var n=J.firstChild;while(n.tagName!="svg")n=n.nextSibling;
var N=new bl(0,0,100,100),e=n.getAttribute("viewBox"),Q=n.getAttribute("width"),p=n.getAttribute("height");
if(e){var B=gp.GS(e);N.x=B[0];N.y=B[1];N.e=B[2];N.n=B[3]}else if(Q!=null||p!=null){N.e=Q!=null?parseFloat(Q):parseFloat(p);
N.n=p!=null?parseFloat(p):parseFloat(Q)}N=j.u.wu(N);while(C&&Math.max(N.e*$,N.n*$)<Math.max(C[0],C[1]))$++;
while(C==null&&Math.max(N.e,N.n)*$>8192)$*=.5;m.Ex=!0;m.e=~~(N.e*$);m.n=~~(N.n*$);m.buffer=j.U(m.e*m.n*4);
var R=new ix($,0,0,$,-N.x*$,-N.y*$),z={lr:gp.Ot(n),atm:A,Js:0};gp.eL(J,n.children,m,R,z,new ix,0);if(m.g.length==0){var v=m.Rp();
v.RS("Layer");m.g.push(v)}};gp.GS=function(u){var m=" ";if(u.indexOf(",")!=-1)m=",";return u.split(m).map(parseFloat)};
gp.eL=function(u,m,C,Z,q,J,A){var n=gp,N=["display","opacity","fill-opacity","filter"];for(var e=0;e<m.length;
e++){var Q=m[e],p=Q.tagName,B=Q.getAttribute("id"),$=n.Ot(Q,q.atm),z=13,o=1,l="clip-path",w=null,g=0;
for(var R in q.lr)if(N.indexOf(R)==-1&&$[R]==null)$[R]=q.lr[R];if($["font-size"])z=n.ox($["font-size"],z);
if(Q.getAttribute("dx"))Z.GI+=n.ox(Q.getAttribute("dx"),z);if(Q.getAttribute("dy"))Z.c_+=n.ox(Q.getAttribute("dy"),z);
var v=n.mC(Q);v.concat(Z);var a=Q.getAttribute("visibility"),X=$.display,V=C.Rp();if(a=="hidden"||X=="none")V.$S(!1);
V.RS(B!=null?B.split(":::")[0]:"Layer");if($.opacity)o*=parseFloat($.opacity);if($["fill-opacity"]){var h=parseFloat($["fill-opacity"]);
if(h!=0)o*=h}V.opacity=Math.round(255*o);if($["mix-blend-mode"]){var T=hR.Al.indexOf($["mix-blend-mode"]);
if(T!=-1)V.Um=hR.AO[T]}if(Q.getAttribute(l)==null)l="mask";if(Q.getAttribute(l)!=null){var W=Q.getAttribute(l);
W=W.slice(4,W.length-1);var U=u.getElementById(W.slice(1));if(U){var s=U.children;w=C.Rp();w.RS("Clip-Path"+(B?": "+B:""));
w.add.lsct=A<2?cT.G6:cT.an;w.Um="pass";w.VO=24;var S=w.add.vmsk=new F.nq;C.g.push(C.B$());var x=[];if(U.getAttribute(l)){var W=U.getAttribute(l);
W=W.slice(4,W.length-1);x=u.getElementById(W.slice(1)).children}for(var D=0;D<s.length;D++){var P=n.mC(s[D]);
P.concat(v);var y=n.VF(u,s[D],!1).slice(2);j.$.l0(y,P);S.B=S.B.concat(y)}for(var D=0;D<x.length;D++){var P=n.mC(s[D]);
P.concat(v);var y=n.VF(u,x[D],!1).slice(2);for(var _=0;_<y.length;_++)if(y[D].hB!=null)y[D].hB=3;j.$.l0(y,P);
S.B=S.B.concat(y)}w.yz();w.uE();A++}}if($.filter&&$.filter!="none"){var G=$.filter,E,L,c,I=!1,Y=!1,K=!1;
G=G.slice(5,G.length-1);var O=u.getElementById(G),k=[0,0,0,.5],i=b.Q.p1(v);if(O)for(var D=0;D<O.children.length;
D++){var i4=O.children[D];if(i4.tagName=="feGaussianBlur"){I=!0;E=parseFloat(i4.getAttribute("stdDeviation"))*i}if(i4.tagName=="feColorMatrix"){var d7=i4.getAttribute("values").split(" ").map(parseFloat);
k=[d7[4],d7[9],d7[14],d7[18]]}if(i4.tagName=="feComposite"){K=!0}if(i4.tagName=="feOffset"){Y=!0;var d=i4.getAttribute("dx"),fH=i4.getAttribute("dy");
L=parseFloat(d?d:0)*i;c=parseFloat(fH?fH:0)*i}}if(K||Y){var aC=K?"IrSh":"DrSh";if(aC=="IrSh"){V.add.iOpa=0}var f8=JSON.parse(c0.j_[c0.order.indexOf(aC)]);
f8.blur.v.val=Math.round(E*2.4);var c9=Math.sqrt(L*L+c*c);f8.uglg.v=!1;f8.Dstn.v.val=Math.round(c9);
f8.lagl.v.val=Math.round(Math.atan2(c,-L)*(180/Math.PI));f8.Clr.v=j.C.sG({p:k[0]*255,T:k[1]*255,S:k[2]*255});
f8.Opct.v.val=Math.round(k[3]*100);n.ED(V,c0.Ca[c0.order.indexOf(aC)],f8)}else if(I)g=E}if(p=="g"||p=="a"||p=="svg"||p=="switch"||(p=="text"||p=="textPath")&&Q.children.length>0){if(p=="text")J=n.Lr(Q,J);
var g1=Q.getAttribute("viewBox"),cE=Q.getAttribute("width"),hG=Q.getAttribute("height");if(g1&&cE&&hG){var fA=gp.GS(g1),hh=n.Lr(Q),eE=new ix;
eE.translate(-fA[0],-fA[1]);eE.scale(parseFloat(cE)/fA[2],parseFloat(hG)/fA[3]);eE.translate(hh.GI,hh.c_);
eE.concat(v);v=eE}var dh=Q.children.length,fT=q.lr;q.lr=$;var dB=q.Js;q.Js=Math.max(q.Js,g);var iN=p!="text"&&p!="textPath"||dh>1;
if(iN){var gV=V.cG();V.add.lsct=A<2&&gV&&(B==null||!B.endsWith(":::"))?cT.G6:cT.an;V.Um="pass";V.VO=24;
V.$S(gV);C.g.push(C.B$())}n.eL(u,Q.children,C,v,q,J,A+1);if(iN)C.g.push(V);else{var fI=C.g[C.g.length-1];
fI.opacity=V.opacity;fI.Um=V.Um}q.Js=dB;q.lr=fT}else if(p=="use"){var eE=n.Lr(Q);eE.concat(v);var gc=n.lp(Q),aF=u.getElementById(gc.slice(1));
if(aF){var fT=q.lr;q.lr=$;if($.filter)aF.setAttribute("filter",$.filter);n.eL(u,[aF],C,eE,q,J,A+1);q.lr=fT}}else if(p=="path"||p=="rect"||p=="circle"||p=="ellipse"||p=="polygon"||p=="polyline"||p=="line"){V.VO|=16;
V.add.vmsk=new F.nq;V.add.vstk=JSON.parse(JSON.stringify(c0.K_.default));V.add.vstk.strokeEnabled.v=!1;
var gh=V.add.vstk,S=V.add.vmsk,gD=$.fill,j1=gD=="none"||$["fill-opacity"]&&parseFloat($["fill-opacity"])==0;
S.B=n.VF(u,Q,$["fill-rule"]=="evenodd",j1);j.$.l0(S.B,v);var dg=j.$.Br(S.B),ao=$.stroke,eC=$["stroke-width"],bD=$["stroke-dasharray"],fK=$["stroke-linejoin"],a1=$["stroke-linecap"],fR=$["paint-order"];
if(ao==null||ao=="none"||ao=="null"){}else{var bj=n.iC(u,ao,v,dg),b7=["SoFi","GrFl","patternFill"].indexOf(bj.type),ha=bj.k.v.Opct.v,bF=1;
if(ha.val!=100){V.opacity=Math.round(V.opacity*ha.val/100);ha.val=100}var eJ=[c0.wP,c0.mr,c0.d0][b7],cq=gh.strokeStyleContent.v={classID:c0.K_.j1[b7]};
for(var D=0;D<eJ.length;D++)cq[eJ[D]]=bj.k.v[eJ[D]];eC=eC?parseFloat(eC):1;if(fR&&fR.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){bF=2;
eC/=2}gh.strokeEnabled.v=!0;if(fK)gh.strokeStyleLineJoinType.v.strokeStyleLineJoinType=c0.K_.join[["miter","round","bevel"].indexOf(fK)];
if(a1)gh.strokeStyleLineCapType.v.strokeStyleLineCapType=c0.K_.kS[["butt","round","square"].indexOf(a1)];
gh.strokeStyleLineWidth.v.val=eC*b.Q.p1(v);gh.strokeStyleLineAlignment.v.strokeStyleLineAlignment=c0.K_.bt[bF];
gh.strokeStyleOpacity.v.val=100*($["stroke-opacity"]?parseFloat($["stroke-opacity"]):1);if(bD!=null&&bD!="none")gh.strokeStyleLineDashSet.v=dU.di(bD.split(",").map(parseFloat),1/eC)}if(j1){V.add.vstk.fillEnabled.v=!1;
V.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.C.sG({p:0,T:0,S:0})}}}else{var bj=n.iC(u,gD,v,dg),g4=null,eA=null;
if(bj.type=="SoFi"){g4="SoCo";eA=c0.wP}if(bj.type=="GrFl"){g4="GdFl";eA=c0.mr}if(bj.type=="patternFill"){g4="PtFl";
eA=c0.d0}if(g4!=null){var ha=bj.k.v.Opct.v;if(ha.val!=100){V.opacity=Math.round(V.opacity*ha.val/100);
ha.val=100}V.add[g4]={classID:"null"};for(var D=0;D<eA.length;D++){var R=eA[D];V.add[g4][R]=bj.k.v[R]}}}var aJ=Math.max(g,q.Js);
if(aJ!=0)V.add.vmsk.To=aJ;V.yz();V.uE(C);C.g.push(V)}else if((p=="text"||p=="tspan")&&Q.textContent!=""){J=n.Lr(Q,J);
var eE=J.clone(),c=0;eE.concat(v);if(Q.children.length>0){var fU=n.Ot(Q.children[0],q.atm);for(var R in fU)if(N.indexOf(R)==-1)$[R]=fU[R]}var iE=$["xml:space"],hQ=Q.textContent;
if(iE=="preserve")hQ=hQ.replace(/\t/g," ").replace(/\n/g," ");if(B==null)V.RS(hQ);V.add.lnsr="rend";
V.add.TySh=ad.bF(0,0);V.add.TySh.jR=new bl(0,0,100,100);V.add.TySh.I=eE.clone();var bT=V.add.TySh.pU;
ad.Y9(bT,0,hQ);var gD=$.fill,iU=$["font-weight"],eI=$["font-family"],e_=$["text-decoration"],ao=$.stroke,eC=$["stroke-width"],bs=$["dominant-baseline"];
if(bs=="text-before-edge")c=z;else if(bs=="middle")c=z/2;else if(bs=="hanging")c=z;if(c!=0)V.add.TySh.I.translate(0,c);
var fr=ad.zd(bT,0,1);if(gD&&gD!="none"){var k=CSS.Di(gD);fr.L4.FillColor={Type:1,Values:[1,k.p/255,k.T/255,k.S/255]}}if(e_=="underline")fr.L4.Underline=!0;
fr.L4.FontSize=Math.round(z);ad.t7(fr,"LiberationSans");if(iU=="bold")ad.t7(fr,"LiberationSans-Bold");
if(eI){eI=eI.split(",")[0].trim();if(eI[0]=="\"")eI=eI.slice(1);if(eI[eI.length-1]=="\"")eI=eI.slice(0,eI.length-1);
var db=eI+":"+(iU?iU:"normal"),fx={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(fx[db])ad.t7(fr,fx[db]);else ad.t7(fr,eI)}if($["text-anchor"])fr.n9.Justification=["start","end","middle"].indexOf($["text-anchor"]);
ad.sM(bT,0,hQ.length,fr);if(ao==null||ao=="none"){}else{var f8=JSON.parse(c0.j_[c0.order.indexOf("FrFX")]);
f8.Clr.v=j.C.sG(CSS.Di(ao));f8.Sz.v.val=Math.round(parseFloat(eC)*b.Q.p1(eE));n.ED(V,"frameFXMulti",f8)}C.g.push(V)}else if(p=="image"){var gc=n.lp(Q);
if(gc&&gc.slice(0,4)=="data"){var fb=d4.Eh(gc),dA=fb,ge=C.mV(dA,V.getName(),0,0);ge.VO=V.VO;V=ge;var bh=V.rect.clone();
bh.x=bh.y=0;var d6=Q.getAttribute("width"),hU=Q.getAttribute("height");if(d6)bh.e=parseFloat(d6);if(hU)bh.n=parseFloat(hU);
var f2=n.Lr(Q);f2.concat(v);var cQ=j.u.yj(bh).s;j.u.I(cQ,f2,cQ);V.add.SoLd.Trnf=b.Q.Ii(cQ);V.add.SoLd.nonAffineTransform=b.Q.Ii(cQ);
V.go(C,!1);C.g.push(V)}}else console.log("unknown tag: "+p,Q.children.length,Q.textContent.length);if(w!=null){C.g.push(w);
A--}}};gp.ED=function(u,m,C){var Z=u.add.lmfx;if(Z==null){var Z=u.add.lmfx=JSON.parse(c0.default);for(var D=0;
D<c0.order.length;D++)Z[c0.Ca[D]]={t:"VlLs",v:[]}}Z[m].v.push({t:"Objc",v:C})};gp.VF=function(u,m,C,Z){var q=gp,J=[{type:6},{type:8,all:0}],A=m.tagName;
if(A=="use"){var n=q.lp(m),N=u.getElementById(n.slice(1)),e=new ix;if(N.tagName!="rect")e=q.Lr(N);e.concat(q.mC(N));
J=q.VF(u,N,C,Z);j.$.l0(J,e)}else if(A=="path"){var Q=m.getAttribute("d");if(Q==null)return J;var p=Typr.U.SVGToPath(Q);
J=j.u.DA({s:p.crds,X:p.cmds},C,Z)}else if(A=="rect"){var B=m.getAttribute("rx"),$=q.Lr(m);J=j.$.i5.Rect($.GI,$.c_,parseFloat(m.getAttribute("width")),parseFloat(m.getAttribute("height")),B?parseFloat(B):0)}else if(A=="circle"||A=="ellipse"){var R=[0,0,0,0],z=["cx","cy","rx","ry","r"];
for(var D=0;D<5;D++){var v=m.getAttribute(z[D]);if(v){v=parseFloat(v);if(D<4)R[D]=v;else R[2]=R[3]=v}}J=j.$.i5.y$(R[0]-R[2],R[1]-R[3],2*R[2],2*R[3])}else if(A=="polygon"||A=="polyline"||A=="line"){var a;
if(A=="line")a=[m.getAttribute("x1"),m.getAttribute("y1"),m.getAttribute("x2"),m.getAttribute("y2")].map(parseFloat);
else a=m.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
J=j.$.i5.tF(a,0,A!="polygon")}return J};gp.ox=function(u,m){if(u.charAt(u.length-1)=="m")return m*parseFloat(u.slice(0,u.length-2));
else return parseFloat(u)};gp.iC=function(u,m,C,Z){var q,J,A=gp,n=JSON.parse(c0.j_[c0.order.indexOf("SoFi")]),N=m!=null?m.indexOf("("):-1;
if(N!=-1){var e=m.indexOf(")"),Q=m.slice(0,N).trim(),p=m.slice(N+1,e).trim();if(p.charAt(0)=="'")p=p.slice(1,p.length-1);
if(Q=="url"){if(p.charAt(0)=="#"){var B=u.getElementById(p.slice(1));if(B&&B.tagName.toLowerCase().endsWith("gradient")){var $=A.JP(u,B,C,Z);
q="GrFl";J={t:"Objc",v:$}}else{q="SoFi";J={t:"Objc",v:n}}}else console.log("unknown url",p)}else if(Q=="rgb"||Q=="rgba"){q="SoFi";
J={t:"Objc",v:n};J.v.Clr.v=j.C.sG(CSS.Di(m));if(Q=="rgba")J.v.Opct.v.val=Math.round(100*parseFloat(m.split(",").pop()))}else console.log("unknown fill",m)}else{q="SoFi";
J={t:"Objc",v:n};J.v.Clr.v=j.C.sG(CSS.Di(m))}return{type:q,k:J}};gp.mC=function(u){var m=new ix,C=u.getAttribute("transform");
if(C)m=gp.Dc(C);var Z=u.getAttribute("style");if(Z!=null){var q={};gp.N2(q,Z,["transform"]);Z=q.transform;
if(Z)m.concat(gp.Dc(Z))}return m};gp.Lr=function(u,m){var C=new ix,Z=u.getAttribute("x"),q=u.getAttribute("y");
if(Z)C.GI=parseFloat(Z);else if(m)C.GI=m.GI;if(q)C.c_=parseFloat(q);else if(m)C.c_=m.c_;return C};gp.Dc=function(u){var m=Typr.U.SVG.readTrnf(u);
return new ix(m[0],m[1],m[2],m[3],m[4],m[5])};gp.Ot=function(u,m){var C={},Z="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var D=0;D<Z.length;D++){var q=u.getAttribute(Z[D]);if(q!=null&&q!="inherit")C[Z[D]]=q}var J=u.getAttribute("class");
if(m!=null&&J!=null&&m["."+J]!=null)gp.N2(C,m["."+J],Z);var A=u.getAttribute("id");if(m!=null&&A!=null&&m["#"+A]!=null)gp.N2(C,m["#"+A],Z);
var n=u.getAttribute("style");if(n!=null)gp.N2(C,n,Z);return C};gp.N2=function(u,m,C){m=m.trim().split(";");
for(var D=0;D<m.length;D++){var Z=m[D].split(":"),q=Z[0]?Z[0].trim():"",J=Z[1]?Z[1].trim():"";for(var A=0;
A<C.length;A++)if(q==C[A]&&J!="inherit")u[C[A]]=J}};gp.lp=function(u){var m=u.getAttribute("xlink:href");
if(m==null)m=u.getAttribute("href");if(m==null)m=u.getAttribute("xl:href");return m};gp.JP=function(u,m,C,Z){var q=gp;
function J(w,W,U){var s=m.getAttribute(w);if(s==null)return;var S=parseFloat(s);if(s.endsWith("%"))S*=(U?Z.e:Z.n)/100;
if(U)W.x=S;else W.y=S}var A=new ix,n=m.getAttribute("gradientTransform");if(n)A=q.Dc(n);A.concat(C);
var N=JSON.parse(c0.j_[c0.order.indexOf("GrFl")]),e=N.Grad.v;e.Intr.v=0;var Q=m.tagName,p=new dz(0,0),B=new dz(Z.e,0);
if(Q=="linearGradient"){N.Type.v.GrdT="Lnr";J("x1",p,!0);J("y1",p,!1);J("x2",B,!0);J("y2",B,!1);p.x=B.x+.5*(p.x-B.x);
p.y=B.y+.5*(p.y-B.y)}if(Q=="radialGradient"){N.Type.v.GrdT="Rdl";if(m.getAttribute("cx"))p.x=parseFloat(m.getAttribute("cx"));
if(m.getAttribute("cy"))p.y=parseFloat(m.getAttribute("cy"));B.qX(p.x,p.y);if(m.getAttribute("r"))B.x+=parseFloat(m.getAttribute("r"))}if(m.getAttribute("gradientUnits")=="userSpaceOnUse"){p=A.HL(p);
B=A.HL(B)}else{p.x=Z.x+p.x*Z.e;p.y=Z.y+p.y*Z.n;B.x=Z.x+B.x*Z.e;B.y=Z.y+B.y*Z.n}j.C.$a(p,B,Z,N);var $=m.children;
if($.length==0){var R=q.lp(m);if(R==null)throw"gradient has no stops";var z=u.getElementById(R.slice(1));
if(z==null){console.log(R.slice(1))}else{var v=q.JP(u,z,A,Z);N.Grad=v.Grad}}else{var a=[];for(var D=0;
D<$.length;D++){var X=$[D],V=q.Ot(X),o=V["stop-color"],h=V["stop-opacity"],T=X.getAttribute("offset");
if(o==null)o="#000000";if(h==null)h="1";var l=T?parseFloat(T):0;o=CSS.Di(o);a.push([l,[o.p/255,o.T/255,o.S/255],parseFloat(h)])}j.C.Hk(a,e)}return N};
gp.d4=function(u,m,C){var Z=[],q=gp;q.ar=m.asN?"\t":"";var J=m.a3h,A=m.ack;Z.push("<svg version=\"1.2\" baseProfile=\"tiny-ps\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+u.e+" "+u.n+"\" width=\""+J+"\" height=\""+A+"\">");
Z.push(q.d7(1)+"<title>"+gp.Ud(u.name.split(".")[0])+"</title>");var n={fI:[],pQ:[],nn:0,tg:0,gI:0,AZ:{},rg:{},o0:0,bp:{},$Z:{},k2:0,u6:[]};
gp.bc(u,n,u.root.children,1,m,C);if(n.fI.length!=0){Z.push(q.d7(1)+"<defs>");Z=Z.concat(n.fI);Z.push(q.d7(1)+"</defs>")}Z.push(q.d7(1)+"<style>");
Z.push(q.d7(2)+"tspan { white-space:pre }");for(var N in n.bp)Z.push(q.d7(2)+"."+N+" { "+n.bp[N]+" } ");
Z.push(q.d7(1)+"</style>");Z=Z.concat(n.pQ);Z.push("</svg>");Z=Z.join(m.asN?"\n":"");if(q.Lj){console.log(q.Lj);
var e="SVGParser.gen.db = [\n";for(var D=0;D<q.Lj.length;D++){var Q=q.Lj[D];e+="{\n\tnam: \""+Q.n2+"\",\n\tpts: [\n";
for(var p=0;p<Q.s4.length;p++){var B=Q.s4[p];e+="\t\t[\""+B[0]+"\", { cmds: "+JSON.stringify(B[1].X)+", crds:"+JSON.stringify(B[1].s)+" } ]"+(p==Q.s4.length-1?"":",")+"\n"}e+="\t]\n}"+(D==q.Lj.length-1?"":",")+"\n"}e+="]\n";
console.log(e)}return M.t2(Z)};gp.ar="";gp.d7=function(jt){var u="";for(var D=0;D<jt;D++)u+=gp.ar;return u};
gp.hT=function(jt){return""+parseFloat(jt.toFixed(3))};gp.bc=function(u,m,C,Z,q,J){var A=gp;function n(Q,gc){var w=Q.add.lmfx;
if(w)w=w[gc].v[0];if(w)w=w.v;if(w&&!w.enab.v)w=null;return w}function N(Q,z){var eJ=n(Q,"frameFXMulti");
if(eJ){var cq=eJ.Sz.v.val;if(eJ.Styl.v.FStl=="OutF"){z.push("paint-order:stroke fill markers");cq*=2}z.push("stroke: "+CSS._m(eJ.Clr.v));
z.push("stroke-width: "+cq);z.push("stroke-linejoin: round;")}}for(var e=0;e<C.length;e++){var Q=C[e].i,p=Q.add.lsct,B=Q.add.vmsk,$=Q.add.vstk,R=Q.add.TySh;
if(B&&!B.isEnabled)B=$=null;var z=[];if(!q.hidden&&!Q.cG())continue;var v=Q.opacity/255,a=Q.add.iOpa?Q.add.iOpa/255:1;
if(v!=1)z.push("opacity: "+A.hT(v));if(a!=1)z.push("fill-opacity: "+A.hT(a));if(Q.Um!="norm"){var X=hR.Al[hR.AO.indexOf(Q.Um)];
if(X!=null)z.push("mix-blend-mode: "+X)}if(!Q.cG())z.push("display: none");var V=[],o=[],h=Q.getName(),T=h.indexOf(" .");
if(T!=-1){o.push(h.slice(T+2));h=h.slice(0,T)}if(q.names)V.push("id=\""+A.Ud(h)+"\"");var l=dU.vi(Q.add.lmfx,Q.add),w=l[0],W=l[1];
if(Q.ld()){var U=C[e].children;if(!(U.length==1&&U[0].i.add.SoLd&&!q.Tm)){if(A.Lj&&Q.getName().split("-").length==3){A.Lj.push({n2:Q.getName(),PV:0,s4:[]})}gp.aF(Q,B,m,V);
if(z.length!=0)V.push("style=\""+z.join(";")+"\"");m.pQ.push(A.d7(Z)+"<g "+A.fZ(V,o)+">");A.bc(u,m,U,Z+1,q,J);
m.pQ.push(A.d7(Z)+"</g>")}}else if(Q.Y8()&&B==null){var s=new bl(0,0,u.e,u.n);A.Yo(z,Q.add,m,s);if(z.length!=0)V.push("style=\""+z.join(";")+"\"");
m.pQ.push(A.d7(Z)+"<rect width=\""+u.e+"\" height=\""+u.n+"\" "+A.fZ(V,o)+" />")}else if(B&&Q.add.SoLd==null){var s=j.$.Br(B.B,null,!0),S=j.$.fL(B.B);
if(S.BR!=0){V.push("fill-rule=\"evenodd\"")}var x=S.TJ;A.Yo(z,Q.add,m,s);if(z.length!=0){var P=z.join(";"),y=m.$Z[P];
if(y==null){y="shp"+m.k2;m.k2++;m.$Z[P]=y;m.bp[y]=P}o.push(y)}m.pQ.push(A.d7(Z)+"<path "+A.fZ(V,o)+" d=\""+x+"\" />");
if(A.Lj&&A.Lj[A.Lj.length-1]){var _=j.u.Hh(B.B);_.s=_.s.map(Math.round);var g=A.Lj[A.Lj.length-1];g.PV+=JSON.stringify(_).length;
g.s4.push([z[0].split("#").pop(),_])}}else if(R&&q.a1o){var G=R.pU,O=new iW(G,J),E=null;if(w)E=CSS._m(w.Clr.v);
if(W){var s=Q.rect.clone();A.f$(W,m,s);E=" url(#grd"+m.nn+")"}if(E)V.push("fill=\""+E+"\"");N(Q,z);if(z.length!=0)V.push("style=\""+z.join(";")+"\"");
var L=bL.HZ(O,R),c=j.u.jc(L);for(var k in c){if(E==null)V.push("fill=\""+k+"\"");var I=c[k],x=Typr.U.pathToSVG({crds:I.s,cmds:I.X},2);
m.pQ.push(A.d7(Z)+"<path "+A.fZ(V,o)+" "+A.e7(R)+" d=\""+x+"\" />");if(E==null)V.pop()}}else if(R&&!q.a37){var G=R.pU,Y=R.I.clone(),E=null;
z.push("transform: "+A.MI(Y));var K=ad.yd(G),O=new iW(G,J);N(Q,z);if(z.length!=0)V.push("style=\""+z.join(";")+"\"");
m.pQ.push(A.d7(Z)+"<text "+A.fZ(V,o)+" >");if(w)E=CSS._m(w.Clr.v);if(W){var s=Q.rect.clone();s.x-=Y.GI;
s.y-=Y.c_;A.f$(W,m,s);E=" url(#grd"+m.nn+")"}for(var D=0;D<O.n9.length;D++){var i=O.n9[D];if(i.qa.length==1&&i.qa[0].Ke)continue;
for(var i4=0;i4<i.hz.length;i4++){var d7=i.hz[i4],d=i.Uc.y+d7.Uc.y,fH=i.qa[d7.start].start,aC=i.qa[d7.end-1].end,f8=ad.atO(G,fH,aC),c9="";
for(var g1=0;g1<f8.length;g1++){var cE=O.Zk(fH),hG=f8[g1],fA=ad.zd(G,fH,fH),hh=fA.nS[fA.L4.Font].Name,k=ad.o5(fA.L4.FillColor),eE=Math.round(fA.L4.FontSize),dh=K.slice(fH,fH+hG);
if(fA.L4.FontCaps==2)dh=dh.toUpperCase();var fT=new ix;fT.translate(cE.yt.x,-d);var dB=[];CSS.adX(dB,fA,null,!0,!0,E);
var P=dB.join(";"),y=m.$Z[P];if(y==null){y="txt"+m.k2;m.k2++;m.$Z[P]=y;m.bp[y]=P}var iN=cE.yt.x,gV=A.a4o(fA,dh);
c9+="<tspan "+(g1==0?"x=\""+A.hT(cE.yt.x)+"\"":"")+" y=\""+A.hT(d)+"\" class=\""+y+"\""+gV+">"+A.Ud(dh)+"</tspan>";
fH+=hG}m.pQ.push(A.d7(Z+1)+c9)}}m.pQ.push(A.d7(Z)+"</text>")}else if(Q.add.SoLd&&q.Tm){var fI=Q.add.SoLd,gc=fI.Idnt.v,aF=0,gh=fI.Crop?fI.Crop.v:null;
if(m.rg[gc]!=null)aF=m.rg[gc];else{m.o0++;aF=m.o0;m.rg[gc]=m.o0;var gD=u.SP(gc,gh),ao="";if(gD==null)return;
var j1=gD.CB,dg=d4.BM(gD.raw.buffer);if(dg=="pdf"){var eC=new gj("h");d4.X5("PDF").Pl(gD.raw.buffer,eC);
eC.gO();eC.eA();eC.G();eC.Qp();if(fI.Crop&&fI.Crop.v==1){b.pB.gf(eC,eC.root.Ci(eC,!0))}var bD=d4.X5("SVG").c2(eC,eC.e,eC.n,null,{u6:J});
ao="data:image/svg+xml;base64,"+d4.M2(bD)}else if(dg=="jpg"||dg=="png"||dg=="gif"||dg=="svg"){var fK={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
ao="data:"+fK[dg]+";base64,"+d4.M2(gD.raw.buffer)}else{ao=d4.rO(j1[0].buffer,j1[1].e,j1[1].n)}m.fI.push(A.d7(2)+"<image width=\""+j1[1].e+"\" height=\""+j1[1].n+"\" id=\"img"+aF+"\" href=\""+ao+"\"/>")}var a1=j.N.h_(fI),fR=[];
gp.aF(Q,B,m,fR);if(fR.length!=0)m.pQ.push(A.d7(Z)+"<g "+A.fZ(fR,o)+">");if(z.length!=0)V.push("style=\""+z.join(";")+"\"");
var bj=A.fZ(V,o);m.pQ.push(A.d7(Z)+"<use "+bj+" href=\"#img"+aF+"\" transform=\""+A.MI(a1)+"\"/>");if(fR.length!=0)m.pQ.push(A.d7(Z)+"</g>")}else if(!Q.rect.qR()&&(q.Tm||R)){if(z.length!=0)V.push("style=\""+z.join(";")+"\"");
var bj=A.fZ(V,o),b7=Q.buffer;if(w)b7=dU.a74(b7,w,Q.rect);var ha=Q.rect;m.o0++;var ao=d4.rO(b7.buffer,ha.e,ha.n,"png",null,!0);
m.fI.push(A.d7(2)+"<image "+A.e7(R)+" width=\""+Q.rect.e+"\" height=\""+Q.rect.n+"\" id=\"img"+m.o0+"\" href=\""+ao+"\"/>");
m.pQ.push(A.d7(Z)+"<use "+bj+" href=\"#img"+m.o0+"\" x=\""+ha.x+"\" y=\""+ha.y+"\" />")}}};gp.a4o=function(u,m){var C=u.L4.Tracking,Z="";
if(C!=null&&C!=0){C=Math.round(C*u.L4.FontSize/1e3);Z=" dx=\"0";for(var q=1;q<m.length;q++)Z+=" "+C;
Z+="\" "}return Z};gp.e7=function(u){if(u==null)return"";var m=u.pU,C=ad.yd(m);C=gp.Ud(C.slice(0,C.length-1));
return"aria-label=\""+C+"\" "};gp.fZ=function(u,m){if(m.length!=0)u.push("class=\""+m.join(" ")+"\"");
return u.join(" ")};gp.Ud=function(u){return String(u).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
gp.MI=function(u){var m=[u.w7,u.S,u.ZU,u.MX,u.GI,u.c_].map(gp.hT);return"matrix("+m.join(",")+")"};gp.aF=function(u,m,C,Z){var q=gp;
if(m||u.add.artb){var J;if(m)J=j.$.fL(m.B).TJ;else{var A=u.M_(),n=j.u.yj(A);J=Typr.U.pathToSVG({crds:n.s,cmds:n.X},2)}C.gI++;
Z.push("clip-path=\"url(#cp"+C.gI+")\"");C.fI.push(q.d7(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+C.gI+"\">");
C.fI.push(q.d7(3)+"<path d=\""+J+"\" />");C.fI.push(q.d7(2)+"</clipPath>")}};gp.Yo=function(u,m,C,Z){var q=gp,J=m.vstk,A=m.vmsk,n=m.lmfx;
if(A&&A.To!=0){var N=q.hT(A.To);if(C.AZ[N]==null){C.tg++;C.AZ[N]=C.tg;C.fI.push(q.d7(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+C.tg+"\"> <feGaussianBlur stdDeviation=\""+N+"\" /> </filter>")}u.push("filter: url(#flt"+C.AZ[N]+")")}var e=dU.vi(n,m),Q=e[0],p=e[1];
if(J&&!J.fillEnabled.v)u.push("fill: none");else if(Q){var B=CSS._m(Q.Clr.v);u.push("fill: "+B)}else if(p){q.f$(p,C,Z);
u.push("fill: url(#grd"+C.nn+")")}if(J==null||!J.strokeEnabled.v)J=dU.hH(n);if(J&&J.strokeEnabled.v){var $=J.strokeStyleContent.v,R=$.classID;
if(R=="solidColorLayer")u.push("stroke: "+CSS._m($.Clr.v));else{q.f$($,C,Z);u.push("stroke: url(#grd"+C.nn+")")}var z=c0.K_.kS.indexOf(J.strokeStyleLineCapType.v.strokeStyleLineCapType),v=c0.K_.join.indexOf(J.strokeStyleLineJoinType.v.strokeStyleLineJoinType),a=J.strokeStyleOpacity.v.val/100,X=J.strokeStyleLineWidth.v.val,V=c0.K_.bt.indexOf(J.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(V==2){X*=2;u.push("paint-order:stroke fill markers")}var o=J.strokeStyleLineDashSet.v,h=[];for(var D=0;
D<o.length;D++)h.push(Math.round(o[D].v.val*X));if(z!=0)u.push("stroke-linecap:"+["butt","round","square"][z]);
if(v!=0)u.push("stroke-linejoin:"+["miter","round","bevel"][v]);if(a!=1)u.push("stroke-opacity:"+q.hT(a));
if(X!=1)u.push("stroke-width: "+q.hT(X));if(h.length!=0)u.push("stroke-dasharray: "+h.join(","))}};gp.f$=function(u,m,C){m.nn++;
var Z=gp,q=u.Grad.v,J=JSON.parse(JSON.stringify(q.Clrs.v)),A=JSON.parse(JSON.stringify(q.Trns.v)),n=u.Ofst.v,N=u.Type.v.GrdT,e=N=="Rdl"?1:0,Q=(e==1?"radial":"linear")+"Gradient",p=j.C.RJ(u,C);
if(e==0){p[0].x=p[1].x+2*(p[0].x-p[1].x);p[0].y=p[1].y+2*(p[0].y-p[1].y)}var B=Z.d7(2)+"<"+Q+" id=\"grd"+m.nn+"\" gradientUnits=\"userSpaceOnUse\" ";
if(e==0)m.fI.push(B+" x1=\""+Z.hT(p[0].x)+"\" y1=\""+Z.hT(p[0].y)+"\" x2=\""+Z.hT(p[1].x)+"\" y2=\""+Z.hT(p[1].y)+"\">");
if(e==1)m.fI.push(B+" cx=\""+Z.hT(p[0].x)+"\" cy=\""+Z.hT(p[0].y)+"\" r=\""+Z.hT(dz.th(p[0],p[1]))+"\">");
if(N=="Rflc"){for(var $=0;$<2;$++){var R=$==0?J:A;for(var D=R.length-1;D>=0;D--){var z=R[D];z.v.Lctn.v=2048+(z.v.Lctn.v>>>1);
var v=JSON.parse(JSON.stringify(z));v.v.Lctn.v=4096-v.v.Lctn.v;R.push(v)}R.sort(function(h,T){return h.v.Lctn.v-T.v.Lctn.v})}}var a=u.Rvrs.v;
if(a){J.reverse();A.reverse()}for(var D=0;D<J.length;D++){var X=J[D].v,V=D<A.length?A[D].v.Opct.v.val/100:1,V=V==1?"":"stop-opacity=\""+Z.hT(V)+"\"",o=X.Lctn.v/4096;
if(a)o=1-o;m.fI.push(Z.d7(3)+"<stop offset=\""+Z.hT(o)+"\" stop-color=\""+CSS._m(X.Clr.v)+"\" "+V+" />")}m.fI.push(Z.d7(2)+"</"+Q+">")};
gp.i5=function(u,m,C,Z,q){var J=[],A=gp.i5,n=!1,N={du:u,Oh:m,fC:[!0,!0,!0],EA:!1,Yi:C,a6E:0};N.RM=Math.round(Math.max(u,m)*(.02+A.S5(N)*.03));
N.FC=A.a6T(N);N.dV=A.al1(N.FC,(A.S5(N)<.5?-1:1)*(.2+A.S5(N)*.3));if(A.S5(N)<.5){var e=N.FC;N.FC=N.dV;
N.dV=e}N.aaj=A.S5(N)<.4&&A.amM(N.dV,{p:1,T:1,S:1})>.3;N.acJ=A.S5(N)<.5?0:1;J.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+u+" "+m+"\" width=\""+u+"\" height=\""+m+"\">");
N.C4=Z[Math.floor(A.nH(N)*Z.length)];N.o8=Z[Math.floor(A.nH(N)*Z.length)];J.push("<style>");J.push("@font-face {  font-family: "+N.C4[2]+";  src: url(rsrc/fonts/"+N.C4[5]+");  }");
J.push("@font-face {  font-family: "+N.o8[2]+";  src: url(rsrc/fonts/"+N.o8[5]+");  }");J.push("</style>");
var Q=[0,0,u,m],p=Q;if(q==null)J.push("<path style=\"fill: "+A.PZ(N.FC)+"\" d=\""+A.Rect(Q[0],Q[1],Q[2]-Q[0],Q[3]-Q[1])+"\" id=\"Background\" />");
else{N.EA=!0;A.ih(N,Q,J,q)}if(A.S5(N)<.25&&!N.EA){N.fC[0]=N.fC[2]=!1;A.asL(Q,N,J);p=Q}else if(A.S5(N)<.25||N.EA)p=Q;
else{var B=.52+A.S5(N)*.2;if(A.S5(N)<.5)B=1-B;var $=Q.slice(0),R=Q.slice(0);if(A.S5(N)<.5)$[2]=R[0]=Math.round(B*u);
else $[3]=R[1]=Math.round(B*m);if(A.S5(N)<.5){var e=$;$=R;R=e}p=$;A.aj_(N,R,J,q)}A.anC(N,p,J);J.push("</svg>");
J=J.join("\n");var z=j.U(Math.round(J.length*1.5)),v=M.ic(J,z,0);return[z.buffer.slice(0,v),N.p8]};gp.i5.asL=function(u,m,C){var Z=gp.i5,q=u[2]-u[0],J=u[3]-u[1];
if(Z.S5(m)<.5){C.push("<path id=\"Border\" style=\"fill: "+Z.PZ(m.dV)+"\" d=\""+Z.a9R(u[0],u[1],u[2]-u[0],u[3]-u[1],m.RM)+"\" />")}else if(Z.S5(m)<-.4){Z.a7V(m,u,C)}else{var A=Z.S5(m)<.5?0:1,n=(A==0?J:q)/4,N=Z.rl(m,A,u,C,n,!0),N=Z.rl(m,A+2,u,C,n,!0,N)}};
gp.i5.anC=function(u,m,C){var Z=gp.i5,q="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),J=2*Math.floor(Z.S5(u)*q.length/2),A=m[2]-m[0],n=m[3]-m[1],e=0,p=0;
u.LN=(u.du+A)*.5*(.04+Z.S5(u)*.05);u.LN=Math.min(u.LN,n*.4,A*.12);u.LN=Math.round(u.LN);var N=Math.min(u.LN*q[J].length*(.35+.3*Z.S5(u)),A*.9),Q=(m[1]+m[3])/2,B=j.Gc(u.FC)<.85?{p:1,T:1,S:1}:{p:.1,T:.1,S:.1};
if(Z.S5(u)<.25&&u.fC[0]){p=0;e=m[0]+u.RM}else if(Z.S5(u)<.33&&u.fC[2]){p=2;e=m[2]-u.RM}else{p=1;e=(m[0]+m[2])/2}var $=B.p==1?"0,0,0":"255,255,255",R=u.EA&&Z.S5(u)<1;
if(R){var z=m[0],v=A,a=Q-u.LN*1.1,X=u.LN*2.2,V=.7;if(p==1&&Z.S5(u)<.5){z=a=.2*Math.min(A,n);v=A-2*a;
X=n-a-a}else if(Z.S5(u)<.7){z=a=0;v=A;X=n;V=.25}C.push("<path id=\"Strip\" style=\"fill: rgb("+$+"); opacity: "+V+"\" d=\""+Z.Rect(z,a,v,X)+"\" />")}if(Z.S5(u)<.4){var o=u.LN*.07;
o*=1.5+Z.S5(u)*1;if(p==-1&&A/n<3&&!R){C.push("<path id=\"Bar-bottom\" style=\"fill: "+Z.PZ(B)+"\" d=\""+Z.Rect(e-N/2,Q+u.LN*1.1-o/2,N,o)+"\" />");
C.push("<path id=\"Bar-top\"    style=\"fill: "+Z.PZ(B)+"\" d=\""+Z.Rect(e-N/2,Q-u.LN*1.1-o/2,N,o)+"\" />")}if(p!=1){C.push("<path id=\"Bar\" style=\"fill: "+Z.PZ(B)+"\" d=\""+Z.Rect(e-o/2,Q-u.LN*.8,o,u.LN*.8*2)+"\" />");
e+=(p==0?1:-1)*u.LN/3}}var h=u.LN*.4;C.push(Z.GB(q[J+1],e,Q+h*1.6,h,B,p,u.o8));C.push(Z.GB(q[J],e,Q+u.LN*.04,u.LN,B,p,u.C4))};
gp.i5.aj_=function(u,m,C,Z){var q=m[2]-m[0],J=m[3]-m[1],A=Math.max(q,J),n=Math.min(q,J),N=gp.i5;if(A/n<5&&!u.EA&&!1){N.ih(u,m,C,Z)}else if(N.S5(u)<0)C.push("<path style=\"fill: "+N.PZ(u.dV)+"\" d=\""+N.Rect(m[0],m[1],q,J)+"\" />");
else{var e=0;if(m[3]!=u.Oh)e=0;if(m[2]!=u.du)e=3;if(m[0]!=0)e=1;if(m[1]!=0)e=2;var Q=e+2&3;if(A/n<3){var p=N.a9U(Q),B=p[Math.round(N.S5(u)*(p.length-1))],$=B.n2.slice(0,4),R=$.indexOf(1);
B=JSON.parse(JSON.stringify(B));var z=-1;if($!="0000"){var v=new ix;if(B.n2[5]=="0"){if(R==3&&e==1){z=1;
v.scale(-1,1)}else z=R}else{var a=Q;while(a==Q)a=Math.floor(N.S5(u)*4)&3;v.rotate((-R+a)*Math.PI/2)}N.I(B,v)}var X=N.Of(B),V=q-2*u.RM,o=J-2*u.RM;
if(z!=-1){if((z&1)==0)o-=u.RM;else V-=u.RM}var h=Math.min(V/X.e,o/X.n),T=new ix;T.translate(-X.x,-X.y);
T.scale(h,h);var l=(q-X.e*h)/2,w=(J-X.n*h)/2;if(z!=-1){if(z==3)l=0;if(z==0)w=0;if(z==1)l=q-X.e*h;if(z==2)w=J-X.n*h}T.translate(m[0]+l,m[1]+w);
N.kp(u,B,T,u.dV,C)}else{N.rl(u,e,m,C,1e9)}}};gp.i5.ih=function(u,m,C,Z){var q=m[2]-m[0],J=m[3]-m[1],A=Math.max(q,J),n=Math.min(q,J),N=gp.i5,e=N.nH(u),Q,p,B,$=Z[0]instanceof ArrayBuffer;
if($){Q="data:image/jpg;base64,"+h9.GU(Z[0]);p=Z[1];B=Z[2]}else{var R=Math.floor(e*Z.length),z=Z[R];
u.p8=z;Q=z.webformatURL;p=z.webformatWidth;B=z.webformatHeight}var v=m[0],a=m[1],X=q,V=J;if(q/J>p/B){V=X*B/p;
a=a-(V-J)/2}else{X=V*p/B;v=v-(X-q)/2}if($){C.push("<defs>");C.push("<image width=\""+p+"\" height=\""+B+"\" id=\"Background\" href=\""+Q+"\" />");
C.push("</defs>");var o=X/p;C.push("<use href=\"#Background\" transform=\""+gp.MI(new ix(o,0,0,o,v,a))+"\" />")}else{var h="cp"+Math.random();
C.push("<clipPath id=\""+h+"\">");C.push("<path style=\"fill: "+N.PZ(u.dV)+"\" d=\""+N.Rect(m[0],m[1],q,J)+"\" />");
C.push("</clipPath>");C.push("<image  clip-path=\"url(#"+h+")\" xlink:href=\""+Q+"\" x=\""+v+"\" y=\""+a+"\" width=\""+X+"\" height=\""+V+"\" />")}};
gp.i5.GB=function(u,m,C,Z,q,J,A){var n=gp.i5;return"<text x=\""+m+"\" y=\""+C+"\" style=\"fill:"+n.PZ(q)+"; font-size:"+Z+"px; text-anchor:"+["start","middle","end"][J]+"; font-family:"+A[2]+";\"><tspan>"+u+"</tspan></text>"};
gp.i5.kp=function(u,m,C,Z,q){var J=gp.i5,A=[];for(var D=0;D<m.s4.length;D++){A.push(Z);if(u.aaj){Z=(D&1)==u.acJ?{p:1,T:1,S:1}:A[0]}}q.push("<g id=\""+m.n2.split("-")[2]+":::\" style=\"transform: "+gp.MI(C)+";\" >");
for(var D=0;D<m.s4.length;D++){var n=m.s4[D];Z=A.pop();q.push("<path style=\"fill: "+(Z?J.PZ(Z):"#"+n[0])+"\" d=\""+Typr.U.pathToSVG({crds:n[1].s,cmds:n[1].X})+"\" />")}q.push("</g>")};
gp.i5.a7V=function(u,m,C){var Z=gp.i5,q=gp.i5.KL,J=[];for(var D=0;D<q.length;D++){var A=q[D],n=A.n2.slice(0,4);
if(n!="1001")continue;J.push(A)}var A=J[Math.floor(Z.S5(u)*J.length)];if(Z.S5(u)<.5)Z.I(A,new ix(0,1,1,0,0,0));
var N=m[3]-m[1],e=m[2]-m[0],Q=Z.Of(A),p=.7*Math.min(e,N,.5*Math.max(e,N))/Math.max(Q.e,Q.n),B=new ix;
B.scale(p,p);if(Z.S5(u)<.5){B.scale(1,-1);B.translate(0,N)}Z.kp(u,A,B,u.dV,C);B.rotate(Math.PI);B.translate(e,N);
Z.kp(u,A,B,u.dV,C)};gp.i5.a9U=function(u){var m=gp.i5.KL,C=[];for(var D=0;D<m.length;D++){var Z=m[D],q=Z.n2.slice(0,4);
if(q=="0000"){C.push(Z);continue}if(["1000","0100","0010","0001"].indexOf(q)==-1)continue;var J=q.indexOf("1");
if(Z.n2[5]=="0"&&u==J&&J!=3)continue;C.push(Z)}return C};gp.i5.rl=function(u,m,C,Z,q,J,A){var n=gp.i5.KL,N=gp.i5,e=[],X,V;
for(var D=0;D<n.length;D++){var Q=n[D],p=Q.n2.slice(0,4);if(["1110","1101","1011","0111"].indexOf(p)==-1)continue;
var B=p.indexOf("0")+2&3;if(Q.n2[5]=="0")if(J==!0||m!=B&&!(m==1&&B==3))continue;e.push(Q)}var $=A!=null?A:Math.floor(N.S5(u)*e.length),Q=e[$],Q=JSON.parse(JSON.stringify(Q)),p=Q.n2.slice(0,4),B=p.indexOf("0")+2&3;
if(B==3&&m==1)j.I(Q,new ix(1,0,0,-1,0,1e3));var R=new ix;R.translate(-500,-500);R.rotate(-B*Math.PI/2);
R.translate(500,500);N.I(Q,R);var z=C[3]-C[1],v=C[2]-C[0],a=N.Of(Q);if(a.y<0){a.n+=a.y;a.y=0}if(a.y>0){a.n+=a.y;
a.y=0}if((m&1)==0){V=z;X=v}else{X=z;V=v}var o=Math.min(Math.min(.5+.5*N.S5(u))*Math.min(v,z),q)/a.n,h=Math.ceil(X/(1e3*o)),T=new ix,l=new ix;
l.scale(o,o);if(m==0||m==2){l.translate(-(v/2),-(z/2));l.rotate(-m*Math.PI/2);l.translate(v/2+C[0],z/2+C[1])}else{l.rotate(Math.PI/2);
l.scale(1,-1);l.translate(C[0],C[1]);if(m==1){l.scale(-1,1);l.translate(v,0)}}Z.push("<g id=\"Border-"+["top","right","bottom","left"][m]+":::\">");
for(var D=0;D<h;D++){var w=T.clone();w.concat(l);N.kp(u,Q,w,u.dV,Z);T.translate(1e3-2,0)}Z.push("</g>");
return $};gp.i5.Rect=function(u,m,C,Z){return Typr.U.pathToSVG({crds:[u,m,u+C,m,u+C,m+Z,u,m+Z],cmds:["M","L","L","L","Z"]})};
gp.i5.a9R=function(u,m,C,Z,q){var J=[u,m,u+C,m,u+C,m+Z,u,m+Z];u+=q;m+=q;C-=2*q;Z-=2*q;J.push(u,m,u,m+Z,u+C,m+Z,u+C,m);
return Typr.U.pathToSVG({crds:J,cmds:"M L L L Z M L L L Z".split(" ")})};gp.i5.al1=function(u,m){var C=j.up(u.p,u.T,u.S);
C.Hc=Math.max(.1,Math.min(.9,C.Hc+m));return j.dB(C.Oh,C.jL,C.Hc)};gp.i5.a4q=function(u,m){var C=j.up(u.p,u.T,u.S);
C.Oh+=m;return j.dB(C.Oh,C.jL,C.Hc)};gp.i5.aaO=function(u){var m=j.up(u.p,u.T,u.S);m.Hc=1-m.Hc;return j.dB(m.Oh,m.jL,m.Hc)};
gp.i5.amM=function(u,m){var C=u.p-m.p,Z=u.T-m.T,q=u.S-m.S;return Math.sqrt(C*C+Z*Z+q*q)};gp.i5.a6T=function(u){var m=gp.i5;
return{p:m.S5(u),T:m.S5(u),S:m.S5(u)}};gp.i5.PZ=function(u){return CSS.T9({p:u.p*255,T:u.T*255,S:u.S*255})};
gp.i5.Of=function(u){var m=u.s4,C=new bl;for(var D=0;D<m.length;D++)C=C.QN(j.u.Of(m[D][1].s));return C};
gp.i5.I=function(u,m){var C=u.s4;for(var D=0;D<C.length;D++)j.u.I(C[D][1].s,m,C[D][1].s)};gp.i5.S5=function(u){u.a6E++;
var m=u.a6E&3;if(m==0)u.Yi=gp.i5.P$(u.Yi);var C=u.Yi>>>8*m&255;return C*(.99999999/255)};gp.i5.nH=function(u){var m=gp.i5.P$(u.Yi);
u.Yi=gp.i5.P$(m);return m*(1/4294967295)};gp.i5.P$=function(u){u=(u^61^u>>>16)>>>0;u=u+(u<<3)>>>0;u=(u^u>>>4)>>>0;
u=u*668265261>>>0;u=(u^u>>>15)>>>0;return u};gp.i5.KL=[{n2:"0001-0-bird",s4:[["4b3c34",{X:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),s:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{X:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),s:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{X:"M C C C C C C C C C C C C L Z".split(" "),s:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{n2:"0001-0-bird2",s4:[["ff7f2a",{X:"M L L L Z M L L L Z".split(" "),s:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{X:"M C C C C C C C C C C C L Z".split(" "),s:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{X:"M C C C C C C L Z M C C Z".split(" "),s:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{X:"M L L L Z M L L L Z".split(" "),s:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{X:"M L C C C C C C C C L Z".split(" "),s:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{X:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),s:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{n2:"0000-1-flower",s4:[["7a59a2",{X:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),s:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{n2:"0000-1-flower",s4:[["d13777",{X:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),s:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{n2:"0000-1-flower",s4:[["ffac42",{X:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),s:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{n2:"0000-1-flower",s4:[["d04040",{X:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),s:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{n2:"0000-1-flower",s4:[["ec7272",{X:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),s:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{X:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),s:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{n2:"0000-0-hearts",s4:[["d17070",{X:"M C C C C C C C C C L Z".split(" "),s:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{X:"M C C C C C C C C C L Z".split(" "),s:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{X:"M C C C C C C C C C L Z".split(" "),s:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{n2:"0000-0-anchor",s4:[["2a3b66",{X:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),s:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{n2:"0000-1-leaf",s4:[["fbb600",{X:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),s:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{n2:"0000-1-acorn",s4:[["a05a2c",{X:"M C C C C C C C L Z".split(" "),s:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{X:"M C C C C C C C C C C C Z".split(" "),s:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{n2:"0000-0-skull",s4:[["808080",{X:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),s:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{n2:"0000-0-ghost",s4:[["e6e6e6",{X:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),s:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{X:"M C C C C Z M C C C C Z".split(" "),s:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{n2:"1001-1-rose",s4:[["9e1460",{X:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),s:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{X:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),s:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{n2:"1001-1-curls",s4:[["53a7ab",{X:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),s:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{X:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),s:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{n2:"0111-0-pines",s4:[["e9e9e9",{X:"M C C C C C C C C L L L Z".split(" "),s:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{X:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),s:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{n2:"0111-0-flowers",s4:[["8cae40",{X:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),s:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{X:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),s:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{n2:"1101-1-confetti",s4:[["e789ff",{X:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{X:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{n2:"1101-1-branch",s4:[["7f500b",{X:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),s:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{X:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{n2:"1101-1-sticks",s4:[["ec7272",{X:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{X:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{n2:"1101-1-dots",s4:[["ec7272",{X:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{X:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{X:["M","C","C","Z"],s:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{n2:"1101-1-strips",s4:[["ffc88c",{X:"M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{X:"M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{X:["M","C","C","Z"],s:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{n2:"1101-1-circs",s4:[["ec7272",{X:"M C C C C Z M C C C C Z".split(" "),s:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{X:"M C C C C Z M C C C C Z".split(" "),s:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{X:["M","C","C","Z"],s:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{n2:"1101-1-squares",s4:[["014ea7",{X:"M L L L L Z M L L L L Z".split(" "),s:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{X:"M L L L L Z M L L L L Z".split(" "),s:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{X:["M","C","C","Z"],s:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{n2:"1101-0-christmas",s4:[["014ea7",{X:"M C C C C Z M C C C C Z M L L L L Z".split(" "),s:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{X:"M C C C C Z M C C C C Z M L L L L Z".split(" "),s:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var hp={};hp.parse=function(u){var m=new Uint8Array(u),C=null;if(m[0]==80&&m[1]==75){var Z=Date.now(),q=UZIP.parse(m.buffer),C=q["document.json"];
C=JSON.parse(M.V6(C,0,C.length));hp.fg(C,q)}else{var J=fW.parse(u);C=hp.sD(J[2][0][1])}return C};hp.fg=function(u,m){var C=typeof u;
if(C=="string"||C=="number"||C=="boolean")return u;if(u instanceof Array){for(var D=0;D<u.length;D++)u[D]=hp.fg(u[D],m);
return u}var Z=u._class;if(Z==null)return u;if(Z=="MSJSONFileReference"){var q=u._ref;if(!1){}else if(m[q+".json"]!=null){var J=m[q+".json"],A=J.length;
for(var D=0;D<A;D++)if(J[D]==11||J[D]==3)J[D]=32;var n=M.V6(J,0,A);u=JSON.parse(n)}else if(m[q+".png"]!=null)return{key:q.split("/").pop(),bdata:m[q+".png"]};
else if(m[q+".jpg"]!=null)return{key:q.split("/").pop(),bdata:m[q+".jpg"]};else if(m[q+".pdf"]!=null)return{key:q.split("/").pop(),bdata:m[q+".pdf"]};
else if(m[q]!=null)return{key:q.split("/").pop(),bdata:m[q]};else{console.log(u,m);return}}else if(Z=="MSAttributedString"){var n=atob(u.archivedAttributedString._archive),N=n.length-1,e=new Uint8Array(N);
for(var D=0;D<N;D++)e[D]=n.charCodeAt(D);u.archivedAttributedString=hp.sD(e)}for(var Q in u)u[Q]=hp.fg(u[Q],m);
return u};hp.r9=function(u,m,C,Z){if(u instanceof Uint8Array)return null;if(Z.indexOf(u)!=-1)return null;
Z.push(u);if(u==m)return C;for(var q in u){C.push(q);var J=hp.r9(u[q],m,C,Z);if(J){console.log(u,J);
throw"e"}C.pop()}};hp.sD=function(u){var m=f7.parse(u,0),C=m.$objects,Z=new Uint8Array(C.length),q=hp.qL(C,Z,m.$top.root);
for(var D=0;D<C.length;D++)if(Z[D]==0&&D!=0){console.log(D,C[D]);hp.r9(q,D,[],[])}for(var D=0;D<C.length;
D++){var J=C[D];if(J._class&&(J._class=="bitmap"||J._class=="fill"&&J.fillType==4&&(J.image||J.imageSHA))){var A=J.image,n=J.imageSHA,N=null,e=null;
if(A=="$null")A=null;if(n=="$null")n=null;if(A&&A.data){e=A.sha1["NS.bytes"];e=btoa(M.Qi(e,0,e.length));
N=A.data instanceof Uint8Array?A.data:A.data["NS.bytes"]}else if(A==null&&n==null){var Q=d4.X5("PNG").c2([[j.U(4).buffer]],1,1);
N=new Uint8Array(Q)}else{var p=(q.assets?q.assets.imageCollection:q.images).images;if(n)e=n instanceof Uint8Array?n:n["NS.bytes"];
else e=A.sha1["NS.bytes"];e=btoa(M.Qi(e,0,e.length));var N=p[e].data;if(N["NS.bytes"])N=N["NS.bytes"]}N=new Uint8Array(N.buffer.slice(N.byteOffset,N.byteOffset+N.length));
delete J.imageSHA;J.image={key:e,bdata:N}}}return q};hp.a7J=function(u){return u.slice(0,11)=="MSImmutable"?"MS"+u.slice(11):u};
hp.qL=function(u,m,C){var Z=u[C];if(m[C]==1){return Z}m[C]=1;if(typeof Z=="string")return Z;if(typeof Z=="number")return Z;
if(typeof Z=="boolean")return Z;if(Z instanceof Array)return Z;if(Z instanceof Uint8Array){return Z}if(u[Z.$class]==null){if(Z.$class==null&&Z["NS.data"]!=null)return Z;
console.log(C,Z);throw"e"}var q=u[Z.$class],J=hp.a7J(q.$classname);m[Z.$class]=1;Z.$class=J;if(hp.Rt[J]){delete Z.$class;
Z._class=hp.Rt[J]}var A=hp.qL;if(J=="NSMutableArray"||J=="NSArray"){var n=[];if(Z["NS.objects"]!=null)for(var D=0;
D<Z["NS.objects"].length;D++)n.push(A(u,m,Z["NS.objects"][D]));else for(var D=0;Z["NS.object."+D]!=null;
D++)n.push(A(u,m,Z["NS.object."+D]));u[C]=n;return n}if(J=="NSDictionary"||J=="NSMutableDictionary"){var N={$class:J};
if(Z["NS.keys"]!=null)for(var D=0;D<Z["NS.keys"].length;D++){var e=A(u,m,Z["NS.keys"][D]);if(e instanceof Uint8Array)e=btoa(hp.UP.Qi(e,0,e.length));
else if(typeof e!="string"&&typeof e!="number")e=btoa(hp.UP.Qi(e["NS.bytes"],0,e["NS.bytes"].length));
N[e]=A(u,m,Z["NS.objects"][D])}else for(var D=0;Z["NS.key."+D]!=null;D++){var e=A(u,m,Z["NS.key."+D]);
if(e instanceof Uint8Array)e=btoa(hp.UP.Qi(e,0,e.length));else if(typeof e!="string"&&typeof e!="number")e=btoa(hp.UP.Qi(e["NS.bytes"],0,e["NS.bytes"].length));
N[e]=A(u,m,Z["NS.object."+D])}for(var Q in Z)delete Z[Q];for(var Q in N)Z[Q]=N[Q];return Z}if(J=="NSURL")return{$class:J,base:A(u,m,Z["NS.base"]),relative:A(u,m,Z["NS.relative"])};
if(hp.aaD.indexOf(J)!=-1){u[C]=A(u,m,Z.array_do);return u[C]}if(Z.do_objectID!=null)Z.do_objectID=A(u,m,Z.do_objectID);
if(hp.a1N.indexOf(J)!=-1)return Z;var p=hp.a0U[J];if(p==null){console.log(u,Z);throw"unknown class "+J}for(var D=0;
D<p.length;D++)if(Z[p[D]]!=null)Z[p[D]]=A(u,m,Z[p[D]]);if(J=="MSTextLayer"){var B=Z,$,R,z,v;if(B.attributedString)$=B.attributedString.archivedAttributedString;
else $=B.storage;v=$.NSString;if(typeof v!="string")v=M.V6(v["NS.bytes"],0,v["NS.bytes"].length);if($.NSAttributeInfo)R=$.NSAttributeInfo["NS.bytes"];
else{var a=v.length,X=[];while(a>0){var V=Math.min(100,a);X.push(V,0);a-=V}R=new Uint8Array(X)}z=$.NSAttributes instanceof Array?$.NSAttributes:[$.NSAttributes];
var o={$class:"NSAttributedString",NSString:v,NSAttributes:z};B.attributedString={_class:"MSAttributedString",archivedAttributedString:o};
o.NSAttributeInfo={$class:"NSMutableData","NS.data":R};delete B.storage}return Z};hp.UP={aP:function(u,m){return u[m+1]<<8|u[m]},h:function(u,m){return u[m+3]<<24|u[m+2]<<16|u[m+1]<<8|u[m]},Qi:function(u,m,C){var Z="";
for(var D=0;D<C;D++)Z+=String.fromCharCode(u[m+D]);return Z}};hp.Rt={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
hp.aaD=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
hp.a1N="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
hp.a0U={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var f7={};f7.parse=function(u,m){var C=M.Qi(u,m,8);m+=8;var Z=f7.parse.at3(u,u.length-31),q=[];if(Z.mR==1){var m=u.length-31-Z.mR*Z.sE;
for(var D=0;D<Z.sE;D++)q.push(u[m+D])}else if(Z.mR==2){var m=u.length-31-Z.mR*Z.sE;for(var D=0;D<Z.sE;
D++)q.push(M.aP(u,m+D*2))}else if(Z.mR==4){var m=u.length-31-Z.mR*Z.sE;for(var D=0;D<Z.sE;D++)q.push(M.h(u,m+D*4))}else{throw"e"}var J=f7.parse.qL(u,q,Z.root,Z);
return J};f7.parse.qL=function(u,m,C,Z){var q=f7.UP,J=Z.a2l,A=J==4?q.h:J==2?q.aP:q.amC,n=f7.parse,N=m[C],e=u[N],Q=e>>4,p=e&15,$=null;
N+=1;if([4,5,6,10,12,13].indexOf(Q)!=-1&&p==15){var B=n.LR(u,N);N+=B.PV;p=B.k}if(!1){}else if(Q==0)$=p==8?!1:p==9?!0:null;
else if(Q==1)$=n.LR(u,N-1).k;else if(Q==2)$=1<<p==4?M._V(u,N):M.AN(u,N);else if(Q==3)$=M.AN(u,N);else if(Q==4)$=new Uint8Array(u.buffer,N,p);
else if(Q==5)$=M.Qi(u,N,p);else if(Q==6)$=M.W2(u,N,p);else if(Q==8){$=0;for(var D=0;D<p+1;D++)$=$<<8|u[N+D]}else if(Q==10){$=[];
for(var D=0;D<p;D++)$.push(n.qL(u,m,A(u,N+J*D),Z))}else if(Q==12){$=[];for(var D=0;D<p;D++)$.push(n.qL(u,m,A(u,N+J*D),Z))}else if(Q==13){$={};
for(var D=0;D<p;D++){var R=n.qL(u,m,A(u,N+J*D),Z),z=n.qL(u,m,A(u,N+J*(p+D)),Z);$[R]=z}}else throw"unknown mask "+Q;
return $};f7.parse.LR=function(u,m){var C=1<<(u[m]&15),Z=0;for(var D=0;D<C;D++)Z=Z<<8|u[m+1+D];return{k:Z,PV:C+1}};
f7.parse.at3=function(u,m){var C={};m+=6;C.mR=u[m];m++;C.a2l=u[m];m++;m+=4;C.sE=M.h(u,m);m+=4;m+=4;C.root=M.h(u,m);
m+=4;m+=4;C.a36=M.h(u,m);m+=4;return C};f7.UP={amC:function(u,m){return u[m]},aP:function(u,m){return u[m]<<8|u[m+1]},h:function(u,m){return u[m]<<24|u[m+1]<<16|u[m+2]<<8|u[m+3]},Qi:function(u,m,C){var Z="";
for(var D=0;D<C;D++)Z+=String.fromCharCode(u[m+D]);return Z}};var fW={parse:function(u){var m=new Uint8Array(u),C=fW.em(m),Z=[],q=new Uint8Array(m.length),J=[];
Z.push(J);fW.NM(m,C,1,q,J);for(var D=0;D<J.length;D++){var A=[];Z.push(A);fW.NM(m,C,J[D][3],q,A);J[D][3]=D+1}return Z},NM:function(u,m,C,Z,q){C--;
var J=C*m.ZE+(C==0?100:0),A=u[J],n=fW.aP(u,J+1);if(n!=0)throw"free block in a page";var N=fW.aP(u,J+3),e=fW.aP(u,J+5);
if(e==0)e=65536;var Q=u[J+7],p=fW.aP(u,J+8);if(A==2||A==5)J+=4;else p=0;for(var B=0;B<N;B++){var $=C*m.ZE+fW.aP(u,J+8+2*B),R=-1,z=0,v=0,a=0;
if(A==2||A==5){R=fW.h(u,$);$+=4}if(A==2||A==10||A==13){z=fW.Il(u,$);$+=z.PV}if(A==5||A==13){v=fW.Il(u,$);
$+=v.PV}if(A==5){fW.NM(u,m,R,Z,q);continue}var X=m.ZE-(C==0?100:0),V=z.yg,o=A==13?X-35:Math.floor((X-12)*64/255)-23,h=Math.floor((X-12)*32/255)-23,T=h+(V-h)%(X-4);
if(V<=o){fW.Uj(u,$,Z,0,V)}else{var l=T<=o?T:h,w=0;fW.Uj(u,$,Z,0,l);w+=l;a=fW.h(u,$+l);while(a!=0){var W=(a-1)*m.ZE;
a=fW.h(u,W);var U=Math.min(m.ZE-4,V-w);fW.Uj(u,W+4,Z,w,U);w+=U}}q.push(fW.aj8(Z,V))}},aj8:function(u,m){var C=0,Z=fW.Il(u,C);
C+=Z.PV;var q=[],J=[];while(C<Z.yg){var A=fW.Il(u,C);C+=A.PV;q.push(A.yg)}if(C!=Z.yg)throw"e";for(var D=0;
D<q.length;D++){var A=q[D];if(!1){}else if(A==0)J.push(null);else if(A==1){J.push(fW.atS(u,C));C+=1}else if(A==2){J.push(fW.xg(u,C));
C+=2}else if(A==3){J.push(fW.ah_(u,C));C+=3}else if(A==4){J.push(fW.LR(u,C));C+=4}else if(A==7){J.push(fW.atl(u,C));
C+=16}else if(A==8)J.push(0);else if(A==9)J.push(1);else if(A>=12&&(A&1)==0){var n=A-13>>1,N=new Uint8Array(n);
fW.Uj(u,C,N,0,n);J.push(N);C+=n}else if(A>=13&&(A&1)==1){var n=A-12>>1;J.push(fW.V6(u,C,n));C+=n}else throw"unknonw type "+A}return J},em:function(u){if(!(u[18]==1&&u[19]==1&&u[20]==0&&u[21]==64&&u[22]==32&&u[23]==32))throw"unexpected SQL3 header";
var m={vE:fW.Qi(u,0,15),ZE:fW.aP(u,16),a8c:fW.h(u,24),size:fW.h(u,28),aas:fW.h(u,32),acp:fW.h(u,36),anF:fW.h(u,40),a1_:fW.h(u,44),a7f:fW.h(u,48),a8J:fW.h(u,52),atb:fW.h(u,56),a4D:fW.h(u,60),afd:fW.h(u,64)!=0,aby:fW.h(u,68),abI:fW.h(u,92),aoh:fW.h(u,96)};
if(m.ZE==1)m.ZE=65536;if(m.atb!=1)throw"unsupported text encoding "+m.atb;return m},amp:function(u,m){return u[m]<<16|u[m+1]<<8|u[m+2]},ah_:function(u,m){var C=fW.amp(u,m),Z=C&8388608;
return Z?-(16777215-C+1):C},atS:function(u,m){fW.Ng[0]=u[m];return fW.aux[0]},LR:function(u,m){var C=fW.Ng;
for(var D=0;D<4;D++)C[D]=u[m+3-D];return fW.ala[0]},xg:function(u,m){var C=fW.Ng;C[0]=u[m+1];C[1]=u[m];
return fW.a8e[0]},aP:function(u,m){return u[m]<<8|u[m+1]},h:function(u,m){return u[m]<<24|u[m+1]<<16|u[m+2]<<8|u[m+3]},atl:function(u,m){var C=fW.Ng;
for(var D=0;D<8;D++)C[D]=u[m+7-D];return fW.a6S[0]},Il:function(u,m){var C=m,jt=0;while(!0){var Z=u[m];
m++;jt=jt*128+(Z&127);if(Z<128)break}return{yg:jt,PV:m-C}},Qi:function(u,m,C){var Z="";for(var D=0;D<C;
D++)Z+=String.fromCharCode(u[m+D]);return Z},V6:function(u,m,C){var Z="";for(var D=0;D<C;D++)Z+="%"+fW.alL(u[m+D].toString(16));
return decodeURIComponent(Z)},Uj:function(u,m,C,Z,q){if(u[m+q-1]==null||C[Z+q-1]==null){console.log(m,Z,q);
throw"e"}for(var D=0;D<q;D++)C[Z+D]=u[m+D]},alL:function(jt){return jt.length<2?"0"+jt:jt}};fW.Ng=new Uint8Array(8);
fW.aux=new Int8Array(fW.Ng.buffer);fW.a8e=new Int16Array(fW.Ng.buffer);fW.ala=new Int32Array(fW.Ng.buffer);
fW.a6S=new Float64Array(fW.Ng.buffer);function iy(u,m,C){this.HC=u;this.mX=m;this.aj1=C;this.KO=new dz(0,0);
this.Ju=-1;this.ze=0;this.BQ=0;this.te=new bl;this.y6=[];this.J2=null;this.asY=null;this.oX=null;this.Fq=null;
this.Mk=null;this.a4G=null}iy.prototype.StartPage=function(u,m,C,Z,q){var J=this.mX,A=J.p1(),n=1,N=(C-u)*(Z-m);
if(q!=null)N=q;while(N*A*A/(n*n)>2*8192*8192)n++;J.scale(1/n,1/n);this.asY=[u,m,C,Z];var n=J.p1();u=Math.round(u*n);
m=Math.round(m*n);C=Math.round(C*n);Z=Math.round(Z*n);var e=this.HC,Q=this.oX;if(Q==null){J.GI=-u}else{var p=Q[2]-Q[0]+30,B=Math.round(C-u)+30;
if(this.KO.x+p+B>8192){J.GI=-u;this.KO.x=0;this.KO.y+=this.BQ+120;this.BQ=0}else{J.GI+=p;this.KO.x+=p}}J.c_=this.KO.y+(this.aj1?Z:-m);
this.BQ=Math.max(this.BQ,Math.round(Z-m));this.oX=[u,m,C,Z];e.g.push(e.B$())};iy.prototype.Nt=function(){var u=this.HC,m=u.g[u.g.length-1];
return m};iy.prototype.qI=function(){var u=JSON.parse(JSON.stringify(c0.K_.default));u.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
u.strokeEnabled.v=!1;u.fillEnabled.v=!1;return u};iy.prototype.gF=function(){var u=this.HC,m=u.Rp();
m.RS("Path "+u.g.length);this.HC.g.push(m);m.VO|=16;m.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.C.sG({p:0,T:0,S:0})}};
m.add.vmsk=new F.nq;m.add.vstk=this.qI();return m};iy.prototype.U3=function(u){var m={s:u.crds,X:u.cmds},C=j.u.DA(m,!1);
j.$.l0(C,this.mX);return C};iy.abC=function(u,m){for(var D=0;D<u.length;D++)if(u[D].hB!=null)u[D].hB=m};
iy.a1L=function(u){return Math.sqrt(Math.abs(u[0]*u[3]-u[1]*u[2]))};iy.iw=function(u){return j.C.sG({p:u[0]*255,T:u[1]*255,S:u[2]*255})};
iy.ke=function(u){return new ix(u[0],u[1],u[2],u[3],u[4],u[5])};iy.prototype.Stroke=function(u){if(this.Ju!=-1&&this.Ju!=this.ze)return;
if(u.pth.cmds.length<=1)return;var m=this.U3(u.pth);if(m.length<=2)return;this.rn(u);iy.abC(m,-1);m[2].hB=1;
var C=iy.iw(u.COLR),Z=this.Nt(),q=this.qI();iy.cm(q,u,this.mX.p1(),C);var J=Z!=null&&Z.add.vmsk!=null&&!Z.ld(),A=J&&!Z.add.vstk.strokeEnabled.v&&F.nq.a7u(Z.add.vmsk.B,m,!0),n=J&&!Z.add.vstk.fillEnabled.v&&JSON.stringify(q)==JSON.stringify(Z.add.vstk);
if(n){Z.add.vmsk.B=Z.add.vmsk.B.concat(m.slice(2))}else if(A){Z.add.vstk=q;q.fillEnabled.v=!0}else{Z=this.gF();
Z.add.vmsk.B=m;Z.add.vstk=q}};iy.cm=function(u,m,C,Z){u.strokeEnabled.v=!0;u.strokeStyleMiterLimit.v=m.mlimit;
u.strokeStyleLineDashSet.v=dU.di(m.dash,1/m.lwidth);u.strokeStyleLineDashOffset.v.val=m.doff;u.strokeStyleLineJoinType.v.strokeStyleLineJoinType=c0.K_.join[m.ljoin];
u.strokeStyleLineCapType.v.strokeStyleLineCapType=c0.K_.kS[m.lcap];u.strokeStyleLineWidth.v.val=Math.max(.4,m.lwidth*iy.a1L(m.ctm)*C);
u.strokeStyleContent.v.Clr.v=Z};iy.prototype.Fill=function(u,m){if(this.Ju!=-1&&this.Ju!=this.ze)return;
if(u.ca==0)return;var C=u.pth.cmds;if(C.length==0)return;if(C.length==2&&JSON.stringify(C)=="[\"M\",\"L\"]")return;
var Z=j.u.Of(u.pth.crds),q=j.u.Of(u.cpth.crds);if(Z.aR(q).qR())return;var J=u.pth,A=UDOC.G.isBox(J,[Z.x,Z.y,Z.x+Z.e,Z.y+Z.n]),n=u.cpth,N=UDOC.G.isBox(n,[q.x,q.y,q.x+q.e,q.y+q.n]);
if(A&&N&&Z.Z()>q.Z()*2){var e=Z.aR(q),Q=e.x,p=e.y,B=Q+e.e,$=p+e.n;J={cmds:["M","L","L","L","Z"],crds:[Q,p,B,p,B,$,Q,$]};
Z=e}else if(this.Fq==null&&UDOC.G.isBox(J,[Z.x,Z.y,Z.x+Z.e,Z.y+Z.n])&&Z.hd(q)){J=n;Z=q}else this.rn(u);
var R=this.U3(J),z=j.u.yj(Z);j.u.I(z.s,this.mX,z.s);Z=j.u.Of(z.s);var v=iy.mF(u.colr,this.mX,Z),a=this.Nt(),X=a!=null&&a.opacity==Math.round(255*u.ca)&&a.add.vstk!=null&&!a.add.vstk.strokeEnabled.v&&a.add.SoCo&&v.type=="SoFi"&&JSON.stringify(a.add.SoCo.Clr.v)==JSON.stringify(v.k.v.Clr.v);
if(X){var V=!1;for(var D=0;D<R.length;D++){if(R[D].hB==0||R[D].hB==2)V=!0}if(V){var o=j.u.Of(j.$.lD(a.add.vmsk.B)),h=j.u.Of(j.$.lD(R));
X=o.aR(h).qR()}}if(X){var T=a.add.vmsk.B;for(var D=2;D<R.length;D++)T.push(R[D])}else{a=this.gF();delete a.add.SoCo;
a.add.vmsk.B=F.nq.K$(R);iy.MM(u.colr,a,this.mX,Z);iy.Wv(u,a)}};iy.MM=function(u,m,C,Z){var q=iy.mF(u,C,Z),J=null,A=null;
m.add.vstk.fillEnabled.v=!0;if(q.type=="SoFi"){J="SoCo";A=c0.wP}if(q.type=="GrFl"){J="GdFl";A=c0.mr}if(q.type=="patternFill"){J="PtFl";
A=c0.d0}if(J!=null){m.add[J]={classID:"null"};for(var D=0;D<A.length;D++){var n=A[D];m.add[J][n]=q.k.v[n]}}};
iy.prototype.rn=function(u){var m=this.HC,C=u.cpth,Z=C.cmds.join(""),q=C.crds,J=Z+" "+q.join(","),A=UDOC.G.isBox(C,this.asY);
if(A&&this.Fq==null)return;if(J==this.Fq)return;this.Fc();if(!A){this.Fq=J;m.g.push(m.B$());var n=m.Rp();
n.RS("Mask");n.add.lsct=cT.an;n.Um="pass";n.VO=24;var N=n.add.vmsk=new F.nq;N.B=this.U3(u.cpth);if(UDOC.G.isBox(C)){this.Mk=j.$.Br(N.B);
this.Mk.iO(3,3)}else this.Mk=null;this.a4G=n}};iy.prototype.Fc=function(){var u=this.HC;if(this.Fq!=null){var m=u.g.length-1,D=m,C=!1;
while(D>=0&&u.g[D].add.lsct!=cT.Ip)D--;var Z=this.Mk;if(Z){var q=new bl,J=m;while(J>D){q=u.g[J].vj(this.HC,!1,!0);
J--}C=Z.hd(q)}if(C){this.y6.splice(D,1);u.g.splice(D,1)}else{u.g.push(this.a4G)}this.Fq=null}};iy.mF=function(u,m,C){var Z,q;
if(u.length!=null){Z="SoFi";var J=JSON.parse(c0.j_[c0.order.indexOf("SoFi")]);q={t:"Objc",v:J};q.v.Clr.v=iy.iw(u)}else{var A=iy.alZ(u,m,C);
Z="GrFl";q={t:"Objc",v:A}}return{type:Z,k:q}};iy.alZ=function(u,m,C){var Z=JSON.parse(c0.j_[c0.order.indexOf("GrFl")]),q=Z.Grad.v;
q.Intr.v=0;var J=iy.ke(u.mat);J.concat(m);var A=new dz(0,0),n=new dz(C.e,0),N=u.crds;if(u.typ=="rad"){Z.Type.v.GrdT="Rdl";
var e=.7;A.x=(1-e)*N[0]+e*N[3];A.y=(1-e)*N[1]+e*N[4];n.x=A.x;n.y=A.y;n.x+=Math.max(N[2],N[5])}else{Z.Type.v.GrdT="Lnr";
A.x=N[0];A.y=N[1];n.x=N[2];n.y=N[3];A.x=n.x+.5*(A.x-n.x);A.y=n.y+.5*(A.y-n.y)}A=J.HL(A);n=J.HL(n);j.C.$a(A,n,C,Z);
var Q=u.grad;j.C.Hk(Q,q);return Z};iy.prototype.PutText=function(u,m,C,Z){var q=m.charCodeAt(0),B=null;
if(this.Ju!=-1&&this.Ju!=this.ze)return;if(m.length==0||m.length==1&&(q==0||q==8203))return;this.rn(u);
var J=this.HC,A=u.font,n=iy.ke(u.ctm);n.concat(this.mX);var N=iy.ke(A.Tm);N.concat(n);var e=b.Q.p1(N),Q=new ix(1/e,0,0,-1/e,0,0);
Q.concat(N);var p=A.Tfs*e,$=J.g.length-1;while($>=0&&J.g[$].add.TySh==null)$--;if(Q.S*Q.S+Q.ZU*Q.ZU<.001&&Z==null&&$>=0&&J.g[$].add.TySh&&J.g[$].opacity==Math.round(255*u.ca)){var R=J.g[$],z=this.y6[$],v=R.add.TySh.I,a=(v.GI+z.vT-Q.GI)/p,X=Math.abs(a),V=m.indexOf(" ")==-1,o=v.w7==Q.w7&&v.S==Q.S&&v.ZU==Q.ZU&&v.MX==Q.MX,h=o&&Math.abs(z.Ld-Q.c_)<1e-5&&X<.6,T=Q.c_-z.Ld;
if(h){B=R;z.vT=Q.GI-v.GI;if(a>.2&&V&&[".",",","?",":","!"].indexOf(m)==-1)m=" "+m}else if(o&&Math.abs(Q.GI-v.GI)<1e-5&&0<T&&T<p*1.7&&z.apb==p){B=R;
this.Ga(z);z.Ld=Q.c_;m="\n"+m}}if(B==null){$=J.g.length;this.y6[$]={ls:[],vT:0,Ld:Q.c_,_u:"",apb:p};
B=J.Rp();J.g.push(B);B.add.lnsr="rend";B.add.TySh=ad.bF(0,0);B.add.TySh.I=Q}var z=this.y6[$];z.vT+=C*p;
z._u+=m;var l=B.add.TySh.pU,w=ad.yd(l);if(Z){ad.Qt(l,1);var W=[0,0,Math.ceil(Z[0]*e),Math.ceil(Z[1]*e)];
ad.Fm(l,W)}var U=w.length-1,s=U+m.length;ad.Y9(l,U,m);if(this.J2==null)this.J2=ad.zd(l,U,U);var S=this.J2;
S.L4.FontSize=Math.round(p);S.L4.Tracking=Math.round(A.Tc*100);S.L4.Underline=A.Tun==1;S.L4.FillColor={Type:1,Values:[1,u.colr[0],u.colr[1],u.colr[2]]};
if(A.Tal!=null)S.n9.Justification=A.Tal;if(z.ls.length!=0){S.L4.AutoLeading=!1;S.L4.Leading=z.Ld-z.ls[z.ls.length-1].y}var x=A.Tf;
x=x.replace(/#2B/g,"+");x=x.replace(/#2C/g,"-");x=x.split("+").pop();var P={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(P[x])x=P[x];ad.t7(S,x);ad.sM(l,U,s-1,S);B.ye();B.opacity=Math.round(255*u.ca)};iy.prototype.Ga=function(u){u.ls.push({du:u.vT,WI:u._u.slice(u.ls.length==0?0:1)+"\n",y:u.Ld,jL:u.apb});
u.vT=0;u._u=""};iy.prototype.rq=function(u,m,C){return new Uint8Array(d4.X5("PNG").c2([[u.buffer,0]],m,C))};
iy.prototype.PutImage=function(u,m,C,Z,q,J,A){if(this.Ju!=-1&&this.Ju!=this.ze)return;var n=this.HC,N=u.font.Tmode;
if(N==7&&n.g[n.g.length-1].add.TySh){return}this.rn(u);var e=iy.ke(u.ctm);e.concat(this.mX);var Q=new ix(1/C,0,0,-1/Z,0,1);
Q.concat(e);e=Q;m=iy.AK(m,C,Z,J,!1);if(q)q=iy.AK(q,C,Z,A,!0);if(q==null){if(m.length==C*Z*4)m=this.rq(m,C,Z)}else{m=this.f6(m,C,Z,J,!1);
q=this.f6(q,C,Z,A,!0);var p=j.U(C*Z);j._H(q,p,0);j.wC(p,m,3);m=this.rq(m,C,Z)}var B=n.mV(m,"Bitmap",0,0),$=B.rect.clone();
$.x=$.y=0;var R=j.u.yj($).s;j.u.I(R,e,R);B.add.SoLd.Trnf=b.Q.Ii(R);B.add.SoLd.nonAffineTransform=b.Q.Ii(R);
B.go(n,!1);iy.Wv(u,B);n.g.push(B)};iy.Wv=function(u,m){m.opacity=Math.round(255*u.ca);var C=iy.Qd[u.bmode];
if(C==null)console.log("Unknown blend mode",C);else m.Um=C};iy.Qd={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
iy.pg=function(u){for(var m in iy.Qd)if(iy.Qd[m]==u)return m};iy.AK=function(u,m,C,Z,q){var J=d4.BM(u.buffer);
if(J=="jpg"){try{u=new Uint8Array(d4.X5("JPG").a6k(u.buffer))}catch(jg){u=new Uint8Array(m*C*4)}}else if(J=="jb2"){u=new Uint8Array(d4.X5("JPG").Pl(u.buffer,Z,q)[0].data)}else if(u.length!=m*C*4){var A=new Uint8Array(m*C*4),n=Math.ceil(m/8),N=new Uint8Array(C*n);
UTIF.decode._decodeG4(u,0,u.length,N,0,m,1);var e=N[0]==(q?255:0);for(var Q=0;Q<C;Q++){var p=n*Q;for(var B=0;
B<m;B++){var D=Q*m+B,$=D*4,R=(N[p+(B>>3)]>>7-(B&7)&1)*255;if(e)R=255-R;A[$]=R;A[$+1]=R;A[$+2]=R;A[$+3]=255}}u=A}return u};
iy.prototype.f6=function(u,m,C,Z,q){if(u.length!=m*C*4){var J=d4.BM(u.buffer);if(J=="jb2")throw"e";var A=d4.X5(J);
if(A==null||J=="tga")A=d4.X5("jpg");u=new Uint8Array(A.Pl(u,Z,q)[0].data)}return u};iy.prototype.ShowPage=function(){var u=this.HC;
this.ze++;var m=this.oX;this.Fc();var C=u.Rp();u.g.push(C);var Z=new bl(Math.round(this.KO.x),Math.round(this.KO.y),Math.round(m[2]-m[0]),Math.round(m[3]-m[1]));
if(Z.qR())Z.e=Z.n=2e3;this.te=this.te.QN(Z);C.Cw(Z);C.add.artb.artboardBackgroundType.v=3;C.RS("Page "+this.ze);
C.add.lsct=cT.an;C.Um="pass";C.VO=24};iy.prototype.Print=function(u){console.log("Print:",u)};iy.prototype.Done=function(){var u=this.HC;
if(this.ze==1)u.g[u.g.length-1].add.lsct=cT.G6;u.gS(this.ze);for(var D=0;D<u.g.length;D++){var m=u.g[D],C=m.add.vmsk,Z=m.add.TySh,q=this.y6[D];
m.yz();if(C){var J=!1;for(var A=0;A<C.B.length;A++){var n=C.B[A];if((n.type==0||n.type==3)&&n.length>32767)J=!0}if(J){u.g.splice(D,1);
D--;continue}}m.uE(u);if(Z&&q.ls.length!=0){this.Ga(q);var N=Z.pU,e=q.ls.length,Q=q.ls[0],p=0,B=0;for(var A=0;
A<e;A++)p=Math.max(p,q.ls[A].du);ad.Qt(N,1);Z.I.c_-=Q.jL*.7;ad.Fm(N,[0,0,Math.ceil(p*1.1),Math.ceil(q.ls[e-1].y-Q.y+Q.jL*2)])}if(Z){var N=Z.pU;
ad.a7C(N);var $=ad.yd(N).split("\n");for(var A=0;A<$.length-1;A++){var R=$[A],z=0;for(var v=0;v<R.length;
v++){var X=R.charCodeAt(v);if(1473<=X&&X<=1524)z++}if(z>R.length/2){$[A]=R.split("").reverse().join("");
var V=N.EngineDict.ParagraphRun.RunArray[A].ParagraphSheet.Properties;V._Direction=1;V.Justification=ad.p5(V)}}ad.CY(N,$.join("\n"))}}u.Ex=!0;
u.e=this.te.e;u.n=this.te.n;u.buffer=j.U(this.te.Z()*4)};var ak={};ak.d4=function(u,m,C,Z,q,J){if(q==null)q=u.e;
if(J==null)J=u.n;var A=!1,n=[u.root],N=u.root.children;if(u.add.artd){A=!0;for(var D=0;D<N.length;D++)if(N[D].i.add.artb==null)A=!1;
if(A)n=N}var e=new bl(0,0,u.e,u.n),Q=m[0];Q=Q.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
Q=Q.split(" ");var p=[];for(var D=0;D<Q.length;D++){var B=Q[D];if(B=="-"){var $=p.pop(),R=parseInt(Q[D+1]);
while($<R){p.push($);$++}}else p.push(parseInt(B))}Q=p;for(var D=0;D<Q.length;D++)if(isNaN(Q[D])||Q[D]<1||Q[D]>n.length){Q.splice(D,1);
D--}var z=q/u.e,v=J/u.n,a=z*72/u.JJ,X=v*72/u.JJ,V=m[5];if(V==null)V=0;var o=72*V,h=72*V;for(var D=0;
D<n.length;D++){if(Q.length!=0&&Q.indexOf(D+1)==-1)continue;var T=n[D],l=A?T.i.M_():e,w=Math.round(l.e*a+2*o),W=Math.round(l.n*X+2*h);
C.StartPage(0,0,w,W);var U=UDOC.getState([[0,0,w,W]]),s=new ix;s.translate(-l.x,-l.y-l.n);s.scale(a,-X);
s.translate(o,h);if(m[2]){var S=u.K9();if(!e.QV(l)){S=j.U(l.Z()*4);j.zO(u.K9(),e,S,l)}if(m[1]!=100){var x=d4.X5("JPG").c2([[S.buffer]],l.e,l.n,[m[1]]);
S=new Uint8Array(x)}var P=new ix;P.translate(l.x,l.y);ak.Xv(U,C,S,l,P,s)}else ak.jW(u,T,U,C,s,m,Z);C.ShowPage()}C.Done()};
ak.ba=function(u){u=j.C.o5(u);return[u.p/255,u.T/255,u.S/255]};ak.jW=function(u,m,C,Z,q,J,A){var n=m.i,N=n.add.lsct,e=n.add.lmfx,Q=n.add.vmsk,p=n.add.vstk,B=n.add.TySh,v,a;
if(!n.cG())return;var $=n.opacity/255,R=n.add.iOpa!=null?n.add.iOpa/255:1;C.bmode=iy.pg(n.Um);C.ca=C.CA=$*R;
var z=e;if(z)z=z.solidFillMulti.v[0];if(z)z=z.v;if(z&&!z.enab.v)z=null;var X=n.rect;if(n.mB()&&(!n.ld()||n.zi&&n.zi.IJ)){if(n.ld){v=n.zi.IJ;
X=n.zi.au8}else{v=j.U(n.rect.Z());j._H(n.buffer,v,3)}a=dU.Dn(e,null,v,X,u,X).type;var V=["DrSh","OrGl"];
if(R!=1||p&&!p.fillEnabled.v){var o=v.slice(0);j.mL(o);for(var D=0;D<V.length;D++){var h=a[V[D]];for(var T=0;
T<h.length;T++){var l=h[T],w=l.Xq.clone();w.x+=X.x;w.y+=X.y;j.BE(o,X,l.bf,w)}}}}if(a)ak.EK(n,v,X,a,C,Z,q,J,!0);
if(n.ld()){for(var D=0;D<m.children.length;D++)ak.jW(u,m.children[D],C,Z,q,J,A)}else if(Q&&n.Y8()){var W=Q.B,U=j.$.Br(W),s=!1,S=!1,x=!1;
if(p.fillEnabled.v){var P=dU.vi(e,n.add),y=P[0],_=P[1];C.colr=ak.o2(y?y:_,q,U);s=!0}var g=dU.hH(e);if(!p.strokeEnabled.v&&g)p=g;
if(p.strokeEnabled.v){var G=p.strokeStyleContent.v,O=p.strokeStyleLineDashSet.v,E=c0.K_.bt.indexOf(p.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
C.COLR=ak.o2(G,q,U);C.lwidth=p.strokeStyleLineWidth.v.val*(E==2?2:1)*q.p1();C.mlimit=p.strokeStyleMiterLimit.v;
C.doff=p.strokeStyleLineDashOffset.v.val;C.ljoin=c0.K_.join.indexOf(p.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
C.lcap=c0.K_.kS.indexOf(p.strokeStyleLineCapType.v.strokeStyleLineCapType);C.dash=[];for(var D=0;D<O.length;
D++)C.dash.push(O[D].v.val*C.lwidth);if(C.dash.length==1&&C.dash[0]==0)C.dash=[];S=!0;if(E==2)x=!0}var L=j.u.se(W,S).TJ;
j.u.I(L.s,q,L.s);C.pth={cmds:L.X,crds:L.s};if(s&&!x)Z.Fill(C);if(S)Z.Stroke(C);if(s&&x)Z.Fill(C)}else if(B&&J[4]){var c=B.pU,k=new iW(c,A),L=bL.HZ(k,B),I=j.u.jc(L);
for(var Y in I){var K=parseInt(Y.slice(1),16);C.colr=z?ak.ba(z.Clr.v):[(K>>>16&255)/255,(K>>>8&255)/255,(K&255)/255];
var i=I[Y];j.u.I(i.s,q,i.s);i=j.u.amV(i);C.pth={cmds:i.X,crds:i.s};Z.Fill(C)}}else if(B&&J[3]==!1){var c=JSON.parse(JSON.stringify(B.pU));
ad.a7C(c);var i4=B.I.clone(),d7=new ix(1,0,0,-1,0,0);d7.concat(i4);d7.concat(q);var d=ad.yd(c),k=new iW(c,A);
for(var D=0;D<k.n9.length;D++){var fH=k.n9[D];if(fH.qa.length==1&&fH.qa[0].Ke)continue;for(var T=0;T<fH.hz.length;
T++){var aC=fH.hz[T],f8=fH.Uc.y+aC.Uc.y,c9=fH.qa[aC.start].start,g1=fH.qa[aC.end-1].end,cE=ad.atO(c,c9,g1);
for(var hG=0;hG<cE.length;hG++){var fA=k.Zk(c9),hh=cE[hG],eE=ad.zd(c,c9,c9),dh=eE.nS[eE.L4.Font].Name;
C.font.Tf=dh;var Y=ad.o5(eE.L4.FillColor);C.colr=z?ak.ba(z.Clr.v):[Y.p/255,Y.T/255,Y.S/255];var fT=C.font.Tfs=Math.round(eE.L4.FontSize),dB=d.slice(c9,c9+hh);
if(eE.L4.FontCaps==2)dB=dB.toUpperCase();var iN=new ix;iN.translate(fA.yt.x,-f8);iN.concat(d7);C.ctm=[iN.w7,iN.S,iN.ZU,iN.MX,iN.GI,iN.c_];
Z.PutText(C,dB,0);for(var gV=0;gV<2;gV++){var fI=eE.L4[gV==0?"Strikethrough":"Underline"];if(!fI)continue;
var gc=k.Zk(c9+hh-1),aF=gV==0?.27:-.2,gh=fT*aF,gD=fT*(aF+.07),j1=gc.yt.x+gc.yt.e-fA.yt.x,dg=[0,gh,j1,gh,j1,gD,0,gD];
j.u.I(dg,iN,dg);C.pth={cmds:["M","L","L","L","Z"],crds:dg};Z.Fill(C)}C.ctm=[1,0,0,1,0,0];c9+=hh}}}}else if(!n.rect.qR()){var ao,eC,bD=!1,fK=new ix;
if(n.add.SoLd){var a1=n.add.SoLd,fR=a1.Idnt.v,bj=u.SP(fR,a1.Crop?a1.Crop.v:null),eJ="";if(bj==null)return;
var b7=bj.CB,ha=d4.BM(bj.raw.buffer);if(J[6].indexOf(ha)!=-1){ao=bj.raw;bD=!0}else ao=b7[0];eC=b7[1];
fK=j.N.h_(a1)}else{ao=n.buffer;eC=n.rect;fK.translate(eC.x,eC.y)}if(z&&!bD)ao=dU.a74(ao,z,eC);ak.Xv(C,Z,ao,eC,fK,q);
if(z&&bD){var dg=[0,0,eC.e,0,eC.e,eC.n,0,eC.n];j.u.I(dg,fK,dg);j.u.I(dg,q,dg);var cq=JSON.parse(JSON.stringify(C));
cq.ca=z.Opct.v.val/100;cq.pth={cmds:["M","L","L","L","Z"],crds:dg};cq.colr=ak.ba(z.Clr.v);Z.Fill(cq)}}if(a)ak.EK(n,v,X,a,C,Z,q,J,!1)};
ak.o2=function(u,m,C){if(u.Clr)return ak.ba(u.Clr.v);var Z=u,q=Z.Rvrs?Z.Rvrs.v:!1,J=[],A,n=Z.Type.v.GrdT=="Rdl"?"rad":"lin",N=j.C.RJ(Z,C),e=m.HL(N[0]),Q=m.HL(N[1]);
if(n=="rad")A=[e.x,e.y,0,e.x,e.y,dz.th(e,Q)];else{e.qX(Q.x+(e.x-Q.x)*2,Q.y+(e.y-Q.y)*2);A=[e.x,e.y,Q.x,Q.y]}var p=Z.Grad.v.Clrs.v;
for(var D=0;D<p.length;D++){var B=p[D].v,$=B.Lctn.v/4096;J.push([q?1-$:$,ak.ba(B.Clr.v)])}if(q)J.reverse();
return{typ:n,mat:[1,0,0,1,0,0],grad:J,crds:A}};ak.EK=function(u,m,C,Z,q,J,A,n,N){var e=C.clone(),Q=m;
if(u.add.TySh&&!n[3]&&!n[4])return;var p=q.ca,B=q.bmode;for(var D=c0.order.length-1;D>=0;D--){var $=c0.order[D];
if($=="GrFl"||$=="SoFi")continue;if(u.add.vmsk&&$=="FrFX")continue;var R=Z[$],z=D>7||$=="FrFX";if(z!=N)continue;
for(var v=0;v<R.length;v++){var a=R[v];console.log(z,$,a);if(a.Xq==null)a=a._X?a._X:a.yT;var X=a.Xq.clone();
X.offset(e.x,e.y);if(!z){if(!e.hd(X)){var V=e.QN(X),o=j.U(V.Z());j.j5(Q,e,o,V);Q=o;e=V}j.BE(Q,e,a.bf,X)}if(z&&$=="FrFX"&&a.JC)j.BE(a.JC,X,a.bf,X);
var h=new ix;h.translate(X.x,X.y);q.ca=a.mv;q.bmode=iy.pg(a.h3);ak.Xv(q,J,a.bf,X,h,A)}}q.ca=p;q.bmode=B};
ak.Xv=function(u,m,C,Z,q,J){var A=new ix;A.scale(Z.e,-Z.n);A.translate(0,Z.n);A.concat(q);A.concat(J);
u.ctm=[A.w7,A.S,A.ZU,A.MX,A.GI,A.c_];m.PutImage(u,C,Z.e,Z.n);u.ctm=[1,0,0,1,0,0]};var d9={};d9.Nh=function(u){var m=new Uint8Array(u);
return d9.v_(m,0)};d9.v_=function(u,m){var C=M.h,Z=M.Qi,q={Yw:Z(u,m,4),r:m+8,size:C(u,m+4)},J=q.Yw=="FORM"||q.Yw=="LIST"||q.Yw=="CAT ";
if(J)q.j1=Z(u,m+8,4);if(q.size<0||q.r+q.size>u.length)throw"e";if(J){q.sub=[];m+=12;var A=q.r+q.size;
while(m<A){var n=d9.v_(u,m);q.sub.push(n);m+=8+n.size+(n.size&1)}}return q};var ds={};ds.Nh=function(u,m){var C=new Uint8Array(u);
return ds.v_(C,0,m)};ds.v_=function(u,m,C){var Z=M.Jr,q=M.Qi,J={Yw:q(u,m,4),r:m+8,size:Z(u,m+4)};if(C&&C[J.size]!=null)J.size=C[J.size];
if(J.Yw=="RIFF"||J.Yw=="LIST"){J.j1=q(u,m+8,4)}if(J.size<0||J.r+J.size>u.length)throw"e";if(J.Yw=="RIFF"||J.Yw=="LIST"&&(J.j1!="cmpr"&&J.j1!="stlt")){J.sub=[];
m+=12;var A=J.r+J.size;while(m<A){var n=ds.v_(u,m,C);J.sub.push(n);m+=8+n.size+(n.size&1)}}return J};
function dD(){}dD.Nh=function(u,m){var C=new Uint8Array(u);m.Ex=!0;var Z=M.Qi(C,0,2);if(Z=="WL"){alert("Unsupported CDR version")}else{var q=dD.pW,J=ds.Nh(C.buffer),A={data:C,r:0,t$:dD.auH(C[11])},n,N,R=300;
A._v=A.t$<600?16:32;dD.In(A,J.sub,m,0);if(q(J,"cmpr")==null){n=q(J,"page");N=n}else{var e=q(J,"cmpr").sub;
n=e[0];N=e.slice(1)[1];var Q=q(n,"filt").sub,p=q(n,"otlt").sub;n.bN={};for(var D=0;D<Q.length;D++)n.bN[Q[D].sub[0].k.id]=Q[D].sub[0].k;
n.CI={};for(var D=0;D<p.length;D++)n.CI[p[D].k.id]=p[D].k}var B=q(n,"mcfg").k,$=B.arM;R/=iH.xs(new bl(0,0,Math.round($.x*R),Math.round($.y*R)),8192*8192);
var z=Math.round($.x*R),v=Math.round($.y*R);m.e=z;m.n=v;m.buffer=j.U(m.e*m.n*4);var a=new ix(R,0,0,-R,$.x*R/2,$.y*R/2);
dD.ug(N,n,m,a);m.gS(1);m.g[m.g.length-1].Cw(new bl(0,0,z,v))}};dD.pW=function(u,m){var C=null;for(var D=0;
D<u.sub.length;D++){var Z=u.sub[D];if(Z.Yw==m||Z.j1==m)C=Z}return C};dD.ug=function(u,m,C,Z){var q=dD.pW,J=u.j1?u.j1:u.Yw,A=q(u,"lgob"),n=q(u,"txsm"),N,e;
if(A){N=q(A,"trfl");e=q(A,"loda")}else if(q(u,"lobj"))e=q(u,"lobj");var Q=N?N.sub[0].NC.clone():new ix;
Q.concat(Z);var p=C.Rp();if(J=="page"||J=="layr"||J=="grp "){p.RS((J=="page"?"Page":"Group")+" "+C.g.length);
p.add.lsct=cT.G6;p.Um="pass";p.VO=24;var B=[];if(J=="page")B=q(u,"gobj").sub;if(J=="layr")B=u.sub.slice(2);
if(J=="grp ")B=u.sub.slice(4);if(B.length==0)return;C.g.push(C.B$());for(var D=B.length-1;D>=0;D--)dD.ug(B[D],m,C,Z)}else if(J=="obj "&&e.k&&e.k.path){p.RS("Object "+C.g.length);
var $,R;if(m.bN){$=m.bN[e.k.aqL];R=m.CI[e.k.amz]}var z=p.getName(),v=$&&$.type!=0,a=v&&$.k!=null?$.k:[0,0,0];
p.VO|=16;p.add.vstk=JSON.parse(JSON.stringify(c0.K_.default));var X=p.add.vstk;X.strokeEnabled.v=!1;
p.add.vmsk=new F.nq;if(R&&R.atE!=1){X.strokeEnabled.v=!0;X.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
X.strokeStyleLineWidth.v.val=R.lineWidth*Z.p1();var V=R.color;X.strokeStyleContent.v.Clr.v=j.C.sG({p:V[0]*255,T:V[1]*255,S:V[2]*255})}var o=e.k.path;
p.add.vmsk.B=j.u.DA(o,!1);j.$.l0(p.add.vmsk.B,Q);iy.MM(a,p,Q,j.$.Br(p.add.vmsk.B));X.fillEnabled.v=v;
p.yz();p.uE(C)}else if(J=="obj "&&n){var h=e.k.aiC,T=e.k.a9c,W="";p.add.TySh=ad.bF(0,0);var l=Q.p1();
p.add.TySh.I.translate(Q.GI,Q.c_);var w=p.add.TySh.pU,U=n.k.afc;for(var D=0;D<U.length;D++){var s=U[D],S=W.length;
W+=s.text+"\n";ad.Y9(w,S,s.text+"\n");var x=dD.at9(s.a2R,m),P=ad.zd(w,S,W.length);if(x.align==3)P.n9.Justification=1;
else P.n9.Justification=0;var y=x.fill.k;P.L4.FillColor={Type:1,Values:[1,y[0],y[1],y[2]]};P.L4.FontSize=Math.round(x.auL.fontSize*Q.p1());
ad.sM(w,S,W.length-1,P)}if(T){ad.Qt(w,0)}else{ad.Qt(w,1);ad.Fm(w,[0,0,Math.round(h.x*Q.w7),Math.round(-h.y*Q.MX)])}p.RS(W.slice(0,10))}else{p=null}if(p)C.g.push(p)};
dD.at9=function(u,m){var C=dD.pW(m,"stlt").k,Z=JSON.parse(JSON.stringify(C.Jo[u]));if(Z.qN!=0){var q=C.Jo[Z.qN];
for(var J in q)if(Z[J]==null||Z[J]==0)Z[J]=q[J];delete Z.qN}Z.align=C.agi[Z.anT];Z.fill=m.bN[C.af4[Z.ait]];
Z.alr=m.CI[C.a79[Z.arw]];Z.auL=C.a4F[Z.aqm];return Z};dD.a4R=function(D){var jt=D.data[D.r];D.r+=1;return jt};
dD._e=function(D){var jt=M.OQ(D.data,D.r);D.r+=2;return jt};dD.Pi=function(D){var jt=M.Jr(D.data,D.r);
D.r+=4;return jt};dD.aia=function(D){var jt=M.Jr(D.data,D.r);D.r+=8;return jt};dD.Vs=function(D){var jt=M.vs(D.data,D.r);
D.r+=2;return jt};dD.mx=function(D){var jt=M.KU(D.data,D.r);D.r+=4;return jt};dD.AN=function(D){var jt=M.Ik(D.data,D.r);
D.r+=8;return jt};dD.UR=function(D){if(D.r>=D.data.length)throw"e";var u=0;while(D.data[D.r+u]!=0)u++;
var m=M.Qi(D.data,D.r,u);D.r+=u+1;return m};dD.ant=function(u){if(u.t$<600)return Math.PI*dD.Vs(u)/1800;
return Math.PI*dD.mx(u)/18e7};dD.a54=function(u){if(u.t$<1500)return dD.Rg(u);else return dD.AN(u)/254e3};
dD.Rg=function(u){if(u.t$<600)return dD.Vs(u)/1e3;else return dD.mx(u)/254e3};dD.auB=function(u){if(u.t$<600)return dD._e(u);
else return dD.Pi(u)};dD.akA=function(u){if(u.t$<600)return CRDParser.Vs(u);else return dD.mx(u)};dD.In=function(u,m,C,Z){var q=dD,J=q.a4R,A=q._e,n=q.Pi,N=q.aia,e=q.Vs,Q=q.mx,p=q.AN,B=q.Rg,$=q.a54,R=q.ant,z=q.auB,v=q.akA;
for(var a=0;a<m.length;a++){var X=u.t$,V=m[a];u.r=V.r+(V.Yw=="LIST"?4:0);if(V.Yw=="vrsn"){var o=A(u);
u.t$=o;console.log("Version",o);u._v=o<600?16:32}else if(V.Yw=="DISP"){}else if(V.Yw=="LIST"&&V.j1=="cmpr"){var h=n(u),T=n(u),l=n(u),w=n(u),W=new Uint8Array(u.data.buffer,u.r+8+2,h-6-8),U=pako.inflateRaw(W),P=0;
u.r+=h;W=new Uint8Array(u.data.buffer,u.r+8+2);var s=pako.inflateRaw(W),S=[];for(var x=0;x<s.length;
x+=4)S.push(M.Jr(s,x));V.sub=[];while(P<U.length){var y=ds.v_(U,P,S);P=y.r+y.size;V.sub.push(y)}var _={data:U,r:0,t$:X,_v:u._v};
dD.In(_,V.sub,C,Z+1)}else if(V.Yw=="LIST"&&V.j1=="stlt"){var g=u.r,aC=32;V.k={};var G=n(u);if(G==0)return;
V.k.af4=dD.np(u,X>=1300);V.k.a79=dD.np(u);V.k.a4F={};var O=n(u);for(var D=0;D<O;D++){var E=n(u);u.r+=X<1e3?12:20;
var L=A(u),c=A(u);u.r+=8;var k=B(u);u.r+=X<1e3?12:20;V.k.a4F[E]={afJ:L,ad$:c,fontSize:k}}V.k.agi=dD.np(u);
var I=n(u);u.r+=52*I;var Y=n(u);u.r+=152*Y;var K=n(u);u.r+=784*K;var i=n(u);for(var D=0;D<i;D++){u.r+=40;
if(X>1300)u.r+=4;if(X>=1300){if(n(u))u.r+=68;else u.r+=12}else{u.r+=20;if(X>=1e3)u.r+=8;if(n(u))u.r+=8;
u.r+=8}}var i4=n(u);V.k.a6y={};for(var D=0;D<i4;D++){var d7=n(u),d={};u.r+=12;d.right=B(u);d.a3z=B(u);
d.left=B(u);V.k.a6y[d7]=d}var fH=n(u);if(X>=1300)aC+=4;u.r+=aC*fH;var f8=n(u);u.r+=28*f8;if(X>800){var c9=n(u);
u.r+=12*c9}V.k.Jo={};for(var D=0;D<G;D++){var g1=n(u),cE=n(u),hG={};hG.qN=n(u);u.r+=8;var fA=n(u);if(X>=1200)fA*=2;
u.r+=fA;hG.ait=n(u);hG.arw=n(u);if(g1>1){hG.aqm=n(u);hG.anT=n(u);hG.acl=n(u);hG.aiN=n(u);if(X>800)hG.aiO=n(u)}if(g1>2){hG.afs=n(u);
hG.alq=n(u);hG.abE=n(u);hG.akG=n(u);hG.ajF=n(u)}V.k.Jo[cE]=hG}}else if(V.Yw=="LIST")dD.In(u,V.sub,C,Z+1);
else if(V.Yw=="txsm"){V.k={};if(X<600)throw"e";if(X<700)throw"e";if(X>=1600)throw"e";if(X>=1500)u.r+=37;
else u.r+=36;if(n(u)){if(X<800)u.r+=32}if(X<800)u.r+=4;V.k.alp=n(u);V.k.afc=[];u.r+=48;if(X>=800){if(n(u)){u.r+=32;
if(X>=1300)u.r+=8}}if(X>=1500)u.r+=12;var g1=n(u),hh=1,eE=!1;if(!g1){if(X>=800)u.r+=4;if(X>800)u.r+=2;
if(X>=1400)u.r+=2;u.r+=24;if(X<800)u.r+=8;hh=n(u)}for(var x=0;x<hh;x++){var dh=n(u),D=0;if(X>=1300&&g1)u.r++;
u.r++;var G=n(u),fT=[];for(D=0;D<G;D++){var dB=J(u),gV=0;J(u);var iN=J(u);if(X>=800)gV=J(u);var hG={};
if(iN&1){hG.afJ=A(u);var fI=A(u);if(fI)hG.arL=fI}if(iN&2)u.r+=4;if(iN&4)hG.auo=B(u);if(iN&8)u.r+=4;if(iN&16)u.r+=4;
if(iN&32)u.r+=4;if(iN&64){hG.ait=n(u);if(X>=1500)u.r+=48}if(iN&128){hG.arw=n(u)}if(gV&8){if(X>=1300){var gc=n(u);
if(u.r+gc*2>=u.data.length){eE=!0;break}u.r+=gc*2}else u.r+=4}if(gV&32){var aF=J(u);if(aF)u.r+=52}if(dB==2)if(X>=1300)u.r+=48;
fT.push(hG)}if(eE){break}var gh=n(u);if(u.r+gh*4>u.data.length)break;var gD=[];for(D=0;D<gh;D++){var j1=0;
if(X>=1200)j1=N(u)&4294967295;else j1=n(u);gD[D]=j1>>16|j1&1}var dg=gh;if(X>=1200)dg=n(u);var ao=dD.UR(u);
V.k.afc.push({a2R:dh,text:ao,Jo:fT})}}else if(V.Yw=="font"){var eC=A(u),bD=A(u);u.r+=14;var fK=dD.UR(u);
V.k={id:eC,a1m:bD,name:fK}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(V.Yw)!=-1){}else if(V.Yw=="flgs")V.k=n(u);
else if(V.Yw=="bbox"){var a1=B(u),fR=B(u),bj=B(u),b7=B(u);V.k=new bl(a1,fR,bj-a1,b7-fR)}else if(V.Yw=="fild"){var ha=n(u),eJ=0,bF;
if(X>=1300){u.r+=4;eJ=A(u);u.r+=2}var cq=A(u);if(cq==0){}else if(cq==1){u.r+=X>=1300?13:2;bF=dD.Di(u)}else if(cq==2){u.r+=X>=1300?8:2;
var g4=J(u),eA=0;if(X>=1300){u.r+=17;eA=e(u)}else if(X>=600){u.r+=19;eA=Q(u)}else{u.r+=11;eA=e(u)}var aJ=R(u),fU=.5+v(u),iE=.5+v(u)-.5;
if(X>=600)u.r+=2;var hQ=z(u)&255,bT=J(u)/100;u.r++;var iU=z(u)&65535;if(X>=1300)u.r+=3;var ba=[];for(var D=0;
D<iU;D++){var eI=dD.Di(u);if(X>=1300){if(eJ==158||X>=1600&&eJ==150)u.r+=26;else u.r+=5}var e_=z(u)/100;
if(X>=1300)u.r+=3;ba.push([e_,eI])}bF={typ:g4==1?"lin":"rad",crds:[fU-Math.cos(aJ)/2,iE-Math.sin(aJ)/2,fU,iE],grad:ba,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",cq);
V.k={id:ha,type:cq,k:bF}}else if(V.Yw=="outl"){var bs=n(u);if(X>=1300){var fr=0,db=0;while(fr!=1){u.r+=db;
fr=n(u);db=n(u)}}var fx=A(u),fb=A(u),dA=A(u);if(X<1300&&X>=600)u.r+=2;var ge=B(u),bh=A(u)/100;if(X>=600)u.r+=2;
var cY=R(u);if(X>=1300)u.r+=46;else if(X>=600)u.r+=52;var bF=dD.Di(u,bs==270963208||bs==276198e3,bs);
V.k={id:bs,atE:fx,abT:fb,aoE:dA,lineWidth:ge,color:bF}}else if(V.Yw=="mcfg"){if(1300<=X)u.r+=12;else if(900<=X)u.r+=4;
else if(600<=X&&X<700)u.r+=28;var d6=0,hU=0;if(X<400){u.r+=2;var a1=B(u),fR=B(u),bj=B(u),b7=B(u);d6=Math.abs(bj-a1);
hU=Math.abs(b7-fR)}else{d6=B(u);hU=B(u)}V.k={arM:new dz(d6,hU)}}else if(V.Yw=="loda"||V.Yw=="lobj"){var g=u.r,f2=z(u),cQ=z(u),i8=z(u),hw=z(u),iA=z(u),ce=[],al=[];
u.r=g+i8;for(var D=0;D<cQ;D++)ce[D]=z(u);u.r=g+hw;for(var D=cQ-1;D>=0;D--)al[D]=z(u);V.k={};for(var D=0;
D<cQ;D++){u.r=g+ce[D];var aS=al[D];if(aS==10)V.k.amz=n(u);else if(aS==20)V.k.aqL=n(u);else if(aS==200)V.k.a2A=z(u);
else if(aS==30){if(X<400)iA--;if(iA==1){var a1=$(u),fR=$(u),gM=0,gS=0,h3=0,id=0;if(X<1500){id=$(u);h3=X<900?id:$(u);
gS=X<900?id:$(u);gM=X<900?id:$(u)}else throw"e";V.k.path=j.u.Hh(j.$.i5.Rect(0,0,a1,fR,gM))}else if(iA==2){var e3=B(u),cw=B(u),io=R(u),iY=R(u),jy=Math.abs(e3),cn=Math.abs(cw);
V.k.path=j.u.Hh(j.$.i5.y$(0,0,jy,-cn))}else if(iA==3){V.k.path=dD.atk(u)}else if(iA==4){V.k.a9c=dD.anw(u)}else if(iA==6){V.k.aiC=dD.anO(u)}else if(iA==37){V.k.path=dD.p9(u)}else console.log(iA)}}}else if(V.Yw=="trfd"){var g=u.r,f2=z(u),cQ=z(u),i8=z(u);
u.r=g+i8;var ce=[];for(var D=0;D<cQ;D++)ce[D]=z(u);for(var D=0;D<cQ;D++){u.r=g+ce[D];if(X>=1300)u.r+=8;
var ej=A(u);if(ej==8){var j7,fn,a1,h4,da,fR;if(X>=600)u.r+=6;if(X>=500){j7=p(u);fn=p(u);a1=p(u)/(X<600?1e3:254e3);
h4=p(u);da=p(u);fR=p(u)/(X<600?1e3:254e3)}else throw"e";V.NC=new ix(j7,h4,fn,da,a1,fR)}else console.log(ej)}}else if(!1){console.log(V);
var bc=Math.min(V.size,32);console.log(M.g_(data,V.r,bc));console.log(M.anR(data,V.r,bc))}}};dD.np=function(u,m){var C=dD.Pi,Z={},q=C(u);
for(var D=0;D<q;D++){var J=C(u);u.r+=4;var A=C(u);Z[J]=A;if(m)u.r+=48}return Z};dD.anw=function(u){var m=dD,C=m.Rg,Z=C(u),q=C(u);
return new dz(Z,q)};dD.anO=function(u){var m=dD,C=m.Rg;u.r+=4;var Z=C(u),q=C(u);return new dz(Z,q)};
dD.p9=function(u){var m=dD,C=m.Pi,Z=m._e,q=m.Rg;u.r+=4;var J=Z(u)+Z(u);u.r+=16;var A=dD.XS(u,J);return A};
dD.atk=function(u){var m=dD._e(u);u.r+=2;return dD.XS(u,m)};dD.XS=function(u,m){var C=dD,Z=C.Rg,q=u.t$<600?2:4,J=u.r,A={s:[],X:[]},n=0,N=0,e=0;
for(var D=0;D<m;D++){var n=Z(u),N=Z(u),Q=u.data[J+m*q*2+D];if(!(Q&64)&&!(Q&128)){A.s.push(n,N);A.X.push("M");
e+=2}else if(Q&64&&!(Q&128)){A.s.push(n,N);A.X.push("L");e+=2}else if(!(Q&64)&&Q&128){A.s.push(n,N);
A.X.push("C");e+=6}else if(Q&64&&Q&128){A.s.push(n,N)}}if(e!=A.s.length)throw"e";return A};dD.akX=function(u,m){var C=M.Jr;
m+=8;var Z=C(u,m);m+=4;var q=C(u,m);m+=4;m+=4*7;var J=m,A=j.U(Z*q*4);m+=1024;for(var n=0;n<q;n++)for(var N=0;
N<Z;N++){var D=n*Z+N,e=(q-n-1)*Z+N,Q=u[m+D]<<2,p=e<<2;A[p+0]=u[J+Q+2];A[p+1]=u[J+Q+1];A[p+2]=u[J+Q+0];
A[p+3]=255}return{bf:A,rect:new bl(0,0,Z,q)}};dD.auH=function(u){if(u==32)return 300;else if(u<49)return 0;
else if(u<58)return 100*(u-48);else if(u<65)return 0;return 100*(u-55)};dD.Di=function(u,m,C){var Z=dD._e,q=dD.Pi,J=u.t$,A=0,n=0;
if(J>=500){A=Z(u);if(A==1&&J>=1300)A=25;if(A==25||A==30){var N=0;if(A==30){A=25;N=30}else{N=Z(u);u.r+=4}var e=Z(u),Q=Z(u)}else if(A==14)throw"e";
else{u.r+=6;n=q(u)}}else throw"e";var p=[];if(A==2||A==9||A==17){var B=[n>>>0&255,n>>>8&255,n>>>16&255,n>>>24&255];
if(A==2)for(var D=0;D<4;D++)B[D]=Math.round(255*B[D]/100);for(var D=0;D<4;D++)B[D]/=255;p=UDOC.C.cmykToRgb(B)}else if(A==1||A==5){p=[n>>>0&255,n>>>8&255,n>>>16&255];
for(var D=0;D<3;D++)p[D]=p[D]/255}else console.log("Unknown color model "+A,n,n.toString(16));return p};
var d_=function(){var u,m,C=new ArrayBuffer(4),Z=new Uint8Array(C),q=new Uint32Array(C),J=new Float32Array(C);
function A(B,$){for(var R=0;R<B.length;R++)if(B[R][0]==$)return B[R]}function n(){var B=0,$=0,R=0;do{R=u[m++];
B|=(R&127)<<$;$+=7}while(R&128&&$<35);return B>>>0}function N(B,$,R,z,v){u=B;m=$;var a=z[0]=="mesg",X=z[2],V={},o=1,h=a?1e9:X.length;
while(o<=h){var T=o;if(a){T=n();if(T==0)break}var l=A(X,T),w=l[2],W=l[1]==1,U=W?n():1,s=new Array(U);
if(w==3){if(!W)throw"e";s=u.slice(m,m+U);m+=U}else for(var D=0;D<U;D++){var S;if((w&1)==1){if(w==1)S=u[m++]==1;
else if(w==3)S=u[m++];else if(w==5){var x=n();S=x&1?~(x>>>1):x>>>1}else if(w==7)S=n();else if(w==9){if(u[m]==0){S=0;
m++}else{Z[0]=u[m];Z[1]=u[m+1];Z[2]=u[m+2];Z[3]=u[m+3];var P=q[0];q[0]=P<<23|P>>>9;S=J[0];m+=4}}else if(w==11){var y=e(u,m);
S=y[0];m+=y[1]+1}else throw w}else{var _=R[w>>>1];if(_[0]=="enum"){var g=u[m++];if(g>127)throw"e";S=_[2][g]}else{var G=N(u,m,R,_,v+1);
S=G[0];m=G[1]}}s[D]=S}V[l[3]]=W?s:s[0];o++}return[V,m]}function e(B,$){var R=$;while(B[R]!=0)R++;return[M.V6(B,$,R-$),R-$]}function Q(B,$){var R=$;
while(B[R]!=0)R++;for(var D=$;D<R;D++)if(B[D]>127)throw"e";return M.Qi(B,$,R-$)}function p(B){u=B;m=1;
var $=[];while(m<B.length){var R=m,z=$.length,v=Q(B,m);m+=v.length+1;var a=n();if(a>2)throw"e";var X=n(),V=[];
for(var D=0;D<X;D++){var o=Q(B,m);m+=o.length+1;var h=n(),T=n(),l=n();V.push(a==0?o:[l,T,h,o])}$.push([["enum","strc","mesg"][a],v,V])}return $}return{auJ:p,ajH:N}}();
function gZ(){}gZ.Nh=function(u,m){var C=new Uint8Array(u),Z=8,q=M.Jr(C,Z),e=0,_=0;Z+=4;var J=[];while(Z<C.length){var A=M.Jr(C,Z);
Z+=4;var n=C.slice(Z,Z+A);if(C[Z]==137&&C[Z+1]==80){}else n=UZIP.inflateRaw(n);J.push(n);Z+=A}var N=d_.auJ(J[0]);
for(var D=0;D<N.length;D++)if(N[D][1]=="Message")e=D;var Q=d_.ajH(J[1],0,N,N[e],0)[0],p={Gv:{},q6:{},a41:{}},B=Q.nodeChanges;
for(var $=0;$<B.length;$++){var R=B[$],z=R.guid;p.q6[z.sessionID+","+z.localID]=R}for(var $=0;$<B.length;
$++){var R=B[$],z=R.parentIndex;if(z){var v=gZ.nO(p.q6,z.guid);if(v.children==null)v.children=[];v.children.push(R)}}var a=B[0],X=a.children,V=new bl,o=[],h=[];
for(var z=0;z<X.length;z++){var T=X[z],l=T.children;if(T.name=="Internal Only Canvas"||l==null)continue;
var w=new bl;for(var D=0;D<l.length;D++){var W=l[D],U=W.transform,s=W.size;if(U.m00==1&&U.m10==0&&U.m01==0&&U.m11==1){var S=new bl(U.m02,U.m12,s.x,s.y);
w=w.QN(S)}}var x=V.n==0?0:V.n+100,P=w.clone();P.x=0;P.y=x;V=V.QN(P);o[z]=w;h[z]=x}var y=iH.xs(new bl(0,0,V.e,V.n),8192*8192);
m.e=Math.round(V.e/y);m.n=Math.round(V.n/y);m.buffer=j.U(m.e*m.n*4);for(var z=0;z<X.length;z++){var T=X[z],l=T.children;
if(T.name=="Internal Only Canvas"||l==null)continue;l.sort(gZ.ey);var g=new ix(1,0,0,1,-o[z].x,h[z]-o[z].y);
g.scale(1/y,1/y);for(var D=0;D<l.length;D++){var W=l[D];gZ.ug(W,[],g,Q.blobs,m,0,p);_++}}m.gS(_);m.Ex=!0;
if(y!=1)alert("File scaled down "+y+"x")};gZ.ug=function(u,m,C,Z,q,J,A){var n=gZ,W=!1,U,s,P,y,_;for(var D=0;
D<m.length;D++){var N=m[D],e=N.guidPath.guids[0];if(n.abl(e,u.guid)){var Q={};for(var p in u)Q[p]=N[p]!=null?N[p]:u[p];
u=Q}}var B=u.type,$=u.children,R=u.size,z=u.effects,v=q.Rp();v.RS(u.name);v.$S(u.visible);v.opacity=Math.round(u.opacity*255);
var a=n.sr(u.transform),X=a.clone();X.concat(C);var V=new bl(Math.round(X.GI),Math.round(X.c_),Math.round(R.x*X.p1()),Math.round(R.y*X.p1()));
if(V.e==0||isNaN(V.e))V.e=100;if(V.n==0||isNaN(V.n))V.n=100;var o=u.fillPaints,h=u.inheritFillStyleID;
if(h){var Q=n.nO(A.q6,h);if(Q)o=Q.fillPaints}if(o==null)o=[];var o=n.fJ(o),T=o[0],l=u.strokePaints,h=u.inheritFillStyleIDForStroke;
if(h){var Q=n.nO(A.q6,h);if(Q)l=Q.fillPaints}if(l==null)l=[];var l=n.fJ(l),w="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(B)!=-1;
if(w||B=="FRAME"){U=new F.nq;s=[];n._I(u,Z,U,s);W=j.$.a9(U.B);j.$.l0(U.B,X);var S=j.u.wu(j.$.Br(U.B));
if(!S.qR())V=S;if(A.Gv.YN&&T){var x=F.nq.K$(A.Gv.YN.B);for(var D=2;D<x.length;D++)if(x[D].hB!=null)x[D].hB=3;
U.B=U.B.concat(x.slice(2));s=s.concat(JSON.parse(JSON.stringify(A.Gv.xK)))}}if(T&&T.type=="IMAGE"){_=T.imageScaleMode;
P=n.K9(Z,T.image.dataBlob);var g=P.WL.e/P.WL.n,G=R.x/R.y;y=Math.abs(g-G)}if(B=="FRAME"){}else if(w&&W&&P&&(_=="FIT"||_=="FILL"&&y<=.05)){var O=Z[T.image.dataBlob].bytes,E=q.mV(O,v.getName(),0,0);
E.VO=v.VO;E.opacity=v.opacity;v=E;var L=new bl(0,0,R.x,R.y);if(_=="FIT"){var c=P.WL.e,k=P.WL.n,I=Math.min(R.x/c,R.y/k),Y=c*I,K=k*I;
L=new bl(L.x+(L.e-Y)/2,L.y+(L.n-K)/2,Y,K)}var i=j.u.yj(L).s;j.u.I(i,X,i);v.add.SoLd.Trnf=b.Q.Ii(i);v.add.SoLd.nonAffineTransform=b.Q.Ii(i);
var i4=[],z=u.effects,d7=T.paintFilter;if(z)for(var D=0;D<z.length;D++)if(z[D].type=="FOREGROUND_BLUR"){var d=z[D],fH=a7.TH("GsnB",{});
i4.push(fH);fH.v.enab.v=d.visible;fH.v.Fltr.v.Rds.v.val=d.radius/2.4}if(d7&&d7.exposure!=0){var fH=a7.TH("brit",{});
i4.push(fH);fH.v.Fltr.v.Brgh.v=Math.round(d7.exposure*160);fH.v.Fltr.v.useLegacy.v=!0}if(d7&&d7.vibrance!=0){var fH=a7.TH("vibA",{});
i4.push(fH);console.log(fH);fH.v.Fltr.v.Strt.v=Math.round(Math.round(d7.vibrance*100))}if(i4.length!=0){v.add.SoLd.filterFX=a7.wN();
q.qr({id:v.add.SoLd.placed.v,rect:new bl,buffer:j.U(1),M:new F.ol});v.add.SoLd.filterFX.v.filterFXList.v=i4}v.go(q,!1);
n.tp(A,v,q)}else if(w){n.v7(v,s,U,u,T,l,X,V,Z,q,A);if(z)for(var D=0;D<z.length;D++){var d=z[D];if(d.type!="FOREGROUND_BLUR")continue;
U.To=d.radius/2.4}v.uE(q)}else if(B=="TEXT"){var aC=u.textData,f8=aC.layoutSize,c9=["LEFT","RIGHT","CENTER"].indexOf(u.textAlignHorizontal);
v.add.lnsr="rend";v.add.TySh=ad.bF(0,0);v.add.TySh.jR=new bl(0,0,100,100);var g1=X.clone();v.add.TySh.I=g1;
var cE=v.add.TySh.pU,hG=aC.characters;if(u.textCase=="TITLE"){for(var D=0;D<hG.length;D++)if(D==0||hG[D-1]==" "){var fA=hG.slice(0,D),hh=hG.slice(D+1);
hG=fA+hG[D].toUpperCase()+hh}}hG=hG.replace(/\u2028/g,"\n");hG=hG.replace(/\u2029/g,"\n");hG=hG.replace(/\r\n/g," \n");
ad.Y9(cE,0,hG);var eE=u.textAutoResize,dh=aC.baselines;if(eE=="WIDTH_AND_HEIGHT"){var fT=c9==0?0:c9==1?f8.x:f8.x/2,dB=dh?dh[0].position.y:0;
g1.translate(fT*X.p1(),dB*X.p1());ad.Qt(cE,0)}else if(eE=="HEIGHT"||eE=="NONE"||eE==null){var dB=dh?dh[0].position.y-u.fontSize*.7:0;
g1.translate(0,dB*X.p1());ad.Qt(cE,1);ad.Fm(cE,[0,0,Math.round(f8.x),Math.round((eE=="NONE"?1.8:1)*f8.y)])}else throw eE;
if(hG!=""){var iN=ad.zd(cE,0,1);n.NG(u,X,R,iN,v,Z,q,A);ad.sM(cE,0,hG.length,iN);var gV=aC.characterStyleIDs,fI=aC.styleOverrideTable;
if(gV){gV=gV.slice(0);for(var D=0;D<gV.length;D++)if(hG[D]=="\n")gV[D]=-D-1;var gc=[0],aF=0,gh=0;for(var D=0;
D<gV.length;D++){gh++;var gD=gV[D];if(D==0||gD==gV[D-1]){}else{gc.push(gh-1,D);gh=1}}gc.push(gh);for(var D=0;
D<gc.length;D+=2){var j1=gc[D],dg=gc[D+1];if(hG[j1]=="\n")continue;var gD=gV[j1];if(gD!=0){var ao;for(var eC=0;
eC<fI.length;eC++)if(fI[eC].styleID==gD)ao=fI[eC];var iN=ad.zd(cE,j1,j1+1);n.NG(ao,X,R,iN,v,Z,q,A);ad.sM(cE,j1,j1+dg-1,iN)}}}}}else if(B=="SYMBOL"){}else if(B=="INSTANCE"){var bD=u.symbolData,fK=bD.symbolOverrides,Q=n.nO(A.q6,bD.symbolID);
if(Q)$=Q.children;else console.log(u.name,"symbol not found",bD.symbolID);m=m.slice(0);for(var D=0;D<fK.length;
D++)m.push(fK[D])}else console.log(B);if(!1){}else if($&&!w){q.g.push(q.B$());var a1=!1,fR=J==0&&B!="SYMBOL"&&B!="INSTANCE";
if(fR){if(V.qR())console.log(V);v.Cw(V)}T=o[o.length-1];if(fR&&T&&T.type=="SOLID"){var bj=T.color;v.add.artb.artboardBackgroundType.v=4;
v.add.artb.Clr=n.Di(bj)}else if((T||l[0])&&U){var b7=q.Rp();b7.RS("Background");n.v7(b7,s,U,u,T,l,X,V,Z,q,A);
b7.uE(q);q.g.push(b7);a1=!0}$.sort(n.ey);var ha=A.Gv;A.Gv={};for(var eJ=0;eJ<$.length;eJ++)n.ug($[eJ],m,X,Z,q,J+1,A);
A.Gv=ha;v.add.lsct=!1?cT.G6:cT.an;v.Um="pass";var cq=v.cG();v.VO=24;v.$S(cq);var bF=J!=0&&o.length!=0&&!u.frameMaskDisabled&&u.containerSupportsFillStrokeAndCorners;
if(!a1&&bF&&U){v.add.vmsk=U;v.add.vogk=s;v.uE(q)}else n.tp(A,v,q);q.g.push(v)}else if(u.mask){if(U){A.Gv.YN=U;
A.Gv.xK=s}}else{var g4=[],iU=1;if(z)for(var eA=0;eA<z.length;eA++){var d=z[eA],aJ=d.color,fU=d.type,iE=["DROP_SHADOW","INNER_SHADOW"].indexOf(fU);
if(iE!=-1){var hQ=["DrSh","IrSh"][iE],bT=JSON.parse(c0.j_[c0.order.indexOf(hQ)]);g4.push([hQ,bT]);bT.enab.v=d.visible;
bT.Md.v.BlnM=hR.gt(n.a3w(d.blendMode));bT.Opct.v.val=Math.round(100*aJ.a);bT.blur.v.val=Math.round(d.radius*X.p1());
bT.Clr=n.Di(aJ);var fT=d.offset.x,dB=d.offset.y;bT.uglg.v=!1;bT.lagl.v.val=Math.round(180/Math.PI*Math.atan2(dB,-fT));
bT.Dstn.v.val=Math.round(Math.sqrt(fT*fT+dB*dB)*X.p1())}}if(B=="TEXT"&&o[0]&&o[0].type!="SOLID")iU=0;
for(var D=iU;D<o.length;D++){var ba=o[D],eI=n.Fr(u,ba,X,V,Z,q,A);if(eI[0]=="GdFl")g4.push(["GrFl",eI[1]]);
else if(eI[0]=="SoCo")g4.push(["SoFi",eI[1]]);else if(eI[0]=="PtFl")g4.push(["patternFill",eI[1]]);else throw eI}if(!w)for(var D=0;
D<l.length;D++){var ba=l[D],eI=n.Fr(u,ba,X,V,Z,q,A);if(eI[0]=="SoCo"){var bT=JSON.parse(c0.j_[c0.order.indexOf("FrFX")]);
g4.push(["FrFX",bT]);bT.enab=eI[1].enab;bT.Opct=eI[1].Opct;bT.Md=eI[1].Md;bT.Clr=eI[1].Clr;bT.Sz.v.val=u.strokeWeight}}if(g4.length!=0){var e_=JSON.parse(c0.default);
for(var D=0;D<c0.order.length;D++)e_[c0.Ca[D]]={t:"VlLs",v:[]};for(var D=0;D<g4.length;D++){var bs=g4[D],hQ=c0.Ca[c0.order.indexOf(bs[0])];
e_[hQ].v.unshift({t:"Objc",v:bs[1]})}if($==null)v.add.lmfx=e_}q.g.push(v)}};gZ.v7=function(u,m,C,Z,q,J,A,n,N,e,Q){var p=gZ;
u.VO|=16;u.add.vogk=m;u.add.vmsk=C;var B=u.add.vstk=JSON.parse(JSON.stringify(c0.K_.default)),$=p.Fr(Z,q,A,n,N,e,Q);
if($[0]=="None"){B.fillEnabled.v=!1;u.add.SoCo=$[1]}else{p.Oq($,u);u.add[$[0]]=$[1]}var $=p.Fr(Z,J[0],A,n,N,e,Q);
if($[0]!="None"){var B=u.add.vstk;B.strokeEnabled.v=!0;B.strokeStyleLineWidth.v.val=Z.strokeWeight*A.p1();
B.strokeStyleLineAlignment.v.strokeStyleLineAlignment=c0.K_.bt[["INSIDE","CENTER","OUTSIDE"].indexOf(Z.strokeAlign)];
var R={SoCo:"SoFi",GdFl:"GrFl"}[$[0]],z=["SoFi","GrFl","patternFill"].indexOf(R),v=[c0.wP,c0.mr,c0.d0][z];
B.strokeStyleContent.v={classID:c0.K_.j1[0]};var a=Z.dashPattern;if(a)B.strokeStyleLineDashSet.v=dU.di(a,1/Z.strokeWeight);
var X=B.strokeStyleContent.v={classID:c0.K_.j1[z]};for(var D=0;D<v.length;D++)X[v[D]]=$[1][v[D]];if(!B.fillEnabled.v)p.Oq($,u)}};
gZ.Oq=function(u,m){var C=u[1].Opct.v.val;if(C!=100)m.opacity=Math.round(m.opacity/255*(C/100)*255)};
gZ.ey=function(u,m){var C=u.parentIndex.position,Z=m.parentIndex.position;return C>Z?1:-1};gZ.fJ=function(u){for(var D=1;
D<u.length;D++){var m=u[D];if(m.type=="IMAGE"&&m.opacity==1){u=u.slice(D);break}}for(var D=0;D<u.length;
D++){var m=u[D],C=m.imageThumbnail;if(m.type=="IMAGE"&&(m.image==null||m.image.dataBlob==null)&&C&&C.dataBlob)m.image=C;
if(!m.visible||m.type=="IMAGE"&&m.image.dataBlob==null){u.splice(D,1);D--}}return u};gZ.tp=function(u,m,C){if(u.Gv.YN){m.add.vmsk=u.Gv.YN.clone();
m.add.vogk=JSON.parse(JSON.stringify(u.Gv.xK));m.uE(C)}};gZ.NG=function(u,m,C,Z,q,J,A,n){var N=u.fontSize,e=u.lineHeight,Q=u.fontName,p=u.textAlignHorizontal,B=u.textTracking,$=u.textCase,R=u.textDecoration;
if(N==null)N=Z.L4.FontSize;if(Q)ad.t7(Z,Q.postscript);if(N!=null)Z.L4.FontSize=Math.round(N);if(R=="UNDERLINE")Z.L4.Underline=!0;
if(B)Z.L4.Tracking=Math.round(B*1e3);if($)Z.L4.FontCaps=$=="UPPER"?2:0;if(e&&(e.units!="PERCENT"||e.value!=100)){if(N==null)N=15;
var z=e.value;if(e.units=="PERCENT")z=1*N*z/100;if(e.units=="RAW")z=1*N*z;Z.L4.AutoLeading=!1;Z.L4.Leading=Math.round(z)}if(p)Z.n9.Justification=["LEFT","RIGHT","CENTER"].indexOf(p);
var v=u.fillPaints,a=u.inheritFillStyleID;if(a){var X=gZ.nO(n.q6,a);if(X)v=X.fillPaints}if(v&&v[0]){var V=gZ.Fr(u,v[0],m,C,J,A,n);
if(V[0]=="SoCo"){var o=j.C.o5(V[1].Clr.v);Z.L4.FillColor={Type:1,Values:[1,o.p/255,o.T/255,o.S/255]};
gZ.Oq(V,q)}}};gZ.Fr=function(u,m,C,Z,q,J,A){var n=gZ,N,e,Q=u.size;if(m){var p=m.type,B=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(p);
if(p=="SOLID"){N="SoCo";var $=m.color;e=JSON.parse(c0.j_[c0.order.indexOf("SoFi")]);e.Clr=n.Di($)}else if(B!=-1){var R=JSON.parse(c0.j_[c0.order.indexOf("GrFl")]),z=R.Grad.v;
z.Intr.v=0;R.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][B];var v=[],a=m.stops;for(var D=0;D<a.length;D++){var X=a[D],V=X.color;
v.push([X.position,[V.r,V.g,V.b],V.a])}j.C.Hk(v,z);var o=n.sr(m.transform);o.mL();var h=o.clone();if(Q)h.scale(Q.x,Q.y);
h.concat(C);var T=new dz(0,.5),l=new dz(1,.5);T=h.HL(T);l=h.HL(l);if(!0){T.x=l.x+.5*(T.x-l.x);T.y=l.y+.5*(T.y-l.y)}j.C.$a(T,l,Z,R);
if(B==3){if(h.w7*h.MX-h.S*h.ZU<0)R.Rvrs.v=!R.Rvrs.v}N="GdFl";e=R}else if(p=="IMAGE"){var R=JSON.parse(c0.j_[c0.order.indexOf("patternFill")]),w=R.phase.v,W=m.image.dataBlob,U=A.a41[W],O=1;
if(U==null){var s=n.K9(q,W);U=A.a41[W]={};U.id=gj.b2()+"-d71c-11e5-b1ae-a548a96e5f9f";U.k9=[new Uint8Array(s.data),s.WL];
U.name="someImage";J.Vp(U)}R.Algn.v=!0;R.Ptrn.v.Idnt.v=U.id;var S=C.GI,x=C.c_,P=m.imageScaleMode,o=n.sr(m.transform);
o.mL();var y=Z.e,_=Z.n,g=U.k9[1].e,G=U.k9[1].n;if(P=="FILL"){O=Math.max(y/g,_/G);O=Math.round(O*100)/100}else if(P=="FIT"){O=Math.min(y/g,_/G);
O=Math.round(O*100)/100}else if(P=="STRETCH"){var E=y*o.w7,L=_*o.MX;O=.5*(E/g+L/G);O=Math.round(O*100)/100;
S+=(E-y)/2+o.GI*y;x+=(L-_)/2+o.c_*_}else if(P=="TILE"){O=m.scale;O=Math.round(O*100)/100;S+=(E-y)/2;
x+=(L-_)/2}var c=O*g,k=O*G;S+=-(c-y)/2;x+=-(k-_)/2;R.Scl.v.val=Math.round(100*O);w.Hrzn.v=Math.round(S);
w.Vrtc.v=Math.round(x);N="PtFl";e=R}else throw p;if(e)e.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(m.opacity*100)}}}else{N="None";
e={classID:"null",Clr:{t:"Objc",v:j.C.sG({p:0,T:0,S:0})}}}return[N,e]};gZ.K9=function(u,m){var C=u[m];
if(C.rslt)return C.rslt;var Z=C.bytes.buffer,q=d4.BM(Z),J=d4.X5(q);try{C.rslt=J.Pl(Z)[0]}catch(jg){C.rslt={data:j.U(4),WL:new bl(0,0,1,1)}}return C.rslt};
gZ._I=function(u,m,C,Z){var q=u.type,J=u.size,A=u.cornerRadius,p;if(A==null)A=0;var n=j.xK.LW(),N=J.x,e=J.y,Q=[A,A,A,A],B=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var D=0;D<4;D++)if(u[B[D]]!=null)Q[D]=u[B[D]];if(q=="RECTANGLE"||q=="ROUNDED_RECTANGLE"||q=="FRAME"){p=j.$.i5.Rect(0,0,N,e,Q)}else if(q=="ELLIPSE"){var $=u.arcData,R=$?$.startingAngle:0,z=$?$.endingAngle:2*Math.PI,v=$?$.innerRadius:0;
if(R==0&&z>1.999*Math.PI)p=j.$.i5.y$(0,0,N,e,0);else p=j.$.i5.ao2(N/2,e/2,e/2,R,z);if(v!=0&&v!=1){var a=F.nq.K$(p).slice(3);
a.reverse();for(var D=0;D<a.length;D++){var X=a[D],V=X.Rv;X.Rv=X.wm;X.wm=V}var o=new ix;o.translate(-N/2,-e/2);
o.scale(v,v);o.translate(N/2,e/2);j.$.l0(a,o);p=p.concat(a);p[2].length*=2}}else if(q=="LINE"){p=j.$.i5.Rect(0,0,N,e,0);
p.pop();p.pop();p[2].length=2}else if(q=="STAR"){p=j.$.i5.xx(N/2,e/2,N/2,2*Math.PI*(1/4),5,0,u.starInnerScale)}else if(q=="REGULAR_POLYGON"){p=j.$.i5.Ph(.5,.5,.5,Math.PI/2,u.count,0);
var h=new ix;h.scale(N,e);j.$.l0(p,h)}else if(q=="BOOLEAN_OPERATION"){p=[{type:6},{type:8,all:0}];var T=u.children,l=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(u.booleanOperation);
if(l==-1)throw u;if(T==null)T=[];for(var D=0;D<T.length;D++){var w=T[D],W=new F.nq,U=[],s=gZ._I(w,m,W,U);
if(W.B==null)continue;j.$.l0(W.B,gZ.sr(w.transform));p=p.concat(W.B.slice(2));for(var S=0;S<U.length;
S++)Z.push(U[S])}for(var D=3;D<p.length;D++)if(p[D].hB!=null)p[D].hB=l;n=null}else if(q=="VECTOR"){var x,P,Y=3;
if(!0){var y=u.vectorData;if(y==null)return;x=y.normalizedSize;P=y.vectorNetworkBlob}var _=m[P].bytes,g=new Uint32Array(_.buffer),G=new Float32Array(_.buffer),O=g[0],E=g[1],L=g[2],c=[],k=[],I=[],K=Y+O*3,i=K+E*7;
for(var D=0;D<O;D++){var i4=Y+D*3,d7=new dz(G[i4+1],G[i4+2]);c.push(d7)}for(var D=0;D<E;D++){var d=K+D*7;
k.push([g[d+0],g[d+1],G[d+2],G[d+3],g[d+4],G[d+5],G[d+6]])}for(var D=0;D<L;D++){var fH=g[i+1],aC=I[D]=[];
i+=2;for(var S=0;S<fH;S++){var f8=g[i++],c9=aC[S]=[];for(var g1=0;g1<f8;g1++)c9[g1]=g[i+g1];i+=f8}}if(i!=g.length)throw"e";
if(L==0){var cE=-1;for(var D=0;D<E;D++){if(cE==-1){}else{var hG=-1;for(var S=D;S<E;S++)if(k[S][4]==cE)hG=S;
for(var S=D;S<E;S++)if(k[S][1]==cE)hG=S;if(hG!=-1){var fA=0,V=k[hG];k[hG]=k[D];k[D]=V;if(V[1]!=cE){fA=V[1];
V[1]=V[4];V[4]=fA;fA=V[2];V[2]=V[5];V[5]=fA;fA=V[3];V[3]=V[6];V[6]=fA}}}cE=k[D][4]}I.push([[]]);for(var D=0;
D<E;D++)I[0][0].push(D)}var hh=[],eE=[];for(var dh=0;dh<I.length;dh++){for(var fT=0;fT<I[dh].length;
fT++){var dB=I[dh][fT],iN=0;if(dB.length>1){var gV=k[dB[0]],fI=k[dB[1]];iN=gV[4]==fI[1]?1:0}for(var D=0;
D<dB.length;D++){var gc=k[dB[D]],aF=1,gh=4;if(iN==0){aF=4;gh=1}var gD=c[gc[aF]],j1=c[gc[gh]];if(D==0){eE.push("M");
hh.push(gD.x,gD.y)}eE.push("C");hh.push(gD.x+gc[aF+1],gD.y+gc[aF+2],j1.x+gc[gh+1],j1.y+gc[gh+2],j1.x,j1.y)}}}p=j.u.DA({s:hh,X:eE},!1);
if(A!=0){var Q=[],dg=p[2].length;for(var D=0;D<dg;D++)Q.push(A);if(j.$.DM(p))j.$.ph(p,2,Q)}var ao=new ix;
ao.scale(x.x==0?1:J.x/x.x,x.y==0?1:J.y/x.y);j.$.l0(p,ao)}C.B=p;if(n)Z.push(n)};gZ.nO=function(u,m){return u[m.sessionID+","+m.localID]};
gZ.abl=function(u,m){return u.sessionID==m.sessionID&&u.localID==m.localID};gZ.a3w=function(u){var m={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",DARKEN:"dark",LUMINOSITY:"lum "}[u];
if(m==null)throw u;return m};gZ.Di=function(u){return{t:"Objc",v:j.C.sG({p:u.r*255,T:u.g*255,S:u.b*255})}};
gZ.sr=function(u){var m=[u.m00,u.m10,u.m01,u.m11,u.m02,u.m12];for(var D=0;D<6;D++)if(Math.abs(m[D])<1e-20)m[D]=0;
return new ix(m[0],m[1],m[2],m[3],m[4],m[5])};function cI(){}cI.Nh=function(){var u=M.Qi;function m($,R,z,v){var a=v?[]:{};
while(R<$.length-1&&$[R]!=125){var X=u($,R,3),V=u($,R+3,1),o;R+=4;R++;if(V=="v"){var h=m($,R,z+1,X=="ELM"||X=="TIL");
o=h.k;R=h.r}else if(V=="i"||V=="f"){var T=R;while($[T]!=125)T++;var l=u($,R,T-R);o=V=="i"?parseInt(l,16):parseFloat(l);
R=T+1}else if(V=="s"){var w=M.aP($,R),l="";R+=2;for(var D=0;D<w;D++)l+=String.fromCharCode($[R+2*D+1]);
o=l;R=R+2*w+1}else if(V=="b"){o=$[R]==49;R=R+2}else throw"e";if(v)a.push([X,o]);else if(a[X]==null)a[X]=o;
else{if(!(a[X]instanceof Array))a[X]=[a[X]];a[X].push(o)}}R++;return{k:a,r:R}}function C($,R){var z=Z($).slice(1),$=R.Clr.v;
$.Rd.v=z[0]*255;$.Grn.v=z[1]*255;$.Bl.v=z[2]*255}function Z($){return[($>>>24&255)/255,($>>>16&255)/255,($>>>8&255)/255,($>>>0&255)/255]}function q($,R){var z=R&4278190080|(R&255)<<16|(R>>>8&255)<<8|R>>>16&255;
new Uint32Array($.buffer).fill(z)}function J($,R){var z=$.TSZ,v=$.WPX,a=$.HPX,X=$.TIL,V=new bl(0,0,v,a),o=j.U(v*a*4),h=0;
for(var T=0;T<a;T+=z)for(var l=0;l<v;l+=z){var w=new bl(l,T,z,z),W,U=X[h];if(U[0]=="TMC"){W=j.U(w.Z()*4);
q(W,U[1])}else if(U[0]=="TID"){W=R[U[1]]}j.zO(W,w,o,V);h++}return[o,V]}function A($,R){$=new Uint8Array($);
var z=8,v,a={},_=0;while(z<$.length){var X=M.h($,z);z+=4;var V=u($,z,4);z+=4;if(V=="mkTS"){var o=pako.inflate($.slice(z,z+X)),h=m(o,0,0);
v=h.k}else if(V=="mkBT"){var T=M.h($,z+4),l=M.h($,z+8),o=pako.inflate($.slice(z+76,z+X));if(l==0)for(var D=0;
D<o.length;D+=4){var w=o[D],W=o[D+1],U=o[D+2],s=o[D+3];o[D+3]=w;o[D+2]=s;o[D+1]=U;o[D]=W}else{var S=j.U(o.length*4);
S.fill(255);j.Ps(o,S);o=S}a[T]=o}z+=X+4}var x=v.PDC,P=x?x instanceof Array?x:[x]:[v.MKB],y=new bl;for(var D=0;
D<P.length;D++){var g=P[D];y=y.QN(new bl(0,_,g.WID,g.HIT));_+=g.HIT+100}R.e=y.e;R.n=y.n;R.buffer=j.U(y.Z()*4);
R.gS(P.length);_=0;for(var G=0;G<P.length;G++){R.g.push(R.B$());var g=P[G],O=g.WID,E=g.HIT,L=g.BGC,c=(g.LYL?g:v).LYL.LAY,Y=3;
for(var D=0;D<c.length;D++)N(c[D],R,null,a,new ix(1,0,0,1,-g.XLC,-g.YLC+_));var k=R.Rp();R.g.push(k);
var I=new bl(0,_,O,E);_+=E+100;k.Cw(I);if(L>>>24!=0){var K=j.C.sG({p:L>>>16&255,T:L>>>8&255,S:L>>>0&255});
k.add.artb.Clr={t:"Objc",v:K};Y=4}k.add.artb.artboardBackgroundType.v=Y;k.RS(g.PGN?g.PGN:"Page "+(G+1));
k.add.lsct=cT.an;k.Um="pass";k.VO=24}}function n($,R,z){var v=$[R];return v instanceof Array?v[z]:v}function N($,R,z,v,a){var X=R.Rp();
if($.VIS!=null)X.$S($.VIS);if($.VIF!=null)X.$S($.VIF.VIS);if($.OPA!=null)X.opacity=Math.round(255*$.OPA/1e3);
X.Um=$.CLL||z=="GRP"?"pass":"norm";if($.BLD!=null){var V=$.BLD,o={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[V+""];
if(o==null)console.log($.OBN,V);else X.Um=o;if(V==30)X.opacity>>>=1}if($.CLL){X.RS($.LNM);R.g.push(R.B$());
var h=$.CLL.CEL;if(h.length==null)h=[h];for(var T=h.length-1;T>=0;T--){var l=h[T].ELM;for(var D=l.length-1;
D>=0;D--)N(l[D][1],R,l[D][0],v,a)}X.add.lsct=$.DIS?cT.G6:cT.an;X.VO|=24}else if(z=="GRP"){var w=X.add.lmfx=Q($.EFL),W;
R.g.push(R.B$());var l=$.ELM;if($.MNA){W=l[0][1];l=l.slice(1)}X.RS("Group: "+l.length+" objects");for(var D=l.length-1;
D>=0;D--)N(l[D][1],R,l[D][0],v,a);if(W){if($.MRX){var U=J(W,v),s=X.M=new F.ol;s.rect=U[1].clone();s.rect.x=W.XLC;
s.rect.y=W.YLC+a.c_;s.channel=j.U(s.rect.Z());j._H(U[0],s.channel,0);j.mL(s.channel)}else{e(X,W,a);X.uE(R)}}X.add.lsct=cT.an;
X.VO|=24}else if(z=="IMG"){X.RS($.OBN?$.OBN:"Bitmap");var U=J($,v);X.rect=U[1].clone();X.rect.x=$.XLC;
X.rect.y=$.YLC+a.c_;X.buffer=U[0]}else if(z=="TXT"){var S=$.TFS,x=S.TRN instanceof Array?S.TRN.length:1,g="",G="Arial",O=20,E=0;
X.add.lnsr="rend";X.add.TySh=ad.bF(0,0);X.add.TySh.jR=new bl(0,0,100,100);var P=new ix(1,0,0,1,$.LFT,$.TOP);
if($.MTX){var y=$.MTX,s=new ix(y.M00,y.M01,y.M10,y.M11,y.M20,y.M21);P.concat(s)}P.concat(a);X.add.TySh.I=P;
var _=X.add.TySh.pU;for(var D=0;D<x;D++){var L=n(S,"TRN",D);if(L==null)continue;ad.Y9(_,g.length,L);
var c=ad.zd(_,0,1),k=n(S,"FON",D);if(k)G=k;ad.t7(c,G);var I=n(S,"PTS",D);if(I!=null)O=I;c.L4.FontSize=Math.round(O);
var Y=n(S,"FCL",D);if(Y!=null)E=Y;c.L4.FillColor={Type:1,Values:Z(E)};ad.sM(_,g.length,g.length+L.length,c);
g+=L}X.RS(g.slice(0,255));var K=$.RIT-$.LFT,i=$.BOT-$.TOP;if($.IMG){N($.IMG,R,"IMG",v,a);var i4=R.g.pop();
X.buffer=i4.buffer;X.rect=i4.rect.clone()}ad.Qt(_,1);ad.Fm(_,[0,0,K,i])}else if(z=="PTH"){X.RS($.OBN?$.OBN:"Path");
X.VO|=16;var d7=!1;e(X,$,a);var d=X.add.vmsk,fH=X.add.vstk,aC=j.$.Br(d.B),f8=$.PAT,c9=f8.BPL,g1=f8.FPL,cE=f8.TXF;
if(g1&&g1.FEF)d.To+=g1.FEF/2.4;if(c9){var hG=c9.CAT;fH.strokeEnabled.v=!0;fH.strokeStyleLineWidth.v.val=c9.BDI;
fH.strokeStyleLineAlignment.v.strokeStyleLineAlignment=c0.K_.bt[$.BRP];C(f8.BCL,fH.strokeStyleContent.v);
if(hG!="bc_Basic"&&hG!="bc_Pencil")d7=!0}if(g1==null){fH.fillEnabled.v=!1;X.add.SoCo=JSON.parse(c0.j_[c0.order.indexOf("SoFi")]);
C(0,X.add.SoCo)}else if(g1.CAT=="fc_Solid"){X.add.SoCo=JSON.parse(c0.j_[c0.order.indexOf("SoFi")]);C($.PAT.FCL,X.add.SoCo)}else if(g1.CAT=="fc_Linear"||g1.CAT=="fc_Circular"||g1.CAT=="fc_Elliptical"){var fA=g1.CAT=="fc_Linear",hh=X.add.GdFl=JSON.parse(c0.j_[c0.order.indexOf("GrFl")]),eE=hh.Grad.v,dh=[],fT=g1.FGL,dB,iN=[];
if(fT.FGY){var gV=fT.FGY,dB=gV.FG0.FGI,iN=gV.FG1.FGI}else dB=fT.FGV.FGI;for(var D=0;D<dB.length;D++){var fI=dB[D],gc=Z(fI.FGC),aF=1;
if(iN.length==dB.length)aF=Z(iN[D].FGC)[0];dh.push([fI.FGP,gc.slice(1),aF])}hh.Type.v.GrdT=fA?"Lnr":"Rdl";
j.C.Hk(dh,eE);eE.Intr.v=0;var gh=$.PRI?$.PRI:$,gD=new dz(gh.PSX,gh.PSY),j1=new dz(gh.PEX,gh.PEY);if(g1.CAT=="fc_Elliptical"&&gh.PFX!=null){var dg=new dz(gh.PFX,gh.PFY),ao=dz.th(gD,j1),eC=dz.th(gD,dg);
if(eC<ao){var bD=ao;ao=eC;eC=bD}j1=new dz(gD.x+(ao+eC)/2,gD.y);if(ao/eC<.5)d7=!0}if(fA){gD.x=(gD.x+j1.x)/2;
gD.y=(gD.y+j1.y)/2}j.C.$a(gD,j1,aC,hh)}else console.log(g1.CAT);var w=X.add.lmfx=Q($.EFL,d);if(g1&&g1.FTB!=0){var U=J(cE.MSK,v),fK={};
fK.id=gj.b2()+"-d71c-11e5-b1ae-a548a96e5f9f";fK.name="someImage";fK.k9=U;R.Vp(fK);var a1=U[0];for(var D=0;
D<a1.length;D+=4){a1[D+3]=255-a1[D];a1[D]=a1[D+1]=a1[D+2]=255}var hh=JSON.parse(c0.j_[c0.order.indexOf("patternFill")]);
hh.Opct.v.val=Math.round(g1.FTB/10);hh.Algn.v=!0;hh.Ptrn.v.Idnt.v=fK.id;w.patternFillMulti.v.unshift({t:"Objc",v:hh})}if(d7&&$.IMG){N($.IMG,R,"IMG",v,a);
var fR=R.g[R.g.length-1];fR.opacity=X.opacity;return}X.uE(R)}else if(z=="URL")return;else{console.log("unknown layer type",z,$);
X.RS("Layer")}R.g.push(X)}function e($,R,z){if(R.PBL==null)return;var v=$.add.vmsk=new F.nq,a=$.add.vstk=JSON.parse(JSON.stringify(c0.K_.default)),X=R.PBL.PBP;
if(!(X instanceof Array))X=[X];for(var V=0;V<X.length;V++){var o=X[V].PBT;if(o==null)continue;if(!(o instanceof Array))o=[o];
var h=X[V].ISC?0:3;v.B.push({type:h,length:o.length,hB:0,sF:2,Y4:0,Fn:0});for(var D=0;D<o.length;D++){var T=o[D],l=T.XLC,w=T.YLC,W=[l,w,l,w,l,w],U="XPC YPC XLC YLC XSC YSC".split(" ");
for(var s=0;s<6;s++){var S=U[s],x=T[S];if(x!=null)W[s]=x}v.B.push({type:h+2,A:new dz(l,w),Rv:new dz(W[0],W[1]),wm:new dz(W[4],W[5])})}}j.$.l0(v.B,z);
$.yz()}function Q($,R){var z=JSON.parse(c0.default);for(var D=0;D<c0.order.length;D++)z[c0.Ca[D]]={t:"VlLs",v:[]};
if($==null)return z;var v=$.EPS;if(!(v instanceof Array))v=[v];for(var D=0;D<v.length;D++){var a=v[D].DCE,X={};
for(var V=0;V<a.length;V++)X[a[V].DCK]=a[V].DCV;if(X.EffectIsVisible=="false")continue;var o=X.mkbFile_WriteOnly_TemporaryEffectUiName;
if(o=="Gaussian Blur..."&&R){R.To+=parseFloat(X.gaussian_blur_radius);continue}var h=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(o);
if(h==-1){continue}var T=["DrSh","ebbl","IrGl","OrGl"][h],l=c0.Ca[c0.order.indexOf(T)],w=JSON.parse(c0.j_[c0.order.indexOf(T)]);
z[l].v.unshift({t:"Objc",v:w});if(T=="DrSh"){w.uglg.v=!1;p(X,"ShadowDistance",w,"Dstn");p(X,"ShadowBlur",w,"blur");
p(X,"ShadowAngle",w,"lagl",180);w.Opct.v.val=100;B(X,"ShadowColor",w,"Clr")}if(T=="IrGl"){w.Md.v.BlnM="Nrml";
var W=X.MaskSoftness,U=X.GlowWidth;if(W&&U){W=parseInt(W);U=parseInt(U);w.blur.v.val=U+W;w.Ckmt.v.val=Math.round(100*U/(U+W))}p(X,"BevelContrast",w,"Opct");
B(X,"OuterBevelColor",w,"Clr")}if(T=="OrGl"){w.Md.v.BlnM="Nrml";var W=X.MaskSoftness,U=X.GlowWidth;if(W&&U){W=parseInt(W);
U=parseInt(U);w.blur.v.val=U+W}p(X,"BevelContrast",w,"Opct");B(X,"OuterBevelColor",w,"Clr")}if(T=="ebbl"){w.uglg.v=!1;
p(X,"BevelWidth",w,"blur");p(X,"AngleSoftness",w,"Sftn");p(X,"BevelContrast",w,"srgR");p(X,"LightAngle",w,"lagl")}}return z}function p($,R,z,v,a){var X=$[R];
if(a==null)a=0;if(X)z[v].v.val=parseInt(X)+a}function B($,R,z,v){var a=$[R];if(a){a=a.slice(1);if(a.length==6)a=a+"ff";
if(a.length!=8)throw"e";var X=Z(parseInt(a,16)),V=z[v].v;V.Rd.v=X[0]*255;V.Grn.v=X[1]*255;V.Bl.v=X[2]*255;
z.Opct.v.val=Math.round(z.Opct.v.val/100*X[3]*100)}}return A}();function hB(){}hB.Nh=function(){function u(W,U){var s=!1,S=Date.now(),x=X(W,s),f8=1;
if(s)console.log("part found",Date.now()-S);S=Date.now();var P=a(x),y=P.Layer,_=P.Header;if(s)console.log(P);
var g=y[0];g=P.Layer[0];if(s)console.log("document parsed",Date.now()-S);S=Date.now();P.Setup.Gradient=v(P.Setup.Gradient,x);
if(s)console.log("grads loaded",Date.now()-S);S=Date.now();P.Setup.Pattern=z(P.Setup.Pattern,x);if(s)console.log("patts loaded",Date.now()-S);
S=Date.now();P.Setup.DocumentData=R(P.Setup.DocumentData,x).pop();if(s)console.log("docdata loaded",Date.now()-S);
S=Date.now();P.Setup.SVGFilter=R(P.Setup.SVGFilter,x);if(s)console.log("svgfilter loaded",Date.now()-S);
S=Date.now();var G=_.Cropmarks,O=_.BoundingBox.split(" ").map(parseFloat),E=_.ArtSize?_.ArtSize.split(" ").map(parseFloat):[O[2]-O[0],O[3]-O[1]];
U.e=Math.round(E[0]);U.n=Math.round(E[1]);var L=[1,0,0,1,-O[0]+(U.e-(O[2]-O[0]))/2,-O[1]+(U.n-(O[3]-O[1]))/2];
L[3]=-1;L[5]=U.n-L[5];if(G){G=G.split(" ").map(parseFloat);U.e=Math.round(G[2]-G[0]);U.n=Math.round(G[3]-G[1]);
L=[1,0,0,-1,-G[0],U.n+G[1]]}var c=P.Setup.DocumentData;if(c&&c[0]&&c[0].ArtboardArray){var k=c[0].ArtboardArray;
if(k.length!=1)console.log(k.length,"artboards");var I=new bl;for(var D=0;D<k.length;D++){var Y=k[D],K=Y.PositionPoint1,i=Y.PositionPoint2,i4=K[0],d7=Math.min(K[1],i[1]),d=i[0],fH=Math.max(K[1],i[1]);
I=I.QN(new bl(i4,d7,d-i4,fH-d7))}U.e=Math.round(I.e);U.n=Math.round(I.n);L[4]=-I.x;L[5]=I.y+U.n}var aC=Math.max(U.e,U.n);
while(aC*f8<1200)f8++;while(aC*f8>6e3)f8*=.5;U.e=Math.round(U.e*f8);U.n=Math.round(U.n*f8);U.JJ=Math.round(72*f8);
U.buffer=j.U(U.e*U.n*4);for(var D=0;D<6;D++)L[D]*=f8;for(var c9=0;c9<y.length;c9++){var g1=y[c9];g1.Raster=m(g1);
var cE=B(x,g1);C(U,cE,L,P,g1,x)}if(s)console.log("layers created",Date.now()-S);S=Date.now()}function m(W){var U=W.Layer,s=W.Raster;
if(s==null)s=[];if(U){for(var D=0;D<U.length;D++){var S=U[D],x=S.Raster=m(S);s=s.concat(x)}s.sort(function(P,y){return P._begin-y._begin})}return s}function C(W,U,s,S,x,P){var y="",_=0,g="",G=UDOC.G,O=UDOC.getState(),E="norm",L=1,c="SoCo",Y=!1,K=0,i4=null,d7=!1,d=0,fH=null,aC,f8,c9=0,g1=0,cE=0;
O.ctm=s;var k=[0,0,0],I=[0,0,0],i=[],hG=[],fA=[];for(var hh=0;hh<U.length;hh++){var eE=U[hh];if(eE[0]=="%"){if(eE=="%_/ArtDictionary :"&&d==0)i4=[eE.slice(2)];
else if(i4!=null){if(eE=="%_"&&d==0){var dh=h(i4)[0],fT=dh.AI10_ArtUID;if(fT&&!fT.startsWith("XMLID"))W.g[W.g.length-1].RS(l(fT));
i4=null}else{i4.push(eE.slice(d7?1:2));if(eE=="%_X=")d++;if(eE=="%_X+")d--;if(eE=="%_/Binary : /ASCII85Decode ,")d7=!0;
if(d7&&eE.endsWith("~>"))d7=!1}}else if(fH){aC+=(aC==""?"":" ")+eE.slice(2);if(aC.endsWith("X#")){fH.push(aC.slice(0,aC.length-3));
aC=""}}continue}else if(eE=="/Mesh X!"){fH=[];aC="";continue}else if(eE=="/End X!"){Z(fH,O,W);fH=null;
continue}eE=eE.trim();var dB=eE.split(" "),iN=dB[dB.length-1],gV=iN.toLowerCase(),fI=dB.map(parseFloat);
if(iN=="m")G.moveTo(O,fI[0],fI[1]);else if(iN=="L"||iN=="l")G.lineTo(O,fI[0],fI[1]);else if(iN=="V"||iN=="v"||iN=="Y"||iN=="y")G.quadCurveTo(O,fI[0],fI[1],fI[2],fI[3]);
else if(iN=="C"||iN=="c")G.curveTo(O,fI[0],fI[1],fI[2],fI[3],fI[4],fI[5]);else if(iN=="H"||iN=="h"){if(iN==gV)G.closePath(O);
i.push(JSON.parse(JSON.stringify(O.pth)))}else if(iN=="Xy"){E=["norm","mul ","scrn","over","sLit"][fI[0]];
L=fI[1];if(E==null){E="norm";console.log("unknown blend mode",fI[0])}}else if(iN=="Xd"){var gc=W.g[W.g.length-1];
gc.opacity=Math.round(255*L);gc.Um=gc.ld()&&E=="norm"?"pass":E}else if(iN=="AE")c9=fI[0];else if(iN=="Ae")g1=fI[0];
else if(iN=="Xw")cE=fI[0];else if(iN=="*"){var aF=O.pth.crds,gh=O.ctm,gD=aF[0]==aF[2]?0:1;W.lZ.push([gD,aF[gD]]);
G.newPath(O)}else if(iN=="XN")f8=eE.split(" ")[0];else if(iN=="XI"){var j1=x.Raster,dg,ao;if(j1==null||j1.length==0){console.log("no Raster");
continue}if(eE!="XI"){continue}else{var eC=j1[_++].Data,bD=eC._begin,fK=eC._end;while(P[bD]!=88)bD++;
bD+=3;dg=P.slice(bD,fK);ao=U[hh-2].split(" ").map(parseFloat)}var a1=ao.slice(8),fR=a1[2],bj=a1[3],b7=fR*bj,ha=j.U(b7*4);
ha.fill(255);var eJ=a1[7],cq=a1[8],bF=a1[6],g4=Math.ceil(fR*eJ*bF/8);if(eJ==1){if(bF==8)for(var D=0;
D<b7;D++)for(var eA=0;eA<3;eA++)ha[4*D+eA]=dg[D];else if(bF==1)for(var aJ=0;aJ<bj;aJ++)for(var fU=0;
fU<fR;fU++)for(var eA=0;eA<3;eA++)ha[4*(aJ*fR+fU)+eA]=255*(dg[aJ*g4+(fU>>>3)]>>>7-(fU&7)&1);else throw bF}else if(eJ==3)for(var D=0;
D<b7;D++)for(var eA=0;eA<3;eA++)ha[4*D+eA]=dg[3*D+eA];else if(eJ==4||eJ==5)for(var D=0;D<b7;D++){var iE=e([dg[eJ*D+0]/255,dg[eJ*D+1]/255,dg[eJ*D+2]/255,dg[eJ*D+3]/255]);
ha[4*D+0]=iE[0]*255;ha[4*D+1]=iE[1]*255;ha[4*D+2]=iE[2]*255}else if(eJ==7)for(var D=0;D<b7;D++){ha[4*D+0]=dg[eJ*D+0];
ha[4*D+1]=dg[eJ*D+1];ha[4*D+2]=dg[eJ*D+2]}else throw eJ;if(cq==1){var hQ=bj*g4;for(var D=0;D<b7;D++)ha[4*D+3]=dg[hQ+D]}var bT=j.Le(ha,fR,bj)?"JPG":"PNG";
if(fR*bj<700*700)bT="PNG";var iU=d4.X5(bT).c2([[ha.buffer]],fR,bj),ba=W.mV(new Uint8Array(iU),"<Image>",0,0);
W.g.push(ba);ba.Um=E;ba.opacity=Math.round(255*L);ba.$S(cE==0);var s=new ix;s.scale(1,-1);s.concat(N(ao.slice(1)));
s.concat(N(O.ctm));var eI=ba.rect.clone();eI.x=eI.y=0;var dB=j.u.yj(eI).s;j.u.I(dB,s,dB);ba.add.SoLd.Trnf=b.Q.Ii(dB);
ba.add.SoLd.nonAffineTransform=b.Q.Ii(dB);ba.go(W,!1)}else if(iN=="Ln"){y=J(eE)}else if(iN=="u"||iN=="q"||iN=="Lb"){hG.push(g1==1);
fA.push((iN=="Lb"?1-fI[0]:cE)==0);if(Y)continue;W.g.push(W.B$())}else if(iN=="U"||iN=="Q"||iN=="LB"){if(hG.length==0||fA.length==0)throw hh;
var e_=hG.pop(),bs=fA.pop();if(iN=="LB")e_=c9==1;if(Y)continue;var ba=W.Rp();ba.RS((iN=="U"?"<Group>":"<Clip Group>")+g);
if(iN=="LB")ba.RS(y);if(iN=="Q"&&i.length!=0){var fr=i.pop(),db=UDOC.G.isBox(fr,[0,0,W.e,W.n]);if(!db)Q(ba,fr,W)}ba.add.lsct=e_?cT.G6:cT.an;
ba.Um="pass";ba.VO=24;ba.$S(bs);W.g.push(ba)}else if(iN=="Bb"||iN=="Bh"||iN=="BB"){}else if(iN=="Bg"){var fb=S.Setup.Gradient[J(eE)];
c="GdFl";k=q(fb.X1,fb.a2p)}else if(iN=="Bm"||iN=="Xm"){var dA=k.Type.v.GrdT;if(dA=="Lnr"&&iN!="Xm"||dA=="Rdl"&&iN!="Bm")continue;
var ge=j.u.Of(O.pth.crds),bh=new dz(0,0),cY=new dz(1,0),d6=new ix;d6.concat(N(fI));d6.concat(N(O.ctm));
bh=d6.HL(bh);cY=d6.HL(cY);if(dA=="Lnr"){bh.x=(bh.x+cY.x)/2;bh.y=(bh.y+cY.y)/2}j.C.$a(bh,cY,ge,k)}else if(iN=="p"){var hU=J(eE),f2=S.Setup.Pattern[hU];
if(f2.raw==null){var ge=f2.hF,fR=Math.round(ge[2]-ge[0]),bj=Math.round(ge[3]-ge[1]),dh=new gj;dh.e=fR;
dh.n=bj;dh.buffer=j.U(fR*bj*4);C(dh,f2.ls,[1,0,0,-1,-f2.hF[0],bj+f2.hF[1]],S,x,P);f2.raw=new Uint8Array(d4.X5("PSD").c2(dh))}var cQ=eE.slice(eE.indexOf(")")+2),i8=cQ.slice(0,cQ.indexOf("[")-1).split(" ").map(parseFloat),hw=cQ.slice(cQ.indexOf("[")+1,cQ.indexOf("]")).split(" ").map(parseFloat);
c="patt";k=[hU,i8,hw]}else if(iN=="J"||iN=="j"||iN=="w"||iN=="M"||iN=="d"){for(var D=1;D<dB.length;D++){var iA=dB[D],ce=fI[D-1];
if(iA=="w")O.lwidth=ce;if(iA=="j")O.ljoin=ce;if(iA=="J")O.lcap=ce;if(iA=="d"){var al=eE.slice(eE.indexOf("[")+1,eE.indexOf("]")).trim();
if(al.length!=0){var aS=al.split(" ").map(parseFloat);O.dash=aS}}}}else if(gV=="xa"||gV=="xx"){var gM=[fI[4],fI[5],fI[6]];
c="SoCo";if(iN=="Xa"||iN=="Xx")k=gM;else I=gM}else if(gV=="xk"){var gM,gS=fI[fI.length-2],h3=fI[fI.length-3];
if(gS==0)gM=e(fI);else if(gS==1){gM=[fI[4],fI[5],fI[6]];for(var D=0;D<3;D++)gM[D]=h3*1+(1-h3)*gM[D]}else throw eE;
c="SoCo";if(iN=="Xk")k=gM;else I=gM}else if(gV=="k"||gV=="x"){if(gV=="x"){fI.pop();var id=1-fI.pop();
for(var D=0;D<4;D++)fI[D]*=id}var gM=e(fI);c="SoCo";if(iN==gV)k=gM;else I=gM}else if(gV=="g"){var gM=[fI[0],fI[0],fI[0]];
c="SoCo";if(iN==gV)k=gM;else I=gM}else if(gV=="n")G.newPath(O);else if(iN=="*u"){Y=!0;K=0}else if(iN=="*U"||gV=="s"||gV=="f"||gV=="b"){if(iN!="*U"&&Y){if(gV=="f"||gV=="b")K|=1;
if(gV=="s"||gV=="b")K|=2;continue}if(iN==gV)G.closePath(O);if(iN=="*U"){Y=!1}var ba;if(c=="patt"){var f2=S.Setup.Pattern[k[0]];
ba=W.mV(f2.raw,"<Pattern>",0,0);var eI=ba.rect.clone();eI.x=eI.y=0;var dB=j.u.yj(eI).s,hw=N(k[2]);hw.GI=hw.c_=0;
j.u.I(dB,hw,dB);ba.add.SoLd.Trnf=b.Q.Ii(dB);ba.add.SoLd.nonAffineTransform=b.Q.Ii(dB);ba.go(W,!1)}else{ba=W.Rp();
ba.VO|=16;var e3=ba.add.vstk=JSON.parse(JSON.stringify(c0.K_.default));e3.strokeEnabled.v=e3.fillEnabled.v=!1;
if(c=="SoCo"){ba.add.SoCo=JSON.parse(c0.j_[c0.order.indexOf("SoFi")]);var cw=ba.add.SoCo.Clr.v;A(cw,k)}if(c=="GdFl")ba.add.GdFl=k;
if(gV=="f"||gV=="b"||iN=="*U"&&K&1)e3.fillEnabled.v=!0;if(gV=="s"||gV=="b"||iN=="*U"&&K&2)iy.cm(e3,O,1,iy.iw(I))}ba.RS("<"+(iN=="*U"?"Compound ":"")+"Path>"+g);
ba.Um=E;ba.opacity=Math.round(255*L);ba.$S(cE==0);Q(ba,O.pth,W);W.g.push(ba);G.newPath(O)}else if(iN==","&&dB[1]=="/StoryIndex"){var io=S.Setup.TextDocument,h4=null;
if(!(io instanceof Array))io=S.Setup.TextDocument=$(io,P);var iY=io[0],jy=io[2];if(iY._DocumentResources)iY=io[0]=iv.a5P(iY);
else iv.afo(iY);var ba=W.Rp();ba.add.lnsr="rend";ba.add.TySh=ad.bF(0,0);var cn=ct.aup(iY),ej=ba.add.TySh.pU=cn[fI[0]];
if(ej==null){console.log("text not found");continue}ba.RS(ad.yd(ej).slice(0,50));ba.Um=E;ba.opacity=Math.round(255*L);
ba.$S(cE==0);var id=iY._1._1[fI[0]]._1._0[0]._0;id=parseInt(id.slice(1));var j7=iY._0._8._0,fn=j7[id]._0;
if(fn._0)h4=n(fn._0);else if(fn._1)h4=n(fn._1._0);else h4=n(fn._2._2).slice(3);if(h4.length!=2){var ge=j.u.Of(h4);
h4=[ge.x,ge.y];if(ge.Z()!=0){ad.Qt(ej,1);ad.Fm(ej,[0,0,Math.round(ge.e),Math.round(ge.n)])}}var da=new ix,bc=new ix(1,0,0,1,h4[0],h4[1]),aA=new ix(1,0,0,1,-jy[0],-jy[1]),f5=N(O.ctm),aR=new ix;
if(fn._2&&fn._2._2){var s=n(fn._2._2);aR=new ix(s[0],s[1],s[2],s[3],s[4],s[5])}da.concat(bc);da.concat(aR);
da.concat(aA);da.scale(1,-1);da.concat(f5);ba.add.TySh.I=da;W.g.push(ba);W.Ex=!0}}}function Z(W,U,s){var S=UDOC.G,x=[],P=[],y="/DeviceGray",_,g=[],G=1,gh=0,gD=0,j1=0;
for(var O=0;O<W.length;O++){var E=W[O];if(E.endsWith(" /CS")){var L=E.indexOf("/NChannel"),c=E.indexOf("/Process");
if(E.startsWith("/DeviceRGB")){y="/DeviceRGB";_=3}else if(E.startsWith("/DeviceGray")){y="/DeviceGray";
_=1}else if(E.startsWith("/DeviceCMYK")){y="/DeviceCMYK";_=4;g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(L!=-1){y="/DeviceCMYK";
_=parseInt(E.slice(L-2,L-1));var k=1;for(var D=0;D<_;D++){k=E.indexOf("[",k);g[_-1-D]=E.slice(k+1,k+8).split(" ").map(parseFloat);
k++}}else if(c){y="/DeviceGray";_=1}else throw E}else if(E[0]=="["){var I=E.indexOf("]"),Y=E.slice(1,I).split(" ").map(parseFloat),K=E.slice(I+2),i,i4,d7,d,fH,aC;
if(K=="/Size"||K=="/P"||K=="/R")continue;if(K=="/S"||K=="/A"){i=Y[0];i4=Y[1];d7=Y[2];d=Y[3];fH=Y[4];
aC=Y[5]}else if(K=="/N"){var f8=_+(G==1?0:1),c9;i=Y[f8+0];i4=Y[f8+1];d7=Y[f8+2];d=Y[f8+3];fH=Y[f8+5];
aC=Y[f8+6];if(y=="/DeviceRGB")c9=Y.slice(0,3);else if(y=="/DeviceGray")c9=[Y[0],Y[0],Y[0]];else if(y=="/DeviceCMYK"){var g1=[0,0,0,0];
for(var D=0;D<_;D++){var cE=Y[D],hG=g[D];g1[0]+=cE*hG[0];g1[1]+=cE*hG[1];g1[2]+=cE*hG[2];g1[3]+=cE*hG[3]}c9=e(g1)}else throw c9;
c9.push(Y[_]);P.push([c9,i,i4])}else throw K;x.push([K,fH,aC,i,i4,d7,d])}else if(E=="/E"){var fA=x.slice(0),hh=0;
for(var D=0;D<x.length;D++){var eE=x[D][0];if(eE=="/N"){hh++;continue}var dh=D,fT=D+1;while(x[fT][0]!="/N"&&fT<x.length)fT++;
if(hh==0||hh==3){for(var dB=0;dB<fT-dh;dB++)fA[dh+dB]=x[fT-1-dB]}else for(var dB=dh;dB<fT;dB++){var iN=fA[dB],gV=iN[1];
iN[1]=iN[5];iN[5]=gV;gV=iN[2];iN[2]=iN[6];iN[6]=gV}D=fT-1}x=[];for(var D=0;D<fA.length;D++){var iN=fA[D];
x.push(iN[1],iN[2],iN[3],iN[4],iN[5],iN[6])}var fI=x.length;S.moveTo(U,x[2],x[3]);for(var D=0;D<fI;D+=6){var d7=x[(D+4)%fI],d=x[(D+5)%fI],fH=x[(D+6)%fI],aC=x[(D+7)%fI],i=x[(D+8)%fI],i4=x[(D+9)%fI];
S.curveTo(U,d7,d,fH,aC,i,i4)}S.closePath(U);x=[]}else if(E.endsWith("/Version"))G=parseFloat(E[0])}var gc=s.Rp();
gc.VO|=16;gc.RS("<Mesh>");var aF=gc.add.vstk=JSON.parse(JSON.stringify(c0.K_.default));aF.strokeEnabled.v=!1;
for(var D=0;D<P.length;D++)for(var dB=D+1;dB<P.length;dB++){var dg=P[D][0],ao=P[dB][0],eC=dg[0]-ao[0],bD=dg[1]-ao[1],fK=dg[2]-ao[2],a1=Math.sqrt(eC*eC+bD*bD+fK*fK);
if(a1>j1){j1=a1;gh=D;gD=dB}}var fR=P[gh],bj=P[gD],b7=gc.add.GdFl=q(0,[[0,fR[0]],[1,bj[0]]]),ha=N(U.ctm),eJ=ha.HL(new dz(fR[1],fR[2])),cq=ha.HL(new dz(bj[1],bj[2])),bF=j.u.Of(U.pth.crds);
eJ.x=(eJ.x+cq.x)/2;eJ.y=(eJ.y+cq.y)/2;j.C.$a(eJ,cq,bF,b7);Q(gc,U.pth,s);s.g.push(gc);S.newPath(U)}function q(W,U){var s=JSON.parse(c0.j_[c0.order.indexOf("GrFl")]),S=s.Grad.v;
S.Intr.v=0;s.Type.v.GrdT=["Lnr","Rdl"][W];j.C.Hk(U,S);return s}function J(W){return W.slice(W.indexOf("(")+1,W.indexOf(")"))}function A(W,U){W.Rd.v=U[0]*255;
W.Grn.v=U[1]*255;W.Bl.v=U[2]*255}function n(W){var U=[];for(var D=0;D<W.length;D++)U[D]=parseFloat(W[D].slice(1));
return U}function N(W){return new ix(W[0],W[1],W[2],W[3],W[4],W[5])}function e(W){return UDOC.C.cmykToRgb(W)}function Q(W,U,s){W.add.vmsk=new F.nq;
if(U.crds.length!=0)W.add.vmsk.B=p(U);W.yz();W.uE(s)}function p(W){var U={s:W.crds,X:W.cmds},s=j.u.DA(U,!1);
return s}function B(W,U){var s=[U._begin],S=U._end-U._begin,x=S,P=U.Raster,O=0;if(P){for(var D=0;D<P.length;
D++){var y=P[D].Data;if(y==null)break;var _=y._begin+32,g=y._end;if(_>g)_=g;s.push(_,g);x-=g-_}}s.push(U._end);
var G=new Uint8Array(x);for(var D=0;D<s.length;D+=2){var _=s[D],E=s[D+1]-_;G.set(new Uint8Array(W.buffer,_,E),O);
O+=E}return M.V6(G).split(/\r\n|\r|\n/)}function $(W,U){if(W==null)return[];var s=B(U,W),S="",x="",P=0,y;
for(var D=2;D<s.length;D++){var _=s[D];if(_[0]=="%"){if(P==0)S+=_.slice(1);else x+=_.slice(1)}else if(_==";")P++;
else if(_.endsWith("/RulerOrigin ,"))y=_.split(" ").slice(0,2).map(parseFloat)}var g=[S,x],G=[];for(var D=0;
D<2;D++){var O=g[D],E=new Uint8Array(O.length);M.xI(E,0,O);var L=FromPS.F.ASCII85Decode({buff:E,off:0}),c=dR.Nh(L);
G.push(c)}G.push(y);return G}function R(W,U){if(W==null)return[];var s=B(U,W);s=s.slice(1);for(var D=0;
D<s.length;D++){var S=s[D];if(S[0]=="%")s[D]=S.slice(S[1]=="_"?2:1)}var x=h(s);return x}function z(W,U){var s={};
if(W==null)return s;for(var D=0;D<W.length;D++){var S=B(U,W[D]),x=S[1],P=J(x),y=x.slice(x.indexOf(")")+2).split(" ").map(parseFloat),_=[];
for(var g=2;g<S.length;g++)_.push(S[g].slice(2));s[P]={hF:y,ls:_}}return s}function v(W,U){var s={},S,x;
if(W==null)return s;var P=[];for(var D=0;D<W.length;D++){var y=B(U,W[D]);for(var _=0;_<y.length;_++){var g=y[_];
if(g[0]=="("){var G=g.split(")");S=G[0].slice(1);var O=G[1].split(" ");x=parseInt(O[1])}else if(g.endsWith("%_BS")){var G=g.split(" "),k,I=1;
G.pop();G=G.map(parseFloat);var E=G.pop(),L=G.pop(),c=G.pop();if(c==0)k=[G[0],G[0],G[0]];else if(c==2||c==4)k=[G[4],G[5],G[6]];
else if(c==1||c==3)k=e(G);else if(c==6){if(G.length==3)k=[G[0],G[0],G[0]];else k=e(G);I=G.pop()}else{throw c}P.push([E/100,k,I,L/100])}else if(g=="BD"){for(var Y=0;
Y<P.length-1;Y++)P[Y][3]=P[Y+1][3];P.sort(function(K,i){return K[0]-i[0]});s[S]={X1:x,a2p:P};P=[]}}}return s}function a(W){var U="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place".split(" "),s=Date.now(),S=0,x=[],P={Header:{}},y=[P],_=W.length;
while(S<_){var g=S;while(g!=_&&W[g]!=13&&W[g]!=10){g++}if(W[S]==37&&W[S+1]==95&&W[S+2]==37)S+=2;if(W[S]==37&&(W[S+1]==37||W[S+1]==65)){var G=M.Qi(W,S,g-S);
if(G=="%%EndComments"||G=="%EndComments"||G=="%AI5_Begin_NonPrinting"||G=="%AI5_End_NonPrinting--"||G.startsWith("%AI17_Begin_Content_if_version_gt")||G=="%AI17_End_Versioned_Content"){}else{var O=G.indexOf("Begin"),E=Math.max(G.indexOf("_End"),G.indexOf("%End"));
if(O!=-1){var L=G.slice(O+5).split(":")[0],c={_begin:S,_end:S},k=y[y.length-1];if(U.indexOf(L)!=-1){if(k[L]==null)k[L]=[];
k[L].push(c)}else{if(k[L]!=null){console.log(y);throw G}k[L]=c}y.push(c);if(G.startsWith("%%BeginData")){g=M.MC(W,"%%EndData",S)}else if(G=="%AI9_BeginDocumentData")g=M.MC(W,"%AI9_EndDocumentData",g);
else if(G=="%AI11_BeginTextDocument")g=M.MC(W,"%AI11_EndTextDocument",g)}else if(E!=-1){y.pop()._end=S}else if(y.length==1&&(G.startsWith("%AI")||G.startsWith("%%")&&G.indexOf(" ")!=-1)){var I=1;
if(G.startsWith("%AI"))while(G[I]!="_"&&I<G.length)I++;var Y=G.indexOf(":");if(Y==-1)Y=G.indexOf(" ");
var K=G.slice(I+1,Y),i=G.slice(Y+1).trim();P.Header[K]=i}}}S=g;if(W[S]==13)S++;if(W[S]==10)S++}return P}function X(W,U){var s=Date.now(),S=new Uint8Array(W),x,P=S[2]==68;
if(U)console.log(!P?"EPS":"PDF");if(P){var y=M.MC(S,"/AIMetaData "),d=!1,fH=!1;while(S[y]!=60)y--;y--;
var _=M.MC(S,">>",y),g=M.Qi(S,y+2,_-y-2).split("/"),G=[];for(var D=0;D<g.length;D++){var O=g[D],E=O.startsWith("AIPrivateData"),L=O.startsWith("AIPDFPrivateData");
if(!E&&!L)continue;var c=O.trim().split(/\s+/),k=parseInt(c[1]),I=parseInt(c[0].slice(E?13:16));G.push([I,k])}if(U)console.log("--- map made",Date.now()-s);
s=Date.now();var Y=FromPDF.indexOfXref(S),K=[],i=FromPDF.readXrefTrail(S,Y,K),i4={buff:S,off:0},d7=new Array(G.length),aC=y;
for(var D=0;D<G.length;D++){var I=G[D][0],k=G[D][1],f8=FromPDF.getIndirect(k,0,i4,K),c9=f8.buff,g1=f8["/Filter"],cE=0;
if(g1!=null&&typeof g1=="string")g1=[g1];var hG=M.Qi(c9,cE,cE+20);if(hG=="%AI12_CompressedData"){cE+=20;
d=!0}else if(hG=="%AI24_ZStandard_Data"){cE+=20;fH=!0}c9=new Uint8Array(c9.buffer,c9.byteOffset+cE,c9.length-cE);
if(g1)for(var fA=0;fA<g1.length;fA++){var hh=g1[fA];if(hh=="/FlateDecode")c9=pako.inflate(c9);else if(hh=="/ASCIIHexDecode")c9=FromPS.F.HexDecode({buff:c9,off:0});
else if(hh=="/ASCII85Decode")c9=FromPS.F.ASCII85Decode({buff:c9,off:0});else throw hh}d7[I-1]=c9}if(U)console.log("--- arrays found",Date.now()-s);
s=Date.now();var eE=M.Qi(d7[0],0,13);if(eE=="%%BoundingBox"||eE=="%AI7_Thumbnai")d7=d7.slice(1);if(eE=="%AI24_ZStanda"){d7[0]=d7[0].slice(20);
fH=!0}if(M.Qi(d7[0],0,13)=="%AI12_Compres"){d7[0]=d7[0].slice(20);d=!0}x=V(d7);if(U)console.log("--- concatenated",Date.now()-s);
s=Date.now();if(d)x=UZIP.inflate(x);if(fH)x=d4.o3.Lu(x);if(U)console.log("--- inflated",Date.now()-s);
s=Date.now()}else{var dh=M.V6(S);if(dh.indexOf("%AI5_BeginLayer")!=-1){x=S}else{var fT=dh.split(/[\n\r]+/),dB=[],iN=!1;
for(var gV=0;gV<fT.length;gV++){var fI=fT[gV].trim();if(fI=="%AI9_PrivateDataEnd"){iN=!1;break}else if(fI=="%AI9_DataStream"||fI=="%AI24_DataStream"){iN=!0}else if(iN)dB.push(fI.slice(1))}var gc=M.t2(dB.join("")),aF=FromPS.F.ASCII85Decode({buff:gc,off:0});
if(aF[0]==120&&aF[1]==156)x=UZIP.inflate(aF);else x=d4.o3.Lu(aF)}}return x}function V(W){var U=0,S=0;
for(var D=0;D<W.length;D++)U+=W[D].length;var s=new Uint8Array(U);for(var D=0;D<W.length;D++){var x=W[D];
s.set(x,S);S+=x.length}return s}function o(W,U){for(var D=0;D<U.length;D++)if(W.startsWith(U[D]))return!0;
return!1}function h(W){var U=[],s=[],top=-1,S,x=null,P=null,y=0;for(var _=0;_<W.length;_++){var g=W[_];
if(S){g=S+g;S=null}var G="\t".repeat(U.length);if(x!=null){x.push(g);if(g.endsWith("~>")){var O=M.t2(x.join("")),E=FromPS.F.ASCII85Decode({off:0,buff:O});
U.push(E);s.push(!1);top++;x=null}}else if(P!=null){if(g=="X+"){if(y==1){U.push(P);s.push(!1);top++;
P=null}else y--}else if(g=="X=")y++;else P.push(g)}else if(g=="/Binary : /ASCII85Decode ,"){x=[]}else if(g=="X="){P=[];
y++}else if(g=="/SVGFilter :"||g=="; /Def ;")continue;else if(g.startsWith("/")&&g[1].toUpperCase()!=g[1].toLowerCase()){if(g.startsWith("/XMLUID")){var L=T(g);
if(s[top])throw"e";U[top][L[4]]=L[2]}if(g.startsWith("/GObjRef")){var L=T(g);if(!s[top])throw"e";U[top].push(L[2])}else{var c=g.startsWith("/Array")||g.startsWith("/Document");
U.push(c?[]:{});s.push(c);top++}}else if(g.endsWith(",")){var k,I,L=T(g);L.pop();if(L[0]==";"||L.length==1){I=U.pop();
s.pop();top--;k=s[top]?null:L.pop()}else{k=s[top]?null:L.pop();var Y=L.pop(),K=L[0];if(Y=="/Int")I=parseInt(K);
else if(Y=="/Real")I=parseFloat(K);else if(Y=="/Bool")I=K=="1";else if(Y=="/String"||Y=="/UnicodeString")I=L.join("");
else if(Y=="/RealMatrix"||Y=="/RealPoint"||Y=="/RealPointRelToROrigin")I=L.map(parseFloat);else throw Y}if(s[top])U[top].push(I);
else U[top][k]=I}else if(g==";"){}else if(g==""){}else{if(g.indexOf("/RealPoint")!=-1){}else if(g.startsWith("(")&&g.endsWith(")")){}else if(g.endsWith("/RealMatrix")){}else throw g;
S=S?S+g:g}}return U}function T(W){var U=0,s=[];while(U<W.length){var S=W[U],x=S.charCodeAt(0);if(S==" ")U++;
else if(S==","||S==";"||S==":"){s.push(S);U++}else if(S=="("){var P=U+1;while(!(W[P]==")"&&W[P-1]!="\\"))P++;
var y=W.slice(U+1,P);s.push(y);U=P+1}else if(S=="/"||S=="-"||48<=x&&x<=57){var P=U;while(W[P]!=" ")P++;
s.push(W.slice(U,P));U=P}else throw S}return s}function l(W){var U="";for(var D=0;D<W.length;D++){if(W[D]=="_"&&W[D+1]=="x"){var jt=parseInt(W.slice(D+2,D+4),16);
U+=String.fromCharCode(jt);D+=4}else if(W[D]=="_")U+=" ";else U+=W[D]}return U}function w(W){var U="xmlnode-nodename",s="xmlnode-nodevalue",S="xmlnode-attributes",x="xmlnode-children",P=W[U],y=W[S],_=W[x],g={_nam:P};
for(var G in y){var O=y[G];if(Object.keys(O[S]).length!=0||O[x].length!=0)throw"e";if(O[U]!=G)throw"e";
g[G]=O[s]}if(_.length==0)return g;var E=g.cln=[];for(var D=0;D<_.length;D++)E.push(w(_[D]));return g}return u}();
var b={};b.F=function(u){return window.devicePixelRatio||1};b.fS=function(u,m){return(m.as0=="touch"?12:4)*b.F()/u.t.V};
b.uF=function(u,m,C){this.name=u;this.id=m;this.SS=null;if(C!=null)this.Oz=C};b.uF.prototype.W1=function(u,m,C,Z,q){};
b.uF.prototype.enable=function(u,m,C,Z,q,J){var A=new eY(r.E.z,!0);A.data={d:r.J.q$,U7:"default"};m.c(A)};
b.uF.prototype.disable=function(u,m,C,Z,q){};b.uF.prototype.$g=function(u,m,C,Z,q){return!1};b.uF.prototype.K4=function(u,m,C,Z,q){};
b.uF.prototype.cl=function(u,m,C,Z,q){};b.uF.prototype.TQ=function(u,m,C,Z,q){};b.uF.prototype.ec=function(u,m,C,Z,q,J){};
b.uF.prototype.tX=function(u,m,C,Z,q){};b.uF.prototype.St=function(u,m,C,Z){};b.uF.prototype.hP=function(u,m,C,Z){};
b.uF.prototype.H_=function(u,m){};b.uF.prototype.H8=function(u,m){};b.uF.prototype.vv=function(u,m,C,Z,q){};
b.uF.prototype.vZ=function(u,m){};b.uF.prototype.$d=function(u,m){return!1};b.uF.prototype.uy=function(u,m){return!1};
b.uF.prototype.sZ=function(){return!1};b.uF.prototype.Mc=function(u,m){return!0};b.uF.prototype.iA=function(){return null};
b.uF.prototype.hI=function(u,m,C){};b.uF.prototype.Hq=function(){return!1};b.uF.prototype.DS=function(u,m,C,Z){};
b.uF.prototype.track=function(u){var m=new eY(r.E.od,!0);m.data=u;u.cf=!0;this.SS.c(m)};b.uF.Tz=function(u,m,C,Z){var q=10*b.F()*(u.as0=="touch"?2:1),J=u.x+q,A=u.y-q;
b.uF.rM(J,A,[jg.get([12,41]).charAt(0)+": "+j.KX.XJ(m.e,C.JJ,Z,C.e,!0),jg.get([12,42]).charAt(0)+": "+j.KX.XJ(m.n,C.JJ,Z,C.n,!0)],C)};
b.uF.rM=function(u,m,C,Z){var q=b.F(),J=Math.round,A=J(11*q),n=J(100*q),N=J((C.length*14+5)*q),e=new bl(u,m-N,n,N),Q=b.uF.vR;
if(Q==null)Q=b.uF.vR=document.createElement("canvas");Q.width=n;Q.height=N;var p=Q.getContext("2d");
p.fillStyle="rgba(0,0,1,1)";p.fillRect(0,0,n,N);p.font=A+"px monospace";p.fillStyle="rgba(255,255,255,1)";
for(var D=0;D<C.length;D++)p.fillText(C[D],J(4*q),J((D+1)*13*q));var B=[p.getImageData(0,0,n,N).data,e.clone()];
if(Z)Z.D.fb=[B];return B};b.uF.vR=null;b.Iw="0";b.zj="1";b.ane="2";b.aaB="3";b.MN="5";b.a39="6";b.asf="7";
b.vV="8";b.fQ="9";b.VC="10";b.wk="11";b.e4="12";b.mb="13";b.vM="14";b.dh="16";b.WT="18";b.AU="19";b.U6="20";
b.q7="21";b.x_="22";b.el="23";b.Vf="24";b.AM="25";b.PF="27";b.KR="31";b.a5l="32";b.afT="34";b.akB="35";
b.IP="36";b.xN="37";b.rf="38";b.MU="39";b.MZ="40";b.UQ="41";b.dk="42";b.xu="43";b.IR="47";b._l="48";
b.UX="51";b.R$="52";b.e9="54";b.xU="55";b.xl="56";b.xz="57";b.H0="58";b.mA="59";b.akv="60";b.Uz="61";
b.oy="70";b.l7="100";b.r_="101";b.au="102";b.T8="103";b.Pz="120";b.ks="230";b.anK="231";b.fn="232";b.IZ="233";
b.vW="234";b.zz="235";b.o6="236";b.HD=function(u){var m=b.Aq,C=null;for(var Z in m)if(m[Z][1].indexOf(u[1].classID)!=-1)C=Z;
return C};b.Aq={};b.Aq[b.el]=["tools/brush",["PbTl"]];b.Aq[b.Vf]=["tools/pencil",["PcTl"]];b.Aq[b.KR]=["tools/eraser",["ErTl"]];
b.Zg=function(u,m,C){b.uF.call(this,u,m,C);this.al={brush:u?c4.Im():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!1],emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.sU=null;this.YW=null;this.VX=null;this.Ao=null;this.ju=null;this.dr=null;this.G2=null;this.zG=null;
this.yq=null;this.Rb=null;this.bW=null;this.S7=null;this.Ow=null;this.fv=1;this.GX=!1;this.DU=null;this.caller=null};
b.Zg.prototype=new b.uF;b.Zg.prototype.uy=function(u,m){return u.Ct&&m.j(hs.KP)};b.Zg.prototype.cl=function(u,m,C,Z,q){if(Z.j(hs.mD)){this.dr=new dz(q.x,q.y);
var J=this.al.brush.Brsh.v,A=J.Dmtr.v.val,n=J.Hrdn!=null?J.Hrdn.v.val:-1;this.G2=[A,n,!0,JSON.parse(JSON.stringify(this.al.brush)),q];
this.p3(C)}};b.Zg.prototype.dv=function(u,m,C){var Z=this.G2,q=u.t.V,J=C.x-Z[4].x,A=C.y-Z[4].y,n=Z[0],N=Z[1],e=Math.abs(J)>Math.abs(A);
if(e&&Z[2]){var Q=Math.round(2*J/q);n+=Q;C.x-=J-.5*Q*q}if(!e&&!Z[2]&&N!=-1){var Q=Math.round(.25*A);
N+=Q;C.y-=A-4*Q}n=Math.max(1,n);N=Z[1]==-1?-1:Math.max(0,Math.min(100,N));var p=Z[3];p.Brsh.v.Dmtr.v.val=n;
if(N!=-1)p.Brsh.v.Hrdn.v.val=N;this.G2=[n,N,e,p,C];var B=eD.ND(p,m.HI.Ub,q),$=B[1];$.x=Math.round(this.dr.x-$.e/2);
$.y=Math.round(this.dr.y-$.n/2);u.D.W3=[B];var R=u.t.Iv(this.dr.x,this.dr.y);u.D.JS={MO:[],Tq:[R.x-n/2,R.y,R.x+n/2,R.y]};
if(N!=-1)u.D.JS.Tq.push(R.x+50/q,R.y-N/2,R.x+50/q,R.y+N/2);u.qz=!0};b.Zg.prototype.tX=function(u,m,C,Z,q){if(this.id==b.U6||this.id==b.q7)return;
if(this.dr){this.dr=null;this.d1(JSON.parse(JSON.stringify(this.G2[3])));u.D.W3=[];u.D.JS=null;u.qz=!0;
return}var J=new eY(r.E.z,!0);J.data={d:r.J.zW,b:this.id,agb:"showBrushOpts",FP:new dz(q.Mt+4,q.GY)};
m.c(J)};b.Zg.prototype.d1=function(u){var m=new eY(r.E.z,!0);m.data={d:r.J.mh,no:jO.Lz,_0:u};this.caller.c(m)};
b.Zg.ij=function(u,m,C,Z,q,J){if(u==null)u="FrgC";if(m==null)m="norm";if(C==null)C=1;if(q==null)q=!1;
var A={classID:"Fl",Usng:{t:"enum",v:{FlCn:u}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(C*100)}},PrsT:{t:"bool",v:q},Md:{t:"enum",v:{BlnM:hR.gt(m)}}};
if(u=="Clr")A.Clr={t:"Objc",v:Z};if(u=="contentAware")A.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(u=="Ptrn")A.Ptrn={t:"Objc",v:J};return{ZO:"fill",yS:A}};b.Zg.prototype.W1=function(u,m,C,Z,q){this.SS=m;
var J=C.Rc.length;if(J==0&&!C.w0())return;var A=J!=0?-1-C.Rc[0]:C.w[0],n=C.g[A];if(u.d=="fromAction"){var N=u.Xc,e=N.yS;
if(e&&e.null&&e.null.v[0]&&e.null.v[0].v.classID=="Path"){var Q=C.yG(),p=Q[0],B=Q[1],$=p[B.length==0?0:B[0]].add.vmsk;
if(N.ZO=="fill"){var R=$.Te(),z=q.jM,v=this.al,a=z>>16&255,X=z>>8&255,V=z>>0&255;this.MA(C,n,R,a,X,V,Math.round(v.opacity*255),v.bmode,"Fill Path")}else{for(var o=0;
o<1e3;o++){var h=j.$.I9($.B,o,!0);if(h==-1){this.ec(C,m,q,Z,null);break}var T=$.B[h],l=$.B.slice(h,h+1+T.length),w=j.u.Hh(l,!0).s,W=w.slice(0,8);
for(var U=8;U<w.length;U+=6)W.push(w[U-2],w[U-1],w[U],w[U+1],w[U+2],w[U+3],w[U+4],w[U+5]);var s={};s.Points=W;
s.TextOnPathTRange=$.s4.slice(0);var s=iW.Ys(s,2),S=s[0];if(o==0)this.K4(C,m,q,Z,C.t.qh(S[0],S[1]));
else this.YW.moveTo(S[0],S[1]);for(var D=2;D<S.length;D+=2){var x=C.t.qh(S[D],S[D+1]);x.Ct=!0;this.TQ(C,m,q,Z,x,this.al.flow)}}}}else if(N.ZO=="fill"){var P=e.PrsT?e.PrsT.v:!1,y=n?n.add.lspf:0;
if(P&&n){n.add.lspf=y==null?1:y|1}var _=(e.Opct?e.Opct.v.val:100)/100,g=e.Md?hR.Sp(e.Md.v.BlnM):"norm",G=e.Usng.v.FlCn;
if(G=="contentAware"){if(C.q==null){alert("Select an area to heal first.");return}if(!C.w0())return;
this.Ej(C);this.h4(C,0);var O=C.q,E=j.U(O.rect.Z()*4);j.wC(O.channel,E,3);this.CA(C,"sheal",E,O.rect,O.rect);
this.G(C,O.rect);this.finish(C,O.rect)}else if(G=="Ptrn"){var L=q.Q1,c=C.q?C.q.rect.clone():new bl(0,0,C.e,C.n),k=j.U(c.Z()*4);
dU.Hm(e,k,c,L,new dz(0,0));this.Gs(C,n,C.q,k,"norm",[6,48,0,2])}else{var z;if(G=="FrgC")z=q.jM;else if(G=="BckC")z=q.z0;
else if(G=="Blck")z=0;else if(G=="Wht")z=16777215;else if(G=="Gry")z=8421504;else if(G=="Clr"){var I=j.C.o5(e.Clr.v);
z=I.p<<16|I.T<<8|I.S}var a=z>>16&255,X=z>>8&255,V=z>>0&255;this.MA(C,n,C.q,a,X,V,Math.round(255*_),g,[2,3])}if(P&&n){n.add.lspf=y==null?0:y}}else if(N.ZO=="delete"){var Y=A<0?1:n.$v,O=C.q,d7;
if(O==null)return;var K=A<0?C.YG[-A-1]:Y<=0?null:Y==1?n.Te():n.Ha(C).M,c=Y<=0?n.rect:K.rect,i=Y<=0?O.rect.aR(c):O.rect.clone();
if(i.qR())return;var i4=i.Z();if(Y<=0){d7=j.U(i4*4);j.zO(n.buffer,n.rect,d7,i)}else{d7=j.U(i4);K.extend(i);
j.j5(K.channel,K.rect,d7,i)}if(0<=A&&n.DJ(C,O)){if(Y<=0){j.gs(d7,0);j.zO(n.yH.hF,n.yH.Gp,d7,i)}else{d7.fill(255);
j.j5(n.yH.hF,n.yH.Gp,d7,i)}}else{if(Y<=0){var d=j.U(d7.length>>2);j._H(d7,d,3);j.a.wI(j.LW(O.rect.Z()),O.rect,d,i,O.channel,i,1);
j.wC(d,d7,3)}else{var fH=j.U(O.rect.Z()),a=q.z0>>>16&255,X=q.z0>>8&255,V=q.z0>>0&255;fH.fill(Math.round(j.KY(a,X,V)));
j.a.wI(fH,O.rect,d7,i,O.channel,i,1)}}this.v9(C,!0,[2,2],A,Y,i,d7)}}if(u.d=="stroke"){var aC=u.a93,O=C.q;
if(O==null){O={rect:n.rect.clone(),channel:j.U(n.rect.Z())};j._H(n.buffer,O.channel,3)}var f8=dU.yx(aC),c9=b.No.Cg(O,Math.ceil(f8[0]),Math.ceil(f8[1])),z=j.C.o5(aC.Clr.v),a=Math.round(z.p),X=Math.round(z.T),V=Math.round(z.S);
this.MA(C,n,c9,a,X,V,Math.round(255*aC.Opct.v.val/100),hR.Sp(aC.Md.v.BlnM),[14,9])}if(u.d=="fillBMP"){this.Gs(C,n,C.q,u.Sd,u.h3,u.wy)}if(u.d=="draw"){var g1=u.iy,cE=g1.rect;
this.Ej(C);var hG=C.g[C.w[0]];if(u.a8V&&hG&&hG.$v<=0&&C.Rc.length==0){cE=b.l_.eF(g1,C);hG.buffer=g1.buffer.slice(0);
hG.rect=cE.clone()}else{var fA=this.al.bmode;this.al.bmode="norm";this.CA(C,"draw",g1.buffer,cE,cE.aR(new bl(0,0,C.e,C.n)));
this.al.bmode=fA}this.G(C,cE);C.aJ=!0;this.finish(C,cE,u.wy,u.a8V)}};b.Zg.prototype.MA=function(u,m,C,Z,q,J,A,n,N){var e=C==null?new bl(0,0,u.e,u.n):C.rect,Q=A<<24|J<<16|q<<8|Z<<0,p=j.U(e.Z()*4);
j.gs(p,Q);this.Gs(u,m,C,p,n,N)};b.Zg.prototype.Gs=function(u,m,C,Z,q,J){var A=u.Rc.length!=0?-1-u.Rc[0]:u.w[0],n=A<0?1:m.$v,N=A<0?u.YG[-1-A]:n<=0?null:n==1?m.Te():m.Ha(u).M,e=n<=0?m.rect:N.rect,Q=C==null?new bl(0,0,u.e,u.n):C.rect,p=C==null?j.AL(u.e*u.n):C.channel,B=Q.Z(),$,R=null;
if(n<=0){$=j.U(B*4);j.zO(m.buffer,m.rect,$,Q)}else{$=j.U(B);N.extend(Q);j.j5(N.channel,N.rect,$,Q)}if(C!=null)j.uY(p,Z);
if(n>0){R=j.U(B);j.px(Z,R)}if(0<=A&&C&&m.DJ(u,C)){var z=m.yH.J7,v=m.yH.J7.slice(0);if(n<=0)j.Uj(Z,v);
else j.Uj(R,v);var a=new h5([2,3],this);a.data={d:"drawtemp",i:u.w[0],Jl:n,atR:z,a06:v};u.hO(a);this.H_(a.data,u)}else{if(n<=0){var X;
if(m.Je(0)){X=j.U(Q.Z());j._H($,X,3)}j.a.q5(q,Z,Q,$,Q,Q,1);if(m.Je(0))j.wC(X,$,3)}else j.a.wI(R,Q,$,Q,p,Q,1);
this.v9(u,!0,J,A,n,Q,$)}};b.Zg.prototype.$d=function(u){if(hs._E.indexOf(u)!=-1)return!0;return!1};b.Zg.prototype.St=function(u,m,C,Z){var q=this.al.brush,J=Z.j(hs.mD),A=J!=this.GX,n=b.Zg.HY(q,Z);
if(n!=null)this.d1(n);if(!Z.j(hs.Vw)&&Z.pn()!=-1){var N=hs.gu(Math.round(this.al.opacity*100),Z.pn())/100;
this.$W({opacity:N},m)}if(this.id==b.vV&&A&&u!=null){var e=this.al.qsmode;if(e==2)e=u.q==null?0:1;else e=2;
this.$W({qsmode:e},m)}this.GX=J;if(A){if(u)this.fv=u.t.V;this.p3(C,Z)}};b.Zg.HY=function(u,m){var C=u.Brsh.v.Dmtr.v.val,Z=u.Brsh.v.Hrdn!=null?u.Brsh.v.Hrdn.v.val:-1,q=C,J=Z,A=m.j(hs.KP);
if(m.j(hs.wx)){if(A)Z=25*Math.floor((Z-1)/25);else{if(C<=10)C--;else if(C<=50)C=5*Math.floor((C-1)/5);
else if(C<=100)C=10*Math.floor((C-1)/10);else if(C<=200)C=25*Math.floor((C-1)/25);else if(C<=400)C=50*Math.floor((C-1)/50);
else C=100*Math.floor((C-1)/100)}}if(m.j(hs.F0)){if(A)Z=25*Math.ceil((Z+1)/25);else{if(C<10)C++;else if(C<50)C=5*Math.ceil((C+1)/5);
else if(C<100)C=10*Math.ceil((C+1)/10);else if(C<200)C=25*Math.ceil((C+1)/25);else if(C<400)C=50*Math.ceil((C+1)/50);
else C=100*Math.ceil((C+1)/100)}}C=Math.max(1,C);Z=Math.max(0,Math.min(100,Z));if(J==-1)Z=-1;if(C!=q||Z!=J){var n=JSON.parse(JSON.stringify(u));
n.Brsh.v.Dmtr.v.val=C;if(J!=-1)n.Brsh.v.Hrdn.v.val=Z;return n}return null};b.Zg.prototype.p3=function(u,m,C,Z){if(u.HI.list.length==0)return;
var q=this.id,J;if((q==b.PF||q==b.AU||q==b.el||q==b.Vf)&&(m!=null&&m.j(hs.mD)||this.al.alt[0]))J="crosshair";
else{var A=this.fv,n=this.al.brush;if((q==b.PF||q==b.AU)&&C&&this.S7&&this.S7.length==this.bW.Z()*4){var N=C.t.Iv(Z.x,Z.y),e=this.GK(N),Q=this.S7,p=this.bW,B=new bl(p.x+e.x,p.y+e.y,p.e,p.n),$=eD.ND(n,u.HI.Ub,A),R=$[0],z=$[1],v=Math.ceil(z.e/A),a=new bl(Math.round(N.x-v/2),Math.round(N.y-v/2),v,v),X=j.U(a.Z()*4),V,o;
j.zO(Q,B,X,a);if(A==1){V=X;o=a}else{var h=new ix(A,0,0,A,0,0),T=b.Q.Ta([X,a],h,!0);o=z.clone();o.x=T.rect.x;
o.y=T.rect.y;if(o.QV(T.rect))V=T.buffer;else{V=j.U(o.Z()*4);j.zO(T.buffer,T.rect,V,o)}}var l=this.al.opacity/255;
for(var D=0;D<V.length;D+=4)V[D+3]=l*(R[D+3]*V[D+3]);eD.a2r(new Uint32Array(V.buffer),o,4278190080,4294967295);
J={p8:V,yt:o,$k:new dz(o.e/2,o.n/2)}}else J=eD.Nv(n,u.HI.Ub,A,q==b.AM)}var w=new eY(r.E.z,!0);w.data={d:r.J.q$,U7:J};
if(this.caller)this.caller.c(w)};b.Zg.prototype.enable=function(u,m,C,Z){this.sU=C;this.caller=m;this.d1(JSON.parse(JSON.stringify(this.al.brush)));
if(u&&u.t.V!=0)this.fv=u.t.V;this.p3(C,Z)};b.Zg.prototype.vZ=function(u,m){if(m==jO.Lz){this.al.brush=u.HI.P1;
this.p3(u)}};b.Zg.prototype.vv=function(u,m,C,Z,q){for(var J in u)this.al[J]=u[J];if(this.al.alt[0])this.p3(q,Z,C)};
b.Zg.prototype.qg=function(u){var m=u.Rc.length!=0?-1-u.Rc[0]:u.w[0],C=u.g[m],Z=m<0?1:C.$v,q=m<0?u.YG[-m-1]:Z<=0?null:Z==1?C.Te():C.Ha(u).M,J=q?q.channel:C.buffer,A=(q?q.rect:C.rect).clone();
return[C,Z,q,J,A]};b.Zg.prototype.Ej=function(u,m){this.Ow=u.q==null?null:{rect:u.q.rect.clone(),channel:u.q.channel.slice(0)};
var C=this.qg(u),Z=C[0],q=C[1],J=C[2];this.Rb=C[3];this.yq=C[4];var A=new bl(0,0,u.e,u.n),n=A.QN(this.yq);
if((this.ri()&&q<=0||n.QV(this.yq))&&m!=!0)this.Rb=this.Rb.slice(0);else{if(J)J.extend(n);else Z.extend(n)}};
b.Zg.prototype.h4=function(u,m){var C=this.qg(u),Z=C[1],q=C[3],J=C[4],A=[q,J],n=m!=null?m:this.al.sfrom;
if(Z<=0&&n!=0){A[1]=new bl(0,0,u.e,u.n);A[0]=u.K9(n==1&&u.w[0]!=u.g.length-1?u.w[0]:null).slice(0)}this.bW=A[1].clone();
this.S7=A[0].slice(0)};b.Zg.prototype.XB=function(u,m,C){if(u.j(hs.mD)){var Z=new eY(r.E.H,!0);Z.b=b.vM;
Z.data={d:"pickhere",a9p:C};m.c(Z);return!0}return!1};b.Zg.prototype.XE=function(u,m,C,Z,q,J){if(this.id!=b.vV&&!u.w0(this.caller)){this.YW=null;
return}if(this.id!=b.vV&&this.YW)return;this.Ej(u);var A=new bl(0,0,u.e,u.n),n=null;if(J!=null){var N=u.Rc.length!=0?-1-u.Rc[0]:u.w[0],e=u.g[N],Q=N<0?u.YG[-N-1]:e.$v<=0?null:e.$v==1?e.Te():e.Ha(u).M;
n=j.U(A.Z()*4);if(Q)b.Zg.xa(this.Rb,this.yq,Q.color,n,A);else j.zO(this.Rb,this.yq,n,A)}var p=this.al;
if(this.YW&&this.id==b.vV&&p.qsmode!=0&&u.q!=null){}else{var B=m.jM,$=m.z0;if(this.DU=="erase"){var R=B;
B=$;$=R}var z=this.id==b.vV?this.yq:A;this.YW=new eD(p.brush,m.HI.Ub,m.HI.MS,{Hf:q,Ck:J,a1J:p.smth*50/u.t.V,n8:this.id==b.Vf||p.emode==1,JR:p.prsr},B,$,z,n)}if(this.id==b.vV){this.YW.a5B(p.brush,p.qsmode==2?0:16777215)}var v=u.t.Iv(Z.x,Z.y);
if(C.j(hs.KP)&&this.VX){var a=this.VX;this.YW.moveTo(a.x,a.y,Z.Zt);this.YW.lineTo(.001*a.x+.999*v.x,.001*a.y+.999*v.y,Z.Zt);
this.YW.lineTo(v.x,v.y,Z.Zt)}else this.YW.moveTo(v.x,v.y,Z.Zt);this.VX=v;this.Ao=v.clone();this.ju=new aT(v,u.t.ez)};
b.Zg.prototype.k$=function(u,m,C){if(u&&u.t.V!=0&&u.t.V!=this.fv){this.fv=u.t.V;this.p3(C)}};b.Zg.prototype.L_=function(u,m,C,Z){if(this.YW==null)return;
var q=u.g[u.w[0]],J=u.t.Iv(Z.x,Z.y),A=this.ju.gi(J,C);if(A.QV(this.VX))return 1;this.YW.lineTo(A.x,A.y,Z.Zt);
this.VX=A;if(this.id==b.PF||this.id==b.AU){var n=this.Rx(),N=11;n=u.t.qh(J.x-n.x,J.y-n.y);var e=N>>>1,Q=new bl(Math.round(n.x)-e,Math.round(n.y)-e,N,N),p=j.U(Q.Z()*4);
j.gs(16777215);for(var D=0;D<N;D++)p[(D*N+e)*4+3]=p[(N*e+D)*4+3]=255;u.D.fb=[[p,Q]];u.qz=!0}};b.Zg.prototype.hP=function(u,m,C,Z){if(C.Oj!=this.id)return;
if(this.id!=b.vV||u==null)return;if(u.q==null||u.w[0]!=this.a6n){this.a6n=u.w[0];this.$W({qsmode:0},m)}};
b.Zg.prototype.G=function(u,m){if(u.Rc.length!=0){u.qz=!0;return}var C=u.g[u.w[0]];if(m==null){m=this.YW.OW();
if(this.ri()&&C.$v<=0)m=m.aR(this.yq)}if(m.qR())return;if(C.$v<=0){C.G(m)}if(C.$v==1){C.Te().hf=!0;C.uE(u)}if(C.$v==3){C.G()}u.G(u.root.t8(m,u,u.w[0],!0))};
b.Zg.prototype.ec=function(u,m,C,Z,q){if(this.YW==null)return;this.YW.finish();if(this.id!=b.WT&&this.id!=b.AU&&this.id!=b.vV)this.rk(u);
if(this.id==b.PF||this.id==b.AU){u.D.fb=[];u.qz=!0}if(this.id==b.vV){var J=u.q;u.q=this.Ow;var A=new eY(r.E.H,!0);
A.data={d:"setsel",wy:this.name,q:J};A.b=b.zj;m.c(A);if(this.al.qsmode==0)this.$W({qsmode:1},m)}else{this.finish(u,this.YW.ud());
this.YW=null;this.zG=null}this.dir=0};b.Zg.prototype.$W=function(u,m){for(var C in u)this.al[C]=u[C];
var Z=new eY(r.E.z,!0);Z.data={d:r.J.zW,b:this.id,kI:u};m.c(Z)};b.Zg.prototype.ri=function(){var u=this.id;
return u==b.vV||u==b.KR||u==b.MU||u==b.MZ||u==b.UQ||u==b.x_};b.Zg.prototype.finish=function(u,m,C,Z,q){var J=u.Rc.length!=0?-1-u.Rc[0]:u.w[0],A=u.g[J],n=J<0?1:A.$v,N=J<0?u.YG[-J-1]:n<=0?null:n==1?A.Te():A.Ha(u).M,e=N?N.rect:A.rect,B;
if(this.ri()||!e.QV(this.yq)){if(N==null){if(this.ri())A.GJ();else{var Q=m.QN(this.yq),p=j.U(Q.Z()*4);
j.zO(A.buffer,A.rect,p,Q);A.buffer=p;A.rect=Q}}else N.GJ();this.G(u,e)}if(n<=0){B=j.U(m.Z()*4);j.zO(this.Rb,this.yq,B,m)}else{B=j.U(m.Z());
B.fill(N.color);j.j5(this.Rb,this.yq,B,m)}this.v9(u,!1,C?C:this.name,J,n,m,B,Z,q)};b.Zg.prototype.v9=function(u,m,C,Z,q,J,A,n,N){var e=A;
if(q>0){e=j.U(J.Z()*4);b.Zg.xa(A,J,0,e,J)}var Q=new h5(C,this);Q.data=[{i:Z,Jl:q,yt:J,_y:e}];if(n)Q.data.p0=[u.q,null];
if(N)Q.data.p0=[this.Ow,u.q];u.hO(Q);if(m)this.H_(Q.data,u);else if(n)u.q=null;b.JF.J6(u,Q.data)};b.Zg.prototype.H8=function(u,m){this.vx(u,m,!1)};
b.Zg.prototype.H_=function(u,m){this.vx(u,m,!0)};b.Zg.prototype.vx=function(u,m,C){if(u.d=="drawtemp"){var Z=C?u.a06:u.atR,q=m.g[u.i];
q.yH.J7=Z;q.mi(m,0,0,m.q);q.G();m.aJ=!0}else{b.JF.a$(m,u);if(u.p0){m.q=u.p0[C?1:0];m.W0=!0}}m.G()};b.Zg.prototype.rk=function(u){this.CA(u,this.DU,this.YW.g9(),this.YW.Ci(),this.YW.OW());
this.G(u)};b.Zg.prototype.CA=function(u,m,C,Z,q){var J=this.al,A=u.g[u.w[0]],n=u.Rc.length!=0?u.YG[u.Rc[0]]:A.$v<=0?null:A.$v==1?A.Te():A.Ha(u).M,N=j.U(q.Z()*4),e,Q=A.Je(0);
if(n==null){if(this.id==b.q7&&m=="heal")j.zO(A.buffer,A.rect,N,q);else j.zO(this.Rb,this.yq,N,q);if(Q){e=j.U(q.Z());
j._H(N,e,3)}}else{b.Zg.xa(this.Rb,this.yq,n.color,N,q)}if(u.q&&m!="qselect"){var p=q.aR(u.q.rect),B=j.U(p.Z()*4);
if(m=="copy"){var $=j.U(p.Z());j.j5(u.q.channel,u.q.rect,$,p);j.zO(N,q,B,p);j.a.LP(C,Z,B,p,$,p,0,p,1,!1)}else{j.zO(C,Z,B,p);
j.BE(u.q.channel,u.q.rect,B,p)}C=B;Z=p}function R(a,fA){var eE=Math.max(fA.x,Math.min(fA.x+fA.e-1,a.x)),dh=Math.max(fA.y,Math.min(fA.y+fA.n-1,a.y));
return new dz(eE,dh)}if(m=="idraw"||m=="ierase"){if(this.zG==null)this.zG=j.U(this.yq.Z());var z=this.al.samp,v=this.sU.z0,a=R(this.VX,q),X=z==0?a:this.Ao,V=X.x,o=X.y,h=b.Nz.Es(this.Rb,this.yq,[X,new dz(V-2,o),new dz(V+2,o),new dz(V,o-2),new dz(V,o+2)]);
if(z==2)h=[[v>>>16&255,v>>>8&255,v>>>0&255,255]];var T=b.Nz.FZ(N,q,a,h,this.al.wconf),l=j.U(q.Z());j.j5(this.zG,this.yq,l,q);
j.cz.QN(T,l,l);j.j5(l,q,this.zG,this.yq);j.BE(l,q,C,Z);m=m.slice(1)}if(m=="erase"&&(b.JF._P(u)!=16777215||n))m="draw";
if(m=="draw")j.a.q5(J.bmode,C,Z,N,q,q,J.opacity);else if(m=="erase"){var w=j.U(q.Z()*4);j.zO(C,Z,w,q);
if(n==null){var W=j.U(q.Z());j._H(w,W,3);j.Hv(W,J.opacity);j.mL(W);j.BE(W,q,N,q)}else{j.gs(w,0,4278190080);
j.a.q5("norm",w,q,N,q,q,J.opacity)}}else if(m=="clone"||m=="heal"){var U=this.Rx(),s=this.bW.clone();
s.offset(U.x,U.y);var S=q.clone();S.iO(1,1);var x=j.U(S.Z()*4),P=j.U(S.Z());j.zO(C,Z,x,S);j._H(x,P,3);
j.gs(x,0);if(n==null){j.zO(this.S7,s,x,S);var y=j.U(S.Z());j._H(x,y,3);j.wW(y,P)}else b.Zg.xa(this.S7,s,n.color,x,S);
if(m=="clone"){j.wC(P,x,3);j.a.q5(J.bmode,x,S,N,q,q,J.opacity)}if(m=="heal"){var _=P.slice(0);j.round(_,20);
var g=j.U(S.Z()*4);if(n==null)j.zO(this.Rb,this.yq,g,S);else b.Zg.xa(this.Rb,this.yq,n.color,g,S);j.a.LP(x,S,g,S,_,S,0,S,1,!1);
j.E5.zA(g,_,S);j.a.LP(g,S,N,q,P,S,0,q,1,!1)}}else if(m=="dodge"||m=="burn"){var x=j.U(q.Z()*4),E=1,L=0,c=0,k=0;
j.zO(C,Z,x,q);var G=q.Z()*4,O=b.Zg.oZ;if(this.GX){if(m=="dodge")m="burn";else m="dodge"}var I=J.rng;
if(m=="dodge"){L=[1-E/2,1,1+E][I];c=[1,1/(1+E),1][I];k=[E/2,0,0][I]}if(m=="burn"){L=[1/(1-E/2),1,1-E/2][I];
c=[1,1+E,1][I];k=[-(E/2)/(1-E/2),0,0][I]}for(var D=0;D<G;D+=4){var Y=x[D+3];N[D+0]=O(N[D+0],L,c,k,Y);
N[D+1]=O(N[D+1],L,c,k,Y);N[D+2]=O(N[D+2],L,c,k,Y)}}else if(m=="sponge"||m=="redeye"){var x=j.U(q.Z()*4),P=j.U(q.Z());
j.zO(C,Z,x,q);j._H(x,P,3);j.Uj(N,x);var K=J.smode;if(this.GX)K=1-K;var i=a7.Qv("hue2");if(m=="sponge")je.Kq(i,0,[0,[-50,46][K],[6,5][K]]);
else je.Kq(i,1,{w8:[265,305,25,55],tZ:[0,-90,-70]});var i4=b1.z$("hue2",i);b1.D1(i4,x,x,q);j.a.LP(x,q,N,q,P,q,0,q,1,!1)}else if(m=="copy")j.zO(C,Z,N,q);
else if(m=="sheal"){var x=j.U(q.Z()*4),P=j.U(q.Z());j.zO(C,Z,x,q);j._H(x,P,3);x.fill(0);var d7=this.S7,d=this.bW;
if(n){d7=j.U(d.Z()*4);b.Zg.xa(this.S7,d,0,d7,d)}var fH=j.V1.zA(d7,d,P,x,q);if(fH!=0)j.zO(d7,d,x,q);if(this.al.sfrom==0)j.zO(x,q,N,q);
else{j.zO(this.Rb,this.yq,N,q);j.wC(P,x,3);j.a.q5("norm",x,q,N,q,q,1)}}else if(m=="qselect"){var aC=this.yq,f8=aC.e,c9=aC.n,g1=f8*c9,cE=this.YW.g9(),h=this.Rb,hG=b.No._Y,P=hG.aZ;
P.fill(128);for(var D=0;D<g1;D++){var fA=cE[D<<2],hh=cE[(D<<2)+3];if(hh==255&&(fA==0||fA==255))P[D]=fA}P[0]=P[f8-1]=0;
P[(c9>>>1)*f8]=P[(c9>>>1)*f8+f8-1]=0;b.sy.CU(hG,!0);u.q={rect:aC,channel:hG.q.slice(0)};u.W0=!0}if(n==null){if(Q)j.wC(e,N,3);
j.zO(N,q,A.buffer,A.rect)}else b.Zg.wo(N,q,n)};b.Zg.Rx=function(){return null};b.Zg.oZ=function(u,m,C,Z,q){var J=u*(1/255),A=Z+m*Math.pow(J,C),n=Math.round(A*q+J*(255-q));
return Math.max(0,Math.min(255,n))};b.Zg.xa=function(u,m,C,Z,q){var J=j.U(q.Z());J.fill(C);j.j5(u,m,J,q);
Z.fill(255);j.Ps(J,Z)};b.Zg.wo=function(u,m,C){var Z=j.U(m.Z());j.px(u,Z);j.j5(Z,m,C.channel,C.rect)};
b.No=function(u,m,C){b.uF.call(this,u,m,C);this.al={binop:0,feat:0,cstr:{WI:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.l9=new dz(-1,-1);this.Sx=new dz(-1,-1);this.Xd="default";this.SS=null;this.a5d=!0;this.vG=!1;this.zn=new hP;
this.GE=!1;this.Pe=null;this.PX=null;this._z=!1;this.Rn=!1};b.No.prototype=new b.uF;b.No.prototype.a7v=function(){var u=this.al,m=[u.binop,u.feat];
if(this.id==b.fQ)m.push(u.wconf);return m};b.No.prototype.aqC=function(u,m,C){var Z=this.al;Z.binop=u[0];
Z.feat=u[1];Z.wconf=u[2];var q=new eY(r.E.z,!0);q.data={d:r.J.zW,b:this.id,al:Z};C.c(q)};b.No._Y={key:""};
b.No.FQ=function(u,m,C){var Z={ZO:u,yS:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(m)Z.yS.T=m;if(C!=null)Z.yS.AntA={t:"bool",v:C};return Z};b.No.r7=function(u,m,C){return b.No.FQ("set",{t:"Objc",v:{classID:u,Top:{t:"UntF",v:{type:"#Pxl",val:m.y}},Left:{t:"UntF",v:{type:"#Pxl",val:m.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:m.y+m.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:m.x+m.e}}}},C)};
b.No.qQ=function(u,m,C){var Z=[],q=[],A="set";for(var D=0;D<u.length;D+=2){Z.push(u[D]);q.push(u[D+1])}var J={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:Z},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:q}]}}}};
if(m)A=["set","addTo","subtractFrom","interfaceWhite"][m];return b.No.FQ(A,J,C)};b.No.aqT=function(u,m,C){var Z={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:u.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:u.y}}}},q=b.No.FQ("set",Z);
q.yS.Tlrn={t:"long",v:m[0]};q.yS.AntA={t:"bool",v:m[1]};q.yS.Cntg={t:"bool",v:m[2]};if(C==!0)q.yS.Mrgd={t:"bool",v:C};
return q};b.No.W6=function(u){return b.No.FQ("set",{t:"enum",v:{Ordn:u?"Al":"None"}})};b.No.amB=function(u,m,C){var Z={classID:"null"};
if(u!="border")Z.selectionModifyEffectAtCanvasBounds={t:"bool",v:C};var q={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[u[0]];
Z[q]={t:"UntF",v:{type:"#Pxl",val:m}};return{ZO:u,yS:Z}};b.No._i=function(u,m,C){var Z={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},q={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:m}}]};
if(C)q.v.push({t:"name",v:{classID:"Lyr",val:C}});var J=[{classID:"null",null:Z,T:q},{classID:"null",null:q,T:Z},{classID:"null",null:q,From:Z},{classID:"null",null:q,With:Z}],A=["set","add","subtract","interfaceIconFrameDimmed"];
return{ZO:A[u],yS:J[u]}};b.No.V3=function(u,m){var C=new eY(r.E.z,!0);C.data={d:r.J.mh,no:jO.e6};if(!m.YC)u.c(C);
C.data={d:r.J.mh,no:jO.V2};if(!m.SM.EJ)u.c(C)};b.No.prototype.W1=function(u,m,C,Z,q){b.No.V3(m,q);this.SS=m;
var J=u.d,A,n,N=new bl(0,0,C.e,C.n),gh=!1,gD,j1,dg,ao;if(J=="fromAction"){var e=u.Xc,Q=e.ZO,p=e.yS,B=p?p.selectionModifyEffectAtCanvasBounds:null,$=B&&B.v;
if(Q=="colorRange"){if(p.Clrs){var R=p.Clrs.v.Clrs,z=0,v=255,a={Shdw:"shadows",Mdtn:"midtones",Hghl:"highlights"}[R],X=p[a+"LowerLimit"],V=p[a+"UpperLimit"];
if(X)z=X.v;if(V)v=V.v;var o=p[a+"Fuzziness"].v/100;A=b.No.jl(C,z,v,o,!0)}else{var z=p.Mnm.v,v=p.Mxm.v,o;
z={nI:z.Lmnc.v,w7:z.A.v,S:z.B.v};v={nI:v.Lmnc.v,w7:v.A.v,S:v.B.v};o=p.Fzns.v/200;A=b.No.jl(C,z,v,o)}n=[7,8]}else if(Q=="inverse"){if(C.q==null){alert("No selection!");
return}A={channel:j.U(N.Z()),rect:N};j.j5(C.q.channel,C.q.rect,A.channel,A.rect);j.mL(A.channel);n=[7,2]}else if(Q=="expand"){var h=p.By.v.val,T=C.q.rect.clone();
T.iO(h,h);var l=j.U(T.Z()),w=j.U(T.Z());j.j5(C.q.channel,C.q.rect,w,T);j.style.stroke(w,l,T,h);A={channel:l,rect:T};
n=[7,4]}else if(Q=="contract"){var h=p.By.v.val,W=C.q.rect.clone();W.iO(1,1);if(!$)W=W.aR(N);var w=j.U(W.Z()),U=j.U(w.length);
j.j5(C.q.channel,C.q.rect,w,W);j.mL(w);j.style.stroke(w,U,W,h);j.mL(U);A={channel:U,rect:W};j.GJ(A);
n=[7,5]}else if(Q=="border"){var h=p.Wdth.v.val;A=b.No.Cg(C.q,h/2,h/2);n=[7,9]}else if(Q=="feather"||Q=="smoothness"){var h=p.Rds.v.val;
A=b.No.pL(C.q,h,Q=="smoothness",N,$);n=Q=="feather"?[7,6]:[19,3,0]}else{var s=p.null.v,S=p.AntA!=null&&p.AntA.v;
function x(aJ){var fU=aJ.Top.v.val,a1=aJ.Left.v.val;return new bl(a1,fU,aJ.Rght.v.val-a1,aJ.Btom.v.val-fU)}function P(aJ){var fU=aJ[0].arr,iE=aJ[1].arr,hQ={s:[],X:[]};
for(var D=0;D<fU.length;D++){hQ.X.push(D==0?"M":"L");hQ.s.push(fU[D],iE[D])}hQ.X.push("Z");return hQ}var y=["set","addTo","subtractFrom","interfaceWhite"].indexOf(Q),_=p.T?p.T.v:null;
if(_&&_.classID=="Elps"){A=this.fu(b.Wo.IN(x(_)));n=[10,4]}else if(_&&_.classID=="Rctn"){var g=x(_);
A={channel:j.U(g.Z()),rect:g.clone()};A.channel.fill(255);n=[10,15]}else if(_&&_.classID=="ObSl"){var g=x(_),G=b.No._Y,O=G.rect,E=G.aZ,L=O.e,c=O.n,k=g.x-O.x,I=k+g.e-1,Y=Math.max(k,Math.min(I,k+I>>>1)),K=g.y-O.y,i=K+g.n-1,i4=Math.max(K,Math.min(i,K+i>>>1)),d7=Math.max(k,0),d=Math.min(I,L),fH=Math.max(K,0),aC=Math.min(i,c);
E.fill(128);if(0<=K)for(var f8=d7;f8<d;f8++)E[K*L+f8]=0;if(i<c)for(var f8=d7;f8<d;f8++)E[i*L+f8]=0;if(0<=k)for(var c9=fH;
c9<aC;c9++)E[c9*L+k]=0;if(I<L)for(var c9=fH;c9<aC;c9++)E[c9*L+I]=0;var g1=b.Lh.CV,cE=Math.round(g.e*g1),hG=Math.round(g.n*g1);
for(var f8=Math.max(0,Y-cE);f8<Math.min(L,Y+cE);f8++)E[i4*L+f8]=255;for(var c9=Math.max(0,i4-hG);c9<Math.min(c,i4+hG);
c9++)E[c9*L+Y]=255;b.sy.CU(G,!0);A={channel:G.q.slice(0),rect:O.clone()};n=[10,44]}else if(_&&_.classID=="Plgn"){A=this.fu(P(_.Pts.v.arr));
n=[10,9]}else if(_&&_.classID=="Pnt"){A=b.Nz.vL(C,new dz(_.Hrzn.v.val,_.Vrtc.v.val),[p.Tlrn.v,S,p.Cntg==null||p.Cntg.v],p.Mrgd?p.Mrgd.v:!1);
n=[10,12]}else if(_&&_.Ordn=="None"){A=null;n=[7,1]}else if(_&&_.Ordn=="Al"){var fA=N;if(C.w.length!=0){var hh=C.root.jj(C.w[0]);
while(hh.parent&&hh.parent.parent)hh=hh.parent;if(hh.i.add.artb)fA=hh.i.M_()}A={channel:j.U(fA.Z()),rect:fA};
A.channel.fill(255);n=[7,0]}else if(_&&_[0]&&_[0].v.keyID=="WrPt"){var eE={d:"frompath",_c:[-1,0,0]};
this.W1(eE,m,C,Z,q);return}else{var dh=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(Q),fT=Q=="set"?_:s,dB=fT[0].v.enum,eE;
if(dB=="Trsp"||dB=="Msk"||dB=="vectorMask"||dB=="Trgt"){var iN=C.w[0];if(fT.length==2)iN=hc.u3(C,fT[1]);
var gV=["Trsp","Msk","vectorMask"].indexOf(dB);if(dB=="Trgt"&&C.g[iN].$v==1)gV=1;eE={d:"fromlayer",_c:[iN,gV,dh]}}else{if(fT[0].t=="name"){var iN=0;
for(var D=0;D<C.YG.length;D++)if(C.YG[D].name==fT[0].v.val)iN=D;eE={d:"fromchannel",_c:[-5-iN,0,dh]}}else{var fI=["RGB","Rd","Grn","Bl"].indexOf(dB);
eE={d:"fromchannel",_c:[-1-fI,0,dh]}}}this.W1(eE,m,C,Z,q);return}if(!S&&A)j.round(A.channel);if(p.Fthr)A=b.No.pL(A,p.Fthr.v.val,!1);
if(Q!="set"&&C.q!=null)A=j.cz.Jy(A,C.q,y)}if(Q=="expand"||Q=="contract")if(!$&&!N.contains(A.rect)){var gc=A.rect.aR(N),aF=j.U(gc.Z());
j.j5(A.channel,A.rect,aF,gc);A.channel=aF;A.rect=gc}}if(J=="qmask"){gh=!0;var eC=C.D0(),bD=new bl(0,0,C.e,C.n);
if(eC){A=eC.rect.QV(bD)&&j.GP(eC.channel,255)?null:{rect:eC.rect.clone(),channel:eC.channel.slice(0)};
gD=eC}else{A=null;j1=new F.ol;j1.color=0;j1.name="Quick Mask";j1.GH=!0;if(C.q){j1.rect=C.q.rect.clone();
j1.channel=C.q.channel.slice(0)}else{j1.rect=bD;j1.channel=j.U(j1.rect.Z());j1.channel.fill(255)}}n=[6,6,1];
C.aJ=!0}if(J=="setsel"){A=u.q;n=u.wy}if(J=="crange"){var z=u.IT,v=u.u9;A=b.No.jl(C,z,v,u.Wf);n=[7,8]}if(J=="fromlayer"||J=="fromchannel"||J=="frompath"){var fK=u._c[0],gV=u._c[1],y=u._c[2];
if(J=="fromlayer"){if(fK==null)fK=C.w[0];var a1=C.g[fK];if(gV==0){var fR=a1.rect,bj=a1.buffer;if(fR.qR())return;
var b7=j.U(bj.length>>>2);j._H(bj,b7,3);A={channel:b7,rect:fR.clone()}}else{if(a1.M==null)a1.uE(C);var ha=gV==1?a1.Te():a1.M;
A=b.No.SH(ha,N)}this.track(b.No._i(y,["Trsp","Msk"][gV],a1.getName()))}else if(J=="frompath"){var eJ=C.yG(),cq=eJ[1],eJ=eJ[0];
if(fK==null)if(eJ.length==0||cq.length==0)return;var bF=eJ[cq[0]];if(fK!=null)for(var D=0;D<eJ.length;
D++)if(eJ[D].NR==fK)bF=eJ[D];var ha=bF.add.vmsk.Te(),g4=ha.Ci();if(g4.Z()==0)return;var b7=ha.YX();if(u._c[3]!=null)this.a5d=u._c[3];
if(this.a5d){b7=b7.slice(0);j.round(b7)}dg=[JSON.stringify(C.h2),JSON.stringify(C.WC)];ao=["[]","[]"];
C.h2=[];C.WC=[];A={channel:b7,rect:g4}}else{if(fK==null)fK=b.No.C$(C);A=b.No.i0(C,fK)}if(y!=0&&C.q)A=j.cz.Jy(A,C.q,y);
n=[14,11]}if(A!=null&&j.GP(A.channel,0)){A=null;n=[7,1]}if(A)j.GJ(A);var eA=new h5(n,this);eA.data={d:"changesel",Ow:C.q,i9:A,D0:gh,akI:gD,akk:j1,$G:dg,aog:ao};
C.hO(eA);this.H_(eA.data,C)};b.No.C$=function(u){var m=0;if(u.Rc.length!=0)m=-5-u.Rc[0];else if(JSON.stringify(u.t.Np)=="[1,1,1]")m=-1;
else m=-2-u.t.Np.indexOf(1);return m};b.No.i0=function(u,m){var C,Z=new bl(0,0,u.e,u.n);if(-5<m&m<0){var q=-m-1,J=u.K9(),A=j.U(Z.Z());
if(q==0)j.px(J,A);else j._H(J,A,q-1);C={channel:A,rect:Z.clone()}}if(m<-4){C=b.No.SH(u.YG[-m-5],Z)}return C};
b.No.SH=function(u,m){var C,Z;if(u.o5()==0){Z=u.Ci().clone();if(Z.Z()==0)return;C=u.YX()}else{Z=m;C=j.U(Z.Z());
u.f9(Z,C)}return{channel:C,rect:Z}};b.No.prototype.uy=function(u){return this.GE||u.Ct&&this.id!=b.MN};
b.No.prototype.Q$=function(u,m,C){var Z=new eY(m,!0);Z.data=C;u.c(Z)};b.No.prototype.oB=function(u,m){var C=new eY(r.E.z,!0);
C.data={d:r.J.q$,U7:m};u.c(C)};b.No.prototype.Ci=function(u,m,C){m=u.q==null||this.zn.bA(1)||this.zn.zv(1)?m:null;
var Z=this.l9,q=this.Sx;if(C){Z.x=Math.max(0,Math.min(u.e,Z.x));Z.y=Math.max(0,Math.min(u.n,Z.y));q.x=Math.max(0,Math.min(u.e,q.x));
q.y=Math.max(0,Math.min(u.n,q.y))}var J=b.kp.lJ(Z,q,m,!0,this.al.cstr),A=J[0].x,n=J[0].y;return new bl(A,n,J[1].x-A,J[1].y-n)};
b.No.prototype.K4=function(u,m,C,Z,q){this.Rn=!0;if(this.lV())return;this.SS=m;this.vG=!1;this.zn.K4(Z);
this.l9=u.t.Iv(q.x,q.y);this.l9=b.eG.xJ(u,this.l9,C);if(this.Ak(u,this.l9,Z)){this.GE=!0;this.Pe=u.q.rect.clone();
return}this.AT(u,C,Z,q);u.t.SD=new bl};b.No.prototype.Ak=function(u,m,C){var Z=C.j(hs.KP),q=C.j(hs.mD);
if(u.q&&!Z&&!q&&this.al.binop==0)return j.O0(m,u.q.channel,u.q.rect);return!1};b.No.prototype.TQ=function(u,m,C,Z,q){this.SS=m;
if(this._z)return;var J=u.t.Iv(q.x,q.y);if(dz.th(this.l9,J)*u.t.V>5){this.vG=!0;this.zn.TQ()}if(Z.j(hs.tH)){if(this.PX==null)this.PX=new dz(J.x-this.l9.x,J.y-this.l9.y);
this.l9.x=J.x-this.PX.x;this.l9.y=J.y-this.PX.y}else this.PX=null;this.Sx=J;if(!this.GE)this.Sx=b.eG.xJ(u,this.Sx,C);
if(this.Ak(u,this.Sx,Z))this.oB(m,"move");else this.oB(m,this.Xd);if(this.GE){var A=this.Pe.clone();
A.x+=this.Sx.x-this.l9.x;A.y+=this.Sx.y-this.l9.y;var n=b.eG.EX(u,A,C);u.q.rect.x=Math.round(this.Sx.x-this.l9.x+this.Pe.x+n[0]);
u.q.rect.y=Math.round(this.Sx.y-this.l9.y+this.Pe.y+n[1]);u.W0=!0;b.eG.nC(u,A,n);return}this.rB(u,C,Z,q);
if(u.t.SD)u.t.SD=this.Ci(u,Z)};b.No.prototype.lV=function(){return!1};b.No.prototype.ec=function(u,m,C,Z,q,J){var A=this.Rn;
this.Rn=!1;if(J||!A)return;u.t.SD=null;this.Sx=u.t.Iv(q.x,q.y);this.Sx=b.eG.xJ(u,this.Sx,C);if(this.GE){this.GE=!1;
if(u!=null&&u.D.g3){u.D.g3=null;u.qz=!0}if(this.Sx.QV(this.l9)&&this.HA()==0){this.Q$(m,r.E.od,b.No.W6());
return}this.Rq(u,this.Pe,u.q.rect.clone());return}this.kP(u,C,Z,q);b.No.V3(m,C);this.zn.ec();this.mm(m)};
b.No.prototype.Rq=function(u,m,C){var Z=u.QX();if(Z!=null&&Z.b==this&&Z.data.d=="movesel"){}else{Z=new h5([7,7],this);
Z.data={d:"movesel",P8:m};u.hO(Z)}Z.data.u4=C;this.H_(Z.data,u)};b.No.prototype.cl=function(u,m,C,Z,q){this._z=!0};
b.No.prototype.tX=function(u,m,C,Z,q){var J=new eY(r.E.z,!0);J.data={d:r.J.zW,b:this.id,tw:q,HC:u,C1:C};
m.c(J);this._z=!1};b.No.prototype.St=function(u,m,C,Z){this.zn.St(Z);if(u!=null&&u.q!=null){var q=Z.gq();
if(q.x!=0||q.y!=0){var J=u.q.rect.clone();J.x+=q.x;J.y+=q.y;this.Rq(u,u.q.rect.clone(),J)}}this.mm(m)};
b.No.prototype.mm=function(u){var m=new eY(r.E.z,!0);m.data={d:r.J.zW,b:this.id,mv:this.HA()};u.c(m)};
b.No.prototype.HA=function(){var u=this.zn.bA(0),m=this.zn.zv(0);return b.No.B7(this.al.binop,u,m)};
b.No.B7=function(u,m,C){if(m)u=1;if(C)u=2;if(m&&C)u=3;return u};b.No.prototype.finish=function(u,m,C,Z){var q=u.q,J=this.getSelection(u,m,C,Z);
if(J==null)J=b.No.W6();else{var A=this.al.feat,n=this.HA();if(A!=0)J.yS.Fthr={t:"UntF",v:{type:"#Pxl",val:A}};
if(n!=0&&n!=4)J.ZO=["","addTo","subtractFrom","interfaceWhite",""][n]}this.Q$(this.SS,r.E.od,J);this.l9.qX(-1,-1);
this.Sx.qX(-1,-1)};b.No.prototype.getSelection=function(u,m,C,Z){return null};b.No.prototype.AT=function(u,m,C,Z){};
b.No.prototype.rB=function(u,m,C,Z){};b.No.prototype.kP=function(u,m,C,Z){};b.No.prototype.H8=function(u,m){var C=u.d;
if(C=="changesel")m.q=u.Ow;if(C=="movesel")m.q.rect=u.P8;if(u.D0){if(u.akI){m.Rc=[m.YG.length];m.YG.push(u.akI)}else{m.YG.pop();
m.Rc=[]}}if(u.$G){m.h2=JSON.parse(u.$G[0]);m.WC=JSON.parse(u.$G[1])}m.W0=!0};b.No.prototype.H_=function(u,m){var C=u.d;
if(C=="changesel")m.q=u.i9;if(C=="movesel")m.q.rect=u.u4;if(u.D0){if(u.akk){m.Rc=[m.YG.length];m.YG.push(u.akk)}else{m.YG.pop();
m.Rc=[]}}if(u.$G){m.h2=JSON.parse(u.aog[0]);m.WC=JSON.parse(u.aog[1])}m.W0=!0};b.No.prototype.vv=function(u){this.al=u.al};
b.No.prototype.fu=function(u){var m=j.u.aO(u.s);if(m.qR())return null;var C=j.l2(m.e,m.n);C.save();C.beginPath();
C.translate(-m.x,-m.y);Typr.U.pathToContext({cmds:u.X,crds:u.s},C);C.closePath();C.fill();C.restore();
var Z=j.U(m.Z()),q=C.getImageData(0,0,m.e,m.n);j._H(q.data,Z,3);return{rect:m,channel:Z}};b.No.pL=function(u,m,C,Z,q){if(C)m=Math.round(m*.7);
var J=Math.ceil(2.6*m),A=u.rect.clone();A.iO(J,J);if(Z&&!q)A=A.aR(Z);var n=j.U(A.Z()),N=j.U(n.length);
j.j5(u.channel,u.rect,N,A);j.yM.kJ(N,n,A,m);if(C){var e=n.length;for(var D=0;D<e;D++){var Q=(n[D]-128)*m*2.5;
n[D]=Math.max(0,Math.min(255,Math.round(128+Q)))}}return{channel:n,rect:A}};b.No.Cg=function(u,m,C){var Z=Math.max(1,Math.ceil(C)),q=u.rect.clone();
q.iO(Z,Z);var J=q.Z(),A={channel:j.U(J),rect:q},n=j.U(J);j.j5(u.channel,u.rect,n,A.rect);if(C!=0)j.style.stroke(n,A.channel,A.rect,C);
else j.Uj(n,A.channel);var N=j.U(J);j.mL(n);if(m!=0)j.style.stroke(n,N,A.rect,m);else j.Uj(n,N);j.cz.aR(A.channel,N,A.channel);
return A};b.No.jl=function(u,m,C,Z,q){var J=new bl(0,0,u.e,u.n),A=u.K9();if(u.q){var n=u.q.rect.aR(J),N=j.U(n.Z()*4);
j.zO(A,J,N,n);J=n;A=N}var e=J.Z(),Q=j.U(e),p=1/Z;if(q){if(m>=C)m=C-1;var B=m*(1-Z),$=m,R=C,z=C+(255-C)*Z,v=B==$?0:1/($-B),a=R==z?0:1/(z-R);
for(var D=0;D<e;D++){var X=D<<2,V=j.KY(A[X],A[X+1],A[X+2]),o=0;if(V<B)o=0;else if(V<$)o=(V-B)*v;else if(V<=R)o=1;
else if(V<=z)o=1-(V-R)*a;else o=0;Q[D]=A[X+3]*o*o}}else for(var D=0;D<e;D++){var X=D<<2,h=j.OI(A[X],A[X+1],A[X+2]),o=j.ZZ(h,m,C,Z,p);
Q[D]=A[X+3]*o}return{rect:J,channel:Q}};b.p$=function(){b.Zg.call(this,[10,18],b.IP,"tools/blur");this.DU="copy"};
b.p$.prototype=new b.Zg;b.p$.prototype.K4=function(u,m,C,Z,q){var J=Z.j(hs.mD)?eD.KC:eD.IP;this.XE(u,C,Z,q,this.al.strn,J);
if(this.YW==null)return;this.rk(u)};b.p$.prototype.TQ=function(u,m,C,Z,q){this.k$(u,m,C);if(this.dr)this.dv(u,C,q);
if(this.YW==null)return;if(!q.Ct)return;this.L_(u,C,Z,q);this.rk(u)};b.pb=function(){b.Zg.call(this,[10,0],b.el,"tools/brush");
this.DU="draw"};b.pb.prototype=new b.Zg;b.pb.prototype.K4=function(u,m,C,Z,q){if(this.XB(Z,m,q))return;
this.XE(u,C,Z,q,this.al.flow);if(this.YW==null)return;this.rk(u)};b.pb.prototype.TQ=function(u,m,C,Z,q){this.k$(u,m,C);
if(this.dr)this.dv(u,C,q);if(this.YW==null)return;if(!q.Ct)return;this.L_(u,C,Z,q);this.rk(u)};b.fU=function(){b.Zg.call(this,[10,42],b.AM,"tools/crepl");
this.DU="idraw";this.al.bmode="hue "};b.fU.prototype=new b.Zg;b.fU.prototype.K4=function(u,m,C,Z,q){if(this.XB(Z,m,q))return;
this.XE(u,C,Z,q,this.al.flow);if(this.YW==null)return;this.rk(u)};b.fU.prototype.TQ=function(u,m,C,Z,q){this.k$(u,m,C);
if(this.dr)this.dv(u,C,q);if(this.YW==null)return;if(!q.Ct)return;this.L_(u,C,Z,q);this.rk(u)};b.TO=function(){b.Zg.call(this,[10,43],b.x_,"tools/redeye");
this.al.smode=0;this.DU="redeye"};b.TO.prototype=new b.Zg;b.TO.prototype.K4=function(u,m,C,Z,q){this.XE(u,C,Z,q,this.al.flow);
if(this.YW==null)return;this.rk(u)};b.TO.prototype.TQ=function(u,m,C,Z,q){this.k$(u,m,C);if(this.dr)this.dv(u,C,q);
if(this.YW==null)return;if(!q.Ct)return;this.L_(u,C,Z,q);this.rk(u)};b.A6=function(){b.Zg.call(this,[10,38],b.Vf,"tools/pencil");
this.DU="draw"};b.A6.prototype=new b.Zg;b.A6.prototype.K4=function(u,m,C,Z,q){if(this.XB(Z,m,q))return;
this.XE(u,C,Z,q,this.al.flow);if(this.YW==null)return;this.rk(u)};b.A6.prototype.TQ=function(u,m,C,Z,q){this.k$(u,m,C);
if(this.dr)this.dv(u,C,q);if(this.YW==null)return;if(!q.Ct)return;this.L_(u,C,Z,q);this.rk(u)};b.fN=function(){b.Zg.call(this,[10,22],b.MZ,"tools/burn");
this.DU="burn"};b.fN.prototype=new b.Zg;b.fN.prototype.K4=function(u,m,C,Z,q){this.XE(u,C,Z,q,this.al.expo/Math.E);
if(this.YW==null)return;this.rk(u)};b.fN.prototype.TQ=function(u,m,C,Z,q){this.k$(u,m,C);if(this.dr)this.dv(u,C,q);
if(this.YW==null)return;if(!q.Ct)return;this.L_(u,C,Z,q);this.rk(u)};b.MY=function(u,m,C){b.Zg.call(this,u==""?null:u?u:[10,1],m?m:b.PF,C?C:"tools/clone");
this.DU="clone";this.VE=null;this.r=null};b.MY.prototype=new b.Zg;b.MY.prototype.K4=function(u,m,C,Z,q){var J=this.al,A=J.alt[0];
if(Z.j(hs.mD)||Z.j(hs.Lt)||A){this.VE=u.t.Iv(q.x,q.y);this.r=null;if(A)this.$W({alt:[!1]},m);this.h4(u);
this.p3(C,Z,u,q);return}if(this.VE==null){alert(jg.get([15,7,0]));return}this.p3(C,Z);this.XE(u,C,Z,q,this.al.flow);
if(this.YW==null)return;this.r=this.GK(u.t.Iv(q.x,q.y));this.rk(u)};b.MY.prototype.GK=function(u){var m=this.r;
if(m==null||!this.al.algnd)m=new dz(Math.round(u.x-this.VE.x),Math.round(u.y-this.VE.y));return m};b.MY.prototype.TQ=function(u,m,C,Z,q){this.k$(u,m,C);
if(this.dr)this.dv(u,C,q);if(this.YW==null){if(this.VE!=null)this.p3(C,Z,u,q);return}if(!q.Ct||this.VE==null)return;
this.L_(u,C,Z,q);this.rk(u)};b.MY.prototype.Rx=function(){return this.r};b.pB=function(u,m,C){b.uF.call(this,u,m,C);
this.Zd={lU:{WI:0,x:0,y:0},gf:!1};this.L$=!1;this.Fx=null;this.cursor=null;this.al5=0;this.iI=null;this.l9=null;
this.Tb=null;this.UE=!1};b.pB.prototype=new b.uF;b.pB.prototype.sZ=function(){return this.Fx!=null};
b.pB.prototype.uy=function(u){return this.l9!=null||this.Fx&&this.Fx.UD()};b.pB.prototype.K4=function(u,m,C,Z,q){this.iI=q;
var J=u.t.Iv(q.x,q.y);J.x=Math.round(J.x);J.y=Math.round(J.y);var A=this.Zd.lU,n=A.WI!=0?A.x/A.y:null,N=this.UE;
this.UE=!1;if(this.Fx){var e=this.Fx.vA(J,u.t.V);if(N&&e==null){this.Fx.clear(u);this.Fx=null}else{this.Fx.K4(u,C,Z,J,n,!1,q);
return}}this.l9=b.eG.xJ(u,J,C)};b.pB.prototype.DH=function(u,m,C){if(C==null)C=[u.x,u.y,u.x+u.e,u.y,u.x+u.e,u.y+u.n,u.x,u.y+u.n];
return new fi(C,!0,!1,this.id==b.wk,!0,m,this.id==b.wk?2:0,this.id==b.wk?4:3)};b.pB.prototype.p3=function(u){var m=new eY(r.E.z,!0);
m.data={d:r.J.q$,U7:this.cursor};u.c(m)};b.pB.prototype.enable=function(u,m,C,Z){this.SS=m;this.cursor="crosshair";
this.p3(m);if(u!=null&&this.Fx==null){var q=u.q?{mY:"cropby",a0F:3}:{mY:"config",Zd:this.Zd,alS:!0};
this.vv(q,m,u,Z,C);if(u.q==null&&this.Zd.lU.WI==0)this.UE=!0}};b.pB.prototype.TQ=function(u,m,C,Z,q){this.iI=q;
var J=u.t.Iv(q.x,q.y);if(!q.Ct){var A="crosshair";if(this.Fx){var n=this.Fx.vA(J,u.t.V,null,q);if(n)A=n;
else A="default"}if(A!=this.cursor){this.cursor=A;this.p3(m)}}if(this.Fx)this.Fx.TQ(u,C,Z,J);else if(this.l9){if(this.L$){u.D.dz={X:["M","L"],s:[this.l9.x,this.l9.y,J.x,J.y]}}else{var N=b.kp.lJ(this.l9,b.eG.xJ(u,J,C),Z,!0,this.Zd.lU),e=N[0].x,Q=N[0].y,p=this.Tb=new bl(e,Q,N[1].x-e,N[1].y-Q);
u.D.dz=j.u.yj(p);b.uF.Tz(q,p,u,C)}u.qz=!0}};b.pB.a2_=function(u,m,C){var Z,q,n,N;if(m<=C){Z=m;q=C}else{Z=C;
q=m}var J=u-Math.floor((u+Math.PI)/(2*Math.PI))*2*Math.PI;J=Math.abs(J);if(J>Math.PI/2)J=Math.PI-J;var A=Z/(q*Math.sin(J)+Z*Math.cos(J));
if(m<=C){n=Z*A;N=q*A}else{n=q*A;N=Z*A}return{du:n,Oh:N}};b.pB.prototype.ec=function(u,m,C,Z,q){this.iI=q;
var J=u.t.Iv(q.x,q.y);if(this.Fx==null){var A=this.Tb;if(this.l9&&(A||this.L$)){if(this.L$){var n=this.l9,N=J;
if(n.x>N.x){var e=n;n=N;N=e}var n=Math.atan2(-(N.y-n.y),N.x-n.x),Q=b.pB.a2_(n,u.e,u.n),p=[0,0,Q.du,0,Q.du,Q.Oh,0,Q.Oh],B=new ix;
B.translate(-Q.du/2,-Q.Oh/2);B.rotate(n);B.translate(u.e/2,u.n/2);j.u.I(p,B,p);this.Fx=this.DH(A,!1,p);
u.D.dz=null;this.L$=!1}else{var $=this.Zd.lU;this.Fx=this.DH(A,$.WI!=0)}this.Fx.jK(u,C);this.Tb=null;
this.Q$(m,r.E.z,{d:r.J.zW,b:this.id,f5:!0});this.l9=null;u.D.fb=[];u.qz=!0}return}this.Fx.ec(u,C,Z,J);
this.Q$(m,r.E.z,{d:r.J.zW,b:this.id,f5:!0});var p=this.Fx.Vr();if(Math.abs(p[0]-p[4])<2&&Math.abs(p[1]-p[5])<2){this.disable(u,m,null,Z);
return}if(Date.now()-this.al5<200&&this.Fx.rC(J)){this.Wj(u,C);this.disable(u,m,C,Z);return}this.al5=Date.now()};
b.pB.prototype.St=function(u,m,C,Z){var q=this.Fx;if(q==null||this.iI&&this.iI.Ct)return;if(Z.j(hs.tb)){this.Wj(u,C);
this.disable(u,m,C,Z)}else if(Z.j(hs.U_)){this.disable(u,m,C,Z)}else q.St(u,C,Z)};b.pB.V9=function(u,m,C){var Z={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:u[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:u[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:u[1]+u[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:u[0]+u[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:m!=null?m:0}},Dlt:{t:"bool",v:C!=null?C:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{ZO:"crop",yS:Z}};b.pB.QP=function(u,m){if(m==null)m=[!0,!0,!0,!0];var C={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][u]}}},Z=["Top","Left","Btom","Rght"];
for(var D=0;D<4;D++)C[Z[D]]={t:"bool",v:m[D]};return{ZO:"trim",yS:C}};b.pB.m5=function(u,m,C,Z){var q={classID:"null"};
if(Z!=null){q.Wdth={t:"UntF",v:{type:"#Pxl",val:u}};q.Hght={t:"UntF",v:{type:"#Pxl",val:m}};q.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][Z]}}}if(C!=null)q.Rslt={t:"UntF",v:{type:"#Rsl",val:C}};
return{ZO:"imageSize",yS:q}};b.pB.jH=function(u,m,C){if(C==null)C=4;var Z=Math.floor(C/3),q=C%3;return{ZO:"canvasSize",yS:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:u}},Hght:{t:"UntF",v:{type:"#Pxl",val:m}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][q]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][Z]}}}}};
b.pB.prototype.W1=function(u,m,C,Z,q){var J=new bl(0,0,C.e,C.n),A=[11,3],n=C.JJ,N=C.e/2,e=C.n/2,Q=1,Y,K;
if(u.d=="fromAction"){var p=u.Xc,B=p.ZO,$=p.yS,R=C.e/C.n,z=$.Wdth?$.Wdth.v.val:-1,v=$.Hght?$.Hght.v.val:-1,n=$.Rslt?$.Rslt.v.val:null,a=$.Wdth?$.Wdth.v.type:$.Hght?$.Hght.v.type:-1,X=1,V;
if(a=="#Prc"){if(z!=-1)z=Math.round(C.e*z/100);if(v!=-1)v=Math.round(C.n*v/100)}if(B=="imageSize"){if($.Intr){if($.Intr.v.Intp=="Nrst")X=0;
if($.Intr.v.Intp=="bicubicSharper")X=2;if(z==-1&&v==-1){var o=n/C.JJ;z=Math.round(C.e*o);v=Math.round(C.n*o)}if($.CnsP&&$.CnsP.v){if(z==-1)z=Math.round(v*R);
if(v==-1)v=Math.round(z/R)}}else{if(a=="#Prc")n=Math.round(C.JJ*(C.e/z));else if(a==-1)n=Math.round(n);
else throw"e";z=C.e;v=C.n}V={d:"imgsize",BV:z,td:v,sC:n,u$:X}}else if(B=="canvasSize"){if(z==-1)z=C.e;
if(v==-1)v=C.n;if($.Rltv&&$.Rltv.v==!0){if($.Wdth)z+=C.e;if($.Hght)v+=C.n}var h=$.Vrtc?$.Vrtc.v.VrtL:"Cntr",T=$.Hrzn?$.Hrzn.v.HrzL:"Cntr";
V={d:"canvsize",BV:z,td:v,fy:3*["Top","Cntr","Btom"].indexOf(h)+["Left","Cntr","Rght"].indexOf(T)}}else if(B=="revealAll"){V={d:"revealAll"}}else if(B=="trim"){var l={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[$.trimBasedOn.v.trimBasedOn];
if(l==null)throw"e";var w=["Top","Left","Btom","Rght"],W=[!0,!0,!0,!0];for(var D=0;D<4;D++)if($[w[D]])W[D]=$[w[D]].v;
V={d:"trim",aiy:l,WV:W}}else if(B=="crop"){var U,s,S,x;if($.T){var P=$.T.v,U=Math.round(P.Left.v.val),s=Math.round(P.Top.v.val),S=Math.round(P.Rght.v.val)-U,x=Math.round(P.Btom.v.val)-s}else{var y=C.g[C.w[0]],_=y.rect;
_=_.aR(new bl(0,0,C.e,C.n));U=_.x;s=_.y;S=_.e;x=_.n}V={d:"canvsize",BV:S,td:x,r:new dz(U,s),adc:$.Dlt!=null&&$.Dlt.v}}else console.log(p);
if(V)this.W1(V,m,C,Z,q);return}else if(u.d=="imgsize"){J=new bl(0,0,u.BV,u.td);if(u.sC)n=u.sC;Q=u.u$}else if(u.d=="canvsize"){var g=u.fy!=null?u.fy:0;
J=new bl(0,0,u.BV,u.td);var G=C.e-u.BV,O=C.n-u.td,E=Math.round(G/2),L=Math.round(O/2);if(g==1||g==4||g==7)J.x=E;
if(g==2||g==5||g==8)J.x=G;if(g==3||g==4||g==5)J.y=L;if(g==6||g==7||g==8)J.y=O;if(u.r){J.x=u.r.x;J.y=u.r.y}}else if(u.d=="rot"&&(u.k+2*Math.PI)%(Math.PI/2)!=0){var c=j.u.yj(J).s,k=new ix;
k.translate(-N,-e);k.rotate(u.k);k.translate(N,e);j.u.I(c,k,c);J=j.u.aO(c)}else if(u.d=="rot"&&u.k!=Math.PI&&u.k!=-Math.PI){J=new bl(N-C.n/2,e-C.e/2,C.n,C.e);
if((C.e+C.n&1)==1){N=Math.floor(N);e=Math.floor(e);J=new bl(N-Math.floor(C.n/2),e-Math.floor(C.e/2),C.n,C.e);
if((C.e&1)==1&&u.k!=-Math.PI/2)J.y--;if((C.n&1)==1&&u.k==-Math.PI/2)J.x--}}else if(u.d=="trim"){A=[11,12,0];
var I=C.K9(),_=new bl(0,0,C.e,C.n);J=j.vk(I,_,u.aiy,u.WV);if(J.qR())J=_}else if(u.d=="cropbysel"){A=[11,12,1];
J=C.q.rect.clone()}else if(u.d=="revealAll"){A=[11,12,2];J=C.root.Ci(C,!0)}var i=u.d=="canvsize"&&u.adc;
if(u.d=="imgsize"||u.d=="rot"||u.d=="scl"||i){var i4=new ix;if(u.d=="imgsize"){A=[11,10];i4.scale(u.BV/C.e,u.td/C.n)}else if(i){}else{i4.translate(-N,-e);
if(u.d=="rot")i4.rotate(u.k);if(u.d=="scl")i4.scale(u.k.x,u.k.y);i4.translate(N,e);A=u.wy}K=j.N.S4(i4);
Y=this.Cf(C,q,!0,K,Q,i?J:null)}else if(u.d=="auto-align"){if(C.w.length<2){alert("Select two or more layers.");
return}var d7=[];for(var D=0;D<C.w.length;D++){var y=C.g[C.w[D]];if(!y.b0()&&y.add.SoLd==null){alert("Unsupported layer selected.");
return}if(y.rect.qR()){alert("Empty layer selected.");return}d7.push([y.buffer,y.rect])}var d=j.v$.sb(d7,0);
if(d==null){alert("No similarity found.");return}K=d[1];var fH=C.w;C.w=C.w.slice(1);Y=this.Cf(C,q,!1,d.slice(1),Q);
C.w=fH;J=C.root.Ci(C,!0);A=[2,10,1]}var aC=new bl(0,0,C.e,C.n);if(!J.qR()&&(!J.QV(aC)||Y!=null)){var f8=new h5(A,this);
f8.data={a1K:C.JJ,sC:n,jm:Y,Zx:K,er:b.pB.ov(C,J,aC,Y!=null)};b.pB.iv(C,f8.data,J);C.hO(f8);this.H_(f8.data,C)}};
b.pB.ov=function(u,m,C,Z){if(u.$o.length==0)return null;var q=JSON.stringify(u.$o),J=JSON.parse(q);b.JN.a4M(J,m,C,Z);
J=JSON.stringify(J);return[q,J]};b.pB.prototype.Cf=function(u,m,C,Z,q,J){var A={g:[],Bo:null,zT:null};
if(C){for(var D=0;D<u.g.length;D++)A.g.push(D);for(var D=0;D<u.kL.length;D++)A.g.push(-1-D);for(var D=0;
D<u.YG.length;D++)A.g.push(-1e3-D)}else A.g=u.w.slice(0);A.Bo=b.Q.iu(u,A.g,!0);b.Q.t1(u,m,A.g,A.Bo,q,Z,null,!0,J);
A.zT=b.Q.iu(u,A.g,!0);return A};b.pB.prototype.H_=function(u,m){if(u.sC)m.JJ=u.sC;if(u.er)m.$o=JSON.parse(u.er[1]);
if(u.jm){b.pB.bT(m,j.N.Yt(u.Zx));b.Q.ZC(m,u.jm.g,u.jm.zT)}b.pB.f_(m,u)};b.pB.prototype.H8=function(u,m){if(u.a1K)m.JJ=u.a1K;
if(u.er)m.$o=JSON.parse(u.er[0]);b.pB.xO(m,u);if(u.bh)m.t.r.TP(u.bh);m.a0z();if(u.jm){var C=j.N.Yt(u.Zx).clone();
C.mL();b.pB.bT(m,C);b.Q.ZC(m,u.jm.g,u.jm.Bo)}};b.pB.bT=function(u,m){for(var D=0;D<u.g.length;D++){var C=u.g[D];
if(C.add.artb==null)continue;var Z=j.u.yj(C.M_()).s;j.u.I(Z,m,Z);var q=j.u.aO(Z);C.Cw(q)}};b.pB.lh=function(u){var m=new bl,C=0,Z=u.root.children.length;
for(var D=0;D<Z;D++){var q=u.root.children[D].i;if(q.add.artb==null)continue;m=m.QN(q.M_());C++}var J=new bl(0,0,u.e,u.n);
if(!m.qR()&&!J.QV(m)&&Z==C)return m;return null};b.pB.tG=function(u){var m=b.pB.lh(u);if(m)b.pB.gf(u,m,!0);
return m};b.pB.gf=function(u,m,C){var Z=u.e,q=u.n,J=m.e,A=m.n,n=m.x==0&&m.y==0;if(n&&Z==J&&q==A)return;
u.e=J;u.n=A;var N=[];for(var D=0;D<u.g.length;D++)N.push(D);if(!n)b.eG.a2(u,N,null,-m.x,-m.y);for(var D=0;
D<u.g.length;D++){u.g[D].uE(u)}u.a0z();if(C){var e=u.t.r,Q=u.t.V;e.x+=Math.round((m.x+(J-Z)/2)*Q);e.y+=Math.round((m.y+(A-q)/2)*Q)}else u.t.r.qX(0,0);
if(u.q)u.q.rect.offset(-m.x,-m.y);var p=u.OD();for(var B=0;B<p[0].length;B++)if(p[1][B]==-1){var $=u.lZ[B];
$[1]-=$[0]==0?m.x:m.y}for(var D=0;D<u.YG.length;D++)u.YG[D].rect.offset(-m.x,-m.y)};b.pB.prototype.vv=function(u,m,C,Z,q){if(u.mY=="commit"){this.Wj(C,q);
this.disable(C,m,null,Z)}else if(u.mY=="cancel"){this.disable(C,m,null,Z)}var J=null,A=new bl(0,0,C.e,C.n),n=this.Zd.lU;
if(u.mY=="config"){this.Zd=u.Zd;n=this.Zd.lU;if(C==null||!u.alS)return;J=A;if(n.WI==1){var N=n.x/n.y;
if(J.e/N<J.n)J.n=Math.round(J.e/N);else J.e=Math.round(J.n*N)}if(n.WI==2){J.e=n.x;J.n=n.y}J.x=Math.round((C.e-J.e)/2);
J.y=Math.round((C.n-J.n)/2)}if(u.mY=="straighten"){alert("Draw a line in the image.");this.L$=!0}if(u.mY=="cropby"){if(C==null)return;
var e=u.a0F,J;if(e==0)J=C.root.Ci(C,!0);if(e==1){if(C.w.length==0)alert("No layer is selected.");else{var Q=C.root.jj(C.w[0]);
J=Q.Ci(C,!0)}}if(e==2){if(C.w.length==0)alert("No layer is selected.");else{J=j.vk(C.K9(),A,0);if(J.qR())J=A.clone()}}if(e==3){if(C.q!=null)J=C.q.rect;
else alert("There is no selection.")}if(e==4){J=new bl(0,0,C.e,C.n)}}if(J&&J.qR())J=null;if(J!=null){this.Fx=this.DH(J,n.WI!=0);
this.Fx.jK(C,q);this.Q$(m,r.E.z,{d:r.J.zW,b:this.id,f5:!0})}};b.pB.prototype.Wj=function(u,m){var C=this.Fx.Vr(),Z=j.u.aO(C),q=this.aaI(u,C),J=!1,A=this.Zd.lU,n=this.Zd.gf,N=A.x,e=A.y,B;
if(this.id==b.VC&&A.WI==2&&q.Z()!=N*e){q=new bl(q.x,q.y,N,e);J=!0}var Q=j.N.GG(C,q);Q=j.N.mL(Q);var p=j.N.xp(Q),$=Math.atan2(Q[3],Q[0]);
if(Math.abs($)>1e-9||!p||J||n)B=this.Cf(u,m,!0,Q,1,Z);var R=new h5(this.name,this),z=new bl(0,0,u.e,u.n);
R.data={jm:B,Zx:Q,bh:u.t.r.clone(),er:b.pB.ov(u,q,z,!1)};b.pB.iv(u,R.data,q);u.hO(R);this.H_(R.data,u);
this.track(b.pB.V9([Z.x,Z.y,Z.e,Z.n],null,n))};b.pB.iv=function(u,m,C){if(C==null)return;m.P8=new bl(0,0,u.e,u.n);
m.u4=C};b.pB.f_=function(u,m){if(m.u4==null)return;b.pB.gf(u,m.u4)};b.pB.xO=function(u,m){if(m.u4==null)return;
var C=m.P8.clone();C.offset(-m.u4.x,-m.u4.y);b.pB.gf(u,C)};b.pB.prototype.aaI=function(u,m){var C=j.N.GG(m),Z=j.N.xp(C),q=j.N.Yt(C),J=q.GI,A=q.c_,n=Math.atan2(q.S,q.w7);
q.rotate(n);var N=new bl(J,A,q.w7,q.MX);if(!Z){function e(V,D,o){var h=V[D]-V[o],T=V[D+1]-V[o+1];return Math.sqrt(h*h+T*T)}var Q=e(m,0,2),p=e(m,4,6),B=Math.max(Q,p),$=e(m,2,4),R=e(m,6,0),z=Math.max($,R),v=b.pB.aui(m,u.e/2,u.n/2),a,X;
if(isNaN(v)||v==Infinity||v==-Infinity||Math.min(v,1/v)<.1)v=(Q+p)/($+R);if(B/z>v){a=B*1;X=a/v}else{X=z*1;
a=X*v}N.e=a;N.n=X}N.x=Math.round(N.x);N.y=Math.round(N.y);N.e=Math.round(N.e);N.n=Math.round(N.n);return N};
b.pB.aui=function(u,m,C){var Z=u[0]-m,q=u[1]-C,J=u[2]-m,A=u[3]-C,n=u[6]-m,N=u[7]-C,e=u[4]-m,Q=u[5]-C,p=((q-Q)*n-(Z-e)*N+Z*Q-q*e)/((A-Q)*n-(J-e)*N+J*Q-A*e),B=((q-Q)*J-(Z-e)*A+Z*Q-q*e)/((N-Q)*J-(n-e)*A+n*Q-N*e),$=-((B*N-q)*(p*A-q)+(B*n-Z)*(p*J-Z))/((B-1)*(p-1));
function R(v){return v*v}var z=Math.sqrt((R(p-1)+R(p*A-q)/$+R(p*J-Z)/$)/(R(B-1)+R(B*N-q)/$+R(B*n-Z)/$));
if(p==1&&B==1)z=Math.sqrt((R(A-q)+R(J-Z))/(R(N-q)+R(n-Z)));return z};b.pB.prototype.disable=function(u,m,C,Z){if(u==null)return;
if(this.Fx)this.Fx.clear(u);this.Fx=null;this.Q$(m,r.E.z,{d:r.J.zW,b:this.id,f5:!1})};b.pB.prototype.Q$=function(u,m,C,Z){var q=new eY(m,!0);
q.data=C;if(Z)q.b=Z;u.c(q)};b.sc=function(){b.pB.call(this,[10,2],b.VC,"tools/rcrop")};b.sc.prototype=new b.pB;
b.yw=function(){b.pB.call(this,[10,39],b.wk,"tools/pcrop")};b.yw.prototype=new b.pB;b.zP=function(){b.Zg.call(this,[10,21],b.MU,"tools/dodge");
this.DU="dodge"};b.zP.prototype=new b.Zg;b.zP.prototype.K4=function(u,m,C,Z,q){this.XE(u,C,Z,q,this.al.expo/Math.PI);
if(this.YW==null)return;this.rk(u)};b.zP.prototype.TQ=function(u,m,C,Z,q){this.k$(u,m,C);if(this.dr)this.dv(u,C,q);
if(this.YW==null)return;if(!q.Ct)return;this.L_(u,C,Z,q);this.rk(u)};b.Mm=function(){b.Zg.call(this,[10,3],b.KR,"tools/eraser");
this.DU="erase"};b.Mm.prototype=new b.Zg;b.Mm.prototype.K4=function(u,m,C,Z,q){this.XE(u,C,Z,q,this.al.flow);
if(this.YW==null)return;this.rk(u)};b.Mm.prototype.TQ=function(u,m,C,Z,q){this.k$(u,m,C);if(this.dr)this.dv(u,C,q);
if(this.YW==null)return;if(!q.Ct)return;var J=this.L_(u,C,Z,q);this.rk(u)};b.Iy=function(){b.Zg.call(this,[10,45],b.a5l,"tools/beraser");
this.DU="ierase"};b.Iy.prototype=new b.Zg;b.Iy.prototype.K4=function(u,m,C,Z,q){if(this.XB(Z,m,q))return;
this.XE(u,C,Z,q,this.al.flow);if(this.YW==null)return;this.rk(u)};b.Iy.prototype.TQ=function(u,m,C,Z,q){this.k$(u,m,C);
if(this.dr)this.dv(u,C,q);if(this.YW==null)return;if(!q.Ct)return;this.L_(u,C,Z,q);this.rk(u)};b.lR=function(){b.No.call(this,[10,15],b.zj,"tools/rselect");
this.Xd="crosshair"};b.lR.prototype=new b.No;b.lR.prototype.rB=function(u,m,C,Z){if(!Z.Ct||!this.vG)return;
var q=this.Ci(u,C,!0);u.D.dz=j.u.yj(q);u.qz=!0;b.uF.Tz(Z,q,u,m)};b.lR.prototype.kP=function(u,m,C,Z){u.D.dz=null;
u.D.fb=[];u.qz=!0;this.finish(u,m,C,Z)};b.lR.prototype.getSelection=function(u,m,C,Z){if(this.l9.QV(this.Sx)||!this.vG)return null;
var q=this.Ci(u,C,!0);if(q.qR())return null;return b.No.r7("Rctn",q,this.al.anta)};b.Wo=function(){b.No.call(this,[10,4],b.ane,"tools/eselect");
this.Xd="crosshair"};b.Wo.prototype=new b.No;b.Wo.prototype.rB=function(u,m,C,Z){if(!Z.Ct||!this.vG)return;
var q=this.Ci(u,C);u.D.dz=b.Wo.IN(q);u.qz=!0;b.uF.Tz(Z,q,u,m)};b.Wo.prototype.kP=function(u,m,C,Z){u.D.dz=null;
u.D.fb=[];u.qz=!0;this.finish(u,m,C,Z)};b.Wo.prototype.getSelection=function(u,m,C,Z){if(this.l9.QV(this.Sx)||!this.vG)return null;
var q=this.Ci(u,C);if(!q.bL(new bl(0,0,u.e,u.n)))return null;return b.No.r7("Elps",q,this.al.anta)};
b.Wo.IN=function(u){var m=u.x,C=u.y,Z=u.x+u.e,q=u.y+u.n,J=(m+Z)/2,A=(C+q)/2,n=(m-Z)/2,N=(C-q)/2,e=.5522848,Q={s:[J,A-N],X:["M","C","C","C","C"]};
Q.s.push(J+e*n,A-N,J+n,A-e*N,J+n,A);Q.s.push(J+n,A+e*N,J+e*n,A+N,J,A+N);Q.s.push(J-e*n,A+N,J-n,A+e*N,J-n,A);
Q.s.push(J-n,A-e*N,J-e*n,A-N,J,A-N);return Q};b.tS=function(u){b.uF.call(this,[10,5],u?b.T8:b.vM,"tools/eyedropper");
this.Cp=null;this.Ul=0;this.hq=null;this.fP=1;this.mQ=2;this.aiF=!0;this.xF=!1};b.tS.prototype=new b.uF;
b.tS.prototype.uy=function(u){return u.Ct};b.tS.prototype.W1=function(u,m,C,Z,q){if(u.d=="pickhere")this.PU(C,m,q,null,u.a9p);
if(u.d=="supertool")this.Cp=u.b};b.tS.prototype.K4=function(u,m,C,Z,q){var J=this.Cp;if(J){J.K4(u,m,C,Z,q);
return}this.Ul=C.jM;this.hq=q;var A=this.PU(u,null,C,Z,q);this.p3(u,m,A,q)};b.tS.prototype.TQ=function(u,m,C,Z,q){var J=this.Cp;
if(J){J.TQ(u,m,C,Z,q);return}var A=this.hq;if(A){var n=q.x-A.x,N=q.y-A.y,e=1,Q=new dz(A.x+n*e,A.y+N*e),p=this.PU(u,null,C,Z,Q);
this.p3(u,m,p,Q,new dz(n*(1-e),N*(1-e)))}};b.tS.prototype.p3=function(u,m,C,Z,q){var J=this.aiF,A=this.xF,e=12,Q=11;
if(u.t.V>4)A=!1;if(!A&&!J)return;if(q==null)q=new dz(0,0);var n=new bl(0,0,u.e,u.n),N=u.K9(),p=(e*2+1)*Q,B=new dz(p/2,p/2),$=new bl(0,0,p,p),R=j.U($.Z()*4),z=u.t.Iv(Z.x,Z.y),v=Math.floor(z.x),a=Math.floor(z.y),X=new ix;
X.scale(1/Q,1/Q);X.translate(v-e,a-e);if(A)j.scale.dS(N,n,X,R,$);var V=(e-3.4)*Q,o=(e-1.7)*Q,h=e*Q;for(var T=0;
T<p;T++)for(var l=0;l<p;l++){var w=dz.th(new dz(l,T),B);if(w>V){if(J){var W=Math.max(0,V-w+1),U=(T*p+l)*4,s=R[U+3]<<24|R[U]<<16|R[U+1]<<8|R[U+2],S=255<<24|(T<h+Q*.5?C:this.Ul);
if(w>o){W=Math.max(0,o-w+1);s=S;S=4286611584}else if(!A){s=S&16777215}R[U+0]=(1-W)*(S>>>16&255)+W*(s>>>16&255);
R[U+1]=(1-W)*(S>>>8&255)+W*(s>>>8&255);R[U+2]=(1-W)*(S>>>0&255)+W*(s>>>0&255);R[U+3]=(1-W)*(S>>>24&255)+W*(s>>>24&255)}if(w>h){R[(T*p+l)*4+3]=Math.max(0,255*(h-w+1))}}}function x(D){var K=D<<2;
R[K]=0;R[K+1]=0;R[K+2]=0;R[K+3]=255}function P(D){var K=D<<2;R[K]=255;R[K+1]=255;R[K+2]=255;R[K+3]=255}var y=this.fP*Q+2,_=p-y>>>1,g=_+y-1;
if(A&&y<p)for(var D=0;D<y;D++){var G=_*p+_+D,O=g*p+_+D,E=(_+D)*p+_,L=(_+D)*p+g;x(G);x(O);x(E);x(L);if(D!=0&&D!=y-1){P(G+p);
P(O-p);P(E+1);P(L-1)}}if(!A)for(var D=-9;D<=9;D++){if(-3<D&&D<3)continue;var c=p>>>1,l=c*p+c+D,T=(c+D)*p+c;
P(l-p);x(l);P(l+p);P(T-1);x(T);P(T+1)}var k=b.uF.rM(0,0,["#"+j.U0(C),"RGB "+(C>>>16&255)+","+(C>>>8&255)+","+(C>>>0&255)]),n=k[1];
n.y=0;n.x=p-n.e>>>1;j.zO(k[0],n,R,$);var I={p8:R,yt:$,$k:new dz(B.x+q.x,B.y+q.y)},Y=new eY(r.E.z,!0);
Y.data={d:r.J.q$,U7:I};m.c(Y)};b.tS.prototype.ec=function(u,m,C,Z,q,J){this.PU(u,m,C,Z,q);var A=this.Cp;
if(A){A.ec(u,m,C,Z,q);return}if(this.hq){this.hq=null;if(J)this.PU(u,m,C,Z,q,this.Ul);var n=new eY(r.E.z,!0);
n.data={d:r.J.q$,U7:"default"};m.c(n)}};b.tS.prototype.PU=function(u,m,C,Z,q,J){if(J==null)J=b.tS.t6(u,q,this.fP,this.mQ);
var A=new eY(r.E.z);A.data={d:r.J.mh,no:jO.e0,OY:Z&&Z.j(hs.mD)?1:0,k:J};if(m)m.c(A);return J};b.tS.t6=function(u,m,C,Z){if(Z==null)Z=2;
var q=u.t.Iv(m.x,m.y),J,A,n=u.w.length==1&&u.g[u.w[0]].$v>0,N=u.Rc.length!=0,o=0,h=0,T=0;if(n||N){var e;
if(N)e=u.YG[u.Rc[0]];else{var Q=u.g[u.w[0]];e=Q.$v==1?Q.Te():Q.a7d()}A=e.Ci();if(!A.PG(q))return e.color==0?0:16777215;
J=j.U(A.Z()*4);J.fill(255);var p=e.YX();j.Ps(p,J)}else if(Z==0&&u.w.length!=0){var Q=u.g[u.w[0]];J=Q.buffer;
A=Q.rect}else{J=Z==2?u.K9():u.K9(u.w[0]);A=new bl(0,0,u.e,u.n)}var B=Math.floor(q.x)-A.x,$=Math.floor(q.y)-A.y,R=(C-1)/2,z=Math.max(0,B-R),v=Math.max(0,$-R),a=Math.min(A.e,B+R+1),X=Math.min(A.n,$+R+1),V=(a-z)*(X-v);
for(var B=z;B<a;B++)for(var $=v;$<X;$++){var D=4*($*A.e+B);o+=J[D];h+=J[D+1];T+=J[D+2]}o=Math.round(o/V);
h=Math.round(h/V);T=Math.round(T/V);return o<<16|h<<8|T};b.tS.prototype.vv=function(u){var m=u.al;this.fP=[1,3,5,11,31][m[0]];
this.mQ=m[1];this.aiF=m[2];this.xF=m[3]};b.Ho=function(){b.uF.call(this,[10,6],b.afT,"tools/gradient");
this.al={C:JSON.parse(c0.gy.aoZ).v,lr:"Lnr",Fi:!1,akt:!1,adk:"norm",Hf:1};this.qF=!1;this.PN=null};b.Ho.prototype=new b.uF;
b.Ho.prototype.enable=function(u,m,C,Z){var q=new eY(r.E.z,!0);q.data={d:r.J.q$,U7:"default"};m.c(q)};
b.Ho.prototype.vv=function(u){this.al=u.no};b.Ho.prototype.K4=function(u,m,C,Z,q){if(!u.w0())return;
this.PN=u.t.Iv(q.x,q.y);this.PN=b.eG.xJ(u,this.PN,C);this.qF=!0};b.Ho.prototype.TQ=function(u,m,C,Z,q){if(!this.qF)return;
var J=u.t.Iv(q.x,q.y);J=b.eG.xJ(u,J,C);if(Z.j(hs.KP))J=b.Ho.K2(this.PN,J);u.D.dz={s:[this.PN.x,this.PN.y,J.x,J.y],X:["M","L"]};
u.D.hN=[this.PN.x,this.PN.y,J.x,J.y];u.qz=!0};b.Ho.prototype.ec=function(u,m,C,Z,q){if(!this.qF)return;
var J=u.g[u.w[0]],A=u.t.Iv(q.x,q.y);A=b.eG.xJ(u,A,C);if(Z.j(hs.KP))A=b.Ho.K2(this.PN,A);var n=A.Vy(this.PN),N=dz.z4(this.PN,A,.5),e=Math.atan2(n.y,n.x),Q=dz.th(this.PN,A),p=Math.sin(e),B=Math.cos(e);
if(Q>2){var $;if(u.q)$=u.q.rect;else $=new bl(0,0,u.e,u.n);var R=j.U($.Z()*4),z=this.al,v=z.lr;if(v!="Lnr"){Q*=2;
N=this.PN}j.C.jx(z.C,R,$,[B*1/Q,p*1/Q,-p*1/Q,B*1/Q],N.x,N.y,z.Fi,c0.C.types.indexOf(v),C.jM,C.z0,null,z.akt);
var a=Math.round(z.Hf*256),X=R.length;if(a!=256)for(var D=0;D<X;D+=4)R[D+3]=R[D+3]*a>>>8;var V=new eY(r.E.H);
V.b=b.KR;V.data={d:"fillBMP",Sd:R,h3:z.adk,wy:this.name};m.c(V)}u.D.dz=null;u.D.hN=[];u.qz=!0;this.qF=!1};
b.Ho.K2=function(u,m){if(u.QV(m))return u;var C=m.x-u.x,Z=m.y-u.y,q=Math.abs(C),J=Math.abs(Z);if(q>J)J=q/2>J?0:q;
if(J>q)q=J/2>q?0:J;q=C>0?q:-q;J=Z>0?J:-J;var A=Math.sqrt(C*C+Z*Z)/Math.sqrt(q*q+J*J);return new dz(u.x+q*A,u.y+J*A)};
b.Ho.Dq=function(u,m,C,Z,q,J,A){if(A==null)A=document.createElement("canvas");var n=A.getContext("2d");
A.width=m;A.height=C;var N=new bl(0,0,m,C),e=j.U(m*C*4);j.Iu(e,m,C,4);var Q=Math.sin(Z),p=Math.cos(Z),B=j.U(m*C*4);
j.C.jx(u,B,N,[p*1/m,Q*1/m,-Q*1/C,p*1/C],m/2,C/2,!1,0,q,J);j.a.q5("norm",B,N,e,N,N,1);var $=n.getImageData(0,0,m,C);
j.Uj(e,$.data);n.putImageData($,0,0);return A.toDataURL()};b.Ho.a9y=function(u,m,C){var Z=JSON.parse(JSON.stringify(u));
if(Z.Clrs)for(var D=0;D<Z.Clrs.v.length;D++){var q=Z.Clrs.v[D].v,J=q.Type.v.Clry;if(J=="UsrS")continue;
var A=J=="FrgC"?m:C;q.Type.v.Clry="UsrS";q.Clr={t:"Objc",v:j.C.sG({p:A>>16&255,T:A>>8&255,S:A&255})}}return Z};
b.jp=function(){b.uF.call(this,[10,7],b.mA,"tools/hand");this.hq=new dz(0,0);this.CX=null;this.Ap=0};
b.jp.prototype=new b.uF;b.jp.prototype.W1=function(u,m,C,Z,q){var J=u.d;if(J=="setcls"){C.t.Np=u.Np;
C.qz=!0;C.xi=!0}if(J=="scroll"&&!Z.j(hs.mD)){if(Z.j(hs.Vw))b.jp.nU(C,C.t.r.x-u.TZ.y,C.t.r.y-u.TZ.x);
else b.jp.nU(C,C.t.r.x-u.TZ.x,C.t.r.y-u.TZ.y)}};b.jp.prototype.enable=function(u,m,C,Z){this.CX=null;
var q=new eY(r.E.z,!0);q.data={d:r.J.q$,U7:"grab"};m.c(q);if(u&&Date.now()-this.Ap<300){q.type=r.E.H;
q.b=b.Uz;q.data={d:"adapt",k:"fitscr"};m.c(q)}this.Ap=Date.now()};b.jp.prototype.K4=function(u,m,C,Z,q){this.CX=u.t.r.clone();
this.hq.qX(q.x,q.y)};b.jp.prototype.TQ=function(u,m,C,Z,q){if(!q.Ct)return;if(this.CX==null)this.K4(u,m,C,Z,q);
b.jp.nU(u,this.CX.x+(q.x-this.hq.x),this.CX.y+(q.y-this.hq.y))};b.jp.prototype.ec=function(u,m,C,Z,q){this.CX=null};
b.jp.nU=function(u,m,C){var Z=u.t.V,q=u.t.pQ,J=q.e,A=q.n,n=u.e*Z,N=u.n*Z,e=n<J&&N<A,Q=J/2+n/2-64,p=A/2+N/2-64;
u.t.r.qX(Math.max(-Q,Math.min(Q,m)),Math.max(-p,Math.min(p,C)));u.xi=!0};b.OS=function(){b.uF.call(this,[10,47],b.akv,"tools/rview");
this.hq=new dz(0,0);this.VX=null;this.afU=null;this.Ap=0};b.OS.prototype=new b.uF;b.OS.prototype.enable=function(u,m,C,Z){this.CX=null;
var q=new eY(r.E.z,!0);q.data={d:r.J.q$,U7:"grab"};m.c(q);if(u&&Date.now()-this.Ap<300&&u.t.ez!=0){u.t.ez=0;
u.qz=!0}this.Ap=Date.now();if(u)this.h0(u,m)};b.OS.prototype.disable=function(u,m,C,Z,q){if(u)this.h0(u,m)};
b.OS.prototype.DS=function(u,m,C,Z){if(u)this.h0(u,m)};b.OS.prototype.K4=function(u,m,C,Z,q){this.hq.qX(q.x,q.y);
var J=u.t;this.VX=J.Iv(J.pQ.e/2,J.pQ.n/2);this.afU=J.bR()};b.OS.prototype.TQ=function(u,m,C,Z,q){if(!q.Ct)return;
var J=u.t,A=this.VX,n=this.hq,N=new dz(J.pQ.e/2,J.pQ.n/2),e=Math.atan2(q.y-N.y,q.x-N.x),Q=Math.atan2(n.y-N.y,n.x-N.x);
this.Q_(u,m,this.afU.clone(),A,e-Q)};b.OS.prototype.vv=function(u,m,C,Z){this.Q_(C,m,null,null,u.VV-C.t.ez);
C.t.ez=u.VV};b.OS.prototype.Q_=function(u,m,C,Z,q){var J=u.t;if(C==null)C=J.bR();if(Z==null)Z=J.Iv(J.pQ.e/2,J.pQ.n/2);
C.translate(-Z.x,-Z.y);C.rotate(q);C.translate(Z.x,Z.y);J.akY(C);if(u.e*J.V<J.pQ.e&&u.n*J.V<J.pQ.n)J.r.qX(0,0);
u.qz=!0;this.h0(u,m)};b.OS.prototype.h0=function(u,m){var C=new eY(r.E.z,!0);C.data={d:r.J.zW,b:this.id,VV:u.t.ez};
m.c(C)};b.ae=function(){b.MY.call(this,[10,25],b.AU,"tools/hbrush")};b.ae.prototype=new b.MY("");b.ae.prototype.ec=function(u,m,C,Z,q){if(this.YW==null)return;
this.CA(u,"heal",this.YW.g9(),this.YW.Ci(),this.YW.ud());this.G(u,this.YW.ud());b.Zg.prototype.ec.call(this,u,m,C,Z,q);
if(!this.al.algnd)this.r=null};b.lw=function(u){b.uF.call(this,u?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],u?b._l:b.IR,u?"tools/vtype":"tools/htype");
this.vn=[];this.Uk=null;this.C1=null;this.caller=null;this.GT=1;this.Gz=null;this.atJ=0;this.Oe=0;this.ako=null;
this.Kh=null;this.g8=null;this.Qf=null;this.zU=null;this.lq=null;this.abD=null;this.nb=null;this.Fx=null;
this.k3=null;this.a0W=null;this.HE=!1;this.rU=!1;this.YH=!1;this.RK=null;this.TK=null;this.akH=null;
this.Dj=!1;this.aI=!1;this.OO=-1;this.xE=-1;this.fV=document.createElement("textarea");this.fV.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.fV.addEventListener("input",this.Ny.bind(this),!1);this.fV.addEventListener("keydown",this.a2d.bind(this),!1);
this.fV.addEventListener("keyup",this.aap.bind(this),!1);var m=function(C){C.stopPropagation()};this.fV.addEventListener("keydown",m,!1);
this.fV.addEventListener("keyup",m,!1)};b.lw.prototype=new b.uF;b.lw.prototype.uy=function(u){return u.Ct};
b.lw.prototype.hP=function(u,m,C,Z){if(this.g8!=null||this.id==b._l)return;this.caller=m;this.Uk=u;var q=this.cV(u);
if(q.length!=0){var J=null,A=[],n=[];for(var D=0;D<q.length;D++){var N=u.g[q[D]],e=N.add.TySh,Q=0,p=ad.yd(e.pU).length-2,B=ad.zd(e.pU,Q,p);
ad.vF(B,b.Q.p1(e.I));if(B.L4.Font!=null)B.L4.Font=B.nS[B.L4.Font].Name;J=B.nS;A.push(B.L4);n.push(B.n9)}var B={nS:J,L4:ad.kt(A),n9:ad.kt(n)};
if(B.L4.Font!=null)ad.t7(B,B.L4.Font);this.Fv(m,B,e)}};b.lw.prototype.cV=function(u){var m=[];for(var D=0;
D<u.w.length;D++)if(u.g[u.w[D]]&&u.g[u.w[D]].add.TySh)m.push(u.w[D]);return m};b.lw.prototype.W1=function(u,m,C,Z,q){var J=u.d=="insertGlyph";
if((J||u.d=="insertText")&&this.g8){var A=J?String.fromCharCode(65533):u.k,n=this.fV,N=n.value,e=n.selectionStart,Q=n.selectionEnd;
n.value=N.slice(0,e)+A+N.slice(Q);n.selectionStart=n.selectionEnd=e+A.length;this.Ny(null,J?u.k:null);
n.focus()}if(u.d=="updateStyles"){if(this.g8==null){var p=this.cV(C),B=!1;if(p.length!=0){this.UM(C,m,q,p);
for(var D=0;D<p.length;D++){var $=C.g[p[D]],R=$.add.TySh;ad.Op(R,this.GT);this.g8=$;var z=ad.yd(R.pU);
this.OO=0;this.xE=z.length-1;ad.sM(R.pU,this.OO,this.xE,this.cZ(q,R));var v=this.Lw(C,q);if(v==!1)B=!0}if(B){this.Dj=!0;
return}this.FV(C,m)}return}this.G5(q)}if(u.d.startsWith("warp")){var a=this.aI;if(u.d=="warp"||u.d=="warpCancel"){if(this.g8==null)return;
if(u.d=="warp")this.g8.add.TySh.av=u.x0;else this.g8.add.TySh.av=this.abD;var C=this.Uk;this.Lw(C,q);
if(!a)this.PA(C)}if(u.d!="warp")this.fV.focus();if((u.d=="warpConfirm"||u.d=="warpCancel")&&a){this.aI=!1;
if(u.d=="warpConfirm")this.FV(C,m);else this.Qn(C,m)}}if(u.d=="editCurr"){if(q.Oj!=b.IR){this.Gz=q.Oj;
var X=new eY(r.E.z,!0);X.data={d:r.J.K3,b:b.IR};m.c(X)}if(this.g8!=null)this.disable(C,m,q,Z);this.Uk=C;
this.C1=q;this.caller=m;this.UM(C,m,q,[u.Gk]);var z=ad.yd(this.g8.add.TySh.pU);this.OO=0;this.xE=z.length-1;
this.PA(C);this.FI();this.fV.focus()}if(u.d=="switchPntPrgr"){if(this.g8)return;var $=C.g[C.w[0]],R=$.add.TySh,V=R.I.p1(),o=JSON.parse(JSON.stringify(R.pU)),h=ad.wH(o),T=h==1?ad.uG(o):[0,0,Math.round($.rect.e*1.05/V),Math.round($.rect.n*1.25/V)],l=ad.zd(o,0,0),w=l.nS[l.L4.Font].Name,W=q.u6.TF(w),U=[0,T[2],T[2]/2][l.n9.Justification%3],s=W?iW.ji(W,w,l.L4):l.L4.FontSize*.8;
ad.Qt(o,1-h);if(h==0){U=-U;s=-s;ad.Fm(o,[0,0,T[2],T[3]])}var S=new ix(1,0,0,1,U,s);S.concat(R.I);this.W1({sm:C.w[0],d:"newED",N9:o,I:S,apo:[16,3,h==1?0:1]},m,C,Z,q)}if(u.d=="newED"){var $=C.g[u.sm],R=$.add.TySh,x=this.oH(C,[u.sm]);
R.pU=u.N9;if(u.I)R.I=u.I;var P=new iW(R.pU,q.u6),y=bL.mn(P,R);$.rect=y.yt;$.buffer=y.bf;$.G();C.G();
var _=new h5(u.apo?u.apo:this.name,this);_.data={U9:x,nF:this.oH(C,[u.sm])};C.hO(_)}if(u.d=="fromAction"){var g=u.Xc.yS.Usng.v,G=g.TxtC.v,O=[];
for(var D=0;D<2;D++){var E=G[D==0?"Hrzn":"Vrtc"].v,A=E.val;if(E.type=="#Prc")A=(D==0?C.e:C.n)*(A/100);
O[D]=A}this.kv(C,m,q,Z,C.t.qh(O[0],O[1]));var $=C.g[C.w[0]],R=$.add.TySh,L=R.pU,N=ad.yd(L);ad.ta(L,0,N.length-1);
ad.Y9(L,0,g.Txt.v.replace(/\r/g,"\n"));N=ad.yd(L);for(var h=0;h<2;h++){var c=g[h==0?"Txtt":"paragraphStyleRange"].v;
for(var D=0;D<c.length;D++){var k=c[D].v,e=k.From.v,Q=Math.min(k.T.v-1,N.length-1);k=k[h==0?"TxtS":"paragraphStyle"].v;
var I=ad.zd(L,e,Q),Y=h==0?I.L4:I.n9;for(var K in k){var i=k[K].v;if(K=="Sz")Y.FontSize=Math.round(i.val);
else if(K=="fontPostScriptName")ad.t7(I,i);else if(K=="Algn")Y.Justification={Left:1,Cntr:2}[i.Alg];
else if(K=="leading")Y.Leading=k[K].v.val;else if(K=="baselineShift")Y.BaselineShift=k[K].v.val;else if(K=="autoLeading")Y.AutoLeading=k[K].v;
else if(K=="syntheticBold")Y.FauxBold=k[K].v;else if(K=="syntheticItalic")Y.FauxItalic=k[K].v;else if(K=="Trck")Y.Tracking=k[K].v;
else if(K=="verticalScale")Y.VerticalScale=k[K].v/100;else if(K=="horizontalScale")Y.HorizontalScale=k[K].v/100;
else if(K=="Clr")Y.FillColor={Type:1,Values:[1,i.Rd.v/255,i.Grn.v/255,i.Bl.v/255]}}ad.sM(L,e,Q,I)}}var P=new iW(R.pU,q.u6),y=bL.mn(P,R);
$.rect=y.yt;$.buffer=y.bf;$.G();C.G();this.FV(C,m)}};b.lw.prototype.G5=function(u){var m=Math.min(this.OO,this.xE),C=Math.max(this.OO,this.xE),Z=this.g8.add.TySh;
ad.Op(Z,this.GT);ad.sM(Z.pU,m,C-1,this.cZ(u,Z));var q=this.Uk,J=this.Lw(q,u);if(J)this.PA(q);if(document.activeElement.tagName.toLowerCase()!="input")this.fV.focus()};
b.lw.prototype.$d=function(u){return this.vn.indexOf(u)!=-1};b.lw.prototype.enable=function(u,m,C,Z){var q=this.fV;
m.m.appendChild(q);this.nb="default";this.p3(m)};b.lw.prototype.sZ=function(){return this.g8!=null};
b.lw.Rs=function(u,m){for(var D=u.g.length-1;D>=0;D--){var C=u.g[D];if(C.add.TySh&&C.rect.PG(m)&&u.a0R(D)){var Z=C.Je(2)||C.Je(31);
return Z?-2:D}}return-1};b.lw.prototype.K4=function(u,m,C,Z,q){this.Uk=u;this.C1=C;this.caller=m;var J=u.t.Iv(q.x,q.y),A=this.g8==null;
if(A){var n=b.lw.Rs(u,J);if(n==-2){alert(jg.get([6,57,0]));return}if(n>=0&&!Z.j(hs.KP)){if(!bL.tV(u.g[n].add.TySh,C.u6,m)){alert("Fonts not loaded yet");
return}this.UM(u,m,C,[n])}else{this.YH=!0;this.RK=q;return}}var N=A?-1:ad.wH(this.g8.add.TySh.pU),e=this.k3?this.k3:this.Fx;
if(e&&e.K4(u,C,Z,J,null,null,q)&&j.x0.Y2(this.g8.add.TySh.av)||!A&&j.u.FS(J,this.g8.rect)>20/u.t.V&&(N==0||N==1)){this.HE=!0;
this.TK=J;this.akH=this.g8.add.TySh.I.clone();if(this.OO==-1&&this.xE==-1)this.OO=this.xE=this.dR(J)}else{if(this.zU==null){alert("Fonts not loaded yet");
return}this.rU=!0;this.OO=this.xE=this.dR(J);var Q=Date.now();if(Q-this.atJ>300)this.Oe=0;this.Oe++;
this.atJ=Q;if(this.Oe==2)this.a9M();if(this.Oe==3)this.ap5();if(this.Oe>1){this.rU=!1}}this.FI();this.PA(u)};
b.lw.prototype.UM=function(u,m,C,Z){var q=u.g[Z[0]];this.g8=q;this.Q$(m,r.E.z,{d:r.J.zW,b:this.id,mY:"showactive"});
this.Qf=Z;u.w=Z.slice(0);u.oU();u.Ss=!0;this.lq=this.oH(u,Z);this.nx(q.add.TySh);this.Lw(u,C)};b.lw.prototype.nx=function(u){if(ad.wH(u.pU)!=1)return;
var m=ad.uG(u.pU);m=new bl(0,0,m[2]-m[0],m[3]-m[1]);var C=[m.x,m.y,m.x+m.e,m.y,m.x+m.e,m.y+m.n,m.x,m.y+m.n];
j.u.I(C,u.I,C);this.Fx=new fi(C,!1,!1,!1,!0)};b.lw.prototype.a9M=function(){var u=ad.yd(this.g8.add.TySh.pU);
this.OO=this.tA(u,this.OO);this.xE=this.Ih(u,this.OO)};b.lw.prototype.tA=function(u,m){var C=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",Z=[];
for(var D=0;D<C.length;D++)Z.push(C.charAt(D));var q=Z.indexOf(u[m])==-1?!0:!1;for(var D=m-1;D>=0;D--)if(Z.indexOf(u.charAt(D))!=-1==q)return D+1;
return 0};b.lw.prototype.Ih=function(u,m){var C=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",Z=[];for(var D=0;
D<C.length;D++)Z.push(C.charAt(D));var q=Z.indexOf(u[m])==-1?!0:!1;for(var D=m+1;D<u.length;D++)if(Z.indexOf(u.charAt(D))!=-1==q)return D;
return u.length-1};b.lw.prototype.ap5=function(){var u=this.zU.ame(this.OO);this.OO=u[0];this.xE=u[1]};
b.lw.prototype.p3=function(u){var m=new eY(r.E.z,!0);m.data={d:r.J.q$,U7:this.nb};u.c(m)};b.lw.prototype.TQ=function(u,m,C,Z,q){var J=u.t.Iv(q.x,q.y),A=this.g8;
if(!q.Ct){var n="default",N=this.Fx,e=this.k3?this.k3:N;if(e&&j.x0.Y2(A.add.TySh.av)){var Q=e.vA(J,u.t.V,null,q);
if(Q)n=Q;else if(e==N&&N.rC(J))n="text"}else if(A&&j.u.FS(J,A.rect)>20/u.t.V)n="move";else if(b.lw.Rs(u,J)>=0)n="text";
if(n!=this.nb){this.nb=n;this.p3(m)}}var p=this.RK;if(this.YH&&Math.min(q.x-p.x,q.y-p.y)>4/u.t.V){this.YH=!1;
this.kv(u,m,C,Z,q);A=this.g8;this.HE=!0;this.Fx=new fi(null,!1,!1,!1,!0);var B=u.t.Iv(this.RK.x,this.RK.y);
B.x=Math.round(B.x);B.y=Math.round(B.y);this.Fx.K4(u,C,Z,B,null,null,q)}if(this.HE){var $=A.add.TySh;
if(this.k3){this.k3.TQ(u,C,Z,J);var R=j.N.Yt(j.N.GG(this.k3.Vr(),this.a0W));$.I=R;this.Lw(u,C);ad.p9($)}else if(this.Fx){this.Fx.TQ(u,C,Z,J);
var z=$.I.clone(),v=Math.atan2(z.S,z.w7);z.rotate(v);var R=j.N.Yt(j.N.GG(this.Fx.Vr())),a=Math.atan2(R.S,R.w7);
R.rotate(a);if(!isNaN(R.w7)&&R.w7*R.MX-R.S*R.ZU!=0){var X=new bl(0,0,R.w7/z.w7,R.MX/z.MX),V=Math.round(X.e),o=Math.round(X.n),h=$.pU.Curve;
if(h){var T=ad.uG($.pU),l=new ix(V/T[2],0,0,o/T[3],0,0);j.u.I(h.Points,l,h.Points);ad.p9($)}ad.Fm($.pU,[0,0,V,o]);
$.I=j.N.Yt(j.N.GG(this.Fx.Vr(),X));this.Lw(u,C);ad.p9($)}}else{var w=J.x-this.TK.x,W=J.y-this.TK.y;$.I=this.akH.clone();
var U=new dz($.I.GI+w,$.I.c_+W);U=b.eG.xJ(u,U,C);$.I.GI=U.x;$.I.c_=U.y;this.Lw(u,C)}}if(this.rU)this.xE=this.dR(J);
if(this.HE||this.rU)this.PA(u)};b.lw.prototype.kv=function(u,m,C,Z,q){var J=u.yG(),A=J[0],n=J[1],N=u.Rp();
N.add.lnsr="rend";var e=u.g.slice(0);N.RS("Text layer "+e.length);this.g8=N;var Q=u.w.length==0?u.g.length-1:u.w[u.w.length-1],p=Q+1;
if(e[Q].add.lsct==cT.G6)p--;this.lq={kr:e.slice(0),Ow:u.w.slice(0)};e.splice(p,0,N);u.w=[p];this.OO=this.xE=0;
u.os(e);this.lq.$m=e.slice(0);this.lq.i9=u.w.slice(0);this.Q$(m,r.E.z,{d:r.J.zW,b:this.id,mY:"showactive"});
var B=u.t.Iv(q.x,q.y),$=C.yU;console.log($);if(this.id==b._l){$=JSON.parse(JSON.stringify($));$.L4.BaselineDirection=1}N.add.TySh=ad.bF(B.x,B.y,$);
var R=N.add.TySh,z=R.pU;if(this.id==b._l)z._LineOrientation=2;ad.Op(R,this.GT);if(q.Ct)ad.Qt(z,1);else{ad.Qt(z,0);
var v=A[n.pop()],X=v?v.add.vmsk:null;if(X&&!Z.j(hs.KP)){X=X.clone();var V=X.B,h,T;for(var D=0;D<V.length;
D++)if(V[D].hB!=null)V[D].hB=0;var o=5/u.t.V;h=j.$.O0(X.B,B,!0,o);if(h.NR==-1)h=j.$.O0(X.B,B);if(h.NR!=-1){ad.Qt(z,1);
var l=j.$.I9(V,h.NR),w=j.$.lN(V,h.NR)-1;V=X.B=V.slice(0,2).concat(V.slice(l,l+w+1));X.w=[];R.add={vmsk:X,vogk:F.yz(V)};
z.Curve={};ad.GA(R);if(h.Gv!=null){var W=iW.Ys(z.Curve);j.u.I(W[0],R.I,W[0]);var U=j.u.YY(W[0],B.x,B.y),s=C.yU.n9.Justification;
if(s==2||s==5){var S=(W[2][U]+W[3]*.5)%W[3];U=iW.Bm(S,W[2])}var x=W[1][U];x=x%w;X.s4=[x,x];ad.GA(R)}else this.nx(R)}}}return N};
b.lw.prototype.ec=function(u,m,C,Z,q,J){if(J){this.YH=!1;return}if(this.g8==null&&!this.YH)return;var A=u.t.Iv(q.x,q.y),n=this.YH;
if(this.YH){this.YH=!1;this.kv(u,m,C,Z,q);this.rU=!0}if(this.HE||this.rU){this.PA(u);this.FI();if(n)this.G5(C)}if(this.HE&&this.Fx)this.Fx.ec(u,C,Z,A);
this.HE=this.rU=!1;this.fV.focus()};b.lw.prototype.FI=function(){var u=this.g8.add.TySh,m=Math.min(this.OO,this.xE),C=Math.max(this.OO,this.xE),Z,q;
if(m==C){var J=ad.yd(u.pU);if(m==0||J.charAt(m-1)=="\n")Z=q=m;else Z=q=m-1}else{Z=m;q=C-1}var A=ad.zd(u.pU,Z,q);
ad.vF(A,b.Q.p1(u.I));this.Fv(this.caller,A,u)};b.lw.prototype.Fv=function(u,m,C){this.Q$(u,r.E.z,{d:r.J.mh,no:jO.Cd,yU:m});
var Z=this.GT=ad.rR(C);this.Q$(this.caller,r.E.z,{d:r.J.zW,b:this.id,mY:"changeAA",Qc:Z})};b.lw.prototype.S$=function(){var u=this.g8;
if(u&&!this.HE&&this.k3!=null){this.k3.ec(this.Uk,this.C1,null,null);this.k3=null;this.nx(u.add.TySh);
this.PA(this.Uk)}};b.lw.prototype.disable=function(u,m,C,Z){var q=this.g8;this.FV(u,m)};b.lw.prototype.vv=function(u,m,C,Z,q){if(this.aI)return;
if(u.mY=="commit")this.FV(C,m);if(u.mY=="cancel")this.Qn(C,m);if(u.mY=="changeAA"){this.GT=u.Qc;if(C!=null)this.W1({d:"updateStyles"},m,C,Z,q)}if(u.mY=="showwarp"){if(C==null)return;
if(this.g8==null){var J=C.g[C.w[0]],A=J.add.TySh;if(A==null)return;this.UM(C,m,q,[C.w[0]]);this.fV.focus();
this.aI=!0}this.abD=this.g8.add.TySh.av;var n=new eY(r.E.z,!0);n.data={d:r.J.zH,E$:"textwarp"};m.c(n)}};
b.lw.prototype.vZ=function(u,m){if(m!=jO.ht)return;if(this.Dj){this.Dj=!1;var C=this.Uk,Z=this.Qf;for(var D=0;
D<Z.length;D++){this.g8=C.g[Z[D]];this.Lw(C,u)}this.FV(C,this.caller);return}if(this.g8)this.G5(u)};
b.lw.prototype.cZ=function(u,m){var C=JSON.parse(JSON.stringify(u.yU));ad.vF(C,1/b.Q.p1(m.I));return C};
b.lw.prototype.H_=function(u,m){if(u.U9!=null)this.IV(m,u.nF);else this.NJ(m,u.$m,u.i9)};b.lw.prototype.H8=function(u,m){if(u.U9!=null)this.IV(m,u.U9);
else this.NJ(m,u.kr,u.Ow)};b.lw.prototype.IV=function(u,m){for(var D=0;D<m.length;D++){var C=m[D],Z=C.sm,q=u.g[Z];
q.buffer=C._y;q.rect=C.yt.clone();q.G();var J=q.add.TySh;J.av=C.x0;J.jR=C.jR.clone();J.I=C.I.clone();
J.pU=JSON.parse(JSON.stringify(C.pU));q.ye()}u.G()};b.lw.prototype.oH=function(u,m){var C=[];for(var D=0;
D<m.length;D++){var Z=m[D],q=u.g[Z],J=q.add.TySh;C.push({sm:Z,I:J.I.clone(),x0:JSON.parse(JSON.stringify(J.av)),jR:J.jR.clone(),pU:JSON.parse(JSON.stringify(J.pU)),_y:q.buffer.slice(0),yt:q.rect.clone()})}return C};
b.lw.prototype.NJ=function(u,m,C){u.w=C;u.os(m);u.G();u.aJ=!0};b.lw.prototype.Lw=function(u,m,C){if(C==null)C=!1;
var Z=this.g8.add.TySh;if(!bL.tV(Z,m.u6,this.caller))return!1;this.zU=new iW(Z.pU,m.u6);if(!C){var q=ad.yd(Z.pU);
this.fV.value=q.slice(0,q.length-1)}var J=bL.mn(this.zU,Z);if(j.x0.Y2(Z.av))Z.jR=new bl;else{if(ad.wH(Z.pU)==1){var A=ad.uG(Z.pU),jt=J.jR.y;
Z.jR=new bl(0,jt,A[2]-A[0],A[3]-A[1]-jt)}else{Z.jR=J.jR}}var n=this.g8.rect;this.g8.rect=J.yt;this.g8.buffer=J.bf;
this.g8.G();u.gO();u.G(u.root.t8(J.yt.QN(n),u,u.g.indexOf(this.g8)));return!0};b.lw.prototype.Ny=function(u,m){if(this.g8==null||this.aI)return;
var C=this.fV.selectionStart,Z=this.g8.add.TySh,q=ad.yd(Z.pU),J=this.fV.value+"\n",A=Math.min(this.OO,this.xE),n=Math.max(this.OO,this.xE),B=!1;
this.OO=Math.min(C,A);if(J.length-C<q.length-this.xE)this.xE=q.length-J.length+C;if(q!=J){while(this.OO>0&&q.charAt(this.OO-1)!=J.charAt(this.OO-1))this.OO--}var N=q.substring(0,this.OO),e=q.substring(this.xE,q.length),Q=J.substring(this.OO,J.length-e.length);
ad.ta(Z.pU,this.OO,this.xE);ad.Y9(Z.pU,this.OO,Q);if(m!=null)ad.ab_(Z.pU,this.OO,m);var p=this.cZ(this.C1,Z),$=-1,R=Array.from(Q);
for(var D=0;D<R.length;D++)$=Math.max($,R[D].codePointAt(0));if($!=-1&&$>128&&$!=65533&&p.L4.Font!=null){var z=p.nS[p.L4.Font].Name,v=this.C1.u6.jw($,z,p.nS);
if(z!=v){ad.t7(p,v);B=!0}}if(this.Kh!=null&&Q==this.Kh){var a=JSON.parse(this.ako);p.L4=a.L4;p.nS=a.nS;
B=!0}ad.sM(Z.pU,this.OO,this.OO+Q.length-1,p);this.OO=this.xE=N.length+Q.length;var X=this.Uk,V=this.Lw(X,this.C1,!0);
if(V)this.PA(X,!0);if(B)this.FI()};b.lw.prototype.aap=function(u){if(!u.ctrlKey)this.S$()};b.lw.prototype.a2d=function(u){if(this.g8==null||this.aI)return;
if(this.g8==null)return;if(this.k3==null&&u.ctrlKey){var m=this.g8.add.TySh,C=ad.wH(m.pU),Z;if(C==1){Z=ad.uG(m.pU);
Z=new bl(0,0,Z[2]-Z[0],Z[3]-Z[1])}else Z=this.zU.W8();var q=[Z.x,Z.y,Z.x+Z.e,Z.y,Z.x+Z.e,Z.y+Z.n,Z.x,Z.y+Z.n];
j.u.I(q,m.I,q);this.k3=new fi(q,!0,!0,!1,!1);this.a0W=Z;this.PA(this.Uk)}var J=hs,A=0,n=0,o=!1;if(J.bD(u.code,J.gz))A=1;
if(J.bD(u.code,J.v0))A=-1;if(J.bD(u.code,J.sq))n=-1;if(J.bD(u.code,J.bH))n=1;var N=u.ctrlKey||u.metaKey,e=J.bD(u.code,hs.au0),Q=J.bD(u.code,hs.agP);
if(J.bD(u.code,hs.tb)&&N){this.FV(this.Uk,this.caller);return}if(J.bD(u.code,hs.U_)){this.Qn(this.Uk,this.caller);
return}if(J.bD(u.code,hs.HH)){u.preventDefault();var p=this.fV,B=p.value,$=p.selectionStart,R=p.selectionEnd;
p.value=B.substring(0,$)+"\t"+B.substring(R);p.selectionStart=p.selectionEnd=$+1;this.Ny(null);return}if((J.bD(u.code,J.c5)||J.bD(u.code,J.xL))&&N){var z=this.OO,v=this.xE;
if(z>v){var a=z;z=v;v=a}var m=this.g8.add.TySh,X=ad.yd(m.pU);if(z!=v){this.Kh=X.slice(z,v);this.ako=JSON.stringify(this.C1.yU)}}var V=ad.yd(this.g8.add.TySh.pU);
if(A!=0||n!=0||e||Q){u.preventDefault();var h=this.OO;if(A!=0){if(N&&A==-1)h=this.tA(V,this.OO-1);else if(N&&A==1)h=this.Ih(V,this.OO);
else{var p=this.fV,B=p.value;h=this.OO+A;if(h!=0&&B.codePointAt(h-1)>65535)h+=A}}else if(n!=0){var T=this.zU.Zk(this.OO);
if(n==-1&&T.KG==0)h=0;else if(n==1&&T.KG==this.zU.apz()-1)h=99999999999;else h=this.zU.ahv(new dz(T.yt.x+T.yt.e/2,0),T.KG+n)}else if(e){var l=this.OO-1;
while(l>0&&V.charCodeAt(l)!=10)l--;h=l==0?0:l+1}else if(Q){var l=this.OO;while(l<V.length-1&&V.charCodeAt(l)!=10)l++;
h=l}h=Math.max(0,Math.min(V.length-1,h));if(u.shiftKey)this.OO=h;else this.OO=this.xE=h;o=!0}if(J.bD(u.code,hs.J)&&N){this.OO=0;
this.xE=V.length-1;o=!0}if(o){this.FI();this.PA(this.Uk)}};b.lw.apJ=function(u,m){var C=u.length;if(C!=m.length)return!1;
for(var D=0;D<C;D++)if(u[D].sm!=m[D].sm)return!1;return!0};b.lw.prototype.FV=function(u,m){if(this.g8==null)return;
this.g8.ye();var C=this.lq;if(C instanceof Array){var Z=this.oH(u,this.Qf),q=u.QX();if(q!=null&&q.b==this&&q.data.U9&&b.lw.apJ(q.data.U9,C))q.data.nF=Z;
else{var J=new h5(this.name,this);J.data={U9:C,nF:Z};u.hO(J)}}else{var J=new h5(this.name,this);J.data={kr:C.kr,$m:C.$m,Ow:C.Ow,i9:C.i9};
u.hO(J)}this.escape(u,m)};b.lw.prototype.Qn=function(u,m){if(this.g8==null)return;if(this.lq instanceof Array){this.IV(u,this.lq);
if(this.g8)ad.p9(this.g8.add.TySh)}else{u.w=this.lq.Ow;u.os(this.lq.kr)}u.G();this.escape(u,m)};b.lw.prototype.escape=function(u,m){this.S$();
this.g8=null;this.Qf=null;this.zU=null;this.Fx=null;this.fV.blur();u.D.dz=null;u.D.VK=null;u.D.hN=[];
u.qz=!0;this.HE=!1;this.rU=!1;this.OO=this.xE=-1;this.Q$(m,r.E.z,{d:r.J.zW,b:this.id,mY:"hideactive"});
if(this.Gz){var C=new eY(r.E.z,!0);C.data={d:r.J.K3,b:this.Gz};m.c(C);this.Gz=null}};b.lw.prototype.Q$=function(u,m,C,Z){var q=new eY(m,!0);
q.data=C;if(Z)q.b=Z;u.c(q)};b.lw.prototype.dR=function(u){var m=this.g8.add.TySh,C=this.zU,Z=m.I.clone();
Z.mL();var q=Z.HL(u),J=ad.Ci(m,C),A=j.x0.Xw(m.av,J),n=j.jk.a8a(A,q);if(n==null)n=new Float64Array(2);
q=new dz(J.x+n[0]*J.e,J.y+n[1]*J.n);if(C.S8){var N=C.S8.clone();N.mL();q=N.HL(q)}var e=C.ahv(q);return e};
b.lw.prototype.PA=function(u,m){if(m==null)m=!1;var C=this.g8.add.TySh,Z=ad.wH(C.pU),q=this.zU,J=q?ad.Ci(C,q):null;
u.D.hN=[];u.D.dz=null;u.D.VK=null;var A=this.k3?this.k3:this.Fx;if(A){A.jK(u,this.C1,!j.x0.Y2(C.av));
var n=C.I.clone();n.mL();if(q&&q.S8&&q.X1==1){var N=q.S8.clone();N.mL();n.concat(N)}j.u.I(u.D.hN,n,u.D.hN);
j.u.I(u.D.dz.s,n,u.D.dz.s);if(q&&q.S8==null&&q.abo()){var e=J.e-20,Q=J.n+8;u.D.dz.s.push(e,Q,e+10,Q,e+5,Q-5,e+5,Q+5);
u.D.dz.X.push("M","L","M","L")}}else if(Z==0)this.adK(u,C,q);else u.D.dz={s:[],X:[]};var p=Math.min(this.OO,this.xE),B=Math.max(this.OO,this.xE);
if(!m){this.fV.selectionStart=p;this.fV.selectionEnd=B}if(q!=null){var $=function(A,o){var h=A.x,T=A.y+A.n,l=new ix;
l.translate(-h,-T);l.rotate(-o);l.translate(h,T);A.y+=A.n*.27;var V=j.u.yj(A);j.u.I(V.s,l,V.s);return V};
if(p==B){p=Math.max(p,0);var R=q.Zk(p);if(R){var z=R.yt,v=this.C1.yU.L4.FontSize;if(v!=null&&v!=0){v/=C.I.p1();
z.y+=z.n-v;z.n=v}var a=q.apQ(p);if(a!=null&&a.BW==1)z.x+=z.e;var X=$(z,R.ez).s;u.D.dz.X.push("M","L");
u.D.dz.s.push(X[0],X[1]-1,X[6],X[7]-1)}}else{u.D.VK={s:[],X:[]};for(var D=p;D<B;D++){var R=q.Zk(D),V=$(R.yt,R.ez);
j.u.concat(u.D.VK,V)}}}u.D.dz=bL.LE(u.D.dz,C,q);u.D.VK=bL.LE(u.D.VK,C,q);u.D.hN=bL.LE({s:u.D.hN},C,q).s;
u.qz=!0};b.lw.prototype.adK=function(u,m,C){if(C==null)return;u.D.hN.push(0,0);if(u.D.dz==null)u.D.dz={X:[],s:[]};
for(var D=0;D<C.n9.length;D++){var Z=C.n9[D];for(var q=0;q<Z.hz.length;q++){var J=Z.hz[q],A=Z.Uc.x+J.Uc.x+J.yt.x,n=Z.Uc.y+J.Uc.y+J.yt.y+J.yt.n;
u.D.dz.X.push("M","L");u.D.dz.s.push(A,n,A+J.yt.e,n)}}u.qz=!0};b.ON=function(){b.lw.call(this,!0)};b.ON.prototype=new b.lw;
b.VB=function(){b.No.call(this,[10,9],b.MN,"tools/lasso");this.Xd="crosshair";this.iP=null;this.N1=null;
this.TK=null};b.VB.prototype=new b.No;b.VB.prototype.AT=function(u,m,C,Z){this.iP=this.l9;this.N1={s:[this.iP.x,this.iP.y],X:["M"]}};
b.VB.prototype.rB=function(u,m,C,Z){this.TK=Z;var q=this.N1;if(q==null)return;if(!Z.Ct){if(this.N1!=null&&this.Ad>1&&C.j(hs.mD)){q.s.pop();
q.s.pop();q.s.push(this.Sx.x,this.Sx.y);u.D.dz=q;u.qz=!0}return}q.X.push("L");q.s.push(this.Sx.x,this.Sx.y);
this.iP=this.Sx;if(this.vG){u.D.dz=q;u.qz=!0}};b.VB.prototype.sZ=function(){return this.N1!=null};b.VB.prototype.lV=function(){return this.N1!=null};
b.VB.prototype.St=function(u,m,C,Z){b.No.prototype.St.call(this,u,m,C,Z);if(this.N1&&this.Ad>1&&this.TK&&!this.TK.Ct&&!Z.j(hs.mD))this.a6(u,C,Z)};
b.VB.prototype.kP=function(u,m,C,Z){this.TK=Z;var q=this.N1;if(q==null)return;if(this.Ad>1&&C.j(hs.mD)){q.X.push("L");
q.s.push(this.Sx.x,this.Sx.y);return}this.a6(u,m,C)};b.VB.prototype.a6=function(u,m,C){this.finish(u,m,C,this.TK);
this.N1=null;u.D.dz=null;u.qz=!0};b.VB.prototype.getSelection=function(u,m,C,Z){if(this.l9.QV(this.Sx)||!this.vG)return null;
return b.No.qQ(this.N1.s,null,this.al.anta)};b.eG=function(){b.uF.call(this,[10,11],b.Iw,"tools/move");
this.mZ=new dz(0,0);this.ES=new dz(0,0);this.vB=null;this.ju=null;this.LU=new dz(0,0);this.Wh=null;this.sU=null;
this.SS=null;this.Ap=0;this.PH=null;this.EN=[];this.vc=null;this.l3=null;this.qF=!1;this.d=0;this.uI=null;
this.JX=null;this.oS=null;this.j2=!1;this.al={zo:!1,Ln:!1,JS:!1};this.a8S=!1;this.am9=!1;this.Fx=null;
this.Xp=null;this.a2C=null;var u=[];for(var D=0;D<j.KX.Qx.length;D++)u.push({name:j.KX.Qx[D],P:function(m,C,Z){return{XH:C.SM.Pb==Z}}});
this.sV=new dk(u);this.sV.l("select",this.fD,this)};b.eG.prototype=new b.uF;b.uF.prototype.uy=function(u){return this.qF&&this.d!=2};
b.eG.prototype.Hq=function(){return this.qF&&this.d==0};b.eG.prototype.DS=function(u,m,C,Z){this.Eo(u,-this.LU.x,-this.LU.y);
this.LU.qX(0,0);this.Hb(u,null,C);this.Io(u)};b.eG.prototype.iA=function(){var u=this.al;return[u.zo?1:0,u.Ln?1:0,u.JS?1:0]};
b.eG.prototype.hI=function(u,m,C){var Z=this.al;if(u&&u[0]!=null)Z.zo=u[0]==1;if(u&&u[1]!=null)Z.Ln=u[1]==1;
if(u&&u[2]!=null)Z.JS=u[2]==1;var q=new eY(r.E.z,!0);q.data={d:r.J.zW,b:this.id,xr:Z,ank:m};C.c(q)};
b.eG.TU=function(u,m,C,Z,q,J,A){if(A==null)A=[!1,!0];var n=u.TX(null,q,!0),N,e;if(u.add.artd&&u.w.length==1&&u.g[u.w[0]].add.artb){var Q=u.g[u.w[0]].M_();
N=u.Ko(n,Q,Q)[0]}else{var p=new bl(0,0,u.e,u.n),N=u.Ko(n,A[0]?p:null,A[1]?null:p)[0],e=N.add.artd;if(e){for(var D=0;
D<N.g.length;D++)delete N.g[D].add.artb;delete N.add.artd}if(A[1]){var B=j.vk(N.K9(),new bl(0,0,N.e,N.n),2);
b.pB.gf(N,B)}}if(C!=1){var $=new bl(0,0,Math.round(N.e*C),Math.round(N.n*C));b.pB.gf(N,$);var R=[];for(var D=0;
D<N.g.length;D++)R.push(D);var z=b.Q.iu(N,R,!0);b.pB.bT(N,new ix(C,0,0,C,0,0));b.Q.t1(N,Z,R,z,1,j.N.S4(new ix(C,0,0,C,0,0)),null,!0);
N.Qp()}else if(e){N.G();N.Qp()}var v=[];for(var D=0;D<m.length;D++)if(N.e*N.n!=0)v.push(d4.Qs(N,m[D].toUpperCase(),null,null,J?J[D]:null,Z));
return v};b.eG.prototype.Pr=function(u,m,C,Z,q){if(u==null||u.w.length==0)return;var J=b.eG.TU(u,[m],C,Z,null)[0],A=new eY(r.E.z,!0);
A.data={d:r.J.h9,data:J,name:u.g[u.w[0]].getName()+(C==1?"":"@"+C+"x")+"."+m};q.c(A)};b.eG.prototype.vv=function(u,m,C,Z,q){if(u.OY=="getPNG"){this.Pr(C,"png",u.k8,q,m)}else if(u.OY=="getSVG"){this.Pr(C,"svg",u.k8,q,m)}if(u.OY=="prms"){this.al=u;
this.Io(C)}};b.eG.as9=function(u){var jt=u.length,C=0;u.sort(function(J,A){return J[0]+J[1]/2-(A[0]+A[1]/2)});
var m=u[jt-1][0]+u[jt-1][1]-u[0][0];for(var D=0;D<jt;D++)C+=u[D][1];var Z=Math.round((m-C)/(jt-1)),q=u[0][0];
for(var D=0;D<jt;D++){u[D][0]=q;q+=u[D][1]+Z}};b.eG.prototype.W1=function(u,m,C,Z,q){var J=u.d;if(J=="trsl"){var A=Math.round(u.io),n=Math.round(u.Kp);
this.LU.qX(A,n);this.b4(C,m,Z,q,!1,u.i);this.Eo(C,A,n);this.Hb(C,null,q)}else if(J=="lockguides"){if(C)C.Uu=!C.Uu}else if(J=="gids"||J=="gidsFromLayer"){var N=u.JX,e,Q;
if(N==null)N=C.OD();if(J=="gids"){e=u.Sw;var p=N[0].length,B=e[0].length;Q=p==B?[23,2]:p>B?[23,3]:[23,4];
if(B==0)Q=[11,15,0]}else if(J=="gidsFromLayer"){var $=[],R=[],z=C.sx();for(var D=0;D<C.w.length;D++){var v=C.g[C.w[D]].rect;
if(v.qR())continue;$.push([0,v.x],[1,v.y],[0,v.x+v.e],[1,v.y+v.n]);R.push(z,z,z,z)}Q=[11,15,1];e=C.OD();
b.eG.lk(e,[$,R])}if(JSON.stringify(N)==JSON.stringify(e))return;var J=new h5(Q,this);J.data={d:2,JX:N,Sw:e};
C.hO(J);this.H_(J.data,C)}else if(J=="algn"){var a=u.k;if(C==null)return;if(C.w.length<2&&!(C.q!=null&&a!=3&&a!=7)){alert(jg.get([15,7,5]));
return}var X=C.q;C.q=null;var v=X?X.rect:b.Q.Ci(C);this.b4(C,m,Z,q,!1);if(!this.qF)return;var V=this.PH,o={},h=[],T=[],l=[];
for(var D=0;D<V.length;D++){var w=V[D];while(C.g[w].getName()=="</Layer group>")w++;var W=C.root.jj(w),U=W;
while(W.parent!=null){W=W.parent;if(V.indexOf(W.index)!=-1)U=W}var s=T.indexOf(U.index);if(s==-1){s=T.length;
T.push(U.index)}h[D]=s}var S=[],x=[],P=[];for(var D=0;D<T.length;D++){var y=b.Q.Ci(C,C.TX(!0,T[D]));
P.push(y);var _=a==3?[y.y,y.n]:[y.x,y.e];S[D]=_;x.push(_)}b.eG.as9(x);for(var D=0;D<T.length;D++){var y=P[D],g=y.x,G=y.y;
if(a==0)g=v.x;if(a==1)g=v.x+(v.e-y.e)/2;if(a==2)g=v.x+(v.e-y.e);if(a==3)G=S[D][0];if(a==4)G=v.y;if(a==5)G=v.y+(v.n-y.n)/2;
if(a==6)G=v.y+(v.n-y.n);if(a==7)g=S[D][0];l.push(Math.round(g-y.x),Math.round(G-y.y))}var O=[];for(var D=0;
D<V.length;D++){var E=h[D];O[2*D]=l[2*E];O[2*D+1]=l[2*E+1]}this.Eo(C,0,0,null,O);var L=a==3||a==7?[20,4,6]:[20,4,a<3?a:a-1];
this.Hb(C,null,q,O,L);C.q=X}else if(J=="disabAuto"){this.hI([!1],null,m)}};b.eG.lk=function(u,m){for(var D=0;
D<m[0].length;D++){var C=m[0][D],Z=m[1][D],q=!1;for(var J=0;J<u[0].length;J++){var A=u[0][J],n=u[1][J];
if(C[0]==A[0]&&C[1]==A[1]&&Z==n)q=!0}if(!q){u[0].push(C.slice(0));u[1].push(Z)}}};b.eG.prototype.enable=function(u,m,C,Z,q){this.sU=C;
this.SS=m;this.j2=q?!0:!1;this.Io(u);this.p3("default",m)};b.eG.prototype.disable=function(u,m,C,Z){this.fO(u)};
b.eG.prototype.fO=function(u){if(u==null)return;if(this.Fx){this.Fx.clear(u);this.Fx=null}if(u.D.JS){u.D.JS=null;
u.qz=!0}if(u.D.g3){u.D.g3=null;u.qz=!0}if(u.D.Ir[this.id]){delete u.D.Ir[this.id];u.qz=!0}if(u.D.fb.length!=0){u.D.fb=[];
u.qz=!0}};b.eG.prototype.hP=function(u,m,C,Z){if(C.Oj!=this.id)return;this.Io(u)};b.eG.prototype.Io=function(u,m){if(u==null)return;
var C=this.al;this.fO(u);if(!this.j2){var Z;if(C.Ln||C.JS)Z=j.u.wu(b.Q.Ci(u));if(C.Ln&&!Z.qR()){this.Fx=new fi([Z.x,Z.y,Z.x+Z.e,Z.y,Z.x+Z.e,Z.y+Z.n,Z.x,Z.y+Z.n],!0);
this.Fx.jK(u,this.sU)}if(C.JS){var q=null,Q=null,p=!1;if(u.sx()!=-1)q=u.g[u.sx()].M_();else q=new bl(0,0,u.e,u.n);
u.D.JS={MO:[Z],Tq:[]};var J=u.D.JS.Tq,A=Z.x+Z.e,n=Z.y+Z.n,N=Z.x+Math.floor(Z.e/2),e=Z.y+Math.floor(Z.n/2);
if(m){var B=u.root.O0(new dz(Math.floor(m.x),Math.floor(m.y)));if(B){Q=j.u.wu(B.i.vj(u));if(Q.bL(Z)){p=(Q.hd(Z)||Z.hd(Q))&&!Z.QV(Q);
if(!p)Q=null}}}this.WP(Z,J);if(Q!=null){u.D.JS.MO.push(Q);var $=Q.x+Q.e,R=Q.y+Q.n,z=Q.x+Math.floor(Q.e/2),v=Q.y+Math.floor(Q.n/2);
if(p){var a=N,X=e;if(Z.hd(Q)){a=z;X=v}J.push(Z.x,X,Q.x,X);J.push(A,X,$,X);J.push(a,Z.y,a,Q.y);J.push(a,n,a,R)}else{this.WP(Q,J);
var V=n<Q.y||R<Z.y,o=A<Q.x||$<Z.x;if(A<Q.x)J.push(A,e,Q.x,e);if($<Z.x)J.push($,e,Z.x,e);if(n<Q.y)J.push(N,n,N,Q.y);
if(R<Z.y)J.push(N,R,N,Z.y);if(V&&!o){if(Z.x<Q.x)J.push(Z.x,v,Q.x,v);if(Q.x<Z.x)J.push(Q.x,e,Z.x,e)}}}else{if(Z.y>q.y)J.push(N,q.y,N,Z.y);
if(n<q.y+q.n)J.push(N,n,N,q.y+q.n);if(Z.x>q.x)J.push(q.x,e,Z.x,e);if(A<q.x+q.e)J.push(A,e,q.x+q.e,e)}u.qz=!0}}if(this.d==2&&this.qF){var h=new bl(0,0,u.e,u.n),T=u.sx();
if(T!=-1){var l=u.OD(),w=l[1][this.PH];if(w==-1)w=T;h=u.g[w].M_()}var W=u.lZ[this.PH],U=W[0],s=(U==0?"X":"Y")+": "+j.KX.XJ(W[1]-(U==0?h.x:h.y),u.JJ,this.sU,U==0?h.e:h.n,!0);
b.uF.rM(Math.round(this.vB.x)+10,Math.round(this.vB.y)-10,[s],u);u.qz=!0}if(this.d==3&&this.qF){var S=j.u.yj(this.uI);
u.D.Ir[this.id]={dz:S};u.qz=!0}};b.eG.prototype.WP=function(u,m){var C=u.e,Z=u.n,q=u.x+Math.floor(C*.2),J=u.y+Math.floor(Z*.2);
m.push(q,u.y,q,u.y+Z);m.push(u.x,J,u.x+C,J)};b.eG.prototype.p3=function(u,m){var C={d:r.J.q$,U7:u},Z=new eY(r.E.z,!0);
Z.data=C;m.c(Z)};b.eG.prototype.D3=function(u){var m=this.Xp.dm()[0],C=this.Wh,Z=this.a2C[m];this.UI(C,Z)};
b.eG.prototype.fD=function(u){var m=JSON.parse(JSON.stringify(this.sU.SM));m.Pb=this.sV.dm()[0];var C=new eY(r.E.z,!0);
C.data={d:r.J.mh,no:jO.ZL,Qc:m};this.SS.c(C)};b.eG.prototype.tX=function(u,m,C,Z,q){if(this.qF)this.ec(u,m,C,Z,q);
this.Wh=u;this.sU=C;this.SS=m;var J=u.t.Iv(q.x,q.y),A;if(b.eG.Jg(C,q,u.t)){A=this.sV}else{if(this.Xp)this.Xp.removeEventListener("select",this.D3);
var n=[];u.root.O0(J,n);if(n.length==0)return;var N=[];this.a2C=n;for(var D=0;D<n.length;D++)N.push({name:u.g[n[D]].getName()});
A=this.Xp=new dk(N);A.l("select",this.D3,this)}A.parent=m;A._();A.update(u,C);var e=new eY(r.E.z,!0);
e.data={d:r.J.ek,Vl:A,x:q.Mt+2,y:q.GY+1};m.c(e)};b.eG.prototype.$g=function(u,m,C,Z,q){var J=b.eG.NI(u,q);
return J!=-1||b.eG.Jg(C,q,u.t)};b.eG.NI=function(u,m){if(u==null||u.add.artd==null)return-1;var C=u.t.Iv(m.x,m.y),Z=12*b.F()/u.t.V;
for(var D=0;D<u.g.length;D++){var q=u.g[D];if(!q.cG()||q.add.artb==null)continue;var J=q.M_(),A=new bl(J.x,J.y-1.7*Z,Z*q.getName().length*.5,Z);
if(A.PG(C))return D}return-1};b.eG.prototype.K4=function(u,m,C,Z,q){var J=b.eG.NI(u,q);if(J!=-1){u.w=[J];
if(C.Oj==b.Iw){var A=new eY(r.E.z);A.data={d:r.J.K3,b:b.oy};m.c(A)}return}this.vB=q;this.mZ.qX(q.x,q.y);
this.ES=u.t.Iv(q.x,q.y);this.ju=new aT(this.ES);this.b4(u,m,Z,C,!0)};b.eG.Jg=function(u,m,C,Z){var q=j.KX.F$,J=C.pQ.n;
return u.SQ&&(0<m.x&&m.x<q||0<m.y&&m.y<q||Z&&0<m.x&&m.x<4*q&&J-q<m.y&&m.y<J)};b.eG.prototype.b4=function(u,m,C,Z,q,J){var A,n=this.ES,N=!1;
if(q){var e=Z.YC&&Z.SM.lZ;if(b.eG.Jg(Z,this.mZ,u.t)){A=u.OD();var Q=u.OD(),p=null;if(this.mZ.x<j.KX.F$){p=[0,n.x]}if(this.mZ.y<j.KX.F$){p=[1,n.y]}Q[0].push(p);
Q[1].push(u.sx());u.sP(Q);if(!e){var B=new eY(r.E.z);if(!Z.SM.lZ){B.data={d:r.J.mh,no:jO.Cm};m.c(B)}if(!Z.YC){B.data={d:r.J.mh,no:jO.e6};
m.c(B)}e=!0}}var $=this.J3(u,n);if(e&&$!=null&&!u.Uu){this.d=2;this.JX=A?A:u.OD();this.PH=$;this.qF=!0;
this.l3=b.Q.Ci(u);return}if(u.Rc.length!=0){this.d=4;this.l3=u.YG[u.Rc[0]].rect.clone();this.qF=!0;return}if(this.Fx&&this.Fx.vA(n,u.t.V,!0,this.vB)!=null){var B=new eY(r.E.z);
B.data={d:r.J.K3,b:b.l7,aa_:!0};m.c(B);return}if(u.q&&u.q.rect.PG(n)){var R=Math.round(n.x),z=Math.round(n.y),v=u.q.rect;
N=u.q.channel[(z-v.y)*v.e+R-v.x]>128}if(!N&&(!this.j2&&this.al.zo||this.j2&&this.al.zo&&(C.j(hs.KP)||u.w.length<2))){var a=this.a3s(u,n,C);
if(!a){u.w=[];u.WC=null;u.aJ=u.LM=!0;this.d=3;this.uI=new bl;this.qF=!0;return}}if(C.j(hs.mD)&&!N){var X=new eY(r.E.H);
X.b=b.IZ;X.data={d:F.Gx,a7k:!0};m.c(X)}}if(u.Rc.length!=0){this.d=4;this.l3=u.YG[u.Rc[0]].rect.clone();
this.qF=!0;return}this.PH=u.TX(J==null,J,null,!0);for(var D=0;D<this.PH.length;D++){var V=u.g[this.PH[D]];
if(V.Je(2)||V.Je(31)){alert(jg.get([6,57,0]));return}}if(u.add.artd&&q){var o=this.PH,h=!1;for(var D=0;
D<o.length;D++)if(u.g[o[D]].add.artb)h=!0;if(!h){this.vc=[u,u.g.slice(0),u.w.slice(0),-1];this.PH.sort(function(x,P){return x-P})}}this.EN=b.eG.ah0(u,this.PH);
this.d=0;if(u.q&&(!q||N)&&u.w.length==1&&u.w0(!1)){if(!u.a3v()){this.qF=!1;return}var T=u.g[u.w[0]],l=C.j(hs.mD);
this.d=1;var w=u.history[u.oa];if(w.b==this&&w.data.d==1&&w.data.i==u.w[0]&&T.$v==T.yH.$v&&!l){this.oS=w}else{var W=T.yH,U=!1,s;
if(!T.DJ(u,u.q)||l){U=!0;T.RZ(u,u.q,l)}if(T.yH.$v<=0){s=j.U(T.yH.J7.length>>2);j._H(T.yH.J7,s,3)}else s=u.q.channel.slice(0);
var S={rect:T.yH.BR.clone(),channel:s};this.oS=new h5(l?[12,53]:[12,54],this);this.oS.data={d:1,i:u.w[0],yH:T.yH,ZV:W,E2:U,Ow:u.q,i9:S,MX:new dz(0,0)};
u.hO(this.oS);u.q=S;u.W0=!0}}this.qF=!0;this.l3=b.Q.Ci(u)};b.eG.prototype.a3s=function(u,m,C){var Z=u.root.O0(new dz(Math.floor(m.x),Math.floor(m.y)));
if(Z){if(Z.i.add.vmsk)u.qz=!0;var q=u.g.indexOf(Z.i);if(C.j(hs.KP)){var J=u.w.indexOf(q);if(J==-1)u.w.push(q);
else if(u.w.length>1)u.w.splice(J,1)}else if(u.w.indexOf(q)==-1){this.UI(u,q)}}return Z!=null};b.eG.prototype.UI=function(u,m){u.g[m].$v=0;
u.w=[m];u.WC=null;u.oU();u.Ss=!0;u.aJ=!0};b.eG.prototype.TQ=function(u,m,C,Z,q){this.vB=q;var J=u.t.Iv(q.x,q.y),$,R;
if(this.ju&&this.d<2)J=this.ju.gi(J,Z);if(!this.qF){if(C.YC&&C.SM.lZ&&u&&!u.Uu){var A=this.J3(u,J),n="default",N=b.eG.NI(u,q);
if(A!=null)n=["col-resize","row-resize"][u.lZ[A][0]];else if(this.Fx){var e=this.Fx.vA(J,u.t.V,null,q);
if(e)n=e}else if(N!=-1){n="pointer"}this.p3(n,m)}this.Io(u,J);return}var Q=this.ES,p=Math.round(J.x-Q.x)-this.LU.x,B=Math.round(J.y-Q.y)-this.LU.y;
if(this.l3){if(this.d==2){J=b.eG.xJ(u,J,C,[!1,u.q?u.q.rect:this.l3,!0])}else{R=this.l3.clone();R.offset(this.LU.x+p,this.LU.y+B);
$=b.eG.EX(u,R,C);p+=Math.round($[0]);B+=Math.round($[1])}}this.LU.x+=p;this.LU.y+=B;var z=this.vc;if(z&&u==z[0]){u.os(z[1]);
u.w=z[2].slice(0);z[3]=-1}this.Eo(u,p,B,J,null,Z.j(hs.KP));if(z&&u==z[0]){var v=this.l3.clone();v.offset(this.LU.x,this.LU.y);
var a=new dz(v.x+v.e/2,v.y+v.n/2),N=u.sx(),X=-1;for(var D=0;D<u.g.length;D++){var V=u.g[D];if(!V.cG()||V.add.artb==null)continue;
var o=V.M_();if(o.PG(a))X=D}if(X!=-1&&X!=N){var h=b.l_.Dg(u,this.PH,X,!0,null,!1);u.os(h[0]);u.w=h[1];
z[3]=X}}this.Io(u,J);if($)b.eG.nC(u,R,$)};b.eG.prototype.J3=function(u,m){var C=b.fS(u,this.vB);m=[m.x,m.y];
var Z=u.OD(),q=u.sx();for(var D=0;D<Z[0].length;D++){var J=Z[0][D],A=Z[1][D];if(A!=-1&&A!=q)continue;
if(Math.abs(J[1]-m[J[0]])<C)return D}return null};b.eG.prototype.Eo=function(u,m,C,Z,q,J){if(this.d==0){if(q)b.eG.Uh(u,this.PH,this.EN,q);
else b.eG.a2(u,this.PH,this.EN,m,C)}else if(this.d==1){var A=this.oS.data;A.MX.offset(m,C);b.eG.Ym(u,A.i,m,C)}else if(this.d==2){var n=1e-5;
if(J)n=u.t.V<=1?10:1;else if(u.t.V<=1)n=1;var N=n*Math.round(Z.x/n),e=n*Math.round(Z.y/n),Q=[N,e],p=u.lZ[this.PH];
p[1]=Q[p[0]]}else if(this.d==3){var B=this.ES,$=j.u.aO([B.x,B.y,Z.x,Z.y]);this.uI=$;var R=[];u.root.eE($,R);
if(JSON.stringify(u.w)!=JSON.stringify(R)){u.w=R;u.aJ=u.LM=!0}}else if(this.d==4){for(var D=0;D<u.Rc.length;
D++)u.YG[u.Rc[D]].rect.offset(m,C);u.qz=!0}};b.eG.Ym=function(u,m,C,Z){var q=u.g[m];u.q.rect.offset(C,Z);
q.mi(u,C,Z,u.q);u.W0=!0;u.G()};b.eG.prototype.ec=function(u,m,C,Z,q,J){this.Hb(u,q,C);this.Io(u);if(Date.now()-this.Ap<300&&!J){var A=b.lw.Rs(u,u.t.Iv(q.x,q.y));
if(b.eG.Jg(C,q,u.t,!0)){var n=new eY(r.E.z);if(q.y>u.t.pQ.n-20){n.data={d:r.J.zH,E$:"doczoom",qf:u.t.V*100,Na:{W:r.E.H,b:b.Uz,R:{d:"pzoom"}}}}else{n.data={d:r.J.zH,E$:"preferences"}}m.c(n)}else if(A>=0){var N=new eY(r.E.H,!0);
N.b=b.IR;N.data={d:"editCurr",Gk:A};m.c(N)}}this.Ap=Date.now();b.pB.tG(u)};b.eG.prototype.Hb=function(u,m,C,Z,q){if(!this.qF)return;
this.qF=!1;if(this.d==0){if(Z){this.HP(u,null,Z,q)}else{if(this.LU.x==0&&this.LU.y==0)return;this.HP(u,this.LU.clone())}u.xi=!0}else if(this.d==2){var J=0;
m=[m.x,m.y];var A=this.PH,n=u.lZ[A],fa=this.JX[0].length,N=u.lZ.length;if(C.SQ&&m[n[0]]<j.KX.F$){var e=u.OD();
e[0].splice(A,1);e[1].splice(A,1);u.sP(e);J=1;if(fa==N-1)return}if(fa<N)J=2;var Q=new h5([[23,2],[23,3],[23,4]][J],this);
Q.data={d:2,JX:this.JX,Sw:u.OD()};u.hO(Q)}else if(this.d==4){var Q=new h5([12,54],this);Q.data={d:4,w:u.Rc.slice(0),r:this.LU.clone()};
u.hO(Q)}this.LU.qX(0,0)};b.eG.prototype.St=function(u,m,C,Z){var q=Z.gq();if(u!=null&&(q.x!=0||q.y!=0)){if(Z.j(hs.mD)&&u.q==null){var J=new eY(r.E.H);
J.b=b.IZ;J.data={d:F.Gx,a7k:!0};m.c(J)}this.LU.qX(q.x,q.y);this.b4(u,m,Z,C,!1);if(!this.qF)return;this.Eo(u,q.x,q.y);
this.Hb(u,null,C);this.Io(u)}var A=Z.j(hs.Vw);if(!this.j2&&this.am9!=A){if(A){this.a8S=this.al.zo;this.al.zo=!0}else{this.al.zo=this.a8S}this.am9=A;
var n=new eY(r.E.z,!0);n.data={d:r.J.zW,b:this.id,xr:this.al};m.c(n)}};b.eG.prototype.H8=function(u,m){if(u.d==0){var C=u.TR;
if(C){m.os(C.kr);m.w=C.oO.slice(0);m.G();m.aJ=!0}b.eG.Uh(m,u.w,u.Gn,u.WH,!0);b.pB.tG(m)}else if(u.d==2){m.sP(u.JX);
m.qz=!0}else if(u.d==4){for(var D=0;D<u.w.length;D++)m.YG[u.w[D]].rect.offset(-u.r.x,-u.r.y);m.qz=!0}else{var Z=m.g[u.i];
if(u.E2){Z.nK(m,u.ZV);m.q=u.Ow;m.W0=!0;m.G();Z.G()}else{b.eG.Ym(m,u.i,-u.MX.x,-u.MX.y)}}};b.eG.prototype.H_=function(u,m){if(u.d==0){b.eG.Uh(m,u.w,u.Gn,u.WH);
var C=u.TR;if(C){m.os(C.$m);m.w=C.Ag.slice(0);m.G();m.aJ=!0}b.pB.tG(m)}else if(u.d==2){m.sP(u.Sw);m.qz=!0}else if(u.d==4){for(var D=0;
D<u.w.length;D++)m.YG[u.w[D]].rect.offset(u.r.x,u.r.y);m.qz=!0}else{var Z=m.g[u.i];if(u.E2){Z.yH=u.yH;
m.q=u.i9;b.eG.Ym(m,u.i,0,0);Z.G()}else{b.eG.Ym(m,u.i,u.MX.x,u.MX.y)}}};b.eG.prototype.HP=function(u,m,C,Z){if(C){var q=!0;
for(var D=0;D<C.length;D++)if(C[D]!=0)q=!1;if(q)return}var J=u.history[u.oa],A=this.vc,n=A!=null&&A[3]!=-1&&A[0]==u;
if(!n&&C==null&&J.data&&J.b==this&&J.data.d==0&&JSON.stringify(J.data.w)==JSON.stringify(this.PH)&&JSON.stringify(J.data.Gn)==JSON.stringify(this.EN)){var N=J.data.WH,e=J.data.aiB.yS.T.v;
e.Hrzn.v.val+=m.x;e.Vrtc.v.val+=m.y;for(var D=0;D<N.length;D+=2){N[D]+=m.x;N[D+1]+=m.y}}else{if(m==null)m=new dz(C[0],C[1]);
var Q={ZO:"move",yS:{classID:"null",null:hc.Q3("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:m.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:m.y}}}}}},p=null;
if(n)p={kr:A[1],oO:A[2],$m:u.g.slice(0),Ag:u.w.slice(0)};this.vc=null;var B=new h5(Z?Z:[12,54],this);
if(C)B.data={d:0,w:this.PH,Gn:this.EN,TR:p,WH:C};else B.data={d:0,w:this.PH,Gn:this.EN,TR:p,WH:b.eG.aM(this.PH,m.x,m.y)};
B.data.aiB=Q;u.hO(B);this.track(Q)}};b.eG.aM=function(u,m,C){var Z=[];for(var D=0;D<u.length;D++)Z.push(m,C);
return Z};b.eG.a2=function(u,m,C,Z,q){b.eG.Uh(u,m,C,b.eG.aM(m,Z,q))};b.eG.Uh=function(u,m,C,Z,q){if(m.length==0)return;
if(C==null){C=[];for(var D=0;D<m.length;D++){C.push(u.g[m[D]].to(u,!0))}}var J=new bl,A=new bl(0,0,u.e,u.n);
for(var D=0;D<m.length;D++){var n=Z[2*D],N=Z[2*D+1];if(q){n=-n;N=-N}var e=u.g[m[D]],Q=C[D];if(e.add.fxrp&&(Q.indexOf(0)!=-1||e.Y8()))e.add.fxrp.offset(n,N);
for(var p=0;p<Q.length;p++){var B=Q[p];if(B==0){e.rect.offset(n,N);if(e.Bv()&&e.Ha(u))e.Ha(u).rect.offset(n,N);
if(e.add.artb){var $=e.M_();$.offset(n,N);e.Cw($);var R=e.add.artb.guideIndeces;R=R?R.v:[];for(var z=0;
z<R.length;z++){var v=u.lZ[R[z].v];v[1]+=v[0]==0?n:N}}if(e.add.TySh){e.add.TySh.I.translate(n,N);if(e.add.TySh.add){e.add.TySh.add.vmsk.offset(n,N)}}if(e.add.SoLd){var a=new ix(1,0,0,1,n,N),X=e.add.SoLd,V=b.Q.Fo(X.Trnf),o=b.Q.Fo(X.nonAffineTransform);
j.u.I(V,a,V);j.u.I(o,a,o);X.Trnf=b.Q.Ii(V);X.nonAffineTransform=b.Q.Ii(o);b.Q.n6(X,a)}}if(B==1)e.Te().rect.offset(n,N);
if(B==2){e.add.vmsk.offset(n,N);if(e.add.vogk)j.xK.I(e.add.vogk,[1,0,n,0,1,N,0,0],[])}if(B==3){e.Ha(u).M.rect.offset(n,N);
if(Q.length==1)e.G()}}if(Q.length>0){var h=e.add.GdFl;if(h==null)h=e.add.PtFl;if(e.Y8()&&!e.JD()&&e.add.vmsk!=null&&j.$.ue(e.add.vmsk.B)&&e.add.vmsk.cp==255&&(h==null||h.Algn&&h.Algn.v)){e.rect.offset(n,N)}else e.uE(u);
var T=u.root.t8(e.vj(u),u,m[D]);if(e.add.artb)T=T.QN(e.M_());J=J.QN(T);T.offset(-n,-N);J=J.QN(T);if(e.mB()&&e.M&&e.M.color==255)J=J.QN(A);
e.Ar()}}u.G(j.u.wu(J))};b.eG.ah0=function(u,m){var C=[];for(var D=0;D<m.length;D++){var Z=u.g[m[D]];
C.push(Z.to(u))}return C};b.eG.nC=function(u,m,C){var Z=u.D.g3={s:[],X:[]},q=m.x+C[0],J=m.y+C[1];if(C[2]!=1e9){Z.X.push("M","L");
Z.s.push(C[2],J,C[2],J+m.n)}if(C[3]!=1e9){Z.X.push("M","L");Z.s.push(q,C[3],q+m.e,C[3])}u.qz=!0};b.eG.xJ=function(u,m,C,Z){var q=b.eG.eS(u,[[m.x],[m.y]],C,Z);
return new dz(m.x+q[0],m.y+q[1])};b.eG.EX=function(u,m,C,Z,q){var J=q==!0?1:.5,A=b.eG.eS(u,[[m.x,m.x+Math.round(m.e*J),m.x+m.e],[m.y,m.y+Math.round(m.n*J),m.y+m.n]],C,Z);
return A};b.eG.eS=function(u,m,C,Z){if(Z==null)Z=[!0,null,!0];var q=[0,0,1e9,1e9];if(!C.Kc)return q;
var J=JSON.parse(JSON.stringify(m));for(var A=0;A<2;A++){var n=1e9,N=m[A],e=0;for(var Q=0;Q<N.length;
Q++){var p=b.eG.as4(u,N[Q],J[1-A][Q],A,C,Z);if(p!=1e9)J[A][Q]=p;if(p!=1e9&&Math.abs(p-N[Q])<Math.abs(n)){n=p-N[Q];
e=p}}if(n!=1e9){q[A]=n;q[A+2]=e}}return q};b.eG.as4=function(u,m,C,Z,q,J){var A=1e9,n=q.rY,N=q.SM,e=[u.root];
while(e.length!=0&&n[2]){var Q=e.pop(),p=Q.i,B=p.rect;if(!p.cG())continue;if(Q.children)for(var D=0;
D<Q.children.length;D++)e.push(Q.children[D]);if(u.w.indexOf(Q.index)!=-1||B.qR())continue;if(Z==0){var $=B.e,R=$>>>1;
if(Math.abs(B.x-m)<Math.abs(A-m))A=B.x;if(Math.abs(B.x+R-m)<Math.abs(A-m))A=B.x+R;if(Math.abs(B.x+$-m)<Math.abs(A-m))A=B.x+$}else{var z=B.n,v=z>>>1;
if(Math.abs(B.y-m)<Math.abs(A-m))A=B.y;if(Math.abs(B.y+v-m)<Math.abs(A-m))A=B.y+v;if(Math.abs(B.y+z-m)<Math.abs(A-m))A=B.y+z}}if(J[0]&&n[0]&&N.lZ&&q.YC){var a=u.OD(),X=a[0],V=a[1],o=u.sx();
for(var D=0;D<X.length;D++)if((V[D]==-1||V[D]==o)&&X[D][0]==Z&&Math.abs(X[D][1]-m)<Math.abs(A-m))A=X[D][1]}if(n[1]&&N.eT&&q.YC){var h=Math.round(j.KX.k4(N.Z3,u.JJ,u.e,N.GO));
if(Z==1&&N.FF==1){var T=C*.5*Math.sqrt(4/3),l;h*=Math.sqrt(4/3);l=Math.round((m-T)/h)*h+T;if(Math.abs(l-m)<Math.abs(A-m))A=l;
l=Math.round((m+T)/h)*h-T;if(Math.abs(l-m)<Math.abs(A-m))A=l}else{var l=Math.round(m/h)*h;if(Math.abs(l-m)<Math.abs(A-m))A=l}}var w=u.$o;
if(n[3]&&N.$o&&q.YC&&w.length!=0){for(var D=0;D<w.length;D++){if(!J[2]&&u.Lv.indexOf(D)!=-1)continue;
var W=b.JN.cy(w,D);for(var U=0;U<3;U+=2)if(W[U+Z]!=m&&Math.abs(W[U+Z]-m)<Math.abs(A-m))A=W[U+Z]}}if(J[1]){var B=J[1],$=B.e,z=B.n,s=[B.x,B.y,B.x+($>>>1),B.y+(z>>>1),B.x+$,B.y+z];
for(var D=0;D<6;D+=2)if(Math.abs(s[D+Z]-m)<Math.abs(A-m))A=s[D+Z]}if(n[4]){var B=new bl(0,0,u.e,u.n),o=u.sx();
if(o!=-1)B=u.g[o].M_();var $=B.e,z=B.n,s=[B.x,B.y,B.x+($>>>1),B.y+(z>>>1),B.x+$,B.y+z];for(var D=0;D<6;
D+=2)if(Math.abs(s[D+Z]-m)<Math.abs(A-m))A=s[D+Z]}var S=Math.abs(A-m)<=4*b.F()/u.t.V?A:1e9;return S};
b.Nz=function(){b.No.call(this,[10,12],b.fQ,"tools/mwand")};b.Nz.prototype=new b.No;b.Nz.prototype.iA=b.No.prototype.a7v;
b.Nz.prototype.hI=b.No.prototype.aqC;b.Nz.prototype.AT=function(u,m,C,Z){this.finish(u,m,C,Z)};b.Nz.prototype.getSelection=function(u,m,C,Z){var q=this.Sx,J=b.No.aqT(new dz(Math.floor(q.x),Math.floor(q.y)),this.al.wconf,this.al.sall);
return J};b.Nz.vL=function(u,m,C,Z,q){if(u.w.length!=1){alert("More than one layer selected.");return null}var J=u.g[u.w[0]],A=null,n;
if(q)A=J.$v<=0?null:J.$v==1?J.Te():J.Ha(u).M;if(A==null&&J.add.lsct!=null&&J.add.lsct!=cT.Ev){alert("No layer selected.");
return null}if(m.x<0||m.x>u.e||m.y<0||m.y>u.n)return null;var N=new bl(0,0,u.e,u.n);if(Z){n=u.K9()}else if(A==null&&N.QV(J.rect))n=J.buffer;
else{n=j.U(N.Z()*4);if(A==null)j.zO(J.buffer,J.rect,n,N);else b.Zg.xa(A.channel,A.rect,A.color,n,N)}var e=b.Nz.FZ(n,N,m,null,C),Q=j.tY(e,N),p=j.U(Q.Z());
j.j5(e,N,p,Q);return{rect:Q,channel:p}};b.Nz.Es=function(u,m,C){var Z=m.e,q=m.n,A=0,n=0,N=0,e=0;u=new Uint32Array(u.buffer);
var J=[],Q=C.length;for(var D=0;D<Q;D++){var p=C[D],B=Math.round(p.x-.5-m.x),$=Math.round(p.y-.5-m.y);
B=Math.max(0,Math.min(Z-1,B));$=Math.max(0,Math.min(q-1,$));var R=$*Z+B,z=u[R];J.push([z&255,z>>8&255,z>>16&255,z>>>24])}return J};
b.Nz.FZ=function(u,m,C,Z,q){u=new Uint32Array(u.buffer);var J=m.e,A=m.n,n=J*A;if(Z==null)Z=b.Nz.Es(u,m,[C]);
var N=Math.round(C.x-.5-m.x),e=Math.round(C.y-.5-m.y),Q=e*J+N,p=Date.now(),B=j.U(J*A),$=q[0],R=1/$,z=q[1]&&$>0?255:0;
if(q[2]){var v=j.U(B.length),a=new Uint32Array(n),X=1;a[0]=N<<16|e;v[Q]=1;while(X>0){var V=a[X-1];X--;
var o=V>>>16,h=V&65535,D=h*J+o,T=b.Nz.Ez(u[D],Z);if(T>$){var l=z*(1-Math.max(0,Math.min(1,(T-$)*R)));
B[D]=~~l}else{B[D]=255;if(h!=A-1&&v[D+J]==0){a[X++]=o<<16|h+1;v[D+J]=1}if(h!=0&&v[D-J]==0){a[X++]=o<<16|h-1;
v[D-J]=1}if(o!=J-1&&v[D+1]==0){a[X++]=o+1<<16|h;v[D+1]=1}if(o!=0&&v[D-1]==0){a[X++]=o-1<<16|h;v[D-1]=1}}}}else{for(var D=0;
D<n;D++){var T=b.Nz.Ez(u[D],Z);if(T<=$)B[D]=255}for(var h=0;h<A;h++)for(var o=0;o<J;o++){var D=h*J+o;
if(B[D]==0&&(o>0&&(B[D-1]==255||h>0&&B[D-J-1]==255||h<A-1&&B[D+J-1]==255)||o<J-1&&(B[D+1]==255||h>0&&B[D-J+1]==255||h<A-1&&B[D+J+1]==255)||h>0&&B[D-J]==255||h<A-1&&B[D+J]==255)){var T=b.Nz.Ez(u[D],Z),l=z*(1-Math.max(0,Math.min(1,(T-$)*R)));
B[D]=~~l}}}return B};b.Nz.Ez=function(u,m){var C=m.length,Z=b.Nz.jd(u,m[0]),D=1;while(D!=C){Z=Math.min(Z,b.Nz.jd(u,m[D]));
D++}return Z};b.Nz.jd=function(u,m){var C=u&255,Z=u>>>8&255,q=u>>>16&255,J=u>>>24&255;if(m[3]==0)return J<5?0:255;
var A=Math.max(Math.abs(C-m[0]),Math.max(Math.abs(Z-m[1]),Math.abs(q-m[2])));return J==0?255:A};b.bv=function(u,m){if(m)b.Zg.call(this);
else if(u)b.Zg.call(this,[10,49],b.q7,"tools/camove");else b.Zg.call(this,[10,26],b.U6,"tools/patch");
this.iP=null;this.N1=null;this.r=null;this.Uc=null;this.s0=new dz;this.UT=null;this.xv=null};b.bv.prototype=new b.Zg;
b.bv.prototype.K4=function(u,m,C,Z,q){var J=u.t.Iv(q.x,q.y);if(u.q&&j.O0(J,u.q.channel,u.q.rect)){var A=new bl(0,0,u.e,u.n),n=A.aR(u.q.rect);
if(!u.w0()||n.qR())return;if(!0){var N=j.U(n.Z());j.j5(u.q.channel,u.q.rect,N,n);u.q={channel:N,rect:n}}this.Ej(u);
this.h4(u);this.Uc=J;this.s0=new dz(J.x-u.q.rect.x,J.y-u.q.rect.y);this.xv=j.U(u.q.rect.Z()*4);this.xv.fill(255);
if(this.al.patch==1){var e=u.g[u.w[0]];e.RZ(u,u.q,!0);if(e.yH==null)this.Uc=null}this.UT=u.q.rect.clone()}else{this.N1={s:[J.x,J.y],X:["M"]};
this.iP=J}};b.bv.prototype.TQ=function(u,m,C,Z,q){var J=u.t.Iv(q.x,q.y);if(this.Uc){if(this.al.patch==1){if(u.Rc.length==0){var A=u.g[u.w[0]].yH,n=J.x-this.s0.x,N=J.y-this.s0.y;
b.eG.Ym(u,u.w[0],Math.round(n-A.BR.x),Math.round(N-A.BR.y))}}else this.Gy(u,J,"clone")}if(this.iP){this.N1.X.push("L");
this.N1.s.push(J.x,J.y);this.iP=J;u.D.dz=this.N1;u.qz=!0}};b.bv.prototype.ec=function(u,m,C,Z,q){var J=u.t.Iv(q.x,q.y);
if(this.Uc){var A=u.q.rect.clone();if(this.id==b.q7){var n=u.g[u.w[0]];n.nK(u,n.yH);u.q.rect=this.UT.clone();
var N=j.U(u.q.rect.Z()*4);j.wC(u.q.channel,N,3);this.CA(u,"sheal",N,u.q.rect,u.q.rect);u.q.rect=A;A=A.QN(this.UT)}this.Gy(u,J,"heal");
this.finish(u,A,null,null,!0);u.G(A);this.Uc=null}if(this.iP){var e=b.No.B7(this.al.setop,Z.j(hs.KP),Z.j(hs.mD)),Q=new eY(r.E.od,!0);
if(this.N1.s.length<=4)Q.data=b.No.W6();else Q.data=b.No.qQ(this.N1.s,e);m.c(Q);this.iP=null;u.D.dz=null;
u.qz=!0}};b.bv.prototype.Rx=function(){return this.r};b.bv.prototype.vv=function(u,m,C,Z,q){b.Zg.prototype.vv.call(this,u,m,C,Z,q);
this.p3(q,Z)};b.bv.prototype.p3=function(u,m){var C="auto;";if(m!=null&&m.j(hs.KP)&&!m.j(hs.mD)||this.al.setop=="union")C="copy";
var Z=new eY(r.E.z,!0);Z.data={d:r.J.q$,U7:C};if(this.caller)this.caller.c(Z)};b.bv.prototype.Gy=function(u,m,C){var Z=new dz(Math.round(this.Uc.x-m.x),Math.round(this.Uc.y-m.y));
if(this.al.patch==1)Z.qX(-Z.x,-Z.y);this.r=Z;this.CA(u,C,this.xv,u.q.rect,u.q.rect);this.G(u,u.q.rect)};
b.rj=function(){b.bv.call(this,!0);this.al.patch=1};b.rj.prototype=new b.bv(!0,!0);b.e1=function(){b.Zg.call(this,[10,13],b.akB,"tools/pbucket");
this.HR=!1};b.e1.prototype=new b.Zg;b.e1.prototype.enable=function(u,m,C,Z){var q=new eY(r.E.z,!0);q.data={d:r.J.q$,U7:"default"};
m.c(q)};b.e1.prototype.vZ=function(u,m){};b.e1.prototype.K4=function(u,m,C,Z,q){this.HR=!0};b.e1.prototype.ec=function(u,m,C,Z,q,J){var A=this.HR;
this.HR=!1;if(!A||J)return;if(this.XB(Z,m,q))return;if(!u.w0())return;var n=u.t.Iv(q.x,q.y),N=b.Nz.vL(u,n,this.al.wconf,this.al.sall,!0);
if(N==null)return;var e=j.U(N.rect.Z()*4);j.gs(e,(C.jM&255)<<16|(C.jM>>8&255)<<8|(C.jM>>16&255)<<0);
j.wC(N.channel,e,3);this.Ej(u);this.CA(u,"draw",e,N.rect,N.rect);this.G(u,N.rect);this.finish(u,N.rect)};
b.J8=function(){b.No.call(this,[10,14],b.a39,"tools/plasso");this.Xd="crosshair";this.vn=[];this.wJ=null;
this.N1=null;this.am6=0};b.J8.prototype=new b.No;b.J8.prototype.disable=function(u,m,C,Z){this.Xr(u)};
b.J8.prototype.AT=function(u,m,C,Z){this.vn=[hs.Vg,hs.A_]};b.J8.prototype.$d=function(u){return this.vn.indexOf(u)!=-1};
b.J8.prototype.uy=function(u){return this.N1!=null};b.J8.prototype.lV=function(){return this.N1!=null};
b.J8.prototype.sZ=function(){return this.N1!=null};b.J8.prototype.rB=function(u,m,C,Z){if(this.N1==null)return;
var q=this.N1,J=q.s,A=J.length-2,n=this.Sx;if(this.zn.zv(1)&&C.j(hs.mD)&&Z.Ct){J.push(0,0);q.X.push("L");
A+=2}else if(C.j(hs.KP))n=b.Ho.K2(new dz(J[A-2],J[A-1]),n);J[A]=n.x;J[A+1]=n.y;u.D.dz=q;u.qz=!0};b.J8.prototype.kP=function(u,m,C,Z){var q=Date.now();
if(this.N1==null)this.N1={s:[this.Sx.x,this.Sx.y,this.Sx.x,this.Sx.y],X:["M","L"]};else{this.rB(u,m,C,Z);
if(q-this.am6<250||dz.th(this.Sx,new dz(this.N1.s[0],this.N1.s[1]))<b.fS(u,Z)){this.wJ=this.N1;this.finish(u,m,C,Z);
this.Xr(u);return}this.N1.X.push("L");this.N1.s.push(this.Sx.x,this.Sx.y)}this.am6=q;u.D.dz=this.N1};
b.J8.prototype.Xr=function(u){this.N1=null;this.vn=[];if(u!=null){u.D.dz=null;u.qz=!0}};b.J8.prototype.St=function(u,m,C,Z){b.No.prototype.St.call(this,u,m,C,Z);
if(Z.j(hs.U_)&&this.N1==null&&this.wJ&&u.q!=null){var q=new eY(r.E.H);q.b=b.fn;q.data={d:"h_stepbck"};
m.c(q);this.AT(u,C,Z,null);this.N1=this.wJ;return}if(this.N1==null)return;if(Z.j(hs.Vg)||Z.j(hs.A_)){this.N1.s.pop();
this.N1.s.pop();this.N1.X.pop();this.rB(u,C,Z)}if(Z.j(hs.tb)){if(this.N1.s.length>4){this.wJ=this.N1;
this.finish(u,C,Z)}this.N1=null}if(Z.j(hs.U_)){this.N1=null}u.D.dz=this.N1;u.qz=!0};b.J8.prototype.getSelection=function(u,m,C,Z){return b.No.qQ(this.N1.s,null,this.al.anta)};
b.vK=function(){b.No.call(this,[10,10],b.asf,"tools/mlasso");this.Xd="crosshair";this.vn=[];this.B=[];
this.gr=[];this.hz=[];this.cN=null;this.m0=null;this.YD=null;this.Ap=0;this.kq=0};b.vK.prototype=new b.No;
b.vK.prototype.disable=function(u,m,C,Z){this.clear(u)};b.vK.prototype.uy=function(u){return this.B.length!=0};
b.vK.prototype.sZ=function(){return this.B.length!=0};b.vK.prototype.$d=function(u){return this.vn.indexOf(u)!=-1};
b.vK.prototype.AT=function(u,m,C,Z){this.vn=[hs.Vg,hs.A_];var q=this.Xo(this.l9,u);if(this.B.length!=0&&(dz.th(q,this.B[0])<b.fS(u,Z)||Date.now()-this.Ap<300)){this.Ya(u,this.B[0]);
this.finish(u,m,C);this.clear(u);return}this.Ap=Date.now();if(this.B.length!=0)q=this.Jh(q,u);else{var J=u.e,A=u.n,n=j.U(J*A),N=u.K9(),e=J*A*4;
for(var D=0;D<e;D+=4)n[D>>>2]=~~(.5+j.KY(N[D],N[D+1],N[D+2])*(N[D+3]*(1/255)));this.cN=j.J_.at0(n,J,A);
this.YD=new Uint16Array(n.length)}this.Ya(u,q);this.kq=C.j(hs.mD)?1:0;this.yc(u)};b.vK.prototype.Ya=function(u,m){var C=this.B;
this.gr[C.length]=this.hz.length;if(C.length!=0){j.J_.qS(this.m0,m.y*u.e+m.x);var Z=this.Og(u,m);Z.reverse();
var q=b.vK._N(u,Z);this.hz=this.hz.concat(q)}C.push(m);this.DO(u)};b.vK.prototype.DO=function(u){var m=this.B[this.B.length-1],C=m.y*u.e+m.x;
this.m0=j.J_.aeK(this.cN.M8,this.cN.Hc,C);this.YD.fill(0)};b.vK.prototype.Xo=function(u,m){return new dz(Math.floor(Math.max(0,Math.min(m.e-1,u.x))),Math.floor(Math.max(0,Math.min(m.n-1,u.y))))};
b.vK.prototype.clear=function(u){this.hz=[];this.B=[];this.gr=[];this.cN=null;this.m0=null;this.YD=null;
if(u!=null){u.D.dz=null;u.D.hN=[];u.qz=!0}this.vn=[]};b.vK.prototype.rB=function(u,m,C,Z){var q=this.B,J=q.length;
if(J==0)return;var A=this.Jh(this.Xo(this.Sx,u),u),n=this.Og(u,A);for(var D=0;D<n.length;D++){var N=n[D],e=new dz(N%u.e,Math.floor(N/u.e));
if(this.YD[N]>30&&dz.th(e,q[J-1])>20){this.Ya(u,e);return}this.YD[N]++}if(this.kq==1&&Z.Ct)this.Ya(u,A);
this.yc(u)};b.vK.prototype.yc=function(u){var m=this.B;if(m.length!=0){var C=this.Jh(this.Xo(this.Sx,u),u),Z=this.Og(u,C);
Z.reverse();var q=b.vK._N(u,Z),J=this.hz.concat(q),A=u.D.dz={s:J,X:["M"]};for(var D=2;D<J.length;D+=2)A.X.push("L")}u.D.hN=[];
for(var D=0;D<m.length;D++)u.D.hN.push(m[D].x+.5,m[D].y+.5);u.qz=!0};b.vK.prototype.kP=function(u,m,C,Z){};
b.vK.prototype.St=function(u,m,C,Z){if(this.B.length==0)return;if(Z.j(hs.Vg)||Z.j(hs.A_)){this.B.pop();
this.hz=this.hz.slice(0,this.gr[this.B.length]);this.gr.pop();if(this.B.length==0)this.clear(u);else this.DO(u);
this.yc(u)}if(Z.j(hs.tb)){var q=this.Xo(this.Sx,u);this.Ya(u,q);this.finish(u,C,Z);this.clear(u)}if(Z.j(hs.U_)){this.clear(u)}};
b.vK.prototype.getSelection=function(u,m,C,Z){return b.No.qQ(this.hz,null,this.al.anta)};b.vK.prototype.Og=function(u,m){var C=this.B[this.B.length-1],Z=C.y*u.e+C.x,q=m.y*u.e+m.x;
if(this.kq==1)return[q,Z];var J=[q];while(q!=Z){q=this.m0.V7[q];J.push(q);if(J.length>5e3){console.log(J);
throw"e"}}return J};b.vK._N=function(u,m){var C=[],Z=u.e;for(var D=0;D<m.length;D++){var q=m[D];C.push(q%Z+.5,Math.floor(q/Z)+.5)}return C};
b.vK.prototype.Jh=function(u,m){var C=m.e,Z=m.n,q=u.clone(),A=3;j.J_.qS(this.m0,u.y*C+u.x);var J=this.m0.Ba[u.y*C+u.x];
for(var n=-A+1;n<A;n++)for(var N=-A+1;N<A;N++){var e=u.x+N,Q=u.y+n;if(e<0||e>=C||Q<0||Q>=Z)continue;
j.J_.qS(this.m0,Q*C+e);if(this.m0.Ba[Q*C+e]<J)q.qX(e,Q)}return q};b.sd=function(){b.uF.call(this,[10,36],b.dh,"tools/ruler");
this.s4=null;this.pa=null;this.Nf=null;this.fY=null;this.j0=null};b.sd.prototype=new b.uF;b.sd.prototype.uy=function(u){return u.Ct};
b.sd.prototype.enable=function(u,m,C,Z){b.uF.prototype.enable.call(this,u,m,Z,C);if(u)this.Io(u)};b.sd.prototype.disable=function(u,m,C,Z){if(u)this.Xr(u)};
b.sd.prototype.W1=function(u,m,C,Z,q){this.s4=this.Nf=null;this.Io(C)};b.sd.prototype.K4=function(u,m,C,Z,q){var J=b.fS(u,q),A=u.t.Iv(q.x,q.y);
A.x=Math.round(A.x);A.y=Math.round(A.y);var n=this.s4;this.pa=n?n.slice(0):null;var N=n&&dz.th(A,n[0])<J,e=n&&dz.th(A,n[1])<J,Q=n&&n[2]&&dz.th(A,n[2])<J;
if(N||e||Q){if(Z.j(hs.mD)&&n.length==2){if(e){var p=n[0];n[0]=n[1];n[1]=p}n[2]=n[0].clone();this.Nf=[2]}else this.Nf=[N?0:e?1:2]}else if(n&&b.sd.a9W(n[0],n[1],A)<J&&Math.min(n[0].x,n[1].x)-5<=A.x&&A.x<=Math.max(n[0].x,n[1].x)+5&&Math.min(n[0].y,n[1].y)-5<=A.y&&A.y<=Math.max(n[0].y,n[1].y)+5){this.Nf=[];
this.j0=[];for(var D=0;D<n.length;D++){this.Nf.push(D);this.j0.push(n[D].clone())}this.fY=A}else{this.s4=[A.clone(),A.clone()];
this.Nf=[1]}};b.sd.prototype.TQ=function(u,m,C,Z,q){if(this.Nf==null)return;var J=this.s4,A=this.Nf,n=u.t.Iv(q.x,q.y);
n.x=Math.round(n.x);n.y=Math.round(n.y);if(A.length>1){var N=n.x-this.fY.x,e=n.y-this.fY.y;for(var D=0;
D<J.length;D++){J[D]=this.j0[D].clone();J[D].offset(N,e)}}else{J[A[0]].qX(n.x,n.y);if(Z.j(hs.KP)){J[A[0]]=b.Ho.K2(J[1-A[0]],J[A[0]])}}this.Io(u);
this.Q$(m,r.E.z,{d:r.J.zW,b:this.id,aqz:J[0],q8:J[1],Sm:J[2],JJ:u.JJ,amT:u.e})};b.sd.prototype.ec=function(u,m,C,Z,q,J){this.Nf=null;
if(J){this.s4=this.pa.slice(0);this.Io(u)}};b.sd.prototype.Q$=function(u,m,C){var Z=new eY(m,!0);Z.data=C;
u.c(Z)};b.sd.prototype.Io=function(u){var m=this.s4;if(m==null)this.Xr(u);else{var C=[m[1].x,m[1].y,m[0].x,m[0].y],Z=["M","L"];
if(m.length>2){C.push(m[2].x,m[2].y);Z.push("L")}u.D.dz={X:Z,s:C};u.D.hN=C}u.qz=!0};b.sd.prototype.Xr=function(u){u.D.dz=null;
u.D.hN=[]};b.sd.a9W=function(u,m,C){var Z=m.x-u.x,q=m.y-u.y,J=Math.abs(q*C.x-Z*C.y+m.x*u.y-m.y*u.x),A=Math.sqrt(Z*Z+q*q);
return A==0?0:J/A};b.Cb=function(){b.Zg.call(this,[10,19],b.xN,"tools/sharpen");this.DU="copy"};b.Cb.prototype=new b.Zg;
b.Cb.prototype.K4=function(u,m,C,Z,q){var J=this.al.pdetail?eD.KC:eD.xN;if(Z.j(hs.mD))J=eD.IP;this.XE(u,C,Z,q,this.al.strn,J);
if(this.YW==null)return;this.rk(u)};b.Cb.prototype.TQ=function(u,m,C,Z,q){this.k$(u,m,C);if(this.dr)this.dv(u,C,q);
if(this.YW==null)return;if(!q.Ct)return;this.L_(u,C,Z,q);this.rk(u)};b.Lm=function(){b.Zg.call(this,[10,24],b.WT,"tools/shbrush");
this.DU="draw";this.al.opacity=.5};b.Lm.prototype=new b.Zg;b.Lm.prototype.K4=function(u,m,C,Z,q){this.XE(u,C,Z,q,1);
if(this.YW==null)return;this.h4(u);this.rk(u)};b.Lm.prototype.TQ=function(u,m,C,Z,q){this.k$(u,m,C);
if(this.dr)this.dv(u,C,q);if(this.YW==null)return;if(!q.Ct)return;this.L_(u,C,Z,q);this.rk(u)};b.Lm.prototype.ec=function(u,m,C,Z,q){if(this.YW==null)return;
this.CA(u,"sheal",this.YW.g9(),this.YW.Ci(),this.YW.ud(),null);this.G(u,this.YW.ud());b.Zg.prototype.ec.call(this,u,m,C,Z,q)};
b.kA=function(){b.Zg.call(this,[10,20],b.rf,"tools/smudge");this.DU="copy"};b.kA.prototype=new b.Zg;
b.kA.prototype.K4=function(u,m,C,Z,q){this.XE(u,C,Z,q,this.al.strn,eD.rf);if(this.YW==null)return;this.rk(u)};
b.kA.prototype.TQ=function(u,m,C,Z,q){this.k$(u,m,C);if(this.dr)this.dv(u,C,q);if(this.YW==null)return;
if(!q.Ct)return;this.L_(u,C,Z,q);this.rk(u)};b.NA=function(){b.Zg.call(this,[10,23],b.UQ,"tools/sponge");
this.DU="sponge"};b.NA.prototype=new b.Zg;b.NA.prototype.K4=function(u,m,C,Z,q){this.XE(u,C,Z,q,this.al.flow);
if(this.YW==null)return;this.rk(u)};b.NA.prototype.TQ=function(u,m,C,Z,q){this.k$(u,m,C);if(this.dr)this.dv(u,C,q);
if(this.YW==null)return;if(!q.Ct)return;this.L_(u,C,Z,q);this.rk(u)};b.Yq=function(){b.uF.call(this,[10,17],b.Uz,"tools/zoom");
this.mL=!1;this._o=!0;this.$u=0;this.RG=null;this.PN=null;this.GF=0;this.bh=null;this.H1=0;this.sV=new dk([{name:[8,0],B8:"Ctrl + +"},{name:[8,1],B8:"Ctrl + -",ZR:!0},{name:[20,3],B8:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],B8:"Ctrl + 1"}],[{W:r.E.H,b:b.Uz,R:{d:"zoom",_o:!0}},{W:r.E.H,b:b.Uz,R:{d:"zoom",_o:!1}},{W:r.E.H,b:b.Uz,R:{d:"adapt",k:"fitscr"}},{W:r.E.H,b:b.Uz,R:{d:"adapt",k:"pixel"}}])};
b.Yq.prototype=new b.uF;b.Yq.prototype.tX=function(u,m,C,Z,q){var J=this.sV;J._();J.parent=m;J.update(u,C);
var A=new eY(r.E.z,!0);A.data={d:r.J.ek,Vl:J,x:q.Mt+2,y:q.GY+1};m.c(A)};b.Yq.prototype.enable=function(u,m,C,Z){this.EB(m,Z);
if(u&&Date.now()-this.$u<300)this.W1({d:"adapt",k:"pixel"},m,u,Z,C);this.$u=Date.now()};b.Yq.prototype.K4=function(u,m,C,Z,q){this.PN=new dz(q.x,q.y);
this.GF=u.t.V;this.bh=u.t.r.clone()};b.Yq.prototype.TQ=function(u,m,C,Z,q){if(this.PN==null)return;var J=Math.exp(Math.log(this.GF)+(q.x-this.PN.x)/64);
J=Math.max(.02,Math.min(b.Yq.Nk[0],J));u.t.V=this.GF;u.t.r=this.bh.clone();this.W1({d:"zoom",V:J,vB:this.PN},m,u,Z,C)};
b.Yq.prototype.ec=function(u,m,C,Z,q){if(dz.th(this.PN,q)<4){var J=this.c0(Z);this.W1({d:"zoom",_o:J,vB:q},m,u,Z,C)}this.PN=null};
b.Yq.Nk=[64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
b.Yq.gE=function(u,m,C,Z){var q=1;while(u*q*1/2>C||m*q*1/2>Z)q*=1/2;if(u*q*2/3>C||m*q*2/3>Z)q*=1/2;else if(u*q>C||m*q>Z)q*=2/3;
return q};b.Yq.qU=function(u,m){var C=b.Yq.afW(u);if(m&&C==0)return u;if(!m&&C==b.Yq.Nk.length-1)return u;
return b.Yq.Nk[m?C-1:C+1]};b.Yq.afW=function(u){var m=0;while(b.Yq.Nk[m]>u)m++;return m};b.Yq.S6=function(u,m,C,Z){var q=u.Uk;
if(Z==0||Z==null){Z=b.Yq.qU(u.V,C);if(Z==u.V)return}var J=u.Iv(m.x,m.y);if(q.e*Z<=u.pQ.e&&q.n*Z<=u.pQ.n){u.r.qX(0,0);
u.V=Z}else{var A=u.bR(),n=u.V/Z;A.translate(-J.x,-J.y);A.scale(n,n);A.translate(J.x,J.y);u.akY(A)}};
b.Yq.prototype.W1=function(u,m,C,Z,q){if(u.d=="pzoom"){if(typeof u.k=="string")return;u={d:"zoom",V:u.k/100}}var J=0,A=!1,n=null;
if(u.d=="adapt"){var N=0;if(u.k=="pixel")N=1;if(u.k=="fitscr"){var N=0,e=C.t.pQ.e,Q=C.t.pQ.n,p=q.SQ?j.KX.F$+4:8;
N=Math.min((e-p*2)/C.e,(Q-p*2)/C.n)}n=new dz(Math.round(C.t.pQ.e/2),Math.round(C.t.pQ.n/2));J=N;b.Yq.S6(C.t,n,A,J);
C.xi=!0}if(u.d.startsWith("multi")){function B(l){var w=l[0].x-l[1].x,W=l[0].y-l[1].y;return Math.sqrt(w*w+W*W)}function $(l){return new dz((l[0].x+l[1].x)/2,(l[0].y+l[1].y)/2)}var R=u.Ww,z=$(R);
if(u.d=="multidown"){this.RG=[R,C.t.V,C.t.Iv(z.x,z.y)]}else{var v=b.Yq.Nk;J=this.RG[1]*B(R)/B(this.RG[0]);
J=Math.max(v[v.length-1],Math.min(v[0],J));if(J!=C.t.V)b.Yq.S6(C.t,z,A,J);var a=this.RG[2],X=C.t.qh(a.x,a.y),V=C.t.r;
V.x=Math.round(V.x+z.x-X.x);V.y=Math.round(V.y+z.y-X.y);C.xi=!0}}if(u.d=="scroll"){n=u.vB;this.H1+=u.TZ.y;
var o=14;if(this.H1<-o){A=!0;this.H1=Math.max(this.H1+o,-(o-1))}else if(this.H1>o){A=!1;this.H1=Math.min(this.H1-o,o-1)}else return;
b.Yq.S6(C.t,n,A,J);C.xi=!0}if(u.d=="zoom"){n=u.vB?u.vB:new dz(Math.round(C.t.pQ.e/2),Math.round(C.t.pQ.n/2));
if(u.V!=null)J=u.V;else A=u._o;b.Yq.S6(C.t,n,A,J);C.xi=!0}if(u.d=="mskView"){var h=C.g[C.w[0]];if(h.$v<=0){h.$v=1;
C.aJ=!0}var T=h.$v==3?h.Ha(C).M:h.Te();if(u.k==0){C.t.Np=[1,1,1];T.GH=!1}if(u.k==1){C.t.Np=[1,1,1];T.GH=!0}if(u.k==2){C.t.Np=[0,0,0];
T.GH=!0}for(var D=0;D<C.YG.length;D++)C.YG[D].GH=!1;C.Rc=[];C.qz=!0}};b.Yq.prototype.St=function(u,m,C,Z){if(this.mL!=Z.j(hs.mD)){this.mL=Z.j(hs.mD);
var q={d:r.J.zW,b:this.id,mL:this.mL},J=new eY(r.E.z,!0);J.data=q;m.c(J);this.EB(m,Z)}};b.Yq.prototype.EB=function(u,m){var C=new eY(r.E.z,!0),Z=this.c0(m);
C.data={d:r.J.q$,U7:Z?"zoom-in":"zoom-out"};u.c(C)};b.Yq.prototype.vv=function(u,m,C,Z){this._o=u._o;
this.EB(m,Z)};b.Yq.prototype.c0=function(u){var m=this._o;if(u.j(hs.tH)&&u.j(hs.Vw))m=!0;if(this.mL)m=!m;
return m};b.Yq.Fe=function(u,m){if(u.j(hs.IA)||u.j(hs.aec)){m.b=b.Uz;m.data={d:"zoom",_o:!0}}if(u.j(hs.Tw)){m.b=b.Uz;
m.data={d:"zoom",_o:!1}}if(u.j(hs.KZ)){m.b=b.Uz;m.data={d:"adapt",k:"fitscr"}}if(u.j(hs.Tx)){m.b=b.Uz;
m.data={d:"adapt",k:"pixel"}}};b.Ug=function(u,m,C){b.uF.call(this,u,m,C);this.nJ=null;this.sU=null;
this.SS=null;this.a7M=0};b.Ug.prototype=new b.uF;b.Ug.prototype.enable=function(u,m,C,Z,q){this.sU=C;
var J=new eY(r.E.z,!0);J.data={d:r.J.q$,U7:"default"};m.c(J)};b.Ug.prototype.tX=function(u,m,C,Z,q){var J=u.yG(),A=J[0],n=J[1];
if(n.length==0)return;var N=A[n[0]],e=N.add.vmsk,Q=u.t.Iv(q.x,q.y),p=4*b.F()/u.t.V,B=new bl(Q.x-p,Q.y-p,p*2,p*2),$=j.$.UN(e.B,B)[0];
if($.length!=0){e.H9=$;u.qz=!0}var R=j.$.O0(e.B,Q).NR;if(R!=-1){e.w=[R];u.qz=!0}var z=new eY(r.E.z,!0);
z.data={d:r.J.zW,b:this.id,tw:q,HC:u,C1:C};m.c(z)};b.Ug.prototype.cT=function(u,m){var C=new eY(r.E.z,!0);
C.data={d:r.J.mh,no:jO.e6};if(!m.YC)u.c(C);C.data={d:r.J.mh,no:jO.hm};if(!m.SM.kL)u.c(C)};b.Ug.prototype.hP=function(u,m,C,Z){if(C.Oj!=this.id)return;
if(u.w.length==0)return;var q=u.g[u.w[0]],J=q.add.vmsk,A=q.add.vstk,n=b.Ug.zD(u,u.w[0]);this.nJ=u;this.SS=m;
if(q.Y8()&&J!=null&&(JSON.stringify(A)!=JSON.stringify(C.dn)||JSON.stringify(n)!=JSON.stringify(C.$_))){this.a7M=Date.now();
var N=new eY(r.E.z,!0);N.data={d:r.J.mh,no:jO.IH,k:n};m.c(N);N.data={d:r.J.mh,no:jO.lY,k:A};m.c(N)}};
b.Ug.prototype.vZ=function(u,m){if(this.nJ==null)return;if(m==jO.LY||m==jO.IH||m==jO.lY){if(Date.now()-this.a7M<50)return;
var C=m==jO.IH,Z=this.nJ,q=C?u.$_:u.dn,J=[],A=Z.w;for(var D=0;D<A.length;D++){var n=A[D],N=Z.g[n];if(!N.Y8()||N.add.vmsk==null)continue;
J.push(n)}var e=new eY(r.E.H,!0);e.b=b.IZ;e.data={d:F.cQ,Mn:J,Ze:C,k:q};if(J.length!=0)this.SS.c(e)}};
b.Ug.prototype.agD=function(u){if(typeof u=="number"){var m=new eY(r.E.od,!0);m.data=b.kp.ij(0);m.data.yS.Usng.v.Type.v.Clr.v=j.C.sG({p:u>>>16&255,T:u>>>8&255,S:u>>>0&255});
this.SS.c(m)}};b.Ug.prototype.W1=function(u,m,C,Z,q){this.SS=m;if(u.d=="newfill"){if(u.X1==0){var J=new eY(r.E.z,!0);
J.data={d:r.J.zH,E$:"colorpicker",fB:q.jM,ry:this.agD.bind(this)};m.c(J)}}else if(u.d=="pathedit"){var A=u.OY,n="",N=C.kL.slice(0),e=C.h2.slice(0),Q=C.kL.slice(0),p=C.h2.slice(0);
if(A=="rnm"){var B=-1-u.NR,$=N[B],R=gj.Q2(u.name,$.add);if(B!=0)Q[B]=R;else{p=[Q.length];Q.push(R);Q[0]=gj.Q2("Work Path")}n="Rename"}else if(A=="new"){var R=gj.Q2("Path "+N.length);
if(u.ad1){var z=C.yG(),v=z[0],a=z[1],X=v[a[0]];R.add.vmsk=X.add.vmsk.clone();R.add.vogk=JSON.parse(JSON.stringify(X.add.vogk));
if(X.NR==-1){var V=Q[p[0]]=gj.Q2("Path "+N.length);V.name=X.name;V.NR=X.NR}}Q.push(R);p=[Q.length-1];
n="New"}else if(A=="del"){if(p.length==0)return;p.sort(function(x,c){return x-c});if(p[0]==0){Q[0]=gj.Q2(N[0].name);
p=p.slice(1)}var o=0;while(p.length!=0){Q.splice(p[0]-o,1);p=p.slice(1);o++}n="Delete"}else if(A=="fromsel"){var h=Q[0]=gj.Q2("Work Path");
p=[0];if(C.q==null)return;var T=C.q.channel.slice(0);for(var D=0;D<T.length;D++)T[D]=T[D]>128?2:1;var l=C.q.rect.clone();
l.iO(1,1);var w=j.U(l.Z());j.j5(T,C.q.rect,w,l);var W=d1.hw(w,l.e,l.n,Math.round(l.Z()*5e-4)),v=d1.yG(W),U=new ix(1,0,0,1,-1+C.q.rect.x,-1+C.q.rect.y);
for(var D=0;D<v.length;D++)j.u.I(v[D].path.s,U,v[D].path.s);for(var D=0;D<v.length;D++){var s=v[D];if(s.color==1&&s.parent==-1)continue;
var S=j.u.DA(v[D].path,!1);h.add.vmsk.B=h.add.vmsk.B.concat(S.slice(2))}h.add.vogk=F.yz(h.add.vmsk.B);
n="Selection to"}var x=new h5(n+" Path",this);x.data={pa:N,Q4:e,a91:Q,wE:p};if(A=="fromsel"){x.data.Ow=C.q;
x.data.i9=null}C.hO(x);this.H_(x.data,C)}else{var P=u.wy,z=C.yG(u.d=="append"),v=z[0],a=z[1],h=v[a[0]],y=h.add.vmsk,_=h.add.vogk,g=y.clone(),G=y.clone(),E=JSON.stringify(_);
if(u.d=="remove"){if(u.Em&&G.H9.length!=0){G.B=j.$.a0Q(G.B,G.H9,_);var L=j.$.o1(G.B);for(var D=0;D<G.w.length;
D++)if(G.w[D]>=L){G.w.splice(D,1);D--}G.H9=[];P="Delete Anchors"}else{if(G.w.length==0)return;var o=0;
for(var D=0;D<G.w.length;D++){_.splice(G.w[D]+o,1);o--}G.B=j.$.a3n(G.B,G.w);G.w=[];G.H9=[];if(P==null)P="Delete Paths"}}if(u.d=="append"){b.Ug.sB(u.a9q,G,_)}this.J9(C,h.NR,G,_);
this.fm(C,P,h.NR,g,G.clone(),null,E,JSON.stringify(_))}};b.Ug.UW=function(u,m){var C=j.$.atY(u.B,u.w),Z=[];
for(var D=0;D<u.w.length;D++)Z.push(JSON.parse(JSON.stringify(m[u.w[D]])));return[C,Z]};b.Ug.sB=function(u,m,C){var Z=j.$.o1(m.B),q=j.$.o1(u[0]);
m.B=m.B.concat(u[0].slice(2));m.w=[];for(var D=0;D<q;D++)m.w.push(Z+D);for(var D=0;D<q;D++)C.push(JSON.parse(JSON.stringify(u[1][D])))};
b.Ug.prototype.$d=function(u,m){if(m==null)return!1;var C=m.yG(),Z=C[0],q=C[1];if(q.length==0)return!1;
var J=Z[q[0]],A=J.add.vmsk;if(A&&A.w.length+A.H9.length!=0)return[hs.Vg,hs.A_].indexOf(u)!=-1};b.Ug.prototype.St=function(u,m,C,Z){if(u==null)return;
var q=u.yG(),J=q[0],A=q[1];if(A.length==0)return;var n=J[A[0]],N=n.add.vmsk;if(Z.j(hs.U_)||Z.j(hs.tb)){N.H9=[];
u.qz=!0}if(N.w.length!=0){var e=Z.gq();if(e.x!=0||e.y!=0){var Q=N.clone(),p=N.clone(),B=new ix(1,0,0,1,e.x,e.y),$=n.add.vogk,R=JSON.stringify($);
j.$.l0(p.B,B,p.w);j.xK.I($,j.N.S4(B),p.w);this.J9(u,n.NR,p,$);this.fm(u,"Move Paths",n.NR,Q,p.clone(),!0,R,JSON.stringify($))}if(Z.j(hs.Vg)||Z.j(hs.A_))this.W1({d:"remove",Em:this.id==b.dk},m,u,Z,C)}};
b.Ug.prototype.fm=function(u,m,C,Z,q,J,A,n){var N=new h5(m,this);N.data={kj:C,AV:Z,NQ:q,aih:J,anB:A,O$:n};
u.hO(N)};b.Ug.prototype.H_=function(u,m){if(u.kj!=null)this.J9(m,u.kj,u.NQ.clone(),JSON.parse(u.O$));
else{m.kL=u.a91.slice(0);m.h2=u.wE.slice(0);m.qz=m.aJ=!0}if(u.Ow||u.i9){m.q=u.i9;m.W0=!0}};b.Ug.prototype.H8=function(u,m){if(u.kj!=null)this.J9(m,u.kj,u.AV.clone(),JSON.parse(u.anB));
else{m.kL=u.pa.slice(0);m.h2=u.Q4.slice(0);m.qz=m.aJ=!0}if(u.Ow||u.i9){m.q=u.Ow;m.W0=!0}};b.Ug.prototype.J9=function(u,m,C,Z){var q=m<0?u.kL[-1-m]:m<1e6?u.g[m]:u.g[m-1e6].add.TySh,J=q.add.vmsk;
J.channel=null;J.hf=!0;if(J.yR){J.yR.channel=null;J.yR.hf=!0}q.add.vmsk=C;q.add.vogk=Z;if(1e6<=m){ad.GA(q);
var A=u.g[m-1e6],n=q,N=this.sU,e=new iW(n.pU,N.u6),Q=bL.mn(e,n);A.rect=Q.yt;A.buffer=Q.bf;A.G();u.G()}else if(0<=m){C.hf=!0;
q.uE(u);u.G()}u.qz=u.aJ=!0};b.Ug.zD=function(u,m){var C=u.g[m],Z=C.add.vstk,q=null;if(Z&&!Z.fillEnabled.v)q={Er:0};
else if(C.add.SoCo)q={Er:1,am:C.add.SoCo};else if(C.add.GdFl)q={Er:2,am:C.add.GdFl};else if(C.add.PtFl)q={Er:3,am:C.add.PtFl};
return q};b.Ug.B9=function(u,m){var C=u.add.vmsk,Z=u.add.vstk,q=m.Er;if(Z)Z.fillEnabled.v=q!=0;if(q>0){var J=["SoCo","GdFl","PtFl"][q-1];
for(var D=0;D<3;D++)delete u.add[["SoCo","GdFl","PtFl"][D]];u.add[J]=m.am}};b.kp=function(u,m,C,Z){b.Ug.call(this,u,m,C);
this.al={shape:j9.Qv(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{WI:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.apO=Z;this.yy=null;this.Xm=null;this.ip=null;this.zn=new hP};b.kp.prototype=new b.Ug;b.kp.prototype.uy=function(u){return u.Ct&&this.id!=b.xu};
b.kp.prototype.enable=function(u,m,C,Z,q){this.sU=C;var J=new eY(r.E.z,!0);J.data={d:r.J.q$,U7:"crosshair"};
m.c(J)};b.kp.prototype.St=function(u,m,C,Z){b.Ug.prototype.St.call(this,u,m,C,Z);this.zn.St(Z);this.mm(m,C)};
b.kp.prototype.mm=function(u,m){var C=new eY(r.E.z,!0);C.data={d:r.J.zW,b:this.id,mv:this.HA(m)};u.c(C)};
b.kp.prototype.HA=function(u){var m=this.zn.bA(0),C=this.zn.zv(0),Z=b.No.B7(this.al.binop,m,C);if(u.NS==1&&Z==0)Z=1;
return Z};b.kp.prototype.JK=function(u,m,C,Z){};b.kp.prototype.K4=function(u,m,C,Z,q){var J=C.NS;if(J!=2)this.cT(m,C);
if(J==2&&!u.w0())return;var A=u.t.Iv(q.x,q.y);A=b.eG.xJ(u,A,C);this.ip=[A.x,A.y];this.yy=A;this.Xm=new dz(0,0);
this.zn.K4(Z)};b.kp.prototype.ma=function(u,m,C){var Z=[this.yy.clone(),m.clone()];C=this.zn.bA(1)||this.zn.zv(1)?C:null;
if(this.apO)Z=b.kp.lJ(Z[0],Z[1],C,!0,this.al.cstr);if(u)u.t.SD=new bl(Z[0].x,Z[0].y,Z[1].x-Z[0].x,Z[1].y-Z[0].y);
return this.JK(Z[0],Z[1],this.zn.bA(1)&&C.j(hs.KP),this.ip)};b.kp.prototype.hb=function(u,m,C){var Z=u.t.Iv(m.x,m.y),q=this.al.cstr;
if(q.WI==2){var J=new bl(Z.x-q.x,Z.y-q.y,q.x,q.y),A=b.eG.EX(u,J,C);Z.x+=A[0];Z.y+=A[1];b.eG.nC(u,J,A)}else Z=b.eG.xJ(u,Z,C);
return Z};b.kp.prototype.TQ=function(u,m,C,Z,q){if(this.yy==null)return;var J=this.ip,A=J.length,n=q?this.hb(u,q,C):new dz(J[A-2],J[A-1]);
if(Z.j(hs.tH))this.yy=n.Vy(this.Xm);else this.Xm=n.Vy(this.yy);J.push(n.x,n.y);if(this.al.shape==null)this.al.shape=C.iL[0];
var N=this.ma(u,n,Z)[0],e=j.u.Hh(N);u.D.dz=e;if(this.id!=b.xu&&this.id!=b.xl&&this.id!=b.xz)b.uF.Tz(q,u.t.SD,u,C);
u.qz=!0;this.zn.TQ()};b.kp.prototype.ag5=function(u,m,C,Z){var q=u[4].clone();if(Z){q.x-=m/2;q.y-=C/2}var J=this.JK(q,new dz(q.x+m,q.y+C),!1,this.ip);
this.Ye(u[0],u[1],u[2],J)};b.kp.prototype.Ye=function(u,m,C,Z){var q=new eY(r.E.od,!0);q.data=b.kp.Rf(Z[1],C);
m.c(q);if(Z[1].v.classID=="customShape"&&Z[1].v.Nm.v.startsWith("--")){var J=u.yG(),A=J[0],n=J[1],N=A[n.pop()],e=N.add.vmsk,Q=N.add.vogk,p=e.clone();
p.B=Z[0];this.J9(u,N.NR,p,Q)}};b.kp.prototype.ec=function(u,m,C,Z,q,J){if(this.yy==null)return;var A=this.hb(u,q,C),n=this.HA(C),N=C.NS,e=this.ip,Q=e.length;
if(this.id==b.xu&&Q<=4){}else if(Q<=4){A.x=Math.round(A.x);A.y=Math.round(A.y);var p=new eY(r.E.z);p.data={d:r.J.zH,E$:"createshape",atH:this.ag5.bind(this),a0_:this.name,alk:[u,m,C,Z,A]};
if(!J)m.c(p)}else if(Q!=2){var B=this.ma(u,A,Z),$=B[0],R=u.yG(!0),z=R[0],v=R[1],a=v.length-1;if(N==1&&$.length>2||N==0&&n!=0&&a!=-1&&z[v[a]].NR>=0){$[2].hB=[1,2,3,0][n-1];
var X=z[v.pop()],V=X.add.vmsk,o=X.add.vogk,h=V.clone(),T=V.clone(),l=JSON.stringify(o);T.B=T.B.concat($.slice(2));
T.w=[j.$.o1(T.B)-1];var w=j.xK.wq(B[1]);o.push(w?w:j.xK.LW());this.J9(u,X.NR,T,o);this.fm(u,this.name,X.NR,h,T,null,l,JSON.stringify(o))}else if(N==0){this.Ye(u,m,C,B)}else if(N==2){var T=new F.nq;
T.B=T.B.concat($.slice(2));var W=T.Te();if(!this.al.anta)j.round(W.channel);var U=j.U(W.rect.Z()*4);
j.gs(U,(C.jM&255)<<16|(C.jM>>8&255)<<8|(C.jM>>16&255)<<0);j.wC(W.channel,U,3);var s=new eY(r.E.H,!0);
s.b=b.el;s.data={d:"draw",iy:{buffer:U,rect:W.rect.clone()},wy:this.name};m.c(s)}}this.yy=null;u.D.dz=null;
u.D.g3=null;u.D.fb=[];u.t.SD=null;u.qz=!0;this.zn.ec();this.mm(m,C)};b.kp.prototype.vv=function(u,m,C,Z,q){for(var C in u)this.al[C]=u[C]};
b.kp.lJ=function(u,m,C,Z,q){var J=u.x,A=u.y,n=m.x,N=m.y;if(q&&q.WI==2){if(Z){n=Math.round(n);N=Math.round(N)}J=n-q.x;
A=N-q.y}else{var e=0;if(q&&q.WI==1)e=q.y/q.x;else if(C&&C.j(hs.KP))e=1;if(e!=0){if(Z){if(J<n)J=Math.floor(J);
else J=Math.ceil(J);if(A<N)A=Math.floor(A);else A=Math.ceil(A)}var Q=Math.abs(n-J),p=Math.abs(N-A),B=Q;
if(p/Q<e)B*=p/Q/e;n=n>J?J+B:J-B;N=N>A?A+B*e:A-B*e}if(C&&C.j(hs.mD)){J-=n-J;A-=N-A}}var u=new dz(J,A),m=new dz(n,N);
if(Z)b.kp.a8F(u,m);return[u,m]};b.kp.a8F=function(u,m){if(u.x>m.x){var C=u.x;u.x=m.x;m.x=C}if(u.y>m.y){var C=u.y;
u.y=m.y;m.y=C}u.x=Math.floor(u.x);u.y=Math.floor(u.y);m.x=Math.ceil(m.x);m.y=Math.ceil(m.y)};b.kp.a4s=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
b.kp.ij=function(u,m){var C=b.kp.a4s();if(m==null)m=JSON.parse(JSON.stringify(c0.g0[u]));b.l_.wl(m,C.Usng.v.Type.v,u);
return{ZO:"make",yS:C}};b.kp.Rf=function(u,m){var C=m.$_,Z=JSON.parse(JSON.stringify(m.dn));if(C.Er==0)Z.fillEnabled.v=!1;
var q=b.kp.ij(Math.max(0,C.Er-1),C.am);q.yS.Usng.v.Shp=u;q.yS.Usng.v.strokeStyle={t:"Objc",v:Z};return q};
b.BK=function(){b.Ug.call(this,[10,29],b.dk,"tools/pen");this.Bx=null;this.Mz=null;this.oT=null;this.a5V=0;
this.$w=null;this.Ch=!1;this.Ew=!1;this.ff=!1;this._G=!1};b.BK.prototype=new b.Ug;b.BK.prototype.uy=function(u){return this.Mz!=null};
b.BK.prototype.St=function(u,m,C,Z){b.Ug.prototype.St.call(this,u,m,C,Z);if(!Z.j(hs.mD))this.ff=!1};
b.BK.prototype.K4=function(u,m,C,Z,q){this.Bx=q;this.cT(m,C);var J=u.t.Iv(q.x,q.y),z,v;J.x=Math.round(J.x);
J.y=Math.round(J.y);var A=b.eG.xJ(u,J,C),n=C.NS,N=this.a5V;if(n==2)n=0;var e=u.yG(n==1),Q=e[0],p=e[1],B=Q[p.pop()],$=B?B.add.vmsk:null;
if(n==0&&N!=0&&B&&B.NR>=0)n=1;var R=b.fS(u,q);if($)z=j.$.O0($.B,J,!0,R);var a=Z.j(hs.mD);if(n==0&&($==null||$.H9.length==0&&z.NR==-1)){var X=new eY(r.E.od,!0),V=j.xK.LO("customShape",[0,0,1,1],null,null,null,"--");
X.data=b.kp.Rf(V,C);m.c(X);this._G=!0;e=u.yG(!0);Q=e[0];p=e[1];B=Q[p.pop()];$=B.add.vmsk;$.B=$.B.slice(0,2)}var o=B.add.vogk;
this.Mz=$.clone();this.oT=JSON.stringify(o);var h=$.B,T=j.$.o1(h);v=j.$.UN($.B,new bl(J.x-R,J.y-R,R*2,R*2),$.H9);
z=j.$.O0($.B,J,!0,R);var l=v[0].length+v[1].length+v[2].length;if(z.NR!=-1&&v[0].length==0){var w=j.$.I9(h,z.NR);
while(h[w].length<=z.Gv){z.Gv-=h[w].length;w+=h[w].length+1}h[w].length++;h.splice(w+2+z.Gv,0,{type:4,Rv:A.clone(),A:A.clone(),wm:A.clone()});
$.H9=[w+2+z.Gv]}else if(l!=0&&a){var W=0;for(var D=0;D<3;D++)if(v[D].length!=0){W=v[D][0];this.Ew=D==1;
break}if(v[0].length!=0){var U=$.B.length-1,s=$.B[W];s.wm=s.A.clone();var S=s.type>=3?3:0;if(W!=U){s.Rv=s.A.clone();
s.type=S+1;this.ff=!0}else s.type=S+2}$.H9=[W]}else if(v[0].length==1&&h[v[0][0]-1]&&h[v[0][0]-1].hB==null){var W=v[0][0],w=j.$.jE(h,W);
w=j.$.I9(h,w);var x=w+h[w].length;if(W!=x){h[w].length--;h.splice(W,1);x--}$.H9=[x]}else{var P=0;if($.H9.length!=1){$.w=[T];
h.push({type:3,length:1,hB:[1,2,3,0][Math.max(0,N-1)],sF:0,Y4:0,Fn:0});P=h.length;o.push(j.xK.LW())}else{var y=$.H9[0],_=j.$.jE(h,y),w=j.$.I9(h,_);
y=w+h[w].length;if(dz.th(J,h[w+1].A)<R){h[w].type=0;$.H9=[w+1];this.$w=A;this.Ch=!0;this.J9(u,B.NR,$,o);
u.qz=!0;return}h[w].length++;P=y+1;if(y==w+1&&h[w].length!=2)P=w+1}if(Z.j(hs.KP)&&h[P-1]&&h[P-1].A)A=b.Ho.K2(h[P-1].A,A);
h.splice(P,0,{type:4,Rv:A.clone(),A:A.clone(),wm:A.clone()});$.H9=[P];this.$w=A}this.J9(u,B.NR,$,o);
u.qz=!0};b.BK.prototype.TQ=function(u,m,C,Z,q){if(this.Mz==null)return;var J=this.Bx;if(J&&dz.th(J,q)<b.fS({t:{V:1}},q))return;
this.Bx=null;var A=u.t.Iv(q.x,q.y),n=b.eG.xJ(u,A,C),N=u.yG(C.NS==1),e=N[0],Q=N[1],p=e[Q.pop()],B=p.add.vmsk,$=B.B,R=$[B.H9[0]];
if(Z.j(hs.tH)){if(Z.j(hs.KP))n=b.Ho.K2(this.$w,n);var z=R.A.Vy(R.wm),v=R.Rv.Vy(R.A);R.wm=n;R.A=n.add(z);
R.Rv=R.A.add(v)}else{if(Z.j(hs.KP))n=b.Ho.K2(R.A,n);if(this.Ew){var a=R.Rv;R.Rv=R.wm;R.wm=a}if(this.Ch){var X=dz.th(R.A,n),V=X==0?0:dz.th(R.A,R.wm)/X;
R.wm.x=R.A.x+V*(n.x-R.A.x);R.wm.y=R.A.y+V*(n.y-R.A.y)}else R.wm=n;if(Z.j(hs.mD)&&!this.ff)R.type=5;else{R.type=4;
R.Rv=R.A.add(R.A.Vy(n))}this.$w=n;if(this.Ew){var a=R.Rv;R.Rv=R.wm;R.wm=a}}this.J9(u,p.NR,B,p.add.vogk);
u.qz=!0};b.BK.prototype.ec=function(u,m,C,Z,q){if(this.Mz==null)return;var J=u.yG(C.NS==1),A=J[0],n=J[1],N=A[n.pop()],e=N.add.vmsk,Q=N.add.vogk;
if(this.Ch){e.H9=[];this.J9(u,N.NR,e,N.add.vogk)}var p=this.Mz.B.length,B=e.B.length;if(!this._G)this.fm(u,this.Ch?"Close Path":(p==B?"Move":p<B?"Add":"Delete")+" Anchor Point",N.NR,this.Mz,e.clone(),null,this.oT,JSON.stringify(Q));
this._G=!1;this.Ch=!1;this.Ew=!1;this.ff=!1;this.Mz=null};b.BK.prototype.vv=function(u,m,C,Z,q){this.a5V=u.binop};
b.Bk=function(){b.kp.call(this,[10,30],b.xu,"tools/fpen",!1)};b.Bk.prototype=new b.kp;b.Bk.prototype.JK=function(u,m,C,Z){return[j.$.ni(Z,this.al.tolr),j.xK.LO("customShape",[0,0,1,1],null,null,null,"--")]};
b.C5=function(){b.Ug.call(this,[10,27],b.UX,"tools/pselect");this.bB=null;this.Ds=!1;this.N1=null;this.Mz=null;
this.WR=null;this.oT=null;this.g1=null;this.l3=null;this.a0=null;this.ju=null};b.C5.prototype=new b.Ug;
b.C5.prototype.uy=function(u){return u.Ct};b.C5.prototype.K4=function(u,m,C,Z,q){var J=u.t.Iv(q.x,q.y),A=u.yG(),n=A[0],N=A[1],e,Q;
for(var D=0;D<N.length;D++){var p=n[N[D]],B=p.add.vmsk,$=j.$.O0(B.B,J).NR;if($!=-1){this.N1=e=p;Q=$}for(var R=0;
R<B.s4.length;R++){var z=j.$.nZ(B.B,B.s4[R]);if(z==null)continue;var v=dz.th(z,J);if(v<4*b.F()/u.t.V){var a=u.g[p.NR-1e6].add.TySh,X=a.pU.Curve,V=a.I,o=X.Reversed;
X.Reversed=!1;var X=iW.Ys(a.pU.Curve);X.Reversed=o;j.u.I(X[0],V,X[0]);this.a0=[X,R,V.w7*V.MX-V.S*V.ZU];
this.N1=e=p;Q=0}}if(this.a0)break}if(e!=null){var B=e.add.vmsk;B.H9=[];var h=B.w.indexOf(Q);if(Z.j(hs.KP)){if(h==-1){B.w.push(Q);
this.Ds=!0}else B.w.splice(h,1)}else{if(h==-1)B.w=[Q];this.Ds=!0}this.l3=j.$.Br(B.B,B.w)}this.bB=J;this.ju=new aT(J);
u.aJ=!0;u.qz=!0};b.C5.prototype.TQ=function(u,m,C,Z,q){if(this.bB==null)return;var J=u.t.Iv(q.x,q.y);
if(this.Ds){J=this.ju.gi(J,Z);var A=this.N1;if(this.Mz==null){this.Mz=this.WR=A.add.vmsk.clone();this.oT=this.g1=JSON.stringify(A.add.vogk);
if(Z.j(hs.mD)){var n=this.Mz.clone(),N=JSON.parse(this.oT),e=b.Ug.UW(n,N);b.Ug.sB(e,n,N);this.WR=n;this.g1=JSON.stringify(N)}}var n=this.WR.clone(),N=JSON.parse(this.g1);
if(this.a0){var Q=this.a0,p=Q[0][0],B=j.u.YY(p,J.x,J.y);n.s4[Q[1]]=Q[0][1][B];var $=p[B*2],R=p[B*2+1],z=(p[B*2+2]-$)*(J.y-R)-(p[B*2+3]-R)*(J.x-$);
if(Q[2]<0)z=-z;n.Fi=z>0}else{var v=this.l3.clone(),a=v.x,X=v.y;v.offset(J.x-this.bB.x,J.y-this.bB.y);
v.x=Math.round(v.x);v.y=Math.round(v.y);var V=b.eG.EX(u,v,C),o=new ix(1,0,0,1,v.x-a+V[0],v.y-X+V[1]);
j.$.l0(n.B,o,n.w);j.xK.I(N,j.N.S4(o),n.w);b.eG.nC(u,v,V)}this.J9(u,A.NR,n,N)}else{var h=this.bB;u.D.dz=j.u.yj(new bl(h.x,h.y,J.x-h.x,J.y-h.y));
u.qz=!0}};b.C5.prototype.ec=function(u,m,C,Z,q){if(this.bB==null)return;var J=u.t.Iv(q.x,q.y),A=this.N1,n=A?A.add.vmsk:null;
if(this.Ds){var N=JSON.stringify(A.add.vogk);if(!this.bB.QV(J))this.fm(u,"Move Paths",A.NR,this.Mz,n,null,this.oT,N);
if(u!=null&&u.D.g3){u.D.g3=null;u.qz=!0}}else{if(n){var e=this.bB,Q=new bl(e.x,e.y,J.x-e.x,J.y-e.y),p=j.$.aiL(n.B,Q);
if(Z.j(hs.KP)){for(var D=0;D<p.length;D++)if(n.w.indexOf(p[D])==-1)n.w.push(p[D])}else n.w=p}u.D.dz=null;
u.qz=!0}this.bB=null;this.Mz=null;this.a0=null;this.Ds=!1;this.ju=null};b.C5.prototype.hP=function(u,m,C,Z){b.Ug.prototype.hP.call(this,u,m,C,Z);
if(C.Oj!=this.id)return;if(u.w.length==0)return;var q=u.yG(),J=q[0],A=q[1];if(A.length==0)return;var n=J[A[0]],N=n.add.vmsk,e=n.add.vstk,Q=n.add.vogk,p=new eY(r.E.z,!0);
p.data={d:r.J.zW,b:this.id,mY:"main",YN:N?N:null,xK:Q};m.c(p)};b.C5.prototype.vv=function(u,m,C,Z,q){var J=u._c;
if(J.YN){var A=C.yG(),n=A[0],N=A[1];if(N.length==0)return;var e=n[N[0]],Q=e.add.vmsk.clone(),p=JSON.stringify(e.add.vogk),B=J.YN;
this.J9(C,e.NR,B,J.xK);var $=[18,5];if(Q.B.length==B.B.length)$=Q.w[0]==B.w[0]?"Fill Rule":"Path Order";
this.fm(C,$,e.NR,Q,B,null,p,JSON.stringify(J.xK))}};b.NZ=function(){b.Ug.call(this,[10,28],b.R$,"tools/dselect");
this.iU=-1;this.K8=-1;this.RL=null;this.bB=null;this.N1=null;this.Mz=null;this.oT=null;this.nJ=null;
this.Ap=0;this.abu={psnap:!1};this.ju=null};b.NZ.prototype=new b.Ug;b.NZ.prototype.uy=function(u){return u.Ct};
b.NZ.prototype.vv=function(u){this.abu=u};b.NZ.prototype.W1=function(u,m,C,Z,q){if(u.d=="crnr"){if(C==null)return;
var J=C.yG(),A=J[0],n=J[1];if(n.length==0){alert("No paths selected");return}var N=A[n[0]],e=N.add.vmsk;
if(e.H9.length==0){alert("No corners selected");return}for(var D=0;D<e.H9.length;D++){var Q=e.B[e.H9[D]];
if(!Q.A.QV(Q.wm)||!Q.A.QV(Q.Rv)){alert("Only sharp corners can be rounded");return}}if(this.Mz==null){this.Mz=N.add.vmsk.clone();
this.oT=JSON.stringify(N.add.vogk);this.N1=N;this.nJ=C}var p=new eY(r.E.z,!0);p.data={d:r.J.zH,E$:"cornerradius",qf:5,LQ:this.aeL.bind(this)};
m.c(p)}else b.Ug.prototype.W1.call(this,u,m,C,Z,q)};b.NZ.prototype.aeL=function(u){if(u=="confirm"){var m=this.nJ,C=this.N1,Z=C.add.vmsk,q=C.add.vogk;
this.fm(m,[12,94,0],C.NR,this.Mz,Z,null,this.oT,JSON.stringify(q));this.Xr();return}var Z=this.Mz.clone(),q=JSON.parse(this.oT),J=Z.H9;
if(u=="cancel"){}else{var A=[];for(var D=0;D<J.length;D++){var n=J[D],N=j.$.jE(Z.B,n,!0),p=0;if(A.indexOf(N)!=-1)continue;
A.push(N);var e=j.$.I9(Z.B,N,!0),Q=Z.B[e].length,B=[];for(var $=0;$<Q;$++){var R=Z.H9.indexOf(e+$+1)==-1?0:u;
B.push(R);if(R!=0)p++}j.$.ph(Z.B,e,B);for(var $=0;$<J.length;$++)if(J[$]>e+Q)J[$]+=p}this.ra(Z,q);Z.H9=[]}this.J9(this.nJ,this.N1.NR,Z,q);
if(u=="cancel")this.Xr()};b.NZ.prototype.disable=function(u,m,C,Z){this.iq(u)};b.NZ.prototype.K4=function(u,m,C,Z,q){this.iq(u);
var J=u.t.Iv(q.x,q.y),p,B,$;this.RL=J.clone();var A=u.yG(),n=A[0],N=A[1];if(N.length==0)return;var e=b.fS(u,q),Q=new bl(J.x-e,J.y-e,e*2,e*2);
for(var R=0;R<N.length;R++){p=this.N1=n[N[R]];B=p.add.vmsk;$=j.$.UN(B.B,Q);if($[0].length+$[1].length+$[2].length!=0)break}var z=[!1,!1,!1];
for(var D=0;D<3;D++){for(var v=0;v<$[D].length;v++){var a=$[D][v];if(B.H9.indexOf(a)!=-1||D==1&&B.H9.indexOf(a-1)!=-1||D==2&&B.H9.indexOf(a+1)!=-1){$[D]=[a];
z[D]=!0;break}}}if($[0].length!=0&&(z[0]||!z[1]&&!z[2])){var X=$[0][0],V=B.H9.indexOf(X);if(Z.j(hs.KP)){if(V==-1)B.H9.push(X);
else{B.H9.splice(V,1);u.qz=!0;return}}else if(V==-1)B.H9=[X];this.iU=X;this.K8=0}else if($[1].length!=0&&z[1]){this.iU=$[1][0];
this.K8=1}else if($[2].length!=0&&z[2]){this.iU=$[2][0];this.K8=2}else{var o=j.$.O0(B.B,J,!0,e);if(o.NR==-1)this.bB=J;
else{B.w=[o.NR];B.H9=[]}}if(this.Mz==null){this.Mz=p.add.vmsk.clone();this.oT=JSON.stringify(p.add.vogk)}this.ju=new aT(J);
u.qz=!0};b.NZ.prototype.TQ=function(u,m,C,Z,q){if(u==null)return;var J=u.t.Iv(q.x,q.y),A=this.N1;if(this.iU!=-1){var n=this.Mz.clone(),N=A.add.vogk,e=n.B[this.iU];
e=[e.A,e.Rv,e.wm][this.K8];if(Z.j(hs.KP)){if(this.K8==0){J=this.ju.gi(J,Z);J.x+=e.x-this.RL.x;J.y+=e.y-this.RL.y}else J=b.Ho.K2(n.B[this.iU].A,J)}else{if(this.abu.psnap){J.x=Math.round(J.x);
J.y=Math.round(J.y)}J=b.eG.xJ(u,J,C)}if(this.K8==0){var Q=new ix(1,0,0,1,J.x-e.x,J.y-e.y);j.$.l0(n.B,Q,null,n.H9)}else{var p=n.B[this.iU],B=p.Rv,$=p.wm;
if(this.K8==2){B=p.wm;$=p.Rv}if(Z.j(hs.mD)&&(p.type==1||p.type==4))p.type++;B.qX(J.x,J.y);if(p.type==1||p.type==4){var R=dz.th(B,p.A),z=dz.th($,p.A);
if(z!=0){$.x=p.A.x-(B.x-p.A.x)*(z/R);$.y=p.A.y-(B.y-p.A.y)*(z/R)}}}this.ra(n,N);this.J9(u,A.NR,n,N)}else if(this.bB!=null){var v=this.bB;
u.D.dz=j.u.yj(new bl(v.x,v.y,J.x-v.x,J.y-v.y));u.qz=!0}else{var a=u.yG(),X=a[0],V=a[1],A,n,T;if(V.length==0)return;
var o=b.fS(u,q),h=new bl(J.x-o,J.y-o,o*2,o*2);for(var l=0;l<V.length;l++){A=X[V[l]];n=A.add.vmsk;T=j.$.UN(n.B,h);
if(T[0].length+T[1].length+T[2].length!=0)break}this.iq(u);for(var D=0;D<3;D++){for(var w=0;w<T[D].length;
w++){var W=T[D][w],U=n.B[W];U=D==0?U.A:D==1?U.Rv:U.wm;u.D.SN.push(u.D.oC.length>>>1);u.D.oC.push(U.x,U.y);
u.qz=!0}}}};b.NZ.prototype.iq=function(u){if(u&&u.D.oC.length!=0){u.D.oC=[];u.D.SN=[];u.qz=!0}};b.NZ.prototype.ec=function(u,m,C,Z,q){var J=u.t.Iv(q.x,q.y),A=this.N1,n=A?A.add.vmsk:null,N=A?A.add.vogk:null;
if(this.iU!=-1){if(Date.now()-this.Ap<300){var e=n.B[this.iU],Q=this.K8,p=null;if(Q==0){var B=e.Rv.QV(e.A),$=e.wm.QV(e.A);
if(!B&&!$){p="Anchor Type";if(e.type==1||e.type==4)e.type++;else{e.type--;e.wm=e.A.add(e.A.Vy(e.Rv))}}else{p="Add Handles";
if(B&&$){e.Rv.x-=30;e.wm.x+=30}else if(B)e.Rv=e.A.add(e.A.Vy(e.wm));else if($)e.wm=e.A.add(e.A.Vy(e.Rv))}}else{p="Remove Handle";
if(Q==1)e.Rv.TP(e.A);else e.wm.TP(e.A)}this.ra(n,N);this.J9(u,A.NR,n,N);this.fm(u,p,A.NR,this.Mz,n,null,this.oT,JSON.stringify(N))}else if(!this.RL.QV(J)){this.fm(u,"Drag Anchors",A.NR,this.Mz,n,null,this.oT,JSON.stringify(N))}this.Ap=Date.now()}else if(this.bB!=null){var R=this.bB,z=new bl(R.x,R.y,J.x-R.x,J.y-R.y);
if(z.e<0)z.x+=z.e;if(z.n<0)z.y+=z.n;z.e=Math.abs(z.e);z.n=Math.abs(z.n);var v=j.$.UN(n.B,z);n.H9=v[0].concat(Z.j(hs.KP)?n.H9:[]);
u.D.dz=null}this.Xr();u.qz=!0};b.NZ.prototype.Xr=function(){this.N1=null;this.Mz=null;this.bB=null;this.iU=this.K8=-1;
this.ju=null};b.NZ.prototype.ra=function(u,m){for(var D=0;D<u.H9.length;D++){var C=j.$.jE(u.B,u.H9[D]);
j.xK.$T(m,C)}};b.NZ.prototype.St=function(u,m,C,Z){if(u==null)return;var q=u.yG(),J=q[0],A=q[1];if(A.length==0)return;
var n=J[A[0]],N=n.add.vmsk;if(N==null||N.H9.length==0)return;var e=n.add.vogk,Q=JSON.stringify(e),p=Z.gq();
if(p.x!=0||p.y!=0){var B=N.clone(),$=N.clone(),R=new ix(1,0,0,1,p.x,p.y);j.$.l0($.B,R,null,$.H9);this.ra($,e);
this.J9(u,n.NR,$,e);this.fm(u,"Move Anchors",u.w[0],B,$.clone(),!0,Q,JSON.stringify(e))}if(Z.j(hs.Vg)||Z.j(hs.A_))this.W1({d:"remove",Em:!0},m,u,Z,C)};
b.NZ.prototype.fm=function(u,m,C,Z,q,J,A,n){var N=u.QX();if(J&&N!=null&&N.b==this&&N.data.aih&&N.data.kj==C&&JSON.stringify(N.data.AV.H9)==JSON.stringify(Z.H9)){N.data.NQ=q;
N.data.O$=n}else{var N=new h5(m,this);N.data={kj:C,AV:Z,NQ:q,aih:J,anB:A,O$:n};u.hO(N)}};b.Rect=function(){b.kp.call(this,[10,32],b.e9,"tools/rect",!0)};
b.Rect.prototype=new b.kp;b.Rect.prototype.JK=function(u,m,C){var Z=this.al.crad,q=m.x-u.x,J=m.y-u.y;
return[j.$.i5.Rect(u.x,u.y,q,J,Z),j.xK.LO("Rctn",[u.x,u.y,m.x,m.y],[Z,Z,Z,Z])]};b.y$=function(){b.kp.call(this,[10,33],b.xU,"tools/ellipse",!0)};
b.y$.prototype=new b.kp;b.y$.prototype.JK=function(u,m,C){var Z=m.x-u.x,q=m.y-u.y;return[j.$.i5.y$(u.x,u.y,Z,q),j.xK.LO("Elps",[u.x,u.y,m.x,m.y])]};
b.sX=function(){b.kp.call(this,[10,34],b.xl,"tools/pshape",!1);this.al.aopts=[!1,!0,50,100,0]};b.sX.prototype=new b.kp;
b.sX.prototype.JK=function(u,m,C){var Z=this.al.pshape,q=this.al.crad,J=this.al.irad/100,A=this.al.sides,n=this.al.width,N=this.al.aopts,e=this.al.length,v;
m=m.clone();var Q=u.x,p=u.y,B=m.x,$=m.y,R=Math.sqrt((B-Q)*(B-Q)+($-p)*($-p)),z=Math.atan2(-$+p,B-Q);
if(C)z=Math.round(z*180/Math.PI/15)*15*Math.PI/180;if(Z==0)v=j.$.i5.Ph(Q,p,R,z,A,q);if(Z==1)v=j.$.i5.xx(Q,p,R,z,A,q,J);
if(Z==2)v=j.$.i5.Tl(u.x,u.y,m.x,m.y,n,N);if(Z==3)v=j.$.i5.acM(Q,p,R,z,e);return[v,j.xK.LO("customShape",[u.x,u.y,m.x,m.y],null,null,null,"--")]};
b.sX.prototype.St=function(u,m,C,Z){b.kp.prototype.St.call(this,u,m,C,Z);var q=Z.gq(),J=this.al,A,n;
if(q.y!=0){var N=-q.y,e=J.pshape;if(e<2){A="sides";n=Math.max(3,Math.min(100,J.sides+N))}else if(e==2){A="width";
n=Math.max(1,Math.min(100,J.width+N))}else if(e==3){A="length";n=Math.max(4,Math.min(40,J.length+N))}}if(q.x!=0){A="pshape";
n=Math.max(0,Math.min(3,J.pshape+q.x))}if(A){var Q=new eY(r.E.z,!0),p={};p[A]=n;J[A]=n;Q.data={d:r.J.zW,b:this.id,OY:"vals",ab2:p};
m.c(Q);this.TQ(u,m,C,Z)}};b.Bw=function(){b.kp.call(this,[10,35],b.xz,"tools/line",!1)};b.Bw.prototype=new b.kp;
b.Bw.prototype.JK=function(u,m,C){var Z=this.al.width,q=this.al.aopts;m=m.clone();if(C){m=b.Ho.K2(u,m)}return[j.$.i5.Tl(u.x,u.y,m.x,m.y,Z,q),j.xK.LO("Ln",null,null,[u.x,u.y,m.x,m.y],Z,null,q)]};
b.G1=function(){b.kp.call(this,[10,31],b.H0,"tools/cshape",!0)};b.G1.prototype=new b.kp;b.G1.prototype.JK=function(u,m,C){var Z=this.al.shape,q=Z.hF.e/Z.hF.n,J=F.nq.K$(Z.B);
m=m.clone();var A=m.x-u.x,n=m.y-u.y;j.$.l0(J,new ix(A,0,0,n,u.x,u.y));return[J,j.xK.LO("customShape",[u.x,u.y,m.x,m.y],null,null,null,Z.jA)]};
b.Q=function(u,m,C){b.uF.call(this,u,m,C);this.hn=0;this.g=null;this.Zm=null;this.C1=null;this.u$=1;
this.ui=!1;this.cursor=null;this.ZV=null;this.Ow=null;this.E2=!1;this.Bo=null;this.ajz=0;this.kD=null;
this.kq=0;this.P8=null;this.Fx=null;this.XA=null;this.Fb=null;this.aeV=null;this.l6=null};b.Q.prototype=new b.uF;
b.Q.MF=function(u,m){var C={classID:"null",null:hc.Q3("Dcmn",!0)};if(u)C.Angl={t:"UntF",v:{type:"#Ang",val:m}};
else C.Axis={t:"enum",v:{Ornt:m}};return{ZO:u?"rotateEventEnum":"flip",yS:C}};b.Q.prototype.tX=function(u,m,C,Z,q){var J=new eY(r.E.z,!0);
J.data={d:r.J.zW,b:this.id,tw:q,HC:u,C1:C};m.c(J);this._z=!1};b.Q.prototype.uy=function(u){return this.Fx&&this.Fx.UD()};
b.Q.prototype.W1=function(u,m,C,Z,q){this.C1=q;if(u.d=="again"&&this.kD==null)return;if(!this.Mc(C,q))return;
if(this.Fx){this.MT(u,this.Fx.FU());this.nG(C,q,0,!0);this.H3(C);return}this.hk(C,u.i==null,u.i);this.xR(C);
this.MT(u);this.FV(C,m,u.wy,!1)};b.Q.prototype.MT=function(u,m){var C=this.P8;if(m==null){var Z=u.fy!=null?u.fy:4;
m=this.Fx.aba()[Z]}var q=m.x,J=m.y;if(u.d=="rot"&&u.k!=Math.PI&&(C.e+C.n&1)==1){q=Math.floor(q);J=Math.floor(J)}var A=new ix;
A.translate(-q,-J);if(u.d=="rot")A.rotate(u.k);if(u.d=="scl")A.scale(u.k.x,u.k.y);if(u.d=="mat")A.concat(u.k);
A.translate(q,J);if(u.d=="again")A=this.kD;var n=this.Fx.Vr();j.u.I(n,A,n);this.Fx.EE(n)};b.Q.prototype.sZ=function(){return!0};
b.Q.prototype.Mc=function(u,m){if(u==null)return!1;if(this.id==b.r_)return u.q!=null;var C=u.TX(!0,null,null,!0);
if(this.id==b.au&&u.g[C[0]].rect.qR()){alert("Layer is empty.");return!1}for(var D=0;D<C.length;D++){var Z=u.g[C[D]];
if(Z.Je(2)||Z.Je(31)){alert(jg.get([6,57,0]));return!1}if(Z.add.artb){alert("You can not transform the whole artboard");
return!1}if(Z.add.TySh)if(!bL.tV(Z.add.TySh,m.u6))return!1;if(Z.add.SoLd){if(C.length==1&&!j.x0.Y2(Z.add.SoLd.warp.v)&&(Z.Te()&&Z.Te().ca||Z.add.vmsk&&Z.add.vmsk.ca)){alert("Unlink masks before transforming Smart Object");
return!1}if(!u.alc(Z.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+u.GN(Z.add.SoLd.Idnt.v).sK+")");
return!1}}}if(u.q==null)return!0;if(!u.w0())return!1;return u.a3v()};b.Q.prototype.K4=function(u,m,C,Z,q){var J=u.t.Iv(q.x,q.y);
if(this.kq==1){var A=j.N.mL(j.N.GG(this.Fx.Vr(),this.P8));J=j.N.F_(A,J)}var n=this.kq==0?this.Fx:this.XA;
this.ui=n.K4(u,C,Z,J,null,null,q);if(this.ui&&n.rC(J)){if(Date.now()-this.ajz<250)this.FV(u,m,null,!0);
this.ajz=Date.now()}};b.Q.prototype.p3=function(u){var m=new eY(r.E.z,!0);m.data={d:r.J.q$,U7:this.cursor};
u.c(m)};b.Q.prototype.TQ=function(u,m,C,Z,q){var J=u.t.Iv(q.x,q.y);if(this.kq==1){var A=j.N.mL(j.N.GG(this.Fx.Vr(),this.P8));
J=j.N.F_(A,J)}var n=this.kq==0?this.Fx:this.XA;if(!q.Ct){var N="default";if(n){var e=n.vA(J,u.t.V,null,q);
if(e)N=e}if(N!=this.cursor){this.cursor=N;this.p3(m)}}if(!this.ui)return;n.TQ(u,C,Z,J);this.nG(u,C,0,!0);
this.H3(u);this.yv(m)};b.Q.prototype.ec=function(u,m,C,Z,q){var J=u.t.Iv(q.x,q.y);this.Fx.ec(u,C,Z,J);
this.ui=!1};b.Q.prototype.St=function(u,m,C,Z){if(Z.j(hs.tb))this.FV(u,m,null,!0);else if(Z.j(hs.U_))this.Qn(u,m);
else{var q=this.Fx.St(u,C,Z);if(q){this.nG(u,C,0,!0);this.yv(m)}}};b.Q.prototype.vv=function(u,m,C,Z){if(u.mY=="commit")this.FV(C,m,null,!0);
else if(u.mY=="cancel")this.Qn(C,m);else if(u.mY=="switchWarp"){this.kq=1-this.kq;this.asx();this.H3(C);
this.yv(m)}else if(u.mY=="wrp"){this.XA.Eb(u.n_);this.H3(C);this.nG(C,this.C1,0,!0)}else if(u.mY=="ctyp"){this.Fx.a7p(u.m8);
this.H3(C);this.yv(m)}else if(u.mY=="cen"){this.Fx.aiV(u.$k);this.H3(C);this.nG(C,this.C1,0,!0);this.yv(m)}else if(u.mY=="trn"){var q=j.N.S4(u.qi),J=this.P8,A=j.N.GG(this.Fx.Vr(),this.P8);
q[6]=A[6],q[7]=A[7];var n=[J.x,J.y,J.x+J.e,J.y,J.x+J.e,J.y+J.n,J.x,J.y+J.n];j.N.I(q,n);this.u$=u.u$;
this.Fx.EE(n);this.H3(C);this.nG(C,this.C1,0,!0)}};b.Q.prototype.H3=function(u){if(this.kq==0)this.Fx.jK(u,this.C1);
else{this.XA.jK(u);var m=j.N.GG(this.Fx.Vr(),this.P8);j.N.I(m,u.D.dz.s);j.N.I(m,u.D.hN)}};b.Q.prototype.FV=function(u,m,C,Z){this.nG(u,this.C1,this.u$);
var q=new h5(C?C:this.name,this);if(this.hn==0)q.data={type:this.hn,g:this.g,Bo:this.Zm,zT:b.Q.iu(u,this.g)};
else if(this.hn==1){var J=u.g[this.g[0]],A;if(J.yH.$v<=0){A=j.U(J.yH.BR.Z());j._H(J.yH.J7,A,3)}else A=u.q.channel;
var n={rect:J.yH.BR.clone(),channel:A};q.data={type:this.hn,i:this.g[0],Ow:this.Ow,i9:n,ZV:this.ZV,E2:this.E2,yH:J.yH,Bo:this.Bo,zT:{yt:J.yH.BR,_y:J.yH.J7}}}else if(this.hn==2){q.data={type:this.hn,Ow:this.Ow,i9:{rect:u.q.rect.clone(),channel:u.q.channel.slice(0)}}}u.hO(q);
var N=this.P8,e=new dz(N.x+N.e/2,N.y+N.n/2),Q=j.N.GG(this.Fx.Vr(),N),p=j.N.Yt(Q),B=new ix;B.translate(e.x,e.y);
B.concat(p);B.translate(-e.x,-e.y);p=B.clone();var $=-Math.atan2(-p.S,p.w7),R=new ix;R.rotate($);p.concat(R);
function z(X,V){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][V],val:X}}}var v=hc.Q3("Lyr",!0);if(this.id==b.r_)v.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var a={classID:"null",null:v,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:z(B.GI,0),Vrtc:z(B.c_,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:z(Math.atan(p.ZU)*180/Math.PI,2),Vrtc:z(0,2)}},Wdth:z(p.w7*100,1),Hght:z(p.MX*100,1),Angl:z($*180/Math.PI,2)};
this.SS=m;this.track({ZO:"transform",yS:a});this.escape(u,m,Z)};b.Q.prototype.Qn=function(u,m){if(this.hn==0)b.Q.ZC(u,this.g,this.Zm);
else if(this.hn==1){var C=u.g[this.g[0]];u.q=this.Ow;if(!this.E2){C.yH.BR=this.Bo.yt;C.yH.J7=this.Bo._y;
C.mi(u,0,0,u.q)}else{C.nK(u,this.ZV)}u.G();u.W0=!0}else if(this.hn==2){u.q=this.Ow;u.W0=!0}this.escape(u,m,!0)};
b.Q.prototype.escape=function(u,m,C){this.Fx.clear(u);this.Fx=null;this.XA=null;this.l6=null;this.kq=0;
if(C)this.Q$(m,r.E.z,{d:r.J.WO})};b.Q.prototype.H_=function(u,m){if(u.type==0)b.Q.ZC(m,u.g,u.zT);else{if(u.type==1){var C=m.g[u.i];
if(u.E2){C.yH=u.yH}else{C.yH.BR=u.zT.yt;C.yH.J7=u.zT._y}C.mi(m,0,0,m.q);m.G()}m.q={rect:u.i9.rect.clone(),channel:u.i9.channel.slice(0)};
m.W0=!0}};b.Q.prototype.H8=function(u,m){if(u.type==0)b.Q.ZC(m,u.g,u.Bo);else{if(u.type==1){var C=m.g[u.i];
if(u.E2){C.nK(m,u.ZV)}else{C.yH.BR=u.Bo.yt;C.yH.J7=u.Bo._y;C.mi(m,0,0,m.q)}m.G()}m.q=u.Ow;m.W0=!0}};
b.Q.prototype.hk=function(u,m,C){u.yG();var Z=[];if(C==null)for(var D=0;D<u.h2.length;D++)if(u.kL[u.h2[D]].add.vmsk.B.length>2)Z.push(-1-u.h2[D]);
var q=[],J=u.t.Np;if(J[0]+J[1]+J[2]==3)if(C!=null||Z.length==0||u.WC!=null&&u.WC.length!=0)q=u.TX(m,C,null,!0);
q=q.concat(Z);for(var D=0;D<u.Rc.length;D++)q.push(-1e3-u.Rc[D]);this.g=q};b.Q.prototype.enable=function(u,m,C,Z,q,J,A){if(this.cursor==null)this.cursor="default";
this.p3(m);if(this.Fx)return;this.C1=C;this.hk(u,!0);this.xR(u,J&&J.xk!=null&&J.xk!=-1?J.xk:null,A);
this.yv(m);this.H3(u);if(J&&J.xk==-1)this.vv({mY:"switchWarp"},m,u,Z)};b.Q.prototype.yv=function(u){var m={d:r.J.zW,b:this.id};
if(this.kq==0){var C=j.N.GG(this.Fx.Vr(),this.P8),Z=j.N.Yt(C);m.qi={NC:Z,m8:this.Fx.ags(),$k:this.Fx.FU(),yt:this.P8.clone()}}else{m.n_=this.XA.QA()}m.auq=this.XA!=null;
this.Q$(u,r.E.z,m)};b.Q.prototype.xR=function(u,m,C){var Z=this.id==b.r_,q=!0,J=this.g[0],A=u.g[J],N=null,e=null;
if(Z){this.hn=2;this.Ow=u.q}else if(u.q&&this.g.length==1&&J>=0&&!A.rect.qR()){this.hn=1;this.Ow=u.q;
this.ZV=A.yH;this.E2=!1;if(!A.DJ(u,u.q)){this.E2=!0;A.RZ(u,u.q,!1)}this.Bo={_y:A.yH.J7,yt:A.yH.BR}}else{this.hn=0;
this.Zm=b.Q.iu(u,this.g,null,C);for(var D=0;D<this.Zm.length;D++)if(this.Zm[D][3]!=null)q=!1}var n=this.hn==1;
if(this.Zm&&this.Zm.length==1){var Q=this.Zm[0];if(Q[2]!=null&&Q[2].xK){var p=Q[2].YN.w;if(p.length<2){e=Q[2].xK[p.length==0?0:p[0]].v;
if(!j.xK.f7(e))e=null}}if(Q[3]==null)n=!0;if(Q[4]!=null){N=u.g[this.g[0]].add.SoLd;if(Q[1]||Q[2])n=!1}}var B=Z?u.q.rect.clone():b.Q.Ci(u,this.g,C);
this.P8=B;if(!Z&&N){var $=b.Q.Fo(N.nonAffineTransform);this.P8=j.u.Of(j.x0.Xw(N.warp.v));if(n)this.XA=new at(N.warp.v);
this.Fb=j.N.GG($,this.P8);this.Fx=new fi($,!0,!0,q,!1,!1,m)}else{if(n||Z)this.XA=new at(j.x0.U(this.P8));
this.Fb=[1,0,0,0,1,0,0,0];if(this.id==b.au)m=3;this.Fx=new fi([B.x,B.y,B.x+B.e,B.y,B.x+B.e,B.y+B.n,B.x,B.y+B.n],!0,!0,q,!1,!1,m)}this.aeV=[1,0,0,0,1,0,0,0];
if(this.id==b.au){var R,z;if(this.Zm){var v=this.Zm[0][0],a=v.Mg;R=a[0];z=a[1]}else if(this.Bo){R=this.Bo._y;
z=this.Bo.yt}this.l6=j.bg.arE(R,z.e,z.n)}};b.Q.Ci=function(u,m,C){if(m==null)m=u.TX(!0,null,null,!0);
var Z=new bl,q=new bl;if(u.q&&m.length==1&&m[0]>=0)Z=u.q.rect.clone();else for(var D=0;D<m.length;D++){var J=m[D],A=0<=J?u.g[J]:-1e3<J?u.kL[-1-J]:u.YG[-1e3-J],n=A.add?A.add.vmsk:null,N=0<=J?A.vj(u,m.length==1,!1,C,!0):-1e3<J?j.$.Br(n.B,m.length==1&&n.w.length!=0?n.w:null):A.rect.clone();
Z=Z.QN(N);if(J>0&&A.add.artb)q=q.QN(A.M_())}return!q.qR()?q:Z};b.Q.prototype.Q$=function(u,m,C,Z){var q=new eY(m,!0);
q.data=C;if(Z)q.b=Z;u.c(q)};b.Q.iu=function(u,m,C,Z){var q=[];for(var D=0;D<m.length;D++){var J=m[D],A,n;
if(J>=0){A=u.g[J];n=A.to(u,C,Z)}else if(J>-1e3){A=u.kL[-1-J];n=[2]}else{q.push([null,null,null,null,null,null,null,u.YG[-1e3-J].clone()]);
continue}var N=[];if(n.indexOf(0)!=-1){var e={Mg:[A.buffer.slice(0),A.rect.clone()]};N.push(e);if(A.Bv()){var Q=A.Ha(u);
e.adq=Q.buffer.slice(0);e.a16=Q.rect.clone()}}else N.push(null);if(n.indexOf(1)!=-1)N.push(A.Te().clone());
else N.push(null);if(n.indexOf(2)!=-1)N.push({YN:A.add.vmsk.clone(),K_:A.add.vstk?JSON.parse(JSON.stringify(A.add.vstk)):null,am:A.add.vstk?b.Ug.zD(u,J):null,xK:A.add.vogk?JSON.parse(JSON.stringify(A.add.vogk)):null});
else N.push(null);if(A.add.TySh&&N[0]){ad.GA(A.add.TySh);N.push(A.add.TySh.I.clone())}else N.push(null);
if(A.add.SoLd&&N[0])N.push(JSON.parse(JSON.stringify(A.add.SoLd)));else N.push(null);if(n.indexOf(3)!=-1)N.push(A.Ha(u).M.clone());
else N.push(null);if(A.add.lmfx)N.push(JSON.stringify(A.add.lmfx));else N.push(null);q.push(N)}return q};
b.Q.ZC=function(u,m,C){for(var D=0;D<m.length;D++){var Z=m[D],q=0<=Z?u.g[Z]:-1e3<Z?u.kL[-1-Z]:u.YG[-1e3-Z],J=C[D];
if(J[0]){q.rect=J[0].Mg[1].clone();q.buffer=J[0].Mg[0].slice(0);if(q.Bv()){var A=q.Ha(u);A.buffer=J[0].adq.slice(0);
A.rect=J[0].a16.clone()}}if(J[1]){q.Te().channel=J[1].channel.slice(0);q.Te().rect=J[1].rect.clone();
q.Te().hf=!0}if(J[2]){q.add.vmsk=J[2].YN.clone();if(J[2].am)b.Ug.B9(q,J[2].am);if(J[2].K_)q.add.vstk=JSON.parse(JSON.stringify(J[2].K_));
if(J[2].xK)q.add.vogk=JSON.parse(JSON.stringify(J[2].xK))}if(J[3]){q.add.TySh.I=J[3].clone();ad.p9(q.add.TySh)}if(J[4]){q.add.SoLd=JSON.parse(JSON.stringify(J[4]))}if(J[5]){var n=q.Ha(u).M;
n.channel=J[5].channel.slice(0);n.rect=J[5].rect.clone()}if(J[6]){q.add.lmfx=JSON.parse(J[6])}if(J[7]){q.channel=J[7].channel.slice(0);
q.rect=J[7].rect.clone();q.hf=!0}if(0<=Z){q.uE(u);q.G()}}u.G()};b.Q.p1=function(u){var m=u.clone(),C=Math.atan2(-m.S,m.w7),Z=new ix;
Z.rotate(-C);m.concat(Z);return(Math.abs(m.w7)+Math.abs(m.MX))/2};b.Q.t1=function(u,m,C,Z,q,J,A,n,N,e){if(typeof J[0]=="number"){var Q=[];
for(var D=0;D<C.length;D++)Q[D]=J;J=Q}for(var D=0;D<C.length;D++){var p=J[D],B=j.N.Yt(p),$=b.Q.p1(B),R=C[D],z=0<=R?u.g[R]:-1e3<R?u.kL[-1-R]:u.YG[-1e3-R],v=Z[D];
if(z.add.lmfx&&n)dU.o7(z.add.lmfx,$);if(v[0]&&!v[3]&&!v[4]&&!v[5]){var a=v[0].Mg;if(N){var X=N.clone(),V=j.U(X.Z()*4);
j.zO(a[0],a[1],V,X);a=[V,X]}var o=b.Q._5(a,q,p,A,q==0?z.buffer.buffer:null,null,null,e);if(o){z.rect=o.rect;
z.buffer=o.buffer}}if(v[1]){var h=z.Te();b.Q.Yl(u,v[1],h,q,p,A);if(N){var X=z.rect.aR(N),T=j.U(X.Z());
j.j5(h.channel,h.rect,T,X);h.channel=T;h.rect=X}}if(v[2]){var l=A&&!j.x0.Y2(A),w=v[2].YN.clone(),W=C.length==1&&w.w.length!=0,U=C.length==1&&w.H9.length>1;
if(U)W=!1;var s=W?w.w:null,S=U?w.H9:null;if(l){var x=j.x0.Xw(A);j.N.I(p,x);j.$.aac(w.B,x,s,S)}else j.$.atM(w.B,p,s,S);
if(z.add.vstk&&n){z.add.vstk.strokeStyleLineWidth.v.val=v[2].K_.strokeStyleLineWidth.v.val*$;var P=v[2].am;
if(P&&P.Er==3){P=JSON.parse(JSON.stringify(P));var y=P.am.phase.v;P.am.Scl.v.val=Math.round(P.am.Scl.v.val*$);
y.Hrzn.v=Math.round(y.Hrzn.v*$);y.Vrtc.v=Math.round(y.Vrtc.v*$);b.Ug.B9(z,P)}}if(z.add.vogk){z.add.vogk=JSON.parse(JSON.stringify(v[2].xK));
if(l||U)j.xK.ajt(z.add.vogk);else j.xK.I(z.add.vogk,p,C.length>1?[]:w.w,n)}w.To*=$;z.add.vmsk=w;if(z.add.vogk)j.xK.VH(z.add.vogk,z.add.vmsk)}if(v[3]){var _=v[3].clone();
_.concat(B);z.add.TySh.I=_;ad.p9(z.add.TySh);var g=new iW(z.add.TySh.pU,m.u6),G=bL.mn(g,z.add.TySh);
z.rect=G.yt;z.buffer=G.bf}if(v[4]){var O=z.add.SoLd,E=b.Q.Fo(v[4].nonAffineTransform);j.N.I(p,E);var L=j.u.aO(E);
if(fi.$n(E)){if(A){var c=j.u.Of(j.x0.Xw(v[4].warp.v)),T=j.N.GG(E,c),k=j.u.Of(j.x0.Xw(A));E=[k.x,k.y,k.x+k.e,k.y,k.x+k.e,k.y+k.n,k.x,k.y+k.n];
j.N.I(T,E);O.warp.v=A}var I=j.N.GG(E),Y=E;if(!j.N.xp(I)){I[6]=I[7]=0;Y=[0,0,1,0,1,1,0,1];j.N.I(I,Y)}O.Trnf=b.Q.Ii(Y);
O.nonAffineTransform=b.Q.Ii(E);if(O.filterFX)O.filterFX=JSON.parse(JSON.stringify(v[4].filterFX));b.Q.n6(O,B);
z.go(u,q==0)}}if(v[5])b.Q.Yl(u,v[5],z.Ha(u).M,q,p,A);if(v[7])b.Q.Yl(u,v[7],z,q,p,A);if(0<=R){if(q!=0)z.GJ();
z.uE(u);z.G()}}u.G()};b.Q.Ta=function(u,m,C,Z,q,J){if(C==null)C=!1;return b.Q._5(u,C?0:1,j.N.S4(m),null,Z,q,J,C)};
b.Q._5=function(u,m,C,Z,q,J,A,n){if(n==null)n=!1;if(n&&A)throw"e";var N={},B=0,$=.3;if(Z&&!j.x0.Y2(Z)){var e=j.x0.Xw(Z);
j.N.I(C,e);N.rect=j.u.aO(e);N.buffer=j.U(N.rect.Z()*4);j.jk.drawImage(e,u[0],u[1].e,u[1].n,N.buffer,N.rect,m==0);
return N}j.ML(u);var Q=u[0],p=u[1],R=p.Z()*b.Q.p1(j.N.Yt(C));if(n&&R>4e6)$=R>8e6?2.2:1.2;while(B+3<u.length&&u[B+3].Z()>16&&j.N.xp(C)&&b.Q.p1(j.N.Yt(C))<$){B+=2;
var z=u[B],v=u[B+1],a=p.e/v.e,X=p.n/v.n;C=j.N.kt(C,[1,0,p.x,0,1,p.y,0,0]);C=j.N.kt(C,[a,0,0,0,X,0,0,0]);
C=j.N.kt(C,[1,0,-p.x,0,1,-p.y,0,0]);p=v;Q=z}var V=j.N.kt(C,j.N.S4(new ix(p.e,0,0,p.n,p.x,p.y))),o=[0,0,1,0,1,1,0,1];
j.N.I(V,o);N.rect=j.u.aO(o);if(A)N.rect=N.rect.aR(A);if(n){while((N.rect.e&3)!=0)N.rect.e++;while((N.rect.n&3)!=0)N.rect.n++}if(!fi.$n(o)||N.rect.e>1e5||N.rect.n>1e5||N.rect.Z()>3e4*3e4)return null;
var h=N.rect.Z()*4;if(q&&q.byteLength>=h&&h>=q.byteLength>>2){N.buffer=new Uint8Array(q)}else{N.buffer=j.U(h)}j.N.drawImage(V,Q,p.e,p.n,N.buffer,N.rect,m==0,J,n);
if(m==2&&N.buffer){var T=N.rect.e,l=N.rect.n,w;w=[0,-1,0,-1,16,-1,0,-1,0];w=j.aA.G7(w);var W=N.buffer.slice(0);
j.aA.ea(W,N.buffer,T,l,w,255,!1,!0)}if(N.buffer)return N};b.Q.Yl=function(u,m,C,Z,q,J){if(m.color==255)j.mL(m.channel);
var A=m.rect,n=j.U(A.Z()*4);j.wC(m.channel,n,3);var N=b.Q._5([n,A],Z,q,J);if(N){C.rect=N.rect;C.channel=j.U(N.rect.Z());
j._H(N.buffer,C.channel,3);C.hf=!0}if(m.color==255){j.mL(m.channel);if(N)j.mL(C.channel)}};b.Q.n6=function(u,m){var C=u.filterFX;
if(C)C=C.v.filterFXList;if(C)C=C.v;if(C)for(var Z=0;Z<C.length;Z++){var q=C[Z].v.Fltr;if(q==null||q.v.classID!="rigidTransform")continue;
q=q.v;console.log(q);var J=[];for(var A=0;A<4;A++)J.push(q["PuX"+A].v,q["PuY"+A].v);j.u.I(J,m,J);for(var A=0;
A<4;A++){q["PuX"+A].v=J[A*2];q["PuY"+A].v=J[A*2+1]}var n=["PinP","posFinalPins"],N=["originalVertexArray","deformedVertexArray"],e=q.puppetShapeList.v;
for(var Q=0;Q<e.length;Q++){var p=e[Q].v;for(var B=0;B<n.length;B++){var $=b.Q.Fo(p[n[B]]);j.u.I($,m,$);
p[n[B]]=b.Q.Ii($);var R=new Uint8Array(p[N[B]].v),z=new Float32Array(R.buffer);j.u.I(z,m,z);var v=[];
for(var a=0;a<R.length;a++)v[a]=R[a];p[N[B]].v=v}}}};b.Q.Fo=function(u){var m=[],C=u.v.length;for(var D=0;
D<C;D++)m.push(u.v[D].v);return m};b.Q.Ii=function(u){var m={t:"VlLs",v:[]},C=u.length;for(var D=0;D<C;
D++)m.v.push({t:"doub",v:u[D]});return m};b.Q.prototype.asx=function(){var u=j.u.Of(j.x0.Xw(this.XA.QA())),m=j.N.GG(this.Fx.Vr(),this.P8),C=[u.x,u.y,u.x+u.e,u.y,u.x+u.e,u.y+u.n,u.x,u.y+u.n];
j.N.I(m,C);this.Fx.EE(C);this.P8=u};b.Q.prototype.nG=function(u,m,C,Z){var q=j.N.GG(this.Fx.Vr(),this.P8);
q=j.N.kt(q,j.N.mL(this.Fb));var J=this.XA?this.XA.QA():null;if(this.hn==0){var A=this.kD=j.N.Yt(q);if(this.id==b.au){var n=this.Zm[0][0],N=n.Mg,e=N[1],Q=~~(e.e*Math.max(0,A.w7)),p=~~(e.n*Math.max(0,A.MX)),B=new bl(Math.round(A.w7*e.x+A.GI),Math.round(A.MX*e.y+A.c_),Q,p),$=j.bg.I(this.l6,B),R=u.g[this.g[0]];
R.buffer=$;R.rect=B;R.G();u.G()}else b.Q.t1(u,m,this.g,this.Zm,C,q,J,null,null,Z)}else if(this.hn==1){var z=u.g[this.g[0]],e=this.Bo.yt;
if(z.$v<=0){var v=this.Bo._y,a=this.Ow,X=null;if(J&&!j.x0.Y2(J)&&!a.rect.QV(e)){var $=j.U(a.rect.Z()*4);
j.zO(v,e,$,a.rect);v=$;e=a.rect}if(this.id==b.au){var A=this.kD=j.N.Yt(q),Q=~~(e.e*Math.max(0,A.w7)),p=~~(e.n*Math.max(0,A.MX)),B=new bl(Math.round(A.w7*e.x+A.GI),Math.round(A.MX*e.y+A.c_),Q,p),$=j.bg.I(this.l6,B);
X={buffer:$,rect:B}}else X=b.Q._5([v,e],C,q,J);if(X){z.yH.J7=X.buffer;z.yH.BR=X.rect;var V=j.U(X.rect.Z());
j._H(z.yH.J7,V,3);u.q={channel:V,rect:z.yH.BR.clone()}}}else{var o=j.U(e.Z()*4);j.wC(this.Bo._y,o,3);
var X=b.Q._5([o,e],C,q,J);if(X){z.yH.J7=j.U(X.rect.Z());j._H(X.buffer,z.yH.J7,3);z.yH.BR=X.rect}this.DL(u,C,q,J)}z.mi(u,0,0,u.q);
if(C!=0){z.GJ();j.GJ(u.q)}u.W0=!0;u.G()}else if(this.hn==2)this.DL(u,C,q,J)};b.Q.prototype.DL=function(u,m,C,Z){var q=this.Ow.rect,J=j.U(q.Z()*4);
j.wC(this.Ow.channel,J,3);var A=b.Q._5([J,q],m,C,Z),n=j.U(A.rect.Z());j._H(A.buffer,n,3);u.q={channel:n,rect:A.rect};
u.W0=!0};b.Q.prototype.disable=function(u,m,C,Z){if(this.Fx)this.FV(u,m,null,!0)};b.rJ=function(){b.Q.call(this,[10,16],b.l7,"tools/transform")};
b.rJ.prototype=new b.Q;b.jT=function(){b.Q.call(this,[7,10],b.r_,"tools/transform")};b.jT.prototype=new b.Q;
b.w5=function(){b.Q.call(this,[10,48],b.au,"tools/transform")};b.w5.prototype=new b.Q;b.Fy=function(u,m,C){b.uF.call(this,[10,46],b.Pz,"tools/transform");
this.vJ=[1,1,2,!0];this.Bp="rigidTransform";this.n3=null;this.aiu=null;this.sa=null;this.b$=null;this.TK=null;
this.IM=null;this.r6=[]};b.Fy.prototype=new b.uF;b.Fy.prototype.sZ=function(){return!0};b.Fy.$s=function(u){if(u==null)return!1;
if(u.w.length!=1)return!1;var m=u.g[u.w[0]];return m.add.SoLd||u.w0(!1)};b.Fy.prototype.Mc=function(u,m){return b.Fy.$s(u)};
b.Fy.prototype.enable=function(u,m,C,Z,q,J,A){this.aiu=J.jO;var n=J.jO,N,z=null;if(n){var e=u.g[n.i];
if(e.add.SoLd.filterFX!=null){var Q=e.add.SoLd.filterFX.v.filterFXList.v;if(Q[n.index])N=JSON.parse(JSON.stringify(Q[n.index].v.Fltr.v))}}var p=N==null,e=u.g[u.w[0]],B=e.buffer,$=e.rect,R=e.add.SoLd;
if(R){var v=R.nonAffineTransform.v;z=[];for(var D=0;D<4;D++)z.push(v[D*2].v,v[D*2+1].v);if(p)this.Vd("edit",m);
var a=e.Ha(u);B=a.buffer;$=a.rect}this.n3={buffer:B.slice(0),rect:$.clone(),a7b:z};if(p)N=b.Fy.kd(this.n3,this.vJ);
this.sa=N;this.b$=b.Fy.cS(this.sa,this.vJ);this.$j();this.Io(u);if(p)this.L9(m);var X=new eY(r.E.z,!0);
X.data={d:r.J.zW,b:this.id,no:this.vJ};m.c(X);X.data={d:r.J.q$,U7:"default"};m.c(X)};b.Fy.prototype.disable=function(u,m,C,Z){if(this.b$)this.FV(u,m,!0)};
b.Fy.prototype.$j=function(u){var m=this.b$;this.r6=[];for(var D=0;D<m.length;D++){var C=m[D];for(var Z=0;
Z<C.w.length;Z++)this.r6.push([D,C.w[D]]);C.a_=j.AA.wY(C);if(u)j.AA.gj(C)}};b.Fy.prototype.vv=function(u,m,C,Z){if(u.mY=="commit")this.FV(C,m,!0);
else if(u.mY=="cancel")this.Qn(C,m,!0);else if(u.mY=="prm"){var q=!1;for(var D=0;D<3;D++)if(this.vJ[D]!=u.no[D])q=!0;
this.vJ=u.no;if(q){this.sa=b.Fy.kd(this.n3,this.vJ,this.sa);this.b$=b.Fy.cS(this.sa,this.vJ);this.$j(!0);
this.L9(m)}this.Io(C)}else if(u.mY=="moveDepth"){var J=this.b$;for(var A=0;A<J.length;A++){var n=J[A];
for(var D=0;D<n.w.length;D++){var N=n.w[D];n.mc[N]+=u.ajM?1:-1}}this.L9(m)}};b.Fy.prototype.$d=function(u,m){return u==hs.Vg||u==hs.A_};
b.Fy.prototype.St=function(u,m,C,Z){var q=Z.gq();if(Z.j(hs.tb))this.FV(u,m,!0);else if(Z.j(hs.U_))this.Qn(u,m,!0);
else if(Z.j(hs.Vg)||Z.j(hs.A_)){var J=this.b$;for(var A=0;A<J.length;A++){var n=J[A];n.w.sort(function(Q,p){return p-Q});
for(var D=0;D<n.w.length;D++){var N=n.w[D],e=N*2;n.mc.splice(N,1);n.FD.splice(N,1);n.BI.splice(N,1);
n.md.splice(N,1);n.eo.splice(e,2);n.fX.splice(e,2)}n.w=[];if(n.md.length==0){n.As=n.tI.slice(0);n.yp=n.tI.slice(0)}}this.$j(!0);
this.L9(m);this.Io(u)}else if(q.x!=0||q.y!=0){this.wj(u,q.x,q.y,m);this.tx=null}};b.Fy.prototype.FV=function(u,m,C){this.Vd("confirm",m);
this.escape(u,m,C)};b.Fy.prototype.Qn=function(u,m,C){this.Vd("cancel",m);this.escape(u,m,C)};b.Fy.prototype.escape=function(u,m,C){u.D.dz=null;
u.D.oC=[];u.qz=!0;this.b$=null;var Z=new eY(r.E.z,!0);Z.data={d:r.J.WO};if(C)m.c(Z)};b.Fy.prototype.K4=function(u,m,C,Z,q){var J=u.t.Iv(q.x,q.y),A=J.x,n=J.y,N=this.b$,e=null,Q=[0,2,4,1.2,1.2,1.2],p=-1,B=b.fS(u,q);
for(var D=0;D<N.length;D++){var $=N[D],R=j.u.YY($.fX,A,n,B);if(R!=-1)e=[D,R];if(p==-1&&j.AA.TC.amg($.yp,$.Qa,A,n))p=D}if(e==null&&p!=-1){var $=N[p];
b.Fy.fz($,A,n,A,n,0);e=[p,$.md.length-1];$.a_=j.AA.wY($)}this.TK=J;if(e){var z=N[e[0]].w.indexOf(e[1])!=-1;
if(Z.j(hs.KP)&&!z){N[e[0]].w.push(e[1]);this.r6.push(e)}else if(!z){N[e[0]].w=[e[1]];this.r6=[e]}}this.Io(u)};
b.Fy.fz=function(u,m,C,Z,q,J){var A=j.u.YY(u.yp,m,C);u.md.push(A);u.fX.push(Z,q);u.eo.push(u.yp[A*2]-m,u.yp[A*2+1]-C);
u.BI.push(0);u.FD.push(!1);u.mc.push(J)};b.Fy.prototype.TQ=function(u,m,C,Z,q){var J=u.t.Iv(q.x,q.y),A=this.TK;
if(A)this.wj(u,J.x-A.x,J.y-A.y,m)};b.Fy.prototype.wj=function(u,m,C,Z){var q={},J=this.r6,A=this.b$;
if(this.tx==null){this.tx=[];for(var D=0;D<A.length;D++)this.tx.push(A[D].fX.slice(0))}for(var D=0;D<J.length;
D++){var n=this.r6[D],N=n[0],e=A[n[0]],Q=n[1]*2;e.fX[Q+0]=this.tx[N][Q+0]+m;e.fX[Q+1]=this.tx[N][Q+1]+C;
q[N]=N}for(var N in q)j.AA.gj(this.b$[q[N]]);this.Io(u);this.L9(Z)};b.Fy.prototype.Vd=function(u,m){var C=new eY(r.E.H,!0);
C.b=b.zz;C.data={d:u,jO:this.aiu,Bp:this.Bp,yg:this.sa};m.c(C)};b.Fy.prototype.ec=function(u,m,C,Z,q){this.TK=null;
this.tx=null};b.Fy.prototype.L9=function(u){b.Fy.RB(this.b$,this.vJ,this.sa);this.Vd("edit",u)};b.Fy.prototype.Io=function(u){var m=this.b$,C=this.sa;
u.D.dz={s:[],X:[]};u.D.oC=[];u.D.SN=[];for(var D=0;D<m.length;D++){var Z=m[D];for(var q=0;q<Z.w.length;
q++)u.D.SN.push((u.D.oC.length>>>1)+Z.w[q]);u.D.oC=u.D.oC.concat(Z.fX);if(this.vJ[3])j.u.concat(u.D.dz,j.u.aqG(Z.yp,Z.Qa))}u.qz=!0};
b.Fy.kd=function(u,m,C){var Z=u.buffer,q=u.rect,J=u.a7b,A=a7.Qv("rigidTransform");if(J)for(var D=0;D<4;
D++){A["PuX"+D].v=J[D*2];A["PuY"+D].v=J[D*2+1]}var n=A.puppetShapeList.v,N=j.AA.a2c(Z,q.e,q.n,m[1],m[2]),e=[];
for(var Q=0;Q<N.length;Q++){var p={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
p.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var B=N[Q];n.push({t:"Objc",v:p});var $=B.tI.slice(0);j.u.I($,new ix(1,0,0,1,q.x,q.y),$);var R=B.Qa;
for(var D=0;D<R.length;D+=3){var z=R[D+1];R[D+1]=R[D+2];R[D+2]=z}e.push({Qa:R,tI:$,As:$,yp:$,md:[],eo:[],fX:[],a_:null,w:[],BI:[],FD:[],mc:[]})}if(C){var v=b.Fy.cS(C,[]),a=e[0];
for(var D=0;D<v.length;D++){var X=v[D];for(var V=0;V<X.w.length;V++)a.w.push((a.fX.length>>>1)+X.w[V]);
for(var V=0;V<X.md.length;V++){var o=X.md[V]*2,h=X.tI[o]-X.eo[V*2],T=X.tI[o+1]-X.eo[V*2+1];b.Fy.fz(a,h,T,X.fX[V*2],X.fX[V*2+1],X.mc[V])}}}b.Fy.RB(e,m,A);
return A};b.Fy.cS=function(u,m){var C=b.Q.Fo,Z=u.puppetShapeList.v,q=[];for(var J=0;J<Z.length;J++){var A=Z[J].v;
m[0]=A.meshRigidity.v-1;m[1]=A.meshQuality.v-1;m[2]=A.meshExpansion.v;var n=A.pinVertexIndices.v.length,N=A.meshBoundaryPath.v.pathComponents.v;
if(N.length!=0){var e=N[0].v.SbpL.v[0].v.Pts;e.v=[]}var Q=new Uint32Array(new Uint8Array(A.indexArray.v).buffer),p=new Float32Array(new Uint8Array(A.originalVertexArray.v).buffer),B=new Float32Array(new Uint8Array(A.deformedVertexArray.v).buffer),$=[],R=[],z=[];
for(var D=0;D<Q.length;D++)$.push(Q[D]);for(var D=0;D<p.length;D++){R.push(p[D]);z.push(B[D])}var v=C(A.pinVertexIndices),a=C(A.pinOffsets),X=C(A.posFinalPins),V=C(A.PnRt),o=C(A.PnOv),h=C(A.PnDp),T=C(A.selectedPin);
q.push({Qa:$,tI:R,As:z.slice(0),yp:z,md:v,eo:a,fX:X,a_:null,BI:V,FD:o,mc:h,w:T})}return q};b.Fy.RB=function(u,m,C){function Z(B,$){var R=[];
for(var D=0;D<B.length;D++)R.push({t:$,v:B[D]});return R}function q(B,$,R){var z=new(R?Uint32Array:Float32Array)(B),v=new Uint8Array(z.buffer);
for(var D=0;D<v.length;D++)$[D]=v[D]}var J=C.puppetShapeList.v;for(var A=0;A<J.length;A++){var n=u[A],N=J[A].v;
N.meshRigidity.v=m[0]+1;N.meshQuality.v=m[1]+1;N.meshExpansion.v=m[2];q(n.Qa,N.indexArray.v,!0);q(n.tI,N.originalVertexArray.v);
q(n.yp,N.deformedVertexArray.v);var e=[];for(var D=0;D<n.md.length;D++){var Q=n.md[D]*2,p=D*2;e[p]=n.tI[Q]-n.eo[p];
e[p+1]=n.tI[Q+1]-n.eo[p+1]}N.PinP.v=Z(e,"doub");N.pinVertexIndices.v=Z(n.md,"long");N.pinOffsets.v=Z(n.eo,"doub");
N.posFinalPins.v=Z(n.fX,"doub");N.PnRt.v=Z(n.BI,"long");N.PnOv.v=Z(n.FD,"bool");N.PnDp.v=Z(n.mc,"doub");
N.selectedPin.v=Z(n.w,"long")}};b.JN=function(u,m,C){b.uF.call(this,u?u:[10,40],m?m:b.e4,C?C:"tools/slice");
this.Jp=null;this.SS=null;this.TA=null;this.abN=null;this.Kw=null;this.sV=null};b.JN.prototype=new b.uF;
b.JN.O0=function(u,m){var C=-1;for(var D=0;D<u.length;D++){var Z=b.JN.cy(u,D);if(Z[0]<=m.x&&m.x<=Z[2]&&Z[1]<=m.y&&m.y<=Z[3]){C=D;
break}}return C};b.JN.prototype.W1=function(u,m,C,Z,q){if(C==null)return;this.vo(C);if(u.d=="fromAction"){var J=C.OD(),A=C.sx(),n=A==-1?new bl(0,0,C.e,C.n):C.g[A].M_(),N=[n.x,n.x+n.e],e=[n.y,n.y+n.n];
for(var D=0;D<J[0].length;D++){var Q=J[0][D],p=Math.round(Q[1]),B=J[1][D];if(B!=-1&&B!=A)continue;if(Q[0]==0&&N.indexOf(p)==-1)N.push(p);
if(Q[0]==1&&e.indexOf(p)==-1)e.push(p)}N.sort(function(l,w){return l-w});e.sort(function(l,w){return l-w});
for(var $=1;$<e.length;$++)for(var R=1;R<N.length;R++){C.$o.push(b.JN.Mu());b.JN.t_(C.$o,C.$o.length-1,[N[R-1],e[$-1],N[R],e[$]]);
C.qz=!0}}else if(u.d=="reorder"){if(C.Lv.length==0)return;var z=C.$o,v=C.Lv;v.sort(function(l,w){return l-w});
console.log(v);var a=z.slice(0),X=[],V=[];for(var D=0;D<v.length;D++){var o=v[D],h=z[o];V.push(h);a.splice(a.indexOf(h),1)}var T=Math.max(0,Math.min(a.length,v[0]-u.dir));
for(var D=0;D<V.length;D++){a.splice(T+D,0,V[D]);X.push(T+D)}C.$o=a;C.Lv=X}else if(u.d=="delete"){var z=C.$o.slice(0);
for(var D=0;D<C.Lv.length;D++)C.$o.splice(C.$o.indexOf(z[C.Lv[D]]),1);C.Lv=[]}else if(u.d=="deleteAll"){C.$o=[];
C.Lv=[]}else{C.$o[C.Lv[0]].v=u;C.qz=!0}this.Rd(C)};b.JN.prototype.enable=function(u,m,C,Z,q,J){b.uF.prototype.enable.call(this,u,m,C,Z,q,J);
if(!C.SM.$o){var A=new eY(r.E.z,!0);A.data={d:r.J.mh,no:jO.lW};m.c(A)}};b.JN.prototype.disable=function(){this.Jp=null;
this.SS=null};b.JN.prototype.tX=function(u,m,C,Z,q){var J=u.t.Iv(q.x,q.y),A=b.JN.O0(u.$o,J);if(A==-1)return;
this.Jp=u;this.SS=m;u.Lv=[A];u.qz=!0;if(this.sV==null){this.sV=new dk([{name:[5,4]},{name:[8,11,1],mG:!0}]);
this.sV.l("select",this.fD,this)}var n=this.sV;n.parent=m;n._();n.update(u,C);var N=new eY(r.E.z,!0);
N.data={d:r.J.ek,Vl:n,x:q.Mt+2,y:q.GY+1};m.c(N)};b.JN.prototype.fD=function(u){var m=this.sV.dm()[0],C=this.Jp;
if(m==0){this.vo(C);C.$o.splice(C.Lv[0],1);C.Lv=[];C.qz=!0;this.Rd(C)}if(m==1){var Z=new eY(r.E.z,!0);
Z.data={d:r.J.zH,E$:"soptions",k:C.$o[C.Lv[0]].v};this.SS.c(Z)}};b.JN.prototype.K4=function(u,m,C,Z,q){if(u==null)return;
this.vo(u);var J=u.t.Iv(q.x,q.y);J=b.eG.xJ(u,J,C,[!0,null,!1]);J.x=Math.round(J.x);J.y=Math.round(J.y);
this.Kw=J;u.$o.unshift(b.JN.Mu());u.Lv=[0];b.JN.t_(u.$o,0,[J.x,J.y,J.x+20,J.y+20]);u.qz=!0};b.JN.prototype.TQ=function(u,m,C,Z,q){if(this.TA==null)return;
var J=u.t.Iv(q.x,q.y),A=this.Kw;J=b.eG.xJ(u,J,C,[!0,null,!1]);J.x=Math.round(J.x);J.y=Math.round(J.y);
var n=[A.x,A.y,J.x,J.y];b.JN.zX(n);b.JN.t_(u.$o,0,n);u.qz=!0};b.JN.prototype.ec=function(u,m,C,Z,q){this.Rd(u);
this.Kw=null};b.JN.prototype.vo=function(u){this.TA=JSON.stringify(u.$o);this.abN=JSON.stringify(u.Lv)};
b.JN.prototype.Rd=function(u){var m=JSON.stringify(u.$o);if(m!=this.TA){var C=new h5(this.name,this);
C.data={Bo:this.TA,zT:m,ahD:this.abN,a4n:JSON.stringify(u.Lv)};u.hO(C)}this.TA=null};b.JN.prototype.H8=function(u,m){m.$o=JSON.parse(u.Bo);
m.Lv=JSON.parse(u.ahD);m.qz=!0};b.JN.prototype.H_=function(u,m){m.$o=JSON.parse(u.zT);m.Lv=JSON.parse(u.a4n);
m.qz=!0};b.JN.prototype.$d=function(u,m){return m!=null&&m.Lv.length!=0&&(u==hs.Vg||u==hs.A_)};b.JN.prototype.St=function(u,m,C,Z){if(u==null)return;
if(Z.j(hs.Vg)||Z.j(hs.A_))this.W1({d:"delete"},m,u,Z,C);var q=Z.gq();if(q.x!=0||q.y!=0){this.vo(u);b.JN.rU(u,q);
this.Rd(u)}};b.JN.prototype.vv=function(u,m,C,Z,q){};b.JN.a4M=function(u,m,C,Z){var q=new dz(-m.x,-m.y),J=m.e/C.e,A=m.n/C.n,n=[0,0,m.e,m.n];
for(var D=0;D<u.length;D++){var N=b.JN.cy(u,D);if(Z){N[0]=Math.round(N[0]*J);N[1]=Math.round(N[1]*A);
N[2]=Math.round(N[2]*J);N[3]=Math.round(N[3]*A)}else{b.JN.Zh(N,q);b.JN.akF(N,n)}if(N[0]>=N[2]||N[1]>=N[3]){u.splice(D,1);
D--;continue}b.JN.t_(u,D,N)}};b.JN.rU=function(u,m){var C=u.$o;for(var D=0;D<u.Lv.length;D++){var Z=b.JN.cy(C,u.Lv[D]);
b.JN.Zh(Z,m);b.JN.t_(C,u.Lv[D],Z)}};b.JN.akF=function(u,m){if(u[0]<m[0])u[0]=m[0];if(u[1]<m[1])u[1]=m[1];
if(m[2]<u[2])u[2]=m[2];if(m[3]<u[3])u[3]=m[3]};b.JN.Zh=function(u,m){u[0]=Math.round(u[0]+m.x);u[2]=Math.round(u[2]+m.x);
u[1]=Math.round(u[1]+m.y);u[3]=Math.round(u[3]+m.y)};b.JN.t_=function(u,D,m){var C=u[D].v.bounds.v;C.Left.v=m[0];
C.Top.v=m[1];C.Rght.v=m[2];C.Btom.v=m[3]};b.JN.cy=function(u,D){var m=u[D].v.bounds.v;return[m.Left.v,m.Top.v,m.Rght.v,m.Btom.v,D]};
b.JN.zX=function(u){if(u[2]<u[0]){var m=u[0];u[0]=u[2];u[2]=m}if(u[2]==u[0])u[2]++;if(u[3]<u[1]){var m=u[1];
u[1]=u[3];u[3]=m}if(u[3]==u[1])u[3]++};b.JN.Of=function(u,m){var C=1e9,Z=-1e9,q=1e9,J=-1e9;for(var D=0;
D<m.length;D++){var A=b.JN.cy(u,m[D]);C=Math.min(C,A[0]);q=Math.min(q,A[1]);Z=Math.max(Z,A[2]);J=Math.max(J,A[3])}return[C,q,Z,J]};
b.JN.Mu=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
b.qm=function(){b.JN.call(this,[10,41],b.mb,"tools/sselect");this.Kw=null;this.DW=null;this.b_=null;
this.IM=null;this.xh=!1};b.qm.prototype=new b.JN;b.qm.prototype.K4=function(u,m,C,Z,q){if(u==null)return;
var J=u.t.Iv(q.x,q.y),A=b.qm.KT(J,4/u.t.V,u.$o,u.Lv);A.pop();if(A.length!=0){this.Kw=J;this.b_=A;this.vo(u);
return}var n=u.$o,N=b.JN.O0(n,J);if(N==-1)u.Lv=[];else{var e=u.Lv.indexOf(N);if(Z.j(hs.KP)){if(e==-1)u.Lv.push(N);
else u.Lv.splice(e,1)}else{u.Lv.sort(function(z,v){return z-v});if(e==-1)u.Lv=[N];this.Kw=J;this.vo(u);
this.DW=b.JN.Of(n,u.Lv);this.IM=[];for(var D=0;D<u.Lv.length;D++)this.IM.push(b.JN.cy(n,u.Lv[D]));if(Z.j(hs.mD)){var Q=n.slice(0),p=u.Lv,B=[];
for(var D=0;D<p.length;D++){var N=p[D],$=Q[N],R=n.indexOf($);B.push(R);n.splice(R,0,JSON.parse(JSON.stringify($)))}u.Lv=B}}}u.qz=!0};
b.qm.prototype.TQ=function(u,m,C,Z,q){var J=u.t.Iv(q.x,q.y);if(this.Kw==null){var A=b.qm.KT(J,4/u.t.V,u.$o,u.Lv),n=A.pop(),N=A.length==0?"default":["ew","nwse","ns","nesw"][n]+"-resize",e=new eY(r.E.z,!0);
e.data={d:r.J.q$,U7:N};m.c(e);return}if(!this.xh&&J.QV(this.Kw))return;this.xh=!0;var Q=u.$o,A=this.b_;
if(A){J=b.eG.xJ(u,J,C,[!0,null,!1]);var p=Math.round(J.x),B=Math.round(J.y);for(var D=0;D<A.length;D+=2){var $=b.JN.cy(Q,A[D]),R=A[D+1];
$[R]=(R&1)==0?p:B;b.JN.zX($);b.JN.t_(Q,A[D],$)}}else{var z=J.Vy(this.Kw),v=this.DW.slice(0);b.JN.Zh(v,z);
var a=new bl(v[0],v[1],v[2]-v[0],v[3]-v[1]),X=b.eG.EX(u,a,C,[!0,null,!1],!0);b.eG.nC(u,a,X);z.x+=X[0];
z.y+=X[1];for(var D=0;D<u.Lv.length;D++)b.JN.t_(Q,u.Lv[D],this.IM[D]);b.JN.rU(u,z)}u.qz=!0};b.qm.prototype.ec=function(u,m,C,Z,q){if(this.Kw==null)return;
this.Rd(u);u.D.g3=null;u.qz=!0;this.Kw=null;this.b_=null;this.IM=null;this.xh=!1};b.qm.KT=function(u,m,C,Z){var q=u.x,J=u.y,A=[],n=-1,N=[];
for(var D=0;D<Z.length;D++){var e=Z[D],Q=b.JN.cy(C,e),p=Q[0],B=Q[1],$=Q[2],R=Q[3];if(q<p-m||$+m<q||J<B-m||R+m<J)continue;
var z=[q<p+m,J<B+m,$-m<q,R-m<J],v=-1;for(var a=0;a<4;a++){if(z[a]&&z[a+1&3])v=1+2*(a&1);if(z[a])A.push(e,a)}if(v==-1){if(z[0]||z[2])v=0;
if(z[1]||z[3])v=2}if(v!=-1){n=v;N.push(e)}}var X=A.length;for(var D=0;D<X;D+=2){var e=A[D],V=A[D+1],o=b.JN.cy(C,e)[V];
for(var a=0;a<Z.length;a++){var h=Z[a];if(N.indexOf(h)!=-1)continue;var Q=b.JN.cy(C,h);if(Q[V&1]==o)A.push(h,V&1);
if(Q[2+(V&1)]==o)A.push(h,2+(V&1))}}A.push(n);return A};b.Lh=function(){b.No.call(this,[10,44],b.aaB,"tools/oselect");
this.Xd="crosshair";this.amr=0};b.Lh.prototype=new b.No;b.Lh.prototype.AT=function(u,m,C,Z){if(Math.random()<1/(1+this.amr)){alert("The cross should be fully inside the object.",3500);
this.amr++}};b.Lh.prototype.rB=function(u,m,C,Z){b.sy.uf(u,b.No._Y,this.SS);if(!Z.Ct||!this.vG)return;
var q=this.Ci(u,C,!1),J=q.e,A=q.n,n=q.x,N=q.y,e=q.x+J,Q=q.y+A,p=n+J/2,B=N+A/2,$=b.Lh.CV;u.D.dz={s:[n,N,e,N,e,Q,n,Q,p-J*$,B,p+J*$,B,p,B-A*$,p,B+A*$],X:"M L L L Z M L M L".split(" ")};
u.qz=!0};b.Lh.CV=.12;b.Lh.prototype.kP=function(u,m,C,Z){u.D.dz=null;u.qz=!0;this.finish(u,m,C,Z)};b.Lh.prototype.getSelection=function(u,m,C,Z){if(this.l9.QV(this.Sx)||!this.vG)return null;
var q=this.Ci(u,C,!1),J=u.g[u.w[0]];if(q.qR()||!q.bL(J.rect))return null;return b.No.r7("ObSl",q)};b.sy=function(){b.Zg.call(this,[10,37],b.vV,"tools/qselect");
this.DU="qselect"};b.sy.prototype=new b.Zg;b.sy.prototype.K4=function(u,m,C,Z,q){this.XE(u,C,Z,q,1);
if(this.YW==null)return;this.rk(u)};b.sy.prototype.TQ=function(u,m,C,Z,q){this.k$(u,m,C);b.sy.uf(u,b.No._Y,m);
if(this.dr)this.dv(u,C,q);if(this.YW==null)return;if(!q.Ct)return;var J=this.L_(u,C,Z,q);if(J!=1)this.rk(u)};
b.sy.uf=function(u,m,C){if(u&&m.key!=b.sy.QE(u)){m.key=b.sy.QE(u);var Z=u.g[u.w[0]].rect.Z(),J="Image Analysis ...";
if(Z==0)return;var q=Z>1e6,A=new eY(r.E.z,!0);A.data={d:r.J.m4,$O:J};if(q)C.c(A);setTimeout(function(){var n=b.sy._W(u);
for(var N in n)m[N]=n[N];var A=new eY(r.E.z,!0);A.data={d:r.J.VQ,$O:J};if(q)C.c(A)},30)}};b.sy.QE=function(u){var m=u.w[0],C=u.g[m],Z=C.rect,q=Z.e,J=Z.n,A=q*J,n=C.buffer;
return[m,Z.x,Z.y,q,J,n[0],n[1],n[2],n[3]].join(",")};b.sy._W=function(u){var m=u.w[0],C=u.g[m],Z=C.rect,q=Z.e,J=Z.n,A=q*J,n=C.buffer,N=Date.now(),e=j.U(A);
e.fill(128);var Q=j.xG.xb(n,q,J);console.log(Date.now()-N);var p={key:b.sy.QE(u),Fh:n,rect:Z.clone(),du:q,Oh:J,Wf:12,a9v:!1,aZ:e,G_:Q,q:j.U(A),BJ:null,wp:null,Du:null};
b.sy.CU(p);return p};b.sy.CU=function(u,m){var C=u.du,Z=u.Oh,q=0,J=0,A=Date.now(),n=u.BJ!=null&&j.xG.abP(u.G_.Qa,u.BJ.Qa,u.BJ.Lt,u.aZ);
q=Date.now()-A;A=Date.now();if(!n&&!u.a9v){u.BJ=j.xG.ni(u.G_,C,Z,u.aZ,u.Wf);if(!j.xG.abP(u.G_.Qa,u.BJ.Qa,u.BJ.Lt,u.aZ)){u.a9v=!0;
console.log("conflict")}u.wp=j.xG.aev(u.Fh,C,Z,u.BJ.Qa,u.BJ.Lt);u.Du=[u.wp[0].slice(0),[]];J=Date.now()-A;
A=Date.now()}var A=Date.now();if(m){u.Du[0].set(u.wp[0]);var N=u.wp[1],e=u.Du[1];for(var Q=0;Q<N.length;
Q++)e[Q]=N[Q].slice(0);j.xG.a3p(u.BJ.Qa,C,Z,u.BJ.Lt,u.aZ,u.q,u.Du)}};b.FJ=function(){b.uF.call(this,[10,50],b.oy,"tools/artb");
this.oN=null;this.arg=!1;this.Fx=null;this._J=!1;this.aa4=null;this.e_=100;this.Tu=null;this.Ap=0};b.FJ.prototype=new b.uF;
b.FJ.A$=function(u,m){var C=u[0],Z=0,q=0;if(C==0)q=-1;else if(C==1)Z=1;else if(C==2)q=1;else Z=-1;return[20/m.qM,u[1]+Z*60/m.qM,u[2]+q*60/m.qM]};
b.FJ.prototype.vv=function(u,m,C,Z,q){this.oN=u.no;this.Ap=Date.now()};b.FJ.prototype.hP=function(u,m,C,Z){if(C.Oj!=this.id)return;
if(u==null||u.w.length!=1){this.Xr(u);return}var q=u.w[0],J=u.g[q],A=J.add.artb;if(A==null){this.Xr(u);
return}if(this._J)return;if(Date.now()-this.Ap>50){this.oN={};var n=["artboardBackgroundType","Clr"];
for(var D=0;D<n.length;D++)if(A[n[D]])this.oN[n[D]]=JSON.parse(JSON.stringify(A[n[D]]));var N=new eY(r.E.z,!0);
N.data={d:r.J.zW,b:this.id,xr:this.oN};m.c(N)}var e=J.M_(),Q=j.u.yj(e).s,p=this.Fx=new fi(Q,!0,!1,!1,!0,!1,3,!1);
p.jK(u,C,!1);var B={s:[1,0],X:["M"]};for(var D=1;D<30;D++){var $=Math.PI*2*D/30;B.s.push(Math.cos($),Math.sin($));
B.X.push("L")}B.X.push("Z","M","L","M","L");B.s.push(-.5,0,.5,0,0,-.5,0,.5);var R=e.x+e.e/2,z=e.y+e.n/2,v=this.e_*1.1,a=this.aa4=[R,e.y,e.x+e.e,z,R,e.y+e.n,e.x,z],X=[0,-v,v,0,0,v,-v,0],V=u.root.children;
u.D.m_=[];for(var D=0;D<4;D++){var o=new dz(a[D*2]+X[D*2],a[D*2+1]+X[D*2+1]),h=!1;for(var T=0;T<V.length;
T++){var J=V[T].i;if(J.add.artb==null)continue;var e=J.M_();if(e.PG(o))h=!0}if(h){a[D*2]=1e9;continue}u.D.m_.push([D,a[D*2],a[D*2+1]])}};
b.FJ.prototype.disable=function(u,m,C,Z,q){this.Xr(u)};b.FJ.prototype.Xr=function(u){if(this.Fx){this.Fx.clear(u);
this.Fx=null;u.D.m_=null}};b.FJ.prototype.K4=function(u,m,C,Z,q){this.Ap=Date.now();var J=u.t.Iv(q.x,q.y),A=this.Fx;
if(A){var n=new eY(r.E.H),N=A.ai5(null,J,u,q);if(N<9){this._J=A.K4(u,C,Z,J,null,!0,q);return}else if(A.rC(J)){n.b=b.Iw;
n.data={d:"disabAuto"};m.c(n);var e=new eY(r.E.z);e.data={d:r.J.K3,b:b.Iw,aa_:!0};m.c(e);return}else{var Q=-1,p=u.D.m_;
for(var D=0;D<p.length;D++){var B=b.FJ.A$(p[D],u.t);if(dz.th(J,new dz(B[1],B[2]))<B[0])Q=p[D][0]}if(Q!=-1){var $=u.g[u.w[0]].M_(),R=$.clone(),z=(Q==0||Q==2?$.n:$.e)+this.e_;
if(Q==0||Q==3)z=-z;if(Q==0||Q==2)$.y+=z;else $.x+=z;if(Z.j(hs.mD)){n.b=b.IZ;n.data={d:F.Gx};m.c(n);b.eG.a2(u,u.TX(null,u.w[0],null,!0),null,$.x-R.x,$.y-R.y);
b.pB.tG(u)}else this.Xz(u,$,m);return}}}this.Tu=b.eG.xJ(u,J,C)};b.FJ.prototype.Xz=function(u,m,C){var Z=u.g.slice(0),q=[u.g.length+1],J=u.Rp();
J.RS("Artboard "+(u.root.children.length+1));J.add.lsct=cT.G6;J.Cw(m);if(this.oN){var A=J.add.artb,n=this.oN;
for(var N in n)A[N]=n[N]}J.Um="pass";J.VO=24;if(u.add.artd||m.aR(new bl(0,0,u.e,u.n)).qR())Z.push(u.B$());
else Z.unshift(u.B$());Z.push(J);var e=new eY(r.E.H);e.b=b.IZ;e.data={d:F.Y7,$m:Z,i9:q,wy:"New Artboard"};
C.c(e)};b.FJ.prototype.TQ=function(u,m,C,Z,q){var J=u.t.Iv(q.x,q.y),A=this.Fx,n=this.Tu;if(A){if(this._J){A.TQ(u,C,Z,J)}else{var N=A.vA(J,u.t.V,null,q);
if(N==null)N="default";var e=new eY(r.E.z,!0);e.data={d:r.J.q$,U7:N};m.c(e)}}if(n){var Q=this.cy(u,J,Z,C);
u.D.dz=j.u.yj(Q);u.qz=!0;b.uF.Tz(q,Q,u,C)}};b.FJ.prototype.ec=function(u,m,C,Z,q){var J=u.t.Iv(q.x,q.y),A=this.Tu;
if(this._J){this.Fx.ec(u,C,Z,J);this._J=!1;var n=j.u.aO(this.Fx.Vr()),N=F.w6(n),e=u.g[u.w[0]],Q=JSON.parse(JSON.stringify(e.add.artb));
Q.artboardRect.v=N;var p=new eY(r.E.H,!0);p.b=b.IZ;p.data={d:F.zw,Pm:Q};m.c(p)}if(A){var B=this.cy(u,J,Z,C);
if(B.Z()>20)this.Xz(u,B,m);u.D.dz=null;u.qz=!0;this.Tu=null;u.D.fb=[]}};b.FJ.prototype.cy=function(u,m,C,Z){var q=this.Tu,J=b.eG.xJ(u,m,Z),A=b.kp.lJ(q,J,C,!0);
q=A[0];J=A[1];return j.u.aO([q.x,q.y,J.x,J.y])};function fi(u,m,C,Z,q,J,A,n){this.pa=null;this.s4=u?u.slice(0):null;
this.VY=4;this.Sx=null;this.ge=null;this.DI=null;this.JL=-1;this.P0=null;this.amn=!1;this.a25=[];for(var D=0;
D<8;D++)this.a25.push(d4.aae(0,PIMG.rotate,-.5,-.5,-45-D*45));this.aqh=m;this.a6$=C;this.aoU=Z;this.ast=q;
this.OE=J;this.xk=A;this.ao4=n==null?1:n}fi.prototype.UD=function(){return this.JL!=-1};fi.prototype.Vr=function(){return this.s4.slice(0)};
fi.prototype.EE=function(u){this.s4=u};fi.prototype.aba=function(){return this.Su(this.s4)};fi.prototype.ags=function(){return this.VY};
fi.prototype.a7p=function(u){this.VY=u};fi.prototype.FU=function(u){if(u==null)u=this.s4;if(this.VY==9)return this.Sx;
else return this.Su(u)[this.VY]};fi.prototype.aiV=function(u){if(this.VY==9)this.Sx=u.clone();else{var m=this.FU(),C=new ix(1,0,0,1,u.x-m.x,u.y-m.y);
j.u.I(this.s4,C,this.s4)}};fi.prototype.vA=function(u,m,C,Z){var q=this.Gj(null,u,m,Z),J;if(q==9)return"default";
if(q==10){if(C)return null;return!this.aqh?"move":null}if(q==-1||q==4)return null;if(q==11){var A=this.FU().Vy(u);
J=90-Math.atan2(A.y,A.x)*180/Math.PI;var n=Math.round(8*(J/360));n=(n+8)%8;return this.a25[n]}else{var N=this.Ts(u,this.s4);
J=[135,90,45,180,0,0,225,270,315][q];var e=j.N.GG(this.s4);J+=Math.atan2(-e[3],e[0])*180/Math.PI;var Q="ew nesw ns nwse ew nesw ns nwse".split(" "),n=Math.round(8*(J/360));
n=(n+8)%8;return Q[n]+"-resize"}};fi.prototype.Ts=function(u,m){var C=j.N.mL(j.N.GG(m)),Z=new Float64Array(2);
j.N.WX(u.x,u.y,C,Z);return new dz(Z[0],Z[1])};fi.prototype.rC=function(u){var m=this.Ts(u,this.s4);return 0<=m.x&&m.x<=1&&0<=m.y&&m.y<=1};
fi.prototype.K4=function(u,m,C,Z,q,J,A){this.amn=J;this.P0=Z;var n=u.t.V,N;if(this.s4==null)Z=b.eG.xJ(u,Z,m);
this.DI=Z.clone();if(this.s4==null){this.DI.offset(1,1);var e=q==null?1:1/q;this.s4=[Z.x,Z.y,Z.x+1,Z.y,Z.x+1,Z.y+e,Z.x,Z.y+e];
N=8}else{N=this.Gj(C,Z,n,A);if(0<=N&&N<=8)this.DI=this.Su(this.s4)[N];if(N==9){this.VY=9;this.Sx=Z.clone()}}this.pa=this.s4.slice(0);
this.JL=N;this.jK(u,m);this.ge=this.FU();return N!=-1};fi.prototype.ai5=function(u,m,C,Z){return this.Gj(u,m,C.t.V,Z)};
fi.prototype.Gj=function(u,m,C,Z){var q=-1,J=this.Su(),A=[0,2,6,8,1,3,5,7],n=Z?b.fS({t:{V:C}},Z):6*b.F()/C;
if(q==-1)if(dz.th(this.FU(),m)<n)q=9;if(q==-1)for(var D=0;D<A.length;D++)if(dz.th(J[A[D]],m)<n)q=A[D];
if(q==-1&&u&&u.j(hs.mD))q=9;if(q==-1||this.xk==4){if(this.rC(m)){if(this.aqh)q=10}else{var N=this.Ts(m,this.s4),e=new bl(0,0,1,1);
e.iO(.2,.2);q=e.PG(N)&&this.xk!=3?11:10}}return q};fi.prototype.TQ=function(u,m,C,Z){if(this.JL==-1)return;
this.P0=Z;var q=C.j(hs.KP),J=C.j(hs.mD),A=C.j(hs.Vw),n=u.t.V,N=this.DI,e=this.JL,Q=this.Su(),p=b.eG.xJ(u,N,m),B=b.eG.xJ(u,Z,m),$,R;
if(e==9){var Q=this.Su(),z=-1;for(var D=0;D<Q.length;D++)if(dz.th(Q[D],B)*n<10)z=D;this.VY=z==-1?9:z;
this.Sx=q?b.Ho.K2(p,B):B.clone()}else if(e==10){R=j.u.Of(this.pa);var v=R.x,a=R.y;R.offset(Z.x-N.x,Z.y-N.y);
if(this.z9()){R.x=Math.round(R.x);R.y=Math.round(R.y)}$=b.eG.EX(u,R,m);var X=new ix(1,0,0,1,R.x-v+$[0],R.y-a+$[1]);
j.u.I(this.pa,X,this.s4)}else if(e==11){var V=this.FU(this.pa),o=V.Vy(Z),h=V.Vy(N),T=Math.atan2(o.y,o.x),l=Math.atan2(h.y,h.x),X=new ix(1,0,0,1,-V.x,-V.y),w=Math.PI/12;
if(q)X.rotate(Math.round((l-T)/w)*w);else X.rotate(l-T);X.translate(V.x,V.y);j.u.I(this.pa,X,this.s4)}else{var W,U=this.pa,s=e==0||e==2||e==6||e==8;
if(this.xk==1){if(s)q=J=A=!0}else if(this.xk==2&&s&&this.amn!=!0)A=!0;if(this.xk==3)A=!1;if(this.aoU&&s&&A){var D=[0,0,2,0,0,0,6,0,4,0][e],S=-1,x=B.x,P=B.y;
if(q){var y=D+6&7,_=D+10&7,g=fi.X7(U[D],U[D+1],U[y],U[y+1],B.x,B.y),G=fi.X7(U[D],U[D+1],U[_],U[_+1],B.x,B.y),O=g[2]<G[2]?g:G;
x=O[0];P=O[1];if(J)S=g[2]<G[2]?y:_}else if(J)S=D+4&7;W=U.slice(0);if(S!=-1){var E=U[S],L=U[S+1],c=(U[D]+E)/2,k=(U[D+1]+L)/2;
W[S]=c-(x-c);W[S+1]=k-(P-k)}W[D]=x;W[D+1]=P}else if(s&&J){var V=this.ge,I=V.x,Y=V.y,K=p.x-I,i=p.y-Y,i4=1,d7=1;
if(Math.abs(K)>=1)i4=(B.x-I)/K;if(Math.abs(i)>=1)d7=(B.y-Y)/i;if(q||this.OE)i4=d7=(i4+d7)/2;var X=new ix;
X.translate(-I,-Y);X.scale(i4,d7);X.translate(I,Y);W=U.slice(0);j.u.I(W,X,W)}else{if(this.z9()){B.x=Math.round(B.x);
B.y=Math.round(B.y)}var d=[0,1,2,5,8,7,6,3],fH=d[(d.indexOf(e)+4)%8],aC=[];for(var D=0;D<3;D++)for(var S=0;
S<3;S++)aC.push(new dz(S/2,D/2));var V=this.ge,f8=this.Ts(B,U),c9=this.Ts(N,U),g1=J&&(this.VY==4||this.VY==9)?this.Ts(V,U):aC[fH],cE=new ix,hG=new ix,i4=(f8.x-g1.x)/(c9.x-g1.x);
if(i4==0)i4=1e-4;var d7=(f8.y-g1.y)/(c9.y-g1.y);if(d7==0)d7=1e-4;if(this.ast){i4=Math.max(i4,0);d7=Math.max(d7,0)}if(e==0||e==2||e==6||e==8){if(q||this.OE)cE.scale(i4,i4);
else cE.scale(i4,d7)}if(e==1||e==3||e==5||e==7){var fA=this.OE;if(e==1||e==7)cE.scale(fA?d7:1,d7);else cE.scale(i4,fA?i4:1);
if(this.a6$&&A){if(e==1||e==7)hG.ZU=(f8.x-g1.x)/(f8.y-g1.y);else hG.S=(f8.y-g1.y)/(f8.x-g1.x)}}var X=new ix;
X.translate(-g1.x,-g1.y);X.concat(cE);X.concat(hG);X.translate(g1.x,g1.y);W=[0,0,1,0,1,1,0,1];j.u.I(W,X,W);
var O=j.N.GG(U);j.N.I(O,W)}if(fi.$n(W))this.s4=W}this.jK(u,m);if($)b.eG.nC(u,R,$)};fi.X7=function(u,m,C,Z,q,J){var A=C-u,n=Z-m,N=q-u,e=J-m,Q=A*A+n*n,p=N*A+e*n,B=p/Q,$=u+B*A,R=m+B*n,z=q-$,v=J-R;
return[$,R,Math.sqrt(z*z+v*v)]};fi.prototype.z9=function(){var u=this.s4;return Math.abs(u[1]-u[3])<1e-6&&Math.abs(u[2]-u[4])<1e-6||Math.abs(u[0]-u[2])<1e-6&&Math.abs(u[3]-u[5])<1e-6};
fi.$n=function(u){return j.u.Yx(u)||j.u.Yx([u[6],u[7],u[4],u[5],u[2],u[3],u[0],u[1]])};fi.prototype.ec=function(u,m,C,Z){this.JL=-1;
this.P0=null;u.D.g3=null;u.D.fb=[];u.qz=!0};fi.prototype.St=function(u,m,C){var Z=C.gq();if(Z.x||Z.y){var q=new ix(1,0,0,1,Z.x,Z.y);
j.u.I(this.s4,q,this.s4);this.jK(u,m);return!0}return!1};fi.prototype.Su=function(u){if(u==null)u=this.s4;
var m=u[6]-u[0],C=u[7]-u[1],Z=u[4]-u[2],q=u[5]-u[3],J=[u[0],u[1],u[2],u[3],u[0]+m/2,u[1]+C/2,u[2]+Z/2,u[3]+q/2,u[6],u[7],u[4],u[5]],A=[];
for(var D=0;D<3;D++){var n=D*4,N=J[n+0],e=J[n+1],Q=J[n+2],p=J[n+3];A.push(new dz(N,e));A.push(new dz(N+(Q-N)/2,e+(p-e)/2));
A.push(new dz(Q,p))}return A};fi.prototype.jK=function(u,m,C){if(C==null)C=!1;var Z=this.Su(),q=Z[0],J=Z[2],A=Z[6],n=Z[8];
u.D.dz={X:[],s:[]};u.D.dz.X.push("M","L","L","L","Z");u.D.dz.s.push(q.x,q.y,J.x,J.y,n.x,n.y,A.x,A.y);
var N=this.ao4;if(N>1){var e=J.Vy(q),Q=A.Vy(q),p=n.Vy(J),B=n.Vy(A);for(var D=1;D<N;D++){u.D.dz.X.push("M","L","M","L");
var $=D/N;u.D.dz.s.push(q.x+e.x*$,q.y+e.y*$,A.x+B.x*$,A.y+B.y*$);u.D.dz.s.push(q.x+Q.x*$,q.y+Q.y*$,J.x+p.x*$,J.y+p.y*$)}}u.t.SD=new bl(0,0,dz.th(Z[0],Z[2]),dz.th(Z[0],Z[6]));
if(this.JL!=-1&&this.JL<9&&this.P0){var R=u.t.qh(this.P0.x,this.P0.y);b.uF.Tz(R,u.t.SD,u,m)}if(!C){u.D.hN=[];
for(var D=0;D<Z.length;D++)if(D!=4)u.D.hN.push(Z[D].x,Z[D].y);var z=this.FU();u.D.hN.push(z.x,z.y)}u.qz=!0};
fi.prototype.clear=function(u){u.t.SD=null;u.D.g3=null;u.D.dz=null;u.D.hN=[];u.qz=!0};function at(u,m){this.x0=null;
this.JL=-1;this.Eb(u)}at.prototype.QA=function(){return JSON.parse(JSON.stringify(this.x0))};at.prototype.Eb=function(u){this.x0=JSON.parse(JSON.stringify(u))};
at.prototype.rC=function(u){return!0};at.prototype.vA=function(u,m,C,Z){var q=this.Gj(u,m,Z);if(q==-1)return"default";
return"pointer"};at.prototype.K4=function(u,m,C,Z,q,J,A){this.JL=this.Gj(Z,u.t.V,A);return this.JL!=-1};
at.prototype.Gj=function(u,m,C){var Z=this.rV(),q=-1,J=1e6;for(var D=0;D<Z.length;D++){var A=dz.th(Z[D],u);
if(A<J){q=D;J=A}}return J<(C?b.fS({t:{V:m}},C)*2:20*b.F()/m)?q:-1};at.prototype.TQ=function(u,m,C,Z){if(this.JL==-1)return;
var q=u.t.V,J=this.JL,A=j.x0.Xw(this.x0);A[J*2]=Z.x;A[J*2+1]=Z.y;j.x0.M0(A,this.x0)};at.prototype.ec=function(u,m,C,Z){this.JL=-1;
u.qz=!0};at.prototype.St=function(u,m,C){var Z=C.gq();if(Z.x||Z.y){var q=new ix(1,0,0,1,Z.x,Z.y);j.u.I(this.s4,q,this.s4);
this.jK(u)}};at.prototype.rV=function(u){var m=j.x0.Xw(this.x0),C=[];for(var D=0;D<m.length;D+=2)C.push(new dz(m[D],m[D+1]));
return C};at.prototype.jK=function(u){var m=this.rV();u.D.dz={X:[],s:[]};u.D.dz.X.push("M","C","C","C","C");
var C=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var D=0;D<C.length;D++)u.D.dz.s.push(m[C[D]].x,m[C[D]].y);
u.D.dz.X.push("M","L","L","M","L","L","M","L","L","M","L","L");C=[4,0,1,2,3,7,11,15,14,13,12,8];for(var D=0;
D<C.length;D++)u.D.dz.s.push(m[C[D]].x,m[C[D]].y);u.D.hN=[];for(var D=0;D<m.length;D++)u.D.hN.push(m[D].x,m[D].y);
u.qz=!0};at.prototype.clear=function(u){u.D.dz=null;u.D.hN=[];u.qz=!0};function hP(){this.MQ=!1;this.Hr=!1;
this.a7Z=!1;this.a2z=!1;this.R7=!1;this.GX=!1;this.fE=0;this.Ad=0}hP.prototype.K4=function(u){this.MQ=!0;
this.Hr=!1;this.R7=u.j(hs.KP);this.GX=u.j(hs.mD);this.fE=this.R7?0:1;this.Ad=this.GX?0:1};hP.prototype.St=function(u){var m=this.a2z=u.j(hs.KP),C=this.a7Z=u.j(hs.mD);
if(this.Hr){if(this.fE==0&&!m)this.fE++;if(this.fE==1&&m)this.fE++;if(this.Ad==0&&!C)this.Ad++;if(this.Ad==1&&C)this.Ad++}};
hP.prototype.TQ=function(){this.Hr=!0};hP.prototype.ec=function(){this.MQ=!1};hP.prototype.zv=function(D){if(D==0)return this.MQ?this.GX:this.a7Z;
if(D==1)return this.Hr?this.Ad==2:!1};hP.prototype.bA=function(D){if(D==0)return this.MQ?this.R7:this.a2z;
if(D==1)return this.Hr?this.fE==2:!1};b.History=function(){b.uF.call(this,"History",b.fn);this.nf=!0;
this.a5E=0};b.History.prototype=new b.uF;b.History.prototype.W1=function(u,m,C,Z){C.xi=!0;if(u.d=="h_itemchange"){if(u.index<C.oa)for(var D=C.oa;
D>u.index;D--)this.Xy(C);if(u.index>C.oa)for(var D=C.oa;D<u.index;D++)this.Cs(C)}if(u.d=="h_stepfwd")this.Cs(C);
if(u.d=="h_stepbck")this.Xy(C);if(u.d=="h_undoredo"){var q=this.nf||this.a5E!=C.oa;if(q){this.Xy(C);
q=!1}else{this.Cs(C);q=!0}this.nf=q;this.a5E=C.oa}else this.nf=!0};b.History.prototype.Xy=function(u){if(u.oa==0)return;
var m=u.history[u.oa];m.b.H8(m.data,u);u.oa--};b.History.prototype.Cs=function(u){if(u.oa==u.history.length-1)return;
var m=u.history[u.oa+1];m.b.H_(m.data,u);u.oa++};b.l_=function(){b.uF.call(this,"Layers",b.IZ);this.SS=null};
b.l_.prototype=new b.uF;b.l_.prototype.W1=function(u,m,C,Z,q){this.SS=m;var J=u.d,A=u.i!=null?u.i:C.w.length!=0?C.w[0]:C.g.length-1,n=C.g[A];
C.aJ=!0;var N=Z.j(hs.mD),e=Z.j(hs.KP),Q=Z.j(hs.Vw);if(J==F.X_&&C.q==null&&(C.w.length>1||!C.w0(!1)))J=F.Gx;
if(J==F.EU){var p=new h5([6,33],this),B=n.ld()?["pass"].concat(hR.AO):hR.AO,$=B[u.Qc],R=u.i!=null?[u.i]:C.w,z=JSON.stringify(R),v=[];
for(var D=0;D<R.length;D++)v.push(C.g[R[D]].Um);p.data={d:J,Mn:z,na:v,Qc:$};C.hO(p);this.H_(p.data,C);
this.track(hc.yD("Md",{t:"enum",v:{BlnM:hR.gt($)}}))}if(J==F.X8){var p,a=C.QX(),R=u.i!=null?[u.i]:C.w,z=JSON.stringify(R);
if(a&&a.data&&a.data.d==J&&a.data.Mn==z)p=a;else{var X=hc.yD("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(X);var v=[];for(var D=0;D<R.length;D++)v.push(C.g[R[D]].opacity);p=new h5([6,32],this);p.data={d:J,Mn:z,na:v,Qc:u.Qc,IS:X.yS};
C.hO(p)}p.data.Qc=u.Qc;p.data.IS.T.v.Opct.v.val=Math.round(u.Qc*100/255);this.H_(p.data,C)}if(J==F.Sh){if(n.add.iOpa==null)n.add.iOpa=255;
var p,a=C.QX();if(a&&a.data&&a.data.d==J&&a.data.i==A)p=a;else{p=new h5("Fill Opacity Change",this);
p.data={d:J,i:A,na:n.add.iOpa,Qc:u.Qc};C.hO(p)}p.data.Qc=u.Qc;this.H_(p.data,C)}if(J==F.nV){var V=u.Qc,o=u.i!=null?[u.i]:C.w.slice(0),h=[],T=[],p;
for(var l=0;l<o.length;l++){var w=C.g[o[l]];if(w.add.lspf==null)w.add.lspf=0;var v=w.add.lspf,$=v;for(var D=0;
D<V[0].length;D++){var W=V[1][D],U=1<<W;if(($&U)==0&&V[0][D])$^=U;else if(($&U)!=0&&!V[0][D])$^=U}h.push(v);
T.push($)}var a=C.QX(),R=JSON.stringify(o);if(a&&a.data&&a.data.d==J&&JSON.stringify(a.data.Mn)==R){p=a;
p.data.Qc=T}else{var p=new h5([6,57,1],this);p.data={d:J,Mn:R,na:h,Qc:T};C.hO(p)}this.H_(p.data,C)}if(J==F.Sl){var s="----",S=u.$A,$=null;
for(var D=0;D<bp.f0.G0.length;D++)if(n.add[bp.f0.G0[D]])s=bp.f0.G0[D];var x=n.add[s];if(S=="TySh")$=ad.bF(50,50,q.yU);
var p=new h5("Layer Type",this);p.data={d:J,i:A,ag4:[s,x],$A:[S,$]};C.hO(p);this.H_(p.data,C)}if(J==F.LV){var o=[];
if(N){var P=C.QX(),y=P?P.data:null;if(P!=null&&P.b==this&&y.d==F.LV&&y.Mn.length!=1){var _=new eY(r.E.H);
_.b=b.fn;_.data={d:"h_stepbck"};m.c(_);if(y.i==A)return}var g=C.root.jj(A),G=C.TX(null,A);while(g.parent!=C.root){G.push(g.parent.index);
g=g.parent}for(var D=0;D<C.g.length;D++){var E=C.g[D],L=E.cG(),c=G.indexOf(D)!=-1;if(!c&&L)o.push(D);
if(D==A&&!L)o.push(D)}}else{o.push(A);var L=C.g[A].cG(),X={ZO:L?"hide":"show",yS:{classID:L?"Hd":"Shw",null:{t:"VlLs",v:[hc.Q3("Lyr",!0)]}}};
this.track(X)}var p=new h5("Layer visibility",this,!0);p.data={d:J,Mn:o,i:A};C.hO(p);this.H_(p.data,C)}if(J==F.Ge){if(q.Oj==b.oy){var k=new eY(r.E.z);
k.data={d:r.J.K3,b:b.Iw};m.c(k)}var I=u.aq9,Y=u.l8,i4,escape=!1,aC=!1;if(u.ab1){if(Q&&(Y==0||Y==1||Y==2)){var K=0;
if(e)K++;if(N)K+=2;var i=new eY(r.E.H,!0);i.b=b.zj;i.data={d:"fromlayer",_c:[u.i,Y,K]};m.c(i);return}}var X={ZO:"select",yS:{classID:"null",MkVs:{t:"bool",v:!1}}};
if(C.t.Np.join("")!="111"){C.t.Np=[1,1,1];C.qz=!0}for(var D=0;D<C.g.length;D++){var E=C.g[D],d7=E.add.vmsk;
if(E.Bv()){var d=E.Ha(C);if(d&&d.M&&d.M.GH){d.M.GH=!1;C.qz=!0}}var fH=E.Te();if(fH&&fH.GH){fH.GH=!1;
C.qz=!0}if(d7){if(d7.w.length!=0)d7.w=[];if(d7.H9.length!=0)d7.H9=[]}}if(Z.j(hs.Vw)||u.apq==0){var f8=C.w.indexOf(A);
if(f8==-1)C.w.push(A);else if(C.w.length>1)C.w.splice(f8,1);C.w.sort(function(p,ar){return p-ar});X.yS.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
i4=A}else if(e&&!N&&Y>0){J=Y==1?F.vf:Y==2?F.y5:F.hc;escape=!0}else if((e||u.apq==1)&&C.w.length>0){var c9=Math.min(A,C.w[0]),g1=Math.max(A,C.w[C.w.length-1]);
C.w=[];for(var D=c9;D<=g1;D++)if(C.g[D].add.lsct!=cT.Ip)C.w.push(D);X.yS.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
i4=A}else{i4=A;if(A>=C.g.length)return;var E=C.g[A];if(E&&E.ld()&&u.abd)E.add.lsct=cT.G6;else if(C.w.length==1&&C.w[0]==A&&Y==E.$v){aC=!0}if(!aC){C.w=[A];
C.oU()}}if(!aC){if(i4!=null&&i4<C.g.length){X.yS.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:C.g[i4].getName()}}]},this.track(X)}if(!escape){console.log("no escape");
if(C.w.length==1){var cE=C.w[0];for(var D=0;D<C.g.length;D++){if(D==cE)continue;var w=C.g[D];w.$v=0;
w.Xn=!1}var n=C.g[cE];if(Y==2){n.Xn=!n.Xn;C.h2=[]}else if(n){n.$v=Y<=0?0:Y}}else for(var D=0;D<C.g.length;
D++){var w=C.g[D];w.$v=0;w.Xn=!1}C.WC=null;C.xi=!0}}if(u.ab1&&N){if((Y==1||Y==3)&&I!=null){var i=new eY(r.E.H,!0);
i.b=b.Uz;i.data={d:"mskView",k:I!=0?0:e?1:2};m.c(i)}else{this.W1({d:F.A8,i:u.i},m,C,Z,q)}}}if(J==F.vf||J==F.hc){var hG=J==F.vf,fA=hG?n.Te():n.Ha(C).M;
if(fA==null)return;var p=new h5(fA.isEnabled?hG?[6,15]:[6,42]:hG?[6,14]:[6,41],this);p.data={d:J,i:A};
C.hO(p);this.H_(p.data,C)}if(J==F.y5){var fA=n.add.vmsk;if(fA==null)return;var p=new h5(fA.isEnabled?[6,17]:[6,16],this);
p.data={d:J,i:A};C.hO(p);this.H_(p.data,C)}if(J==F.OJ){var hh=n.add.lsct==cT.G6?cT.an:cT.G6;if(Z.j(hs.Vw)){var eE=C.root.jj(C.g.indexOf(n)).parent;
for(var D=0;D<eE.children.length;D++){var dh=eE.children[D].i;if(dh.ld())dh.add.lsct=hh}}else n.add.lsct=hh;
C.xi=!0}if(J==F.A8){if(!C.MK(A))return;var p=new h5(n.G8?[6,19]:[6,18],this);p.data={d:J,i:A};C.hO(p);
if(u.Qc==null||u.Qc!=n.G8)this.H_(p.data,C)}if(J==F.pq){if(n.e8())n.VO-=32;else n.VO+=32;C.xi=!0}if(J==F.xt||J==F.M$){var p;
if(J==F.xt)p=new h5(n.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(J==F.M$)p=new h5(n.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
p.data={d:J,i:A};C.hO(p);this.H_(p.data,C)}if(J==F.Rh||J==F.nB){var cE=u.index,p;if(J==F.Rh)p=new h5(n.add.lmfx[c0.Ca[cE[0]]].v[cE[1]].v.enab.v?[6,30]:[6,29],this);
if(J==F.nB)p=new h5(n.add.SoLd.filterFX.v.filterFXList.v[cE].v.enab.v?[6,44]:[6,43],this);p.data={d:J,i:A,index:u.index};
C.hO(p);this.H_(p.data,C)}if(J==F.k5){if(u.src==u.nu)return;var fT=C.g[u.src],dB=C.g[u.nu],iN=fT.add.lmfx?JSON.stringify(fT.add.lmfx):"",gV=dB.add.lmfx?JSON.stringify(dB.add.lmfx):"";
if(dB.add.lmfx==null){dB.add.lmfx=JSON.parse(c0.default);for(var D=0;D<c0.order.length;D++)dB.add.lmfx[c0.Ca[D]]={t:"VlLs",v:[]}}if(u.$h==null){dB.add.lmfx=JSON.parse(iN);
if(!N)delete fT.add.lmfx}else{var fI=u.$h[0],gc=c0.Ca[fI];if(c0.a1x.indexOf(c0.order[fI])==-1)dB.add.lmfx[gc].v=[];
dB.add.lmfx[gc].v.push(fT.add.lmfx[gc].v[u.$h[1]]);if(!N)fT.add.lmfx[gc].v.splice(u.$h[1],1)}var aF=fT.add.lmfx?JSON.stringify(fT.add.lmfx):"",gh=dB.add.lmfx?JSON.stringify(dB.add.lmfx):"";
if(!dB.e8())dB.VO+=32;var p=new h5("Move Layer Styles",this);p.data={d:J,Un:u.src,Hu:u.nu,a1Q:iN,aiY:gV,aaz:aF,a9H:gh};
C.hO(p);this.H_(p.data,C)}if(J==F.q_){if(u.src!=null)A=u.src;var w=C.g[A],gD=JSON.stringify(w.add.SoLd),j1=JSON.parse(gD),dg=j1.filterFX.v.filterFXList.v;
dg.splice(u.$h,1);var p=new h5([6,53],this);p.data={d:F.cr,Gn:[{kj:A,xD:[gD,JSON.stringify(j1)]}]};C.hO(p);
this.H_(p.data,C)}if(J==F.z2){var ao=N,fT=C.g[u.src],dB=C.g[u.nu],eC=[];if(fT!=dB&&dB.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(fT==dB&&!ao&&(u.$h==u.RH||u.$h==-1))return;var bD=fT.Ha(C),gD=JSON.stringify(fT.add.SoLd),j1=JSON.parse(gD),dg=j1.filterFX.v.filterFXList.v;
if(fT==dB){dg.splice(u.RH,0,dg[u.$h]);if(!ao)dg.splice(u.$h+(u.$h<u.RH?0:1),1);eC.push({kj:u.src,xD:[gD,JSON.stringify(j1)]})}else if(u.$h==-1){var fK=j1.filterFX;
if(!ao){delete j1.filterFX;eC.push({kj:u.src,xD:[gD,JSON.stringify(j1)],Yd:[bD,null]})}var a1=dB.Bv()?dB.Ha(C):null,fR=gj.a3B(bD),bj=JSON.stringify(dB.add.SoLd),b7=JSON.parse(bj);
b7.placed.v=fR.id;b7.filterFX=fK;eC.push({kj:u.nu,xD:[bj,JSON.stringify(b7)],Yd:[a1,fR]})}else{var ha=dg[u.$h];
if(!ao){dg.splice(u.$h,1);eC.push({kj:u.src,xD:[gD,JSON.stringify(j1)]})}var bj=JSON.stringify(dB.add.SoLd),b7=JSON.parse(bj);
if(b7.filterFX==null)b7.filterFX=a7.wN();var eJ=b7.filterFX.v.filterFXList.v;eJ.splice(u.RH,0,ha);var cq={kj:u.nu,xD:[bj,JSON.stringify(b7)]};
if(!dB.Bv()){var fR=gj.ajh(dB.add.SoLd.placed.v);cq.Yd=[null,fR]}eC.push(cq)}var p=new h5([6,52],this);
p.data={d:F.cr,Gn:eC};C.hO(p);this.H_(p.data,C)}if(J==F.JZ){var fA=n.Te(),p=new h5(fA.ca?[6,26]:[6,25],this);
p.data={d:J,i:A};C.hO(p);this.H_(p.data,C);this.track({ZO:"set",yS:{classID:"setd",null:{t:"obj ",v:[hc.Q3("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:fA.ca}}}}})}if(J==F.IE){var fA=n.add.vmsk,p=new h5(fA.ca?[6,28]:[6,27],this);
p.data={d:J,i:A};C.hO(p);this.H_(p.data,C)}if(J==F._3){var bF=[],p;for(var D=0;D<C.w.length;D++){var l=C.w[D],E=C.g[l];
if(E.add.vogk)bF.push(l,JSON.stringify(E.add.vogk))}for(var D=0;D<C.h2.length;D++){var l=C.h2[D],E=C.kL[l];
if(E.add.vogk)bF.push(-1-l,JSON.stringify(E.add.vogk))}j.xK.adH(C,u.k);var g4=[];for(var D=0;D<C.w.length;
D++){var l=C.w[D],E=C.g[l];if(E.add.vogk)g4.push(l,JSON.stringify(E.add.vogk))}for(var D=0;D<C.h2.length;
D++){var l=C.h2[D],E=C.kL[l];if(E.add.vogk)g4.push(-1-l,JSON.stringify(E.add.vogk))}var a=C.QX();if(a&&a.data&&a.data.d==J){var eA=!0;
for(var D=0;D<bF.length;D+=2)if(bF[D]!=a.data.xw[D])eA=!1;if(eA){p=a;p.data.kI=g4}}if(p==null){var p=new h5([12,91,1],this);
p.data={d:J,xw:bF,kI:g4};C.hO(p)}this.H_(p.data,C)}if(J==F.zw){var aJ=JSON.stringify(n.add.artb),fU=JSON.stringify(u.Pm),p;
C.g[A].add.artb=JSON.parse(fU);var iE=new bl(0,0,C.e,C.n),hQ=b.pB.lh(C),a=C.QX();if(a&&a.data&&a.data.d==J&&a.data.i==A){p=a;
p.data.Pm=fU}if(p==null){var p=new h5("Editing Artboard",this);p.data={d:J,i:A,afk:aJ,Pm:fU,P8:iE};C.hO(p)}p.data.u4=hQ;
this.H_(p.data,C)}if(J==F.aS){var g4=C.YG.slice(0),bT=C.Rc.slice(0),iU=C.q,ba=C.q;if(u.OY=="fromAction"){var eI=u.k.ZO,e_=u.k.yS;
if(eI=="make"||eI=="duplicate"){var bs=g4.length,db=!1,fx=!1;if(C.D0())bs--;var fr=new F.ol;fr.name="Alpha "+(bs+1);
if(eI=="make"){var fb=e_.Nw.v;fr.color=255;bT=[bs];fr.GH=!0;fr.UO=fb.Opct.v;if(fb.Nm)fr.name=fb.Nm.v;
if(fb.classID=="SCch"){db=!0;ba=null;fr.X1=1}}else{var ge=e_.null.v[0].v;if(ge.keyID=="fsel")db=!0;else{var bh=b.No.C$(C);
ba=b.No.i0(C,bh);fr.color=0;fr.rect=ba.rect;fr.channel=ba.channel}}if(db){fr.color=0;if(C.q){fr.rect=C.q.rect.clone();
fr.channel=C.q.channel.slice(0)}if(fx){fr.color=255-fr.color;j.mL(fr.channel)}}g4.splice(bs,0,fr)}else if(eI=="delete"){if(n&&n.Te()&&n.$v==1){this.W1({d:F.bk},m,C,Z,q);
return}var G=C.Rc;G.sort(function(p,ar){return ar-p});if(G.length==0)return;for(var D=0;D<G.length;D++)g4.splice(G[D],1);
bT=[]}else if(eI=="hide"){g4[bT[0]]=g4[bT[0]].clone();g4[bT[0]].GH=!1}}if(u.OY=="rnm"){g4[u.NR]=g4[u.NR].clone();
g4[u.NR].name=u.name}var p=new h5("Channel Edit",this);p.data={d:J,xw:C.YG.slice(0),Q4:C.Rc.slice(0),kI:g4,wE:bT,Ow:iU,i9:ba};
this.H_(p.data,C);C.hO(p)}if(J==F.Y7){var cY=new bl(0,0,C.e,C.n),p=new h5(u.wy,this);p.data={d:F.Y7,kr:C.g.slice(0),$m:u.$m,oO:C.w.slice(0),Ag:u.i9};
C.hO(p);this.H_(p.data,C);var d6=b.pB.tG(C);if(d6){p.data.P8=cY;p.data.u4=d6}}if(J==F.Sz){var hU=C.TX(null,u.i),cQ=1e10;
if(hU.length==0)return;if(C.g.length==hU.length){alert("Project must have at least 1 layer");return}var f2=[];
for(var D=0;D<C.g.length;D++)if(hU.indexOf(D)==-1)f2.push(C.g[D]);for(var D=0;D<hU.length;D++)cQ=Math.min(cQ,hU[D]);
cQ=Math.max(cQ-1,0);while(f2[cQ].name=="</Layer group>")cQ++;this.track({ZO:"delete",yS:{classID:"Dlt",null:hc.Q3("Lyr",!0)}});
var p=new h5([6,31],this);p.data={d:F.Y7,kr:C.g.slice(0),$m:f2,oO:C.w.slice(0),Ag:[cQ]};C.hO(p);this.H_(p.data,C)}if(J==F.cW){if(!Z.j(hs.KP))return;
var p=new h5("Switch Layer Link",this);p.data={d:J,i:u.i};C.hO(p);this.H_(p.data,C)}if(J==F.Mj){var G=u.a0P?u.a0P:C.w,i8=0,ce=!1;
if(G.length==0)return;if(G.length==1&&C.g[G[0]].Aa==0){alert(jg.get([15,7,5]));return}var hw=[];for(var D=0;
D<C.g.length;D++){var iA=C.g[D].Aa;hw.push(iA);i8=Math.max(i8,iA)}var al=-1,aS=-1;for(var D=0;D<G.length;
D++){var iA=C.g[G[D]].Aa;if(iA==0)ce=!0;else if(al==-1||al==iA)al=iA;else aS=iA}if(!ce)for(var D=0;D<G.length;
D++)C.g[G[D]].Aa=0;else if(al!=-1&&aS==-1)for(var D=0;D<G.length;D++)C.g[G[D]].Aa=al;else for(var D=0;
D<G.length;D++)C.g[G[D]].Aa=i8+1;var gM=[];for(var D=0;D<C.g.length;D++){var iA=C.g[D].Aa;if(gM[iA]==null)gM[iA]=0;
gM[iA]++}for(var D=0;D<C.g.length;D++){var iA=C.g[D].Aa;if(gM[iA]==1)C.g[D].Aa=0}var gS=hw;hw=[];for(var D=0;
D<C.g.length;D++){var iA=C.g[D].Aa;hw.push(iA);i8=Math.max(i8,iA)}var p=new h5(ce?[6,54,0]:[6,54,1],this);
p.data={d:F.Mj,ag6:gS,a9B:hw};C.hO(p);this.H_(p.data,C)}if(J==F.Gx&&(u.i!=null||C.w.length!=0)||J==F.oJ){var h3=C.uH(J==F.Gx?u.i:A,null,u.a7k),id;
if(J==F.oJ){var w=h3[0],eI=w.add.SoLd.Idnt.v,e3=C.GN(eI).clone();w.add.SoLd.Idnt.v=e3.Yw=gj.b2()+eI.slice(8);
C.add.lnk2.push(e3)}if(J==F.Gx){var cw={ZO:"duplicate",yS:{classID:"null",null:hc.Q3("Lyr",!0)}};if(u.RX){h3[0].RS(u.RX);
cw.Nm={t:"TEXT",v:u.RX}}this.track(cw);u.aru=u.i}J=F.Ix;u.g=h3;u.EY=C;u.Y0=C}if(J==F.Ix){var io,iY,jy=u.EY,cn=u.Y0,da=0,bc=0,cS=!1,aQ=0,e$=0;
if(jy!=cn){console.log("ADDLAYERS different projs");var io=new bl(0,0,jy.e,jy.n),iY=new bl(0,0,cn.e,cn.n),ej=[],j7=[];
for(var D=0;D<u.g.length;D++){var w=u.g[D];if(w.add.SoLd==null)continue;var eI=w.add.SoLd.Idnt.v;if(ej.indexOf(eI)==-1){ej.push(eI);
j7.push(gj.b2()+eI.slice(8))}w.add.SoLd.Idnt.v=j7[ej.indexOf(eI)];var bD=w.Ha(jy);if(bD){jy.GW(bD);cn.qr(bD)}}if(ej.length>0){if(cn.add.lnk2==null)cn.add.lnk2=[];
for(var D=0;D<ej.length;D++){var fn=jy.GN(ej[D]),e3=fn.clone();e3.Yw=j7[D];cn.add.lnk2.push(e3)}}}var iU=cn.w.slice(0);
iU.sort(function(p,ar){return p-ar});var f2=cn.g.slice(0),ba=[],h4=-1;for(var D=0;D<iU.length;D++)h4=Math.max(h4,iU[D]);
if(u.aru!=null)h4=u.aru;var aA=jy.sx();if(u.a7){h4=u.a7-1;var f5=cn.g[u.a7].M_();da+=f5.x;bc+=f5.y}if(aA!=-1&&(jy!=cn||u.a7)){var aR=jy.g[aA].M_();
da-=aR.x;bc-=aR.y}var eW=cn.OD();h4++;for(var D=0;D<u.g.length;D++){var E=u.g[D],cR=E.add.artb;f2.splice(h4,0,E);
ba.push(h4);h4++;if(cR){var cp=cR.guideIndeces;if(cp){cp=cp.v;console.log(cp);for(var ev=0;ev<cp.length;
ev++){eW[0].push(jy.lZ[cp[ev].v].slice(0));eW[1].push(f2.indexOf(E));cS=!0}}}}for(var D=0;D<u.g.length;
D++){var E=u.g[D];if(n.add.lsct==cT.Ip){if(aQ==0)e$++;aQ++}else if(E.ld())aQ--}if(e$==1)ba=[h4-1];var p=new h5([6,0],this);
p.data={d:F.Y7,kr:cn.g.slice(0),$m:f2,oO:iU,Ag:ba};if(cS){p.data.k6=[cn.OD(),eW]}cn.hO(p);this.H_(p.data,cn);
if(da!=0||bc!=0)b.eG.a2(cn,cn.TX(),null,da,bc)}if(J==F.eZ){var bP=u.i!=null?[u.i]:C.TX(),f2=C.g.slice(0);
for(var D=0;D<bP.length;D++){var E=C.g[bP[D]].clone();E.yE(C);f2.splice(bP[D],1,E)}var p=new h5([6,8],this);
p.data={d:F.Y7,kr:C.g.slice(0),$m:f2,oO:C.w.slice(0),Ag:C.w.slice(0)};C.hO(p);this.H_(p.data,C)}if(J==F.Bf){var f2=C.g.slice(0),E=f2[C.w[0]]=f2[C.w[0]].clone(),ft=E.add.lmfx;
delete E.add.lmfx;var d8=j.U(E.rect.Z());j._H(E.buffer,d8,3);var dt=dU.Dn(ft,E.add.fxrp,d8,E.rect,C,E.rect).type,ji=C.w[0],jh=ji+1;
for(var D=0;D<c0.order.length;D++){var c5=c0.order[D],dw=dt[c5];dw.reverse();for(var ev=0;ev<dw.length;
ev++){var jm=dw[ev],R=C.Rp(),bn=D>7;R.Um=jm.h3;R.opacity=Math.round(255*jm.mv);R.buffer=jm.bf;R.rect=jm.Xq.clone();
R.rect.offset(E.rect.x,E.rect.y);if(c5=="FrFX"){R.buffer=R.buffer.slice(0);j.wC(jm.JC?jm.JC:jm.DK,R.buffer,3);
if(jm.JC){bn=!0;delete jm.JC;if(jm.DK)ev--}}R.G8=!bn;R.RS(E.getName()+"'s "+jg.get(c0.names[D]));f2.splice(bn?ji:jh,0,R);
if(bn)jh++}}var p=new h5("Styles to Layers",this);p.data={d:F.Y7,kr:C.g.slice(0),$m:f2,oO:C.w.slice(0),Ag:[jh-1]};
C.hO(p);this.H_(p.data,C)}if(J==F.cv){var bP=C.TX(),f2=C.g.slice(0),hn=new bl(0,0,C.e,C.n);for(var D=0;
D<bP.length;D++){var fu=C.g[bP[D]],dP=fu.cG();fu.$S(!0);var fD=C.root.jj(bP[D]);if(fu.ld())continue;
if(fD==null)continue;var E=fu.clone();E.yE(C);var aw=fD.Ci(C,!0),iO=C.g;C.os([fu]);C.G();C.Qp();E.buffer=j.U(aw.Z()*4);
j.zO(C.K9(),hn,E.buffer,aw);E.rect=aw;E.opacity=255;E.add.iOpa=255;E.Um="norm";E.G();E.zi.gZ=!0;C.os(iO);
if(E.add.lmfx)delete E.add.lmfx;E.M=E.yR=null;f2.splice(bP[D],1,E);E.$S(dP);fu.$S(dP)}var p=new h5([6,34],this);
p.data={d:F.Y7,kr:C.g.slice(0),$m:f2,oO:C.w.slice(0),Ag:C.w.slice(0)};C.hO(p);this.H_(p.data,C)}if(J==F.hu){var bP=C.TX(),f2=C.g.slice(0);
for(var D=0;D<bP.length;D++){var E=C.g[bP[D]],gC=E.add.TySh;if(gC==null)continue;var w=new iW(gC.pU,q.u6),jD=j.u.jc(bL.HZ(w,gC));
for(var jw in jD){var fB=jD[jw],dh=E.clone();delete dh.add.TySh;dh.VO=dh.VO|1<<4;dh.add.SoCo=JSON.parse(JSON.stringify(c0.g0[0]));
var g_=dh.add.SoCo.Clr.v;g_.Rd.v=parseInt(jw.slice(1,3),16);g_.Grn.v=parseInt(jw.slice(3,5),16);g_.Bl.v=parseInt(jw.slice(5,7),16);
var a9=new F.nq;a9.B=j.u.DA(fB,!1);if(dh.add.vmsk!=null){dh.add.vmsk.a9S();a9.concat(dh.add.vmsk)}dh.add.vmsk=a9;
dh.add.vstk=JSON.parse(JSON.stringify(c0.K_.default));dh.yz();dh.uE(C);f2.splice(f2.indexOf(E),0,dh)}f2.splice(f2.indexOf(E),1)}var ba=C.w.slice(0);
for(var D=ba.length-1;D>=0;D--)if(ba[D]>=f2.length)ba.splice(D,1);var p=new h5([6,40],this);p.data={d:F.Y7,kr:C.g.slice(0),$m:f2,oO:C.w.slice(0),Ag:ba};
C.hO(p);this.H_(p.data,C)}if(J==F.L3){var iC=C.w.length;if(iC<2){alert("Select two or more layers.");
return}if(!C.j9())return;var dh=C.g[C.w[0]].clone(),f2=[];for(var D=0;D<C.g.length;D++)if(C.w.indexOf(D)==-1)f2.push(C.g[D]);
f2.splice(C.w[0],0,dh);for(var D=1;D<iC;D++)if(C.g[C.w[D]].rect.Z()>2e6){alert("Blended areas are too large.");
return}for(var D=1;D<iC;D++){var E=C.g[C.w[D]],iM=E.rect.clone();iM.iO(1,1);var ar=j.U(iM.Z()*4);j.zO(E.buffer,E.rect,ar,iM);
dh.extend(iM);var eS=j.U(iM.Z()*4);j.zO(dh.buffer,dh.rect,eS,iM);var p=j.U(iM.Z());j._H(ar,p,3);j.round(p,200);
j.wC(p,ar,3);j.a.q5("norm",ar,iM,eS,iM,iM,1);j.E5.zA(eS,p,iM);j.zO(eS,iM,dh.buffer,dh.rect)}var p=new h5([2,10,0],this);
p.data={d:F.Y7,kr:C.g.slice(0),$m:f2,oO:C.w.slice(0),Ag:[C.w[0]]};C.hO(p);this.H_(p.data,C)}if(J==F.LL){var f2=C.g.slice(0),bT=C.w.slice(0);
for(var D=0;D<f2.length;D++){var E=f2[D],d7=E.add.vmsk;if(E.Y8()&&d7&&E.add.vstk.strokeEnabled.v&&!E.add.vstk.fillEnabled.v){var cc=d7.B,cU=0,jK=-1;
for(var ev=0;ev<cc.length;ev++){if((cc[ev].type==0||cc[ev].type==3)&&cc[ev].hB!=-1){cU++;if(cc[ev].type==3&&jK==-1){cc[ev].sF=cc[ev].hB=1;
jK=ev}}}if(cU>1&&jK!=-1){console.log("separating an open path into a new layer");E=E.clone();d7=E.add.vmsk;
cc=d7.B;var R=cc[jK].length,el=E.clone();el.add.lyid=C.Ls();d7.B=cc.slice(0,2).concat(cc.slice(jK,jK+R+1));
d7.w=[];E.uE(C);E.G();var eK=el.add.vmsk.B;el.add.vmsk.B=eK.slice(0,jK).concat(eK.slice(jK+R+1,eK.length));
el.add.vmsk.w=[];el.uE(C);f2[D]=E;f2.splice(D+1,0,el);for(var ev=0;ev<bT.length;ev++)if(bT[ev]>D)bT[ev]++;
var em=bT.indexOf(D);if(em!=-1){bT.splice(em+1,0,D+1)}}}}if(f2.length!=C.g.length){var p=new h5("Splitting open paths",this);
p.data={d:F.Y7,kr:C.g.slice(0),$m:f2,oO:C.w.slice(0),Ag:bT};C.hO(p);this.H_(p.data,C)}}if(J==F.O7){this.W1({d:F.LL},m,C,Z,q);
var iU=C.w.slice(0),iO=C.g.slice(0),bP=C.TX();if(bP.length==0)return;C.afA(bP,!1,u.uM);var p=new h5([6,36,0],this);
p.data={d:F.Y7,kr:iO,$m:C.g.slice(),oO:iU,Ag:C.w.slice(0)};C.hO(p);this.H_(p.data,C)}if(J==F.lM){var gD=n.add.SoLd;
if(gD==null)return;var eI=gD.Idnt.v,fj=C.GN(eI);fj.K9(!1);var aK=fj.CB[0],iM=fj.CB[1];if(j.iW(aK)){alert("The smart object contains transparency.");
return}var bd=d4.X5("jpg").c2([[aK.buffer]],iM.e,iM.n,[90]);this.W1({d:F.o$,Uk:C,data:new Uint8Array(bd),id:eI,uM:"jpg"},m,C,Z,q);
console.log(C.add);return}if(J==F.o$){var fn=u.Uk.GN(u.id),e3=fn.clone();e3.raw=u.data;if(u.sK)e3.sK=u.sK;
if(u.uM){e3.cg="    ";e3.Er="    ";e3.sK=e3.sK+"."+u.uM}else{e3.cg="8BIM";e3.Er="8BPB";e3.sK=e3.sK+".psd"}e3.K9(!1);
fn.K9(!1);var p=new h5([6,36,1],this);p.data={d:F.o$,id:u.id,o9:fn,gH:e3};u.Uk.hO(p);this.H_(p.data,u.Uk)}if(J==F.UB){var p=new h5([6,36,4],this);
p.data={d:J,i:A,qf:n.add.SoLd.Impr.v.classID,Qc:u.Qc};C.hO(p);this.H_(p.data,C)}if(J==F.d$){var jJ,ex;
if(u.iR){jJ=u.Uk;ex=u.iR}else{u.Uk.gO();u.Uk.eA();u.Uk.G();u.Uk.Qp();u.Uk.K9();jJ=d4.X5("PSD").c2(u.Uk,0,0,[!0,!0]);
ex=u.Uk.name}if(!(jJ instanceof ArrayBuffer))throw"e";jJ=new Uint8Array(jJ);var f8=u.Gk;if(f8==null){if(C.w.length==0)f8=C.w.length;
else{var ek=C.w[C.w.length-1],R=C.g[ek];f8=R.ld()?ek:ek+1}}var b4=new bl(0,0,C.e,C.n),b0=C.sx();if(b0!=-1)b4=C.g[b0].M_();
var ah=C.mV(jJ,ex,0,0,b4),f2=C.g.slice(0);f2.splice(f8,0,ah);var p=new h5([6,36,2],this);p.data={d:F.Y7,kr:C.g.slice(),$m:f2,oO:C.w.slice(0),Ag:[f2.indexOf(ah)]};
C.hO(p);this.H_(p.data,C)}if(J==F.BZ&&u.OY=="merge"){var a0=[],ia=C.root.children,h1=0;for(var D=0;D<ia.length;
D++){var g=ia[D],E=g.i,ga=g.children,dI=!0;if(!E.ld()||ga.length==0)continue;for(var ev=0;ev<ga.length;
ev++)if(!ga[ev].i.getName().startsWith("_a_")){dI=!1;break}if(dI)a0.push(C.g.indexOf(E))}var c8=[];for(var D=0;
D<a0.length;D++)if(C.w.indexOf(a0[D])!=-1)c8.push(a0[D]);if(c8.length>=2)a0=c8;if(a0.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var e0=[];for(var D=0;D<a0.length;D++)e0.push(C.g[a0[D]].getName());var dw=[];for(var jQ=0;jQ<a0.length;
jQ++){var g=C.root.jj(a0[jQ]),cq=[[],[],0,jQ];dw.push(cq);for(var D=0;D<g.children.length;D++){var l=g.children[D].index,E=g.children[D].i,fr=E.getName(),hN=20,ei=fr.split(",");
if(ei.length>1){var gz=parseInt(ei.pop());if(!isNaN(gz)&&gz!=0)hN=gz}cq[0].push(E);cq[1].push(hN);cq[2]+=hN}}dw.sort(function(p,ar){return ar[2]-p[2]});
var bM=dw[0],bQ=bM[2];for(var d0=1;d0<dw.length;d0++){var cq=dw[d0],hO=1,g0=cq[1].slice(0),hL=0;while((hO+1)*cq[2]<=bM[2]){hO++;
g0=g0.concat(cq[1])}cq[1]=g0;cq[2]*=hO;var fS=bM[2]/cq[2];for(var D=0;D<cq[1].length;D++){var hg=Math.floor(cq[1][D]*fS);
cq[1][D]=hg;hL+=hg}while(hL<bQ){hL++;cq[1][cq[1].length-1]++}cq[2]=hL}var jN=[],il=[],hg=[];for(var D=0;
D<dw.length;D++){jN.push(0);il.push(0)}while(h1<bQ){var jM=1e9,bs=-1;for(var D=0;D<dw.length;D++){var gx=dw[D][1],ji=jN[D];
if(ji!=gx.length&&il[D]+gx[ji]<h1+jM){bs=D;jM=il[D]+gx[ji]-h1}}il[bs]+=dw[bs][1][jN[bs]];jN[bs]++;if(jM!=0){hg.push(jM);
h1+=jM}}for(var D=1;D<hg.length;D++){var bf=hg[D];if(bf<16&&(hg[D-1]<16||D<hg.length-1&&16<=hg[D+1])){hg[D-1]+=bf;
hg.splice(D,1);D--}}var dP=[],hn=new bl(0,0,C.e,C.n);for(var D=0;D<C.g.length;D++){dP[D]=C.g[D].cG();
C.g[D].$S(!1)}var bN=C.w.slice(0);C.w=a0;var hU=C.TX();hU.sort(function(p,ar){return p-ar});var f2=[];
for(var D=0;D<C.g.length;D++){if(hU.indexOf(D)==-1)f2.push(C.g[D])}dw.sort(function(p,ar){return p[3]-ar[3]});
function iJ(gx,an){var D=0,fp=0;while(fp+gx[D]<=an){fp+=gx[D];D++}return D}h1=0;f2.splice(hU[0],0,C.B$());
for(var gr=0;gr<hg.length;gr++){var o=[];for(var D=0;D<dw.length;D++){var ji=iJ(dw[D][1],h1)%dw[D][0].length,E=dw[D][0][ji];
o.push(E)}var E=C.Rp();for(var D=0;D<dw.length;D++){var ho=o[D],eE=C.g[a0[D]];ho.$S(!0);eE.$S(!0)}C.G();
C.Qp();var aK=C.K9();E.rect=j.vk(aK,hn,2);E.buffer=j.U(E.rect.Z()*4);j.zO(aK,hn,E.buffer,E.rect);for(var D=0;
D<dw.length;D++){var ho=o[D],eE=C.g[a0[D]];ho.$S(!1);eE.$S(!1)}E.$S(gr==0);E.RS("_a_frm"+gr+","+hg[gr]);
f2.splice(hU[0]+1+gr,0,E);h1+=hg[gr]}var E=C.Rp();E.RS(e0.join(" + "));E.Um="pass";E.add.lsct=cT.an;
E.VO=24;f2.splice(hU[0]+1+hg.length,0,E);for(var D=0;D<C.g.length;D++)C.g[D].$S(dP[D]);var p=new h5([6,12,0],this);
p.data={d:F.Y7,kr:C.g,$m:f2,oO:bN,Ag:[hU[0]+1+hg.length]};C.hO(p);this.H_(p.data,C)}if(J==F.BY||J==F.oQ||J==F.pi){var iO=C.g.slice(0),iU=C.w.slice(0),fX=!0,ah,ba;
if(J==F.BY)C.w=[A,A-1];if(J==F.pi){C.w=[];for(var D=0;D<C.g.length;D++)if(C.g[D].cG())C.w.push(D)}var bP=C.TX();
bP.sort(function(p,ar){return p-ar});var hy=new bl,hn=new bl(0,0,C.e,C.n);for(var D=0;D<bP.length;D++){var l=bP[D],E=C.g[l];
fX=fX&&E.Y8()&&E.add.vmsk!=null;hy=hy.QN(C.root.jj(l).Ci(C,!0))}if(fX){ah=C.g[bP[0]].clone();var d7=ah.add.vmsk;
for(var D=1;D<bP.length;D++){var R=C.g[bP[D]],eK=F.nq.K$(R.add.vmsk.B);d7.B=d7.B.concat(eK.slice(2));
ah.add.vogk=ah.add.vogk.concat(JSON.parse(JSON.stringify(R.add.vogk)))}ah.add.vmsk.hf=!0;ah.uE(C)}else if(hn.hd(hy)){ah=C.Rp();
ah.RS(C.g[bP[bP.length-1]].getName());ah.rect=hy;ah.buffer=j.U(hy.Z()*4);var i5=C.K9(bP);j.zO(i5,hn,ah.buffer,hy);
ah.GJ();ah.G()}else{C.afA(bP,!0);ah=C.g[C.w[0]];C.g.splice(C.w[0],1);var aM=C.GN(ah.add.SoLd.Idnt.v);
C.add.lnk2.splice(C.add.lnk2.indexOf(aM),1);delete ah.add.SoLd}var by=N,eG=-1;if(u.yS&&u.yS.Dplc&&u.yS.Dplc.v)by=!0;
if(by&&J==F.pi&&C.g[iU[0]].b0()&&C.g[iU[0]].rect.qR()){eG=iU[0]}if(eG!=-1||J==F.BY){var ai=C.g[eG!=-1?eG:A-1];
ah.RS(ai.getName());ah.add.lclr=ai.add.lclr}var f2=[];for(var D=0;D<C.g.length;D++)if(by||bP.indexOf(D)==-1)if(D!=eG)f2.push(C.g[D]);
var iD=bP[bP.length-1],iS=iD==C.g.length-1?null:C.g[iD+1],jB=iS?f2.indexOf(iS):f2.length;f2.splice(jB,0,ah);
ba=[jB];var p=new h5([6,12,0],this);p.data={d:F.Y7,kr:iO,$m:f2,oO:iU,Ag:ba};C.hO(p);this.H_(p.data,C)}if(J==F.Pt){var dh=C.Rp();
dh.rect=new bl(0,0,C.e,C.n);dh.buffer=j.U(dh.rect.Z()*4);j.gs(dh.buffer,4294967295);j.a.q5("norm",C.K9(),dh.rect,dh.buffer,dh.rect,dh.rect,1);
dh.RS("Background");dh.add.lspf=1<<2;var p=new h5([6,12,1],this);p.data={d:F.Y7,kr:C.g.slice(),$m:[dh],oO:C.w.slice(0),Ag:[0]};
C.hO(p);this.H_(p.data,C)}var jk=J==F.X_||J==F.qn;if(J==F.O1||J==F.Z1||J==F.UU||J==F.Bt||jk){var E=jk?C.uH()[0]:C.Rp(),i_=jg.get([0,3]),b2=u.RX,eo=!1,a$,dv;
if(J==F.UU)i_=jg.get([12,76,1]);if(jk){if(C.q){var fu=C.g[C.w[0]],bm=fu.pY(C,C.q);if(bm==null){alert("Copied area is empty");
return}E.rect=bm.rect;E.buffer=bm._y;E.yE(C)}else b2=E.getName();E.add.lspf=0;E.G8=!1;if((E.VO&1)!=0)E.VO--}if(J==F.Bt){E.rect=b.l_.eF(u.iy,C);
E.buffer=u.iy.buffer.slice(0);if(u.sz&&C.q){E.M=new F.ol;E.M.rect=C.q.rect;E.M.color=0;E.M.channel=C.q.channel.slice(0)}}if(J==F.O1){this.track({ZO:"make",yS:{classID:"Mk",null:hc.Q3("Lyr")}})}if(J==F.Z1){E.VO|=16;
var hb=u.yS.Usng.v,j0=hb.Type.v,gb=b1.nR[j0.classID];i_=jg.get(b1.names[gb]);if(hb.Nm)b2=hb.Nm.v;E.add[gb]=a7.Qv(gb);
if(E.add[gb]==null)E.add[gb]={};for(var im in j0)E.add[gb][im]=JSON.parse(JSON.stringify(j0[im]));E.M=b.l_.qb(C);
E.$v=1}if(J==F.UU){E.VO|=16;var e_=u.yS,hb=e_.Usng.v,hX=hb.Type.v,hE=hb.Shp;if(hb.Nm)b2=hb.Nm.v;if(hE==null){var cg=C.yG(),jD=cg[0],j8=cg[1];
if(j8.length!=0&&jD[j8[0]].NR<0){var he=jD[j8[0]].add;E.add.vmsk=he.vmsk.clone();E.add.vstk=JSON.parse(JSON.stringify(c0.K_.default));
E.add.vogk=JSON.parse(JSON.stringify(he.vogk));C.h2=[]}else E.M=b.l_.qb(C)}else{console.log(hb);E.add.vmsk=new F.nq;
E.add.vstk=JSON.parse(JSON.stringify(hb.strokeStyle?hb.strokeStyle.v:c0.K_.default));E.add.vogk=[];if(hE){var hH=j.xK.wq(hE);
if(hH){E.add.vogk=[hH];E.add.vmsk.B.push({type:0,hB:1,length:0});j.xK.VH(E.add.vogk,E.add.vmsk)}else{hE=hE.v;
var aV=hE.classID;if(aV=="Plgn"){var hM=hE.Cntr.v,aR=hE.corner.v;hM=new dz(hM.Hrzn.v.val,hM.Vrtc.v.val);
aR=new dz(aR.Hrzn.v.val,aR.Vrtc.v.val);E.add.vmsk.B=j.$.i5.Ph(hM.x,hM.y,Math.sqrt(aR.x*aR.x+aR.y*aR.y),Math.atan2(aR.y,aR.x),hE.sides.v,0)}else if(aV=="customShape"){var gQ=j.xK.z5(hE),dM=gQ[2]-gQ[0],ep=gQ[3]-gQ[1],ij=q.iL,fz,hF;
for(var D=0;D<ij.length;D++)if(ij[D].jA==hE.Nm.v)fz=ij[D];if(fz){hF=F.nq.K$(fz.B);j.$.l0(hF,new ix(dM,0,0,ep,gQ[0],gQ[1]))}else hF=j.$.i5.Rect(gQ[0],gQ[1],dM,ep,0);
E.add.vmsk.B=hF}E.yz()}}}var eg={solidColorLayer:0,gradientLayer:1,patternLayer:2}[hX.classID],bC=["SoCo","GdFl","PtFl"][eg];
E.add[bC]=JSON.parse(JSON.stringify(c0.g0[eg]));b.l_.wl(hX,E.add[bC],eg);if(hE==null)i_=jg.get([6,48,0,eg]);
if(bC=="PtFl"){var du=E.add[bC].Ptrn.v,ei=dU.G$(du,q.Q1);du.Idnt.v=ei.id;C.Vp(ei)}E.uE(C)}var iC=b.l_.Lc(C,i_+" ");
E.RS(i_+" "+(iC+1));if(b2)E.RS(b2);var c6=C.w.length==0?C.g.length-1:C.w[C.w.length-1],ci=C.g[c6];if(J==F.UU&&ci.b0()&&ci.rect.qR()){eo=!0;
E.RS(ci.getName());a$=c6}else{a$=c6+(J==F.O1&&Q&&!e?0:1);if(ci&&ci.add.lsct==cT.G6)a$--}if(u.aoL)a$=Math.max(0,a$-1);
var f2=C.g.slice(0);if(J==F.qn){var fv=f2[C.w[0]]=f2[C.w[0]].clone(),e9=C.q.channel.slice(0);j.mL(e9);
j.BE(e9,C.q.rect,fv.buffer,fv.rect)}f2.splice(a$,eo?1:0,E);var aH=[5,2];if(J==F.O1)aH=[6,13];if(J==F.Z1)aH=[6,1];
if(J==F.UU){aH=[6,48,1];var hE=u.yS.Usng.v.Shp;if(hE){var a6={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[hE.v.classID];
if(a6)aH=a6}}if(jk){aH=[6,49,J==F.X_?0:1]}if(jk||J==F.UU||J==F.Bt||J==F.Z1)if(C.q)dv=[C.q,null];var p=new h5(aH,this);
p.data={d:F.Y7,kr:C.g.slice(0),$m:f2,oO:C.w.slice(0),Ag:[a$],aN:dv};C.hO(p);this.H_(p.data,C);if(J==F.UU&&hE==null&&eg!=0||J==F.Z1){var k=new eY(r.E.z);
k.data={d:r.J.lO,E$:dy.Sc.xH};m.c(k)}}if(J==F.Zb){var E=C.Rp(),i_=jg.get([0,4]),iC=b.l_.Lc(C,i_+" ");
E.RS(i_+" "+(iC+1));E.Um="pass";E.add.lsct=cT.G6;E.VO=24;if(u.RX)E.RS(u.RX);if(u.xc!=null)E.add.lclr=u.xc;
var eM=C.B$(),c6=A,a$=c6+(Q?0:1),f2=C.g.slice(0);f2.splice(a$,0,eM,E);var p=new h5([6,20],this);p.data={d:F.Y7,kr:C.g.slice(0),$m:f2,oO:C.w.slice(0),Ag:[a$+1]};
C.hO(p);this.H_(p.data,C)}if(J==F.WQ||J==F.Sk){var jA=J==F.WQ?u.source:C.w[0],f$,gB,jT=C.w.indexOf(jA)!=-1,cl=N|u.acN,eu,jM=null;
if(jT)eu=C.TX();else eu=C.mK(jA);eu.sort(function(p,ar){return p-ar});if(J==F.WQ){f$=u.target;gB=u.cb>.5}else if(u.target!=null){f$=Math.min(u.target,C.g.length-1);
gB=u.target<C.g.length;C.Ss=!0}else{var bJ=u.OY;gB=bJ>1;if(bJ==0){f$=C.g.length-1}if(bJ==1){f$=eu[eu.length-1]+1;
var R=C.mK(f$);if(R.indexOf(jA)==-1)f$+=R.length-1}if(bJ==2){f$=eu[0]-1;var R=C.mK(f$);if(R.indexOf(jA)==-1)f$-=R.length-1}if(bJ==3){f$=0}if(f$<0||f$>C.g.length-1)return;
C.Ss=!0}if(eu.indexOf(f$)!=-1&&!cl)return;var ca=b.l_.Dg(C,eu,f$,gB,cl?C.uH(jT?null:jA):null,J==F.WQ&&u.cb>.8),e7=ca.pop(),bT=ca.pop(),f2=ca.pop(),gX=C.w;
C.w=[jA];var aA=C.sx();C.w=[f$];var a2=C.sx();if(a2==f$&&!gB)a2=-1;C.w=gX;if(jA==aA){}else if(aA!=a2){var jM=new dz(0,0);
if(aA!=-1){var iM=C.g[aA].M_();jM.x-=iM.x;jM.y-=iM.y}if(a2!=-1){var iM=C.g[a2].M_();jM.x+=iM.x;jM.y+=iM.y}}var p=new h5(cl?[6,0]:[6,35],this);
p.data={d:F.Y7,kr:C.g.slice(0),$m:f2,oO:C.w.slice(0),Ag:bT,p6:jM};C.hO(p);this.H_(p.data,C);var e_={classID:"move",null:hc.Q3("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:e7+(gB?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:cl}};
this.track({ZO:"move",yS:e_})}if(J==F.KH){if(u.Us){if(n==null||!n.ld())return;var g=C.root.jj(A),gJ=C.g.indexOf(g.acd),f2=C.g.slice(0);
f2.splice(A,1);f2.splice(gJ,1);var bT=[];for(var D=gJ;D<A-1;D++)bT.push(D);var p=new h5("Ungroup Layers",this);
p.data={d:F.Y7,kr:C.g.slice(0),$m:f2,oO:C.w.slice(0),Ag:bT};C.hO(p);this.H_(p.data,C)}else{var E=C.Rp(),iV=jg.get([0,4])+" ";
E.RS(iV+(b.l_.Lc(C,iV)+1));E.Um="pass";if(u.RX)E.RS(u.RX);if(u.xc!=null)E.add.lclr=u.xc;E.add.lsct=C.w.length==1?cT.G6:cT.an;
E.VO=24;var eM=C.B$(),eu=C.TX();if(eu.length==0)return;eu.sort(function(p,ar){return p-ar});var f2=[];
for(var D=0;D<C.g.length;D++)if(eu.indexOf(D)==-1)f2.push(C.g[D]);var c6=C.w[C.w.length-1]-eu.length;
f2.splice(c6+1,0,eM);for(var D=0;D<eu.length;D++)f2.splice(c6+2+D,0,C.g[eu[D]]);f2.splice(c6+2+eu.length,0,E);
var p=new h5([6,9],this);p.data={d:F.Y7,kr:C.g.slice(0),$m:f2,oO:C.w.slice(0),Ag:[f2.indexOf(E)]};C.hO(p);
this.H_(p.data,C);var X={ZO:"make",cf:!0};X.yS={classID:"Mk",null:hc.Q3("layerSection"),From:hc.Q3("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:E.getName()}}}};
this.track(X)}}if(J==F.Gr){if(C.w.length!=1)return;var f8=C.w[0],dX=N;if(C.g[f8].Te()==null&&!Z.j(hs.Vw)){J=F.Nx;
u.xk=C.q?!dX?"RvlS":"HdSl":!dX?"RvlA":"HdAl"}else{J=F.sR;u.a4j=!0}}if(J==F.Nx){if(C.w.length!=1)return;
var f8=C.w[0],E=C.g[f8];if(E.add.vmsk&&E.M==null)E.uE(C);var jL=E.Te();if(jL==null||u.a9d){var p=new h5([6,21],this),gI=new F.ol,iK=u.xk,hi=iK=="RvlS"||iK=="HdSl";
if(iK=="RvlS"||iK=="HdAl"||iK=="Trns")gI.color=0;if(hi){gI.channel=C.q.channel.slice(0);gI.rect=C.q.rect.clone();
if(iK=="HdSl")j.mL(gI.channel)}if(iK=="Trns"){gI.rect=E.rect.clone();gI.channel=j.U(E.rect.Z());j._H(E.buffer,gI.channel,3)}p.data={d:F.aW,_j:[f8,jL,gI],aN:hi?[C.q,null]:null};
C.hO(p);this.H_(p.data,C);C.g[f8].$v=1;this.track({ZO:"make",yS:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:iK}}}})}}else if(J==F.dP){var fT=C.g[u.src],dB=C.g[u.nu],p=new h5([6,21],this),hC=fT.Te(),hm=dB.Te(),fA=[u.src,hC,null,u.nu,hm,hC];
if(N||e){var fr=hC.clone();if(N)fA=[u.nu,hm,fr];else fA[5]=fr;if(e){j.mL(fr.channel);fr.color=255-fr.color}}p.data={d:F.aW,_j:fA};
C.hO(p);this.H_(p.data,C)}if(J==F.bk){if(C.w.length!=1)return;var f8=A,fG=C.g[f8].Te();if(fG!=null){var p=new h5([6,22],this);
p.data={d:F.aW,_j:[A,fG,null]};C.hO(p);this.H_(p.data,C)}}if(J==F.eN){var iO=C.g.slice(0),dh=n.clone(),fH=dh.Te();
j.BE(fH.f9(dh.rect),dh.rect,dh.buffer,dh.rect);b.l_.km(C,dh);dh.GJ();C.g[C.w[0]]=dh;var p=new h5([5,8],this);
p.data={d:F.Y7,kr:iO,$m:C.g.slice(),oO:C.w.slice(0),Ag:C.w.slice(0)};C.hO(p);this.H_(p.data,C)}if(J==F.o4){if(C.w.length!=1)return;
var f8=C.w[0];if(C.g[f8].Ha(C).M==null){var p=new h5([6,45],this);p.data={d:J,i:f8,M:new F.ol};C.hO(p);
this.H_(p.data,C)}}if(J==F.OF){if(C.w.length!=1)return;var f8=C.w[0];if(C.g[f8].Ha(C).M!=null){var p=new h5([6,46],this);
p.data={d:J,i:f8,M:C.g[f8].Ha(C).M};C.hO(p);this.H_(p.data,C)}}if(J==F.M3){if(u.src==null&&C.w.length!=1)return;
if(u.src!=null)A=u.src;if(C.g[A].Bv()){var p=new h5([6,47],this),gD=JSON.stringify(C.g[A].add.SoLd),j1=JSON.parse(gD);
delete j1.filterFX;p.data={d:F.cr,Gn:[{kj:A,xD:[gD,JSON.stringify(j1)],Yd:[C.g[A].Ha(C),null]}]};C.hO(p);
this.H_(p.data,C)}}if(J==F.sR){if(C.w.length!=1)return;if(n.add.vmsk==null){var p=new h5([6,23],this),cc=C.yG(),G=cc[1],cc=cc[0],gI,hH;
if(u.a4j&&G.length!=0){var he=cc[G[0]].add;gI=he.vmsk.clone();hH=he.vogk}else{gI=new F.nq;hH=[];gI.B[1].all=u.aa1?0:1}p.data={d:J,i:A,ap:!0,M:gI,xK:JSON.stringify(hH),K_:null};
if(n.Y8()){p.data.K_=JSON.stringify(c0.K_.default)}C.hO(p);this.H_(p.data,C)}}if(J==F.i2){var fT=C.g[u.src],dB=C.g[u.nu];
if(dB.add.vmsk)return;var p=new h5([6,23],this),d7=fT.add.vmsk;p.data={i:u.nu,ap:fT.Xn,M:d7.clone(),xK:JSON.stringify(fT.add.vogk),K_:fT.add.vstk?JSON.stringify(fT.add.vstk):null};
if(N){p.data.d=F.sR}else{p.data.d=J;p.data.src=u.src;p.data.nu=u.nu}C.hO(p);this.H_(p.data,C)}if(J==F.Ws||J==F.vw){if(C.w.length!=1)return;
var E=C.g[A],d7=E.add.vmsk;if(d7!=null){var aO=J==F.vw,p=new h5(aO?[6,8]:[6,24],this);p.data={d:F.Ws,i:A,ap:E.Xn,M:d7,xK:JSON.stringify(E.add.vogk),K_:E.add.vstk?JSON.stringify(E.add.vstk):null};
if(aO){p.data.yR=d7.Te(E.add.vstk)}C.hO(p);this.H_(p.data,C)}}if(J==F.Is){var p=new h5("Metadata",this);
p.data={d:J,Bo:JSON.stringify(C.wn),zT:JSON.stringify(u.zT)};C.hO(p);this.H_(p.data,C)}if(J==F.Jv){var jd=u.nu?u.nu:C,iB=jd.name,b2=u.k+".psd";
if(iB==b2)return;var p=new h5([6,37],this);p.data={d:J,aeq:iB,RX:b2};if(u.anV!=!0)jd.hO(p);this.H_(p.data,jd)}if(J==F.BZ&&u.OY.endsWith("makeframes")){var ib=[],h$=u.OY.startsWith("make");
for(var D=0;D<C.w.length;D++){var l=C.w[D],E=C.g[l],bz=E.getName(),cd=bz.startsWith("_a_");if(h$==cd||E.add.lsct==cT.Ip)continue;
var b$=h$?"_a_"+bz:bz.slice(3);ib.push([l,bz,b$,E.add.lnsr,null])}var p=new h5([6,37],this);p.data={d:F.W9,no:ib};
C.hO(p);this.H_(p.data,C)}if(J==F.W9){var iB=n.getName(),b2=u.name.substring(0,255);if(iB==b2)return;
var p=new h5([6,37],this);p.data={d:J,no:[[A,iB,b2,n.add.lnsr,null]]};C.hO(p);this.H_(p.data,C);this.track(hc.yD("Nm",{t:"TEXT",v:b2}))}if(J==F.vz){var co=C.TX(),fP=[],bw=[];
for(var D=0;D<co.length;D++){fP.push(C.g[co[D]].add.lclr);bw.push(u.aaS)}var p=new h5([6,38],this);p.data={d:J,g:co,aoH:fP,xc:bw};
C.hO(p);this.H_(p.data,C)}if(J==F.Hw){var p=C.history[C.oa];if(p!=null&&p.b==this&&p.data.d==J&&p.data.i==u.eI&&p.data.Qc.WE==u.aL.WE)p.data.Qc=u.aL;
else{p=new h5("Mask Density / Feather",this);p.data={d:J,i:u.eI,qf:C.g[u.eI].tr(u.aL.WE),Qc:u.aL};C.hO(p)}this.H_(p.data,C)}if(J==F.cQ){var cB=JSON.stringify(u.k),aY=JSON.parse(cB),p=C.history[C.oa];
if(p!=null&&p.b==this&&p.data.d==J&&p.data.Ze==u.Ze&&p.data.Mn.join(",")==u.Mn.join(",")){for(var D=0;
D<u.Mn.length;D++)p.data.Vb[D]=aY;if(p.data.yS&&aY.Er!=0)b.l_.wl(aY.am,p.data.yS.T.v,aY.Er-1)}else{p=new h5([11,6],this);
p.data={d:J,Mn:u.Mn,Ze:u.Ze,afC:[],Vb:[]};var fs=!1;for(var D=0;D<u.Mn.length;D++){var l=u.Mn[D],E=C.g[l],ac=u.Ze?b.Ug.zD(C,l):JSON.parse(JSON.stringify(E.add.vstk));
p.data.afC.push(ac);p.data.Vb.push(aY);if(JSON.stringify(ac)!=cB)fs=!0}if(!fs)return;C.hO(p);if(u.Ze&&aY.Er>0){var e_=p.data.yS={classID:"setd",null:hc.Q3("contentLayer",!0),T:{t:"Objc",v:{}}},bC=["SoCo","GdFl","PtFl"][aY.Er-1];
b.l_.wl(aY.am,e_.T.v,aY.Er-1);this.track({ZO:"set",yS:e_})}}if(u.Ze&&aY.Er==3)C.Vp(dU.G$(aY.am.Ptrn.v,q.Q1));
if(!u.Ze){var fE=aY.strokeStyleContent.v;if(fE.classID==c0.K_.j1[2])C.Vp(dU.G$(fE.Ptrn.v,q.Q1))}this.H_(p.data,C)}};
b.l_.Dg=function(u,m,C,Z,q,J){var A=u.g[C],n=[];if(q)n=u.g.slice(0);else for(var D=0;D<u.g.length;D++)if(m.indexOf(D)==-1)n.push(u.g[D]);
var N=n.indexOf(A);if(J&&A.ld()&&A.add.lsct==cT.an)N-=u.mK(C).length-1;var e=[];for(var D=0;D<m.length;
D++){var Q=N+(Z?0:1)+D,p=q?q[D]:u.g[m[D]];n.splice(Q,0,p);e.push(Q)}return[n,e,N]};b.l_.wl=function(u,m,C){var Z=[c0.wP,c0.mr,c0.d0][C];
if(m.classID==null)m.classID=["solidColorLayer","gradientLayer","patternLayer"][C];for(var D=0;D<Z.length;
D++)if(u[Z[D]])m[Z[D]]=JSON.parse(JSON.stringify(u[Z[D]]))};b.l_.qb=function(u){var m=new F.ol;if(u.q!=null){m.color=0;
m.channel=u.q.channel.slice(0);m.rect=u.q.rect.clone()}return m};b.l_.ds=function(u,m,C,Z){var q=Z.e/C.e,J=Z.n/C.n,A=Z.e/2,n=Z.n/2,N=j.u.yj(Z).s;
for(var D=0;D<u.g.length;D++){var e=u.g[D],Q=e.add.SoLd;if(Q==null||Q.Idnt.v!=m)continue;if(q!=1||J!=1){var p=b.Q.Fo(Q.nonAffineTransform),B=j.N.GG(p,Z),$=new ix;
$.translate(-A,-n);$.scale(q,J);$.translate(A,n);var R=j.N.kt(B,j.N.S4($)),z=N.slice(0);j.N.I(R,z);Q.Trnf=b.Q.Ii(z);
Q.nonAffineTransform=b.Q.Ii(z)}e.go(u)}u.G()};b.l_.aoW=function(u,m,C){m.color=255-m.color;j.mL(m.channel);
m.hf=!0;u.uE(C);C.G()};b.l_.prototype.H8=function(u,m){var C=u.d,Z=m.g[u.i];m.aJ=!0;if(C==F.o$){m.add.lnk2.splice(m.add.lnk2.indexOf(u.gH),1,u.o9);
b.l_.ds(m,u.id,u.gH.CB[1],u.o9.CB[1])}if(C==F.UB){Z.add.SoLd.Impr.v.classID=u.qf;Z.go(m)}if(C==F.EU){var q=JSON.parse(u.Mn);
for(var D=0;D<q.length;D++)m.g[q[D]].Um=u.na[D];m.G()}if(C==F.X8){var q=JSON.parse(u.Mn);for(var D=0;
D<q.length;D++)m.g[q[D]].opacity=u.na[D];m.G()}if(C==F.nV){var q=JSON.parse(u.Mn);for(var D=0;D<q.length;
D++)if(m.g[q[D]].add.lsct!=cT.Ip)m.g[q[D]].add.lspf=u.na[D]}if(C==F.Sl){var J=u.$A,A=u.ag4;delete Z.add[J[0]];
if(A[0]!="----")Z.add[A[0]]=A[1]}if(C==F.Sh){Z.add.iOpa=u.na;m.G()}if(C==F.LV){for(var D=0;D<u.Mn.length;
D++){var n=m.g[u.Mn[D]];n.$S(!n.cG())}m.G()}if(C==F.vf){var N=Z.Te();N.isEnabled=!N.isEnabled;Z.uE(m);
m.G()}if(C==F.hc){var N=Z.Ha(m).M;N.isEnabled=!N.isEnabled;Z.G();m.G()}if(C==F.y5){var N=Z.add.vmsk;
N.isEnabled=!N.isEnabled;if(!N.isEnabled){if(Z.yR){Z.M=Z.yR;Z.yR=null}else Z.M=null}else if(Z.M){Z.yR=Z.M;
Z.M=null}Z.uE(m);m.G()}if(C==F.A8){Z.G8=!Z.G8;m.G()}if(C==F.xt){Z.add.lmfx.masterFXSwitch.v=!Z.add.lmfx.masterFXSwitch.v;
Z.zi.gZ=!0;m.G()}if(C==F.M$){Z.add.SoLd.filterFX.v.enab.v=!Z.add.SoLd.filterFX.v.enab.v;Z.cB(m);m.G()}if(C==F.Rh){var e=u.index,Q=Z.add.lmfx[c0.Ca[e[0]]].v[e[1]].v;
Q.enab.v=!Q.enab.v;Z.zi.gZ=!0;m.G()}if(C==F.k5){var p=m.g[u.Un],B=m.g[u.Hu],$=u.a1Q,R=u.aiY;if($=="")delete p.add.lmfx;
else p.add.lmfx=JSON.parse($);if(R=="")delete B.add.lmfx;else B.add.lmfx=JSON.parse(R);p.zi.gZ=!0;B.zi.gZ=!0;
m.G()}if(C==F.nB){var z=Z.add.SoLd.filterFX.v.filterFXList.v[u.index].v;z.enab.v=!z.enab.v;Z.cB(m);m.G()}if(C==F.Dz){Z.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(u.a6I));
Z.cB(m);m.G()}if(C==F.JZ){var N=Z.Te();N.ca=!N.ca}if(C==F.IE){var N=Z.add.vmsk;N.ca=!N.ca}if(C==F._3){var v=u.xw;
for(var D=0;D<v.length;D+=2){var a=v[D],n=a>=0?m.g[a]:m.kL[-1-a];n.add.vogk=JSON.parse(v[D+1]);j.xK.VH(n.add.vogk,n.add.vmsk);
if(a>=0)n.uE(m)}m.G()}if(C==F.zw){Z.add.artb=JSON.parse(u.afk);m.G();b.pB.xO(m,u)}if(C==F.aS){m.q=u.Ow;
m.YG=u.xw.slice(0);m.Rc=u.Q4.slice(0);m.qz=m.xi=!0}if(C==F.cW){Z.Hy=!Z.Hy}if(C==F.Mj){var X=u.ag6;for(var D=0;
D<X.length;D++)m.g[D].Aa=X[D]}if(C==F.Y7){if(u.p6)b.eG.a2(m,m.w,null,-u.p6.x,-u.p6.y);if(u.oO)m.w=u.oO;
if(u.aN)m.q=u.aN[0];m.WC=null;m.G();m.os(u.kr);b.pB.xO(m,u);if(u.k6)m.sP(u.k6[0])}if(C==F.aW){for(var D=0;
D<u._j.length;D+=3)b.l_.km(m,m.g[u._j[D]],u._j[D+1]);if(u.aN){var V=u.aN[0];if(V==null)delete m.q;else m.q=V}}if(C==F.o4){Z.Ha(m).M=null;
Z.G();m.G()}if(C==F.OF){Z.Ha(m).M=u.M;Z.G();m.G()}if(C==F.cr){b.l_.jr(m,u.Gn,0)}if(C==F.sR){b.l_.PS(m,Z,!0)}if(C==F.i2){b.l_.PS(m,m.g[u.nu],u.M.isEnabled);
b.l_.$e(m,m.g[u.src],u)}if(C==F.Ws){if(u.yR)b.l_.km(m,Z,null);b.l_.$e(m,Z,u)}if(C==F.Is){m.wn=JSON.parse(u.Bo)}if(C==F.Jv){m.name=u.aeq}if(C==F.W9){for(var D=0;
D<u.no.length;D++){var o=u.no[D],n=m.g[o[0]];n.RS(o[1]);if(o[3])n.add.lnsr=o[3];else delete n.add.lnsr}}if(C==F.vz){for(var D=0;
D<u.g.length;D++)m.g[u.g[D]].add.lclr=u.aoH[D]}if(C==F.cQ){var h=u.afC;for(var D=0;D<u.Mn.length;D++){var n=m.g[u.Mn[D]],T=h[D];
if(!u.Ze)n.add.vstk=JSON.parse(JSON.stringify(T));else b.Ug.B9(n,JSON.parse(JSON.stringify(T)));n.ik(m)}m.G()}if(C==F.Hw){Z.dE(u.qf);
Z.uE(m);m.G()}m.xi=!0};b.l_.prototype.H_=function(u,m){var C=u.d,Z=m.g[u.i];m.aJ=!0;if(C==F.o$){m.add.lnk2.splice(m.add.lnk2.indexOf(u.o9),1,u.gH);
b.l_.ds(m,u.id,u.o9.CB[1],u.gH.CB[1])}if(C==F.UB){Z.add.SoLd.Impr.v.classID=u.Qc;Z.go(m)}if(C==F.EU){var q=JSON.parse(u.Mn);
for(var D=0;D<q.length;D++)m.g[q[D]].Um=u.Qc;m.G()}if(C==F.X8){var q=JSON.parse(u.Mn);for(var D=0;D<q.length;
D++)m.g[q[D]].opacity=u.Qc;m.G()}if(C==F.nV){var q=JSON.parse(u.Mn);for(var D=0;D<q.length;D++)if(m.g[q[D]].add.lsct!=cT.Ip)m.g[q[D]].add.lspf=u.Qc[D]}if(C==F.Sl){var J=u.ag4,A=u.$A;
delete Z.add[J[0]];if(A[0]!="----")Z.add[A[0]]=A[1]}if(C==F.Sh){Z.add.iOpa=u.Qc;m.G()}if(C==F.LV){for(var D=0;
D<u.Mn.length;D++){var n=m.g[u.Mn[D]];n.$S(!n.cG())}m.G()}if(C==F.vf){var N=Z.Te();N.isEnabled=!N.isEnabled;
Z.uE(m);m.G()}if(C==F.hc){var N=Z.Ha(m).M;N.isEnabled=!N.isEnabled;Z.G();m.G()}if(C==F.y5){var N=Z.add.vmsk;
N.isEnabled=!N.isEnabled;if(!N.isEnabled){if(Z.yR){Z.M=Z.yR;Z.yR=null}else Z.M=null}else if(Z.M){Z.yR=Z.M;
Z.M=null}Z.uE(m);m.G()}if(C==F.A8){Z.G8=!Z.G8;m.G()}if(C==F.xt){Z.add.lmfx.masterFXSwitch.v=!Z.add.lmfx.masterFXSwitch.v;
Z.zi.gZ=!0;m.G()}if(C==F.M$){Z.add.SoLd.filterFX.v.enab.v=!Z.add.SoLd.filterFX.v.enab.v;Z.cB(m);m.G()}if(C==F.Rh){var e=u.index,Q=Z.add.lmfx[c0.Ca[e[0]]].v[e[1]].v;
Q.enab.v=!Q.enab.v;Z.zi.gZ=!0;m.G()}if(C==F.k5){var p=m.g[u.Un],B=m.g[u.Hu],$=u.aaz,R=u.a9H;if($=="")delete p.add.lmfx;
else p.add.lmfx=JSON.parse($);if(R=="")delete B.add.lmfx;else B.add.lmfx=JSON.parse(R);p.zi.gZ=!0;B.zi.gZ=!0;
m.G()}if(C==F.nB){var z=Z.add.SoLd.filterFX.v.filterFXList.v[u.index].v;z.enab.v=!z.enab.v;Z.cB(m);m.G()}if(C==F.Dz){Z.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(u.a7Y));
Z.cB(m);m.G()}if(C==F.JZ){var N=Z.Te();N.ca=!N.ca}if(C==F.IE){var N=Z.add.vmsk;N.ca=!N.ca}if(C==F._3){var v=u.kI;
for(var D=0;D<v.length;D+=2){var a=v[D],n=a>=0?m.g[a]:m.kL[-1-a];n.add.vogk=JSON.parse(v[D+1]);j.xK.VH(n.add.vogk,n.add.vmsk);
if(a>=0)n.uE(m)}m.G()}if(C==F.zw){Z.add.artb=JSON.parse(u.Pm);m.G();b.pB.f_(m,u)}if(C==F.aS){m.q=u.i9;
m.YG=u.kI.slice(0);m.Rc=u.wE.slice(0);m.qz=m.xi=!0}if(C==F.cW){Z.Hy=!Z.Hy}if(C==F.Mj){var X=u.a9B;for(var D=0;
D<X.length;D++)m.g[D].Aa=X[D]}if(C==F.Y7){var V=u.$m,o=0,h;for(var D=0;D<V.length;D++){var n=V[D],T=n.add.lsct;
if(T==cT.Ip)o++;else if(T==cT.G6||T==cT.an)o--;if(n.add.artb&&o!=0)h="Artboards can not be inside folders."}if(h){m.history.pop();
m.oa--;alert(h);return}b.pB.f_(m,u);if(u.Ag)m.w=u.Ag;if(u.aN)m.q=u.aN[1];m.WC=null;m.G();m.os(u.$m);
if(u.p6)b.eG.a2(m,m.w,null,u.p6.x,u.p6.y);if(u.k6)m.sP(u.k6[1])}if(C==F.aW){for(var D=0;D<u._j.length;
D+=3)b.l_.km(m,m.g[u._j[D]],u._j[D+2]);if(u.aN){var l=u.aN[1];if(l==null)delete m.q;else m.q=l}}if(C==F.o4){Z.Ha(m).M=u.M;
Z.$v=0;Z.G();m.G()}if(C==F.OF){Z.Ha(m).M=null;Z.$v=0;Z.G();m.G()}if(C==F.cr){b.l_.jr(m,u.Gn,1)}if(C==F.sR){b.l_.$e(m,Z,u)}if(C==F.i2){b.l_.PS(m,m.g[u.src],u.M.isEnabled);
b.l_.$e(m,m.g[u.nu],u)}if(C==F.Ws){b.l_.PS(m,Z,u.M.isEnabled);if(u.yR)b.l_.km(m,Z,u.yR)}if(C==F.Is){m.wn=JSON.parse(u.zT)}if(C==F.Jv){m.name=u.RX}if(C==F.W9){for(var D=0;
D<u.no.length;D++){var w=u.no[D],n=m.g[w[0]];n.RS(w[2]);if(w[4])n.add.lnsr=w[4];else delete n.add.lnsr}}if(C==F.vz){for(var D=0;
D<u.g.length;D++)m.g[u.g[D]].add.lclr=u.xc[D]}if(C==F.cQ){var W=u.Vb;for(var D=0;D<u.Mn.length;D++){var n=m.g[u.Mn[D]],U=W[D];
if(!u.Ze)n.add.vstk=JSON.parse(JSON.stringify(U));else b.Ug.B9(n,JSON.parse(JSON.stringify(U)));n.ik(m)}m.G()}if(C==F.Hw){Z.dE(u.Qc);
Z.uE(m);m.G()}m.xi=!0};b.l_.Lc=function(u,m){var C=0;for(var D=0;D<u.g.length;D++){var Z=u.g[D].getName();
if(Z.startsWith(m)){var q=Z.slice(m.length).trim(),J=parseInt(q);if(!isNaN(J)&&J+""==q&&J>C)C=J}}return C};
b.l_.jr=function(u,m,C){for(var D=0;D<m.length;D++){var Z=m[D],q=u.g[Z.kj];if(Z.xD){q.add.SoLd=JSON.parse(Z.xD[C])}if(Z.Yd){if(Z.Yd[1-C]!=null)u.GW(Z.Yd[1-C]);
if(Z.Yd[C]!=null)u.qr(Z.Yd[C]);else q.$v=0}q.go(u)}};b.l_.eF=function(u,m){var C=u.yq,Z=u.rect.clone();
if(C!=null&&(C.x!=m.e||C.y!=m.n)){Z.x=Math.floor((m.e-Z.e)/2);Z.y=Math.floor((m.n-Z.n)/2)}return Z};
b.l_.ah5=function(u,m){if(m.yR)m.yR=null;else m.M=null;m.uE(u);u.G();m.$v=0};b.l_.km=function(u,m,C){var Z=m.Te();
if(Z==null&&C==null)return;if(Z)b.l_.ah5(u,m);if(C==null)return;if(m.M)m.yR=C;else m.M=C;m.uE(u);u.G()};
b.l_.PS=function(u,m,C){if(m.yR&&C){m.M=m.yR;m.yR=null}else if(m.M&&C){m.M=null}delete m.add.vogk;delete m.add.vstk;
delete m.add.vmsk;m.uE(u);m.Xn=!1;u.WC=[];u.G()};b.l_.$e=function(u,m,C){m.add.vogk=JSON.parse(C.xK);
if(C.K_)m.add.vstk=JSON.parse(C.K_);else delete m.add.vstk;m.add.vmsk=C.M.clone();if(m.M&&m.add.vmsk.isEnabled)m.yR=m.M;
m.uE(u);m.Xn=C.ap;u.WC=[u.g.indexOf(m)];u.h2=[];u.G()};b.Ay=function(){b.uF.call(this,"Layer Styles",b.vW);
this.rN=null;this.CE=null;this.QI=null;this.j_=[];this._M=null};b.Ay.prototype=new b.uF;b.Ay.prototype.W1=function(u,m,C,Z,q){var J=u.i;
if(J==null)J=C.w[0];var A=C.g[J],n=u.NR;if(this.rN==null){this.QI=b.Ay.uX(C,A);this.rN=JSON.stringify(this.QI);
if(A.add.lmfx)this.CE=JSON.stringify(A.add.lmfx)}if(A.add.lmfx==null){A.add.lmfx=JSON.parse(c0.default);
for(var D=0;D<c0.order.length;D++)A.add.lmfx[c0.Ca[D]]={t:"VlLs",v:[]}}if(u.d=="scaleeffects"){if(u.k=="confirm"||u.k=="cancel"){this.W1({d:u.k},m,C,Z,q);
return}A.add.lmfx=JSON.parse(this.CE);dU.o7(A.add.lmfx,u.k/100)}else if(u.d=="changeprop"){var N=null;
if(n!=0){var e=this.j_[n[0]];if(e==null)e=c0.j_[n[0]];e=JSON.parse(e);var Q=A.add.lmfx[c0.Ca[n[0]]].v;
if(Q[n[1]]==null)Q[n[1]]={t:"Objc",v:e};N=Q[n[1]].v;for(var p in e)if(N[p]==null)N[p]=e[p]}if(u.d=="changeprop"){if(n==0){this.QI[u.d9].v=u.k;
b.Ay.DF(C,A,this.QI)}else if(u.d9=="lagl"){if(N.uglg&&N.uglg.v){C.hL(u.k.val);this.QI.a72=C.lQ()}else N[u.d9].v=u.k}else if(u.d9=="Lald"){if(N.uglg.v){C.eK(u.k.val);
this.QI.anx=C.mg()}else N[u.d9].v=u.k}else if((n[0]==3||n[0]==8)&&(u.d9=="Clr"||u.d9=="Grad")){if(u.d9=="Clr"){N.Clr={t:"Objc",v:u.k};
delete N.Grad}if(u.d9=="Grad"){N.Grad={t:"Objc",v:u.k};delete N.Clr}}else{N[u.d9].v=u.k}if(n!=0)this.j_[n[0]]=JSON.stringify(N)}if(n!=0)if(N.Ptrn)C.Vp(dU.G$(N.Ptrn.v,q.Q1))}else if(u.d=="setstl"){var B=u.k.Lefx;
if(B)dU.adZ(B,C,q.Q1);dU.aro(u.k,A);this.QI=b.Ay.uX(C,A)}else if(u.d=="st_dupsingle"){var $=A.add.lmfx[c0.Ca[u.Nl[0]]].v;
if($[u.Nl[1]]==null)return;var R=JSON.parse(JSON.stringify($[u.Nl[1]]));$.splice(u.Nl[1],0,R)}else if(u.d=="st_movsingle"){var z=u.Nl[1],$=A.add.lmfx[c0.Ca[u.Nl[0]]].v;
if($[u.Nl[1]]==null)return;var v=Math.max(0,Math.min($.length-1,z+u.aiX)),a=$[v];$[v]=$[z];$[z]=a}else if(u.d=="cancel"){if(this.CE==null)delete A.add.lmfx;
else A.add.lmfx=JSON.parse(this.CE);b.Ay.DF(C,A,JSON.parse(this.rN));this.rN=null;this.CE=null}else if(u.d=="confirm"){var X=JSON.stringify(A.add.lmfx),V=new h5([11,6],this);
V.data={g:[J],uL:[this.CE],IF:[X],cu:[this.rN],vS:[JSON.stringify(this.QI)]};C.hO(V);this.rN=null;this.CE=null;
if(X!=null){var o=JSON.parse(X);fg.UJ(o);o.classID="Lefx";delete o.masterFXSwitch;var h=new eY(r.E.od);
h.Ua=!0;h.data={ZO:"set",cf:!0};var T=hc.Q3("Lyr",!0);T.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
h.data.yS={__name:"Set",classID:"setd",null:T,T:{t:"Objc",v:o}};m.c(h)}}else if(u.d=="st_copy"){this._M=[this.rN,this.CE];
this.rN=null;this.CE=null}else if(u.d=="st_paste"||u.d=="st_clear"){if(u.d=="st_paste"&&this._M==null)return;
var l=u.i!=null?[u.i]:C.w.slice(0),w=[],W=[],U=[],s=[];for(var D=0;D<l.length;D++){var A=C.g[l[D]],S=b.Ay.uX(C,A);
w.push(A.add.lmfx?JSON.stringify(A.add.lmfx):null);U.push(JSON.stringify(S));if(u.d=="st_paste"){W.push(this._M[1]);
s.push(this._M[0])}else{W.push(null);S.lrMd.v=0;S.Opct.v.val=100;S.iOpa.v.val=100;S.blIf={v:[]};for(var x=0;
x<10;x++)S.blIf.v.push(0,0,255,255);s.push(JSON.stringify(S))}}var V=new h5([11,6],this);V.data={g:l,uL:w,IF:W,cu:U,vS:s};
this.H_(V.data,C);C.hO(V);this.rN=null;this.CE=null}else{var P=this.QI,o=null;if(u.d=="st_delsingle"){o=JSON.parse(this.CE);
o[c0.Ca[u.Nl[0]]].v.splice(u.Nl[1],1);o=JSON.stringify(o)}if(o==null)delete A.add.lmfx;else A.add.lmfx=JSON.parse(o);
if(P!=null)b.Ay.DF(C,A,P);var V=new h5([11,6],this);V.data={g:[u.i],uL:[this.CE],IF:[o],cu:[this.rN],vS:[JSON.stringify(P)]};
C.hO(V);this.rN=null;this.CE=null}A.zi.gZ=!0;C.aJ=!0;C.G()};b.Ay.uX=function(u,m){if(m.add.iOpa==null)m.add.iOpa=255;
if(m.add.brst==null)m.add.brst=[1,1,1];var C=m.ld()?["pass"].concat(hR.AO):hR.AO;return{lrMd:{v:C.indexOf(m.Um)},Opct:{v:{type:"#Prc",val:Math.round(m.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(m.add.iOpa*100/255)},t:"UntF"},blIf:{v:m.Aw.slice(0)},brst:{v:m.add.brst},a72:u.lQ(),anx:u.mg(),ld:m.ld()}};
b.Ay.DF=function(u,m,C){var Z=m.ld()?["pass"].concat(hR.AO):hR.AO;m.Um=Z[C.lrMd.v];m.opacity=Math.round(C.Opct.v.val*255/100);
m.add.iOpa=Math.round(C.iOpa.v.val*255/100);m.Aw=C.blIf.v.slice(0);m.add.brst=C.brst.v.slice(0);u.hL(C.a72);
u.eK(C.anx)};b.Ay.prototype.H8=function(u,m){for(var D=0;D<u.g.length;D++){var C=m.g[u.g[D]],Z=u.uL[D];
if(Z==null)delete C.add.lmfx;else C.add.lmfx=JSON.parse(Z);b.Ay.DF(m,C,JSON.parse(u.cu[D]));C.zi.gZ=!0}m.aJ=!0;
m.G()};b.Ay.prototype.H_=function(u,m){for(var D=0;D<u.g.length;D++){var C=m.g[u.g[D]],Z=u.IF[D];if(Z==null)delete C.add.lmfx;
else C.add.lmfx=JSON.parse(Z);b.Ay.DF(m,C,JSON.parse(u.vS[D]));C.zi.gZ=!0}m.aJ=!0;m.G()};b.Sa=function(){b.uF.call(this,"Layer Comps",b.o6)};
b.Sa.prototype=new b.uF;b.Sa.prototype.W1=function(u,m,C,Z){var q=JSON.parse(JSON.stringify(C.CG)),J=JSON.parse(JSON.stringify(C.CG)),A=null,n=null,N=null,e=-1,Q=!1;
if(u.d=="delLC"){var p=b.Sa.G4(C.CG,u.NR),B=C.CG.lastAppliedComp?C.CG.lastAppliedComp.v:0;J.list.v.splice(p,1);
if(B==u.NR)delete J.lastAppliedComp;A="Delete Layer Comp"}if(u.d=="editLC"){var p=b.Sa.G4(C.CG,u.NR),$=J.list.v[p].v;
if(u.RX!=null)$.Nm.v=u.RX;if(u.a9E!=null){var R=u.a9E,z=$.capturedInfo.v,v=z&(1<<R)-1;z=z>>R;if((z&1)==1)z--;
else z++;$.capturedInfo.v=(z<<R)+v}A="Layer Comp properties"}if(u.d=="setLC"){b.Sa.$C(C);if(u.NR==0)delete J.lastAppliedComp;
else J.lastAppliedComp={t:"long",v:u.NR};A="Switch Layer Comp";Q=!0}if(u.d=="updLC"){b.Sa.$C(C);n=b.Sa.ann(C,u.NR);
N=b.Sa.jQ(C,u.NR);J.lastAppliedComp={t:"long",v:u.NR};A="Update Layer Comp";e=u.NR;Q=!0}if(u.d=="addLC"){b.Sa.$C(C);
var a=1;for(var D=0;D<J.list.v.length;D++)a=Math.max(a,J.list.v[D].v.compID.v)+1;a+=Math.floor(Math.random()*1e4);
var X={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(J.list.v.length+1)},compID:{t:"long",v:a},capturedInfo:{t:"long",v:7}}};
J.list.v.push(X);J.lastAppliedComp={t:"long",v:a};A="New Layer Comp";var V=b.Sa.jQ(C,a);b.Sa.Gd(C,V,a)}var o=new h5(A,this);
o.data={a9f:q,a9G:J,acA:n,akf:N,NR:e,yc:Q};this.H_(o.data,C);C.hO(o)};b.Sa.prototype.H_=function(u,m){m.CG=u.a9G;
m.aJ=!0;if(u.akf)b.Sa.Gd(m,u.akf,u.NR);if(u.yc){var C=m.CG.lastAppliedComp?m.CG.lastAppliedComp.v:0,Z=b.Sa.G4(m.CG,C),q=Z==-1?null:m.CG.list.v[Z].v,J=q?q.capturedInfo.v:7;
b.Sa.bq(m,C,J);m.G()}};b.Sa.prototype.H8=function(u,m){m.CG=u.a9f;m.aJ=!0;if(u.acA)b.Sa.Gd(m,u.acA,u.NR);
if(u.yc){var C=m.CG.lastAppliedComp?m.CG.lastAppliedComp.v:0,Z=b.Sa.G4(m.CG,C),q=Z==-1?null:m.CG.list.v[Z].v,J=q?q.capturedInfo.v:7;
b.Sa.bq(m,C,J);m.G()}};b.Sa.$C=function(u){if(u.CG.lastAppliedComp!=null||!u.VG)return;var m=b.Sa.jQ(u,0);
b.Sa.Gd(u,m,0);u.VG=!1};b.Sa.ml=function(u,m,C){u.v.Hrzn.v+=m;u.v.Vrtc.v+=C};b.Sa.G4=function(u,m){var C=u.list.v;
for(var D=0;D<C.length;D++)if(C[D].v.compID.v==m)return D;return-1};b.Sa.agH=function(u){var m=u.layerSettings.v,q=null;
if(m.length==0)return;var C="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),Z=m[0].v;
if(Z.enab==null)Z.enab={t:"bool",v:!0};if(Z.Ofst==null)Z.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var D=0;D<m.length;D++){var J=m[D].v;if(q==null)q=JSON.parse(JSON.stringify(J));else for(var A=0;
A<C.length;A++){var n=C[A];if(J[n])q[n]=JSON.parse(JSON.stringify(J[n]))}m[D].v=JSON.parse(JSON.stringify(q))}};
b.Sa.Py=function(u,m){var C=u.add.shmd.cmls,Z=C.layerSettings.v;for(var q=0;q<Z.length;q++){var J=Z[q].v,A=J.compList.v[0].v;
if(A==m)return q}return-1};b.Sa.gh=function(u,m){var C=b.Sa.Py(u,m);return C==-1?null:u.add.shmd.cmls.layerSettings.v[C].v};
b.Sa.bq=function(u,m,C){for(var D=0;D<u.g.length;D++){var Z=u.g[D],q=Z.add.shmd.cmls;if(q==null)continue;
var J=q.layerSettings.v,A=b.Sa.gh(Z,m);if(A==null){Z.$S(!1);continue}if((C&1)!=0){if(A.enab)Z.$S(A.enab.v);
else Z.$S(!0)}if((C&2)!=0){if(A.Ofst){var n=A.Ofst.v,N=Z.vj(u),e=Math.round(n.Hrzn.v-N.x),Q=Math.round(n.Vrtc.v-N.y);
if(e!=0||Q!=0)b.eG.a2(u,[D],null,e,Q)}}if((C&4)!=0){if(A.Lefx){var p=JSON.parse(JSON.stringify(A.Lefx.v));
fg.HJ(p);if(JSON.stringify(p)!=JSON.stringify(Z.add.lmfx)){Z.add.lmfx=p;Z.zi.gZ=!0}}else delete Z.add.lmfx;
if(A.blendOptions){var B=A.blendOptions.v;if(B.Opct)Z.opacity=Math.round(255*B.Opct.v.val/100);if(B.fillOpacity)Z.add.iOpa=Math.round(255*B.fillOpacity.v.val/100);
if(B.Md)Z.Um=Z.add.lsct==cT.Ip?"norm":hR.Sp(B.Md.v.BlnM)}else{Z.opacity=255;Z.Um=Z.ld()?"pass":"norm";
Z.add.iOpa=255}}}};b.Sa.ann=function(u,m){var C={};for(var D=0;D<u.g.length;D++){var Z=u.g[D];if(Z.add.shmd==null||Z.add.shmd.cmls==null)continue;
C["l"+Z.add.lyid]=JSON.parse(JSON.stringify(b.Sa.gh(Z,m)))}return C};b.Sa.jQ=function(u,m){var C={};
for(var D=0;D<u.g.length;D++){var Z=u.g[D],q=Z.add.lyid;C["l"+q]=b.Sa.Cv(u,Z,m)}return C};b.Sa.Cv=function(u,m,C){var Z=m.add.shmd?m.add.shmd.cmls:null,q={classID:"null"},J=m.vj(u),A={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:J.x},Vrtc:{t:"long",v:J.y}}};
q.compList={t:"VlLs",v:[{t:"long",v:C}]};q.enab={t:"bool",v:m.cG()};q.Ofst=JSON.parse(JSON.stringify(A));
q.FXRefPoint=JSON.parse(JSON.stringify(Z&&Z.origFXRefPoint?Z.origFXRefPoint:A));q.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:hR.gt(m.Um)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*m.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:m.add.iOpa!=null?100*m.add.iOpa/255:100}}}};
if(m.add.vmsk){q.vectorMask={t:"Objc",v:{classID:"null"}};q.vectorMask.v.Ofst=JSON.parse(JSON.stringify(A))}if(m.add.lmfx){q.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(m.add.lmfx))};
fg.UJ(q.Lefx.v)}return q};b.Sa.a35=function(u,m){var C=m.add.lyid;if(m.add.shmd==null)m.add.shmd={};
if(m.add.shmd.cmls==null){m.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:C},layerSettings:{t:"VlLs",v:[{t:"Objc",v:b.Sa.Cv(u,m,0)}]}}}};
b.Sa.Gd=function(u,m,C){for(var D=0;D<u.g.length;D++){var Z=u.g[D],q=Z.add.lyid;b.Sa.a35(u,Z);var J=Z.add.shmd.cmls,A=J.layerSettings.v,n=m["l"+q];
if(n!=null)n={t:"Objc",v:JSON.parse(JSON.stringify(n))};var N=b.Sa.Py(Z,C);if(N==-1){if(n==null)continue;
else A.push(n)}else{if(n==null)A.splice(N,1);else A[N]=n}}};b.Sa.us=function(u,m){for(var D=0;D<u.g.length;
D++){var C=u.g[D],Z=C.add.lyid;if(C.add.shmd==null||C.add.shmd.cmls==null)continue;var q=C.vj(u),J=Math.round(q.x),A=Math.round(q.y);
if(!m){J=-J;A=-A}var n=C.add.shmd.cmls,N=n.layerSettings.v;if(n.origFXRefPoint)b.Sa.ml(n.origFXRefPoint,-J,-A);
for(var e=0;e<N.length;e++){var Q=N[e].v;b.Sa.ml(Q.Ofst,J,A);var p=Q.imageMask,B=Q.vectorMask;if(p&&p.v.Ofst)b.Sa.ml(p.v.Ofst,J,A);
if(B&&B.v.Ofst)b.Sa.ml(B.v.Ofst,J,A)}}};b.JF=function(){b.uF.call(this,"Adjust Edit",b.ks);this.zT=null;
this.HU=null};b.JF.prototype=new b.uF;b.JF.dH=function(u,m,C,Z){if(Z)m/=4;var q=0,J=0,A=255,n=0,N=0,e=255;
while(J+u[q]<m){J+=u[q];q++}while(n+u[A]<m){n+=u[A];A--}if(Z){q-=Math.round(u[q]/(C/32));A+=Math.round(u[A]/(C/32));
if(q<0)N=Math.round(-q*255/(A-q));if(A>255)e=255-Math.round((A-255)*255/(A-q))}return[Math.max(q,0),Math.min(A,255),N,e,100]};
b.JF.prototype.W1=function(u,m,C,Z,q){var J=u.d;if(J=="auto"){var A=u.qK,n=b.JF.getData(C);for(var D=0;
D<n.length;D++){var N=n[D],e;if(A<3){}else{var Q=a7.Qv("hue2");je.Kq(Q,0,[0,-100,0]);e=b1.z$("hue2",Q)}b1.D1(e,N._y,N.cF,N.yt)}b.JF.CL(C,n);
b.JF.KK(C,n,A<3?[4,16,A]:[19,7,0],this);C.G()}if(J=="edit_layer")this.a92(u,m,C,Z);if(J=="edit"||J=="confirm"||J=="cancel")this.yX(u,m,C,q,!0);
if(J=="start"){if(C.w.length==0)return;var p=C.g[C.w[0]];if(p.add.SoLd&&p.$v<=0&&C.Rc.length==0){var B=new eY(r.E.H,!0);
B.b=b.zz;B.data={d:"start",Bp:u.gD,yg:u.yg};m.c(B);return}if(!C.j9(m,null,!0))return;if(t[u.gD]&&u.yg==null){if(C.w.length!=1)alert("Will be applied to "+C.w.length+" layers.");
var B=new eY(r.E.z,!0);B.data={d:r.J.zH,E$:"afw_"+u.gD};m.c(B)}else{this.yX({d:"edit",yg:u.yg,Bp:u.gD},m,C,q);
this.yX({d:"confirm",Bp:u.gD},m,C,q)}}};b.JF.prototype.a92=function(u,m,C,Z){var q=u.d,J=C.w[0],A=C.g[J],n=b1.get(A.add),N=JSON.parse(JSON.stringify(A.add[n])),B;
for(var e in u.k)N[e]=u.k[e];var Q=JSON.parse(JSON.stringify(N));for(var e in b1.nR)if(b1.nR[e]==n)Q.classID=e;
var p=C.history[C.oa];if(p&&p.b==this&&p.data.qf!=null&&p.data.i==J)B=p;else{var $=new eY(r.E.od,!0),R={classID:"setd",null:hc.Q3("AdjL",!0),T:{t:"Objc",v:Q}};
$.data={cf:!0,ZO:"set",yS:R};m.c($);var B=new h5([6,39],this);B.data={i:J,qf:A.add[n],Qc:N,IS:R};C.hO(B)}B.data.Qc=N;
B.data.IS.T.v=Q;this.H_(B.data,C)};b.JF.getData=function(u,m,C){var Z=[],q=new bl(0,0,u.e,u.n),J=u.Rc.length!=0?[-1-u.Rc[0]]:u.w;
for(var D=0;D<J.length;D++){var A=J[D],n=A<0?null:u.g[A],N={i:A,Jl:A<0?1:n.$v};Z.push(N);var e=u.YG[-1-A];
if(0<=A)e=n.$v<=0?null:n.$v==1?n.Te():n.Ha(u).M;var Q=e?e.rect:n.rect;if(u.q)N.yt=e!=null?u.q.rect.aR(q):u.q.rect.aR(Q);
else N.yt=m||e!=null?Q.QN(q):Q.clone();if(C)N.yt=C[D].yt.clone();var p=N.yt.Z();N._y=j.U(p*4);if(e)b.Zg.xa(e.channel,e.rect,e.color,N._y,N.yt);
else j.zO(n.buffer,Q,N._y,N.yt);N.cF=N._y.slice(0);if(u.q){N._j=j.U(p);j.j5(u.q.channel,u.q.rect,N._j,N.yt)}}return Z};
b.JF.a6l=function(u,m,C){if(m==null)return m;var Z=b1.yC(u,m),J;if(Z==-1)return m;var q=C.length>>>2,A=j.hW(C),n=.001*q;
if(Z==0||Z==2)J=[[0,255,0,255,100],b.JF.dH(A[1],n,q,Z==2),b.JF.dH(A[2],n,q,Z==2),b.JF.dH(A[3],n,q,Z==2)];
if(Z==1)J=[b.JF.dH(A[0],n*.33,q,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var N=a7.Qv("levl");
for(var D=0;D<4;D++)ii.Kq(N,D,J[D]);return N};b.JF.q9=function(u,m,C,Z){var q,J;if(C.t=="name"){var A=0;
for(var n=0;n<u.g.length;n++)if(u.g[n].getName()==C.v.val)A=n;if(A==Z.i){q=Z._y;J=Z.yt}else{var N=u.g[A];
q=N.buffer;J=N.rect}}else{J=new bl(0,0,u.e,u.n);q=u==m?Z.p8:u.K9()}return[q,J]};b.JF.prototype.yX=function(u,m,C,Z){if(this.zT==null){if(u.Bp=="aply")C.g[C.w[0]].extend(new bl(0,0,C.e,C.n));
this.zT=b.JF.getData(C,null,u.Bp=="fade"?C.QX().data:null);if(u.Bp=="aply"||u.Bp=="matc")this.zT[0].p8=C.K9()}if(u.d=="edit"){this.HU=[u.Bp,u.yg];
var q=this.zT[0],J=b.JF.a6l(u.Bp,u.yg,q._y),A=b1.z$(u.Bp,J);if(u.Bp=="fade"||u.Bp=="matc"||u.Bp=="aply")A=u.yg;
if(A!=null){for(var n=0;n<this.zT.length;n++){var N=this.zT[n];if(u.e3)j.Uj(N._y,N.cF);else if(u.Bp=="fade"){var e=hR.Sp(u.yg.Md.v.BlnM),Q=u.yg.Opct.v.val/100,p=C.QX().data[n];
j.Uj(p._y,N.cF);if(e=="norm")j.a.LP(N._y,N.yt,N.cF,N.yt,null,null,null,N.yt,Q);else{var B=dU.y0();B.hh=!0;
for(var D=0;D<p._y.length;D+=4)if(p._y[D+3]!=N._y[D+3]){B=null;break}j.a.q5(e,N._y,N.yt,N.cF,N.yt,N.yt,Q,B)}}else if(u.Bp=="matc"){var $;
if(A.noReference&&A.noReference.v)$=N._y;else{var R=A.Srce.v,z=R[1].v.val,v=m.RE,a=C;for(var D=0;D<v.length;
D++)if(v[D].name==z)a=v[D];var X=b.JF.q9(a,C,R[0],N);$=X[0]}d$(N._y,N.yt.e,N.yt.n,$,N.cF,[A.Lght.v,A.ClrR.v,A.Fade.v,A.neutralizeColor?A.neutralizeColor.v:!1])}else if(u.Bp=="aply"){A=A.With.v;
var V=A.T.v,X=b.JF.q9(C,C,V[1],N),$=X[0],o=X[1],h=A.Clcl?A.Clcl.v.Clcn:null,e=h?hR.Sp(h):"norm",Q=A.Opct?A.Opct.v.val/100:1,T=["RGB","Rd","Grn","Bl","Trsp"].indexOf(V[0].v.enum),J=A.Invr&&A.Invr.v;
if(J||T!=0){$=$.slice(0);if(J)j.ais($);if(T!=0){var l=j.U(o.Z());j._H($,l,T-1);if(T==4)j.mL(l);for(var w=0;
w<3;w++)j.wC(l,$,w)}}if(h=="Add"||h=="Sbtr"){var W=1/A.Scl.v,U=A.Ofst.v,s=h=="Add"?1:-1,S=new Uint8ClampedArray(N.cF.buffer);
for(var D=0;D<$.length;D+=4){S[D]=(N._y[D]+s*$[D])*W+U;S[D+1]=(N._y[D+1]+s*$[D+1])*W+U;S[D+2]=(N._y[D+2]+s*$[D+2])*W+U}}else{var B=dU.y0();
B.hh=A.PrsT&&A.PrsT.v;N.cF.fill(0);N.cF.set(N._y);j.a.q5(e,$,o,N.cF,N.yt,N.yt,Q,B)}}else b1.D1(A,N._y,N.cF,N.yt)}b.JF.CL(C,this.zT)}}if(u.d=="cancel"){b.JF.g2(C,this.zT);
this.zT=null}if(u.d=="confirm"){var x={fade:[2,11],aply:[2,12],matc:[4,18]},P=x[u.Bp];if(P==null)P=b1.names[u.Bp];
var y=b1.yC(u.Bp,this.HU[1]);if(y!=-1)P=[4,16,y];b.JF.KK(C,this.zT,P,this);this.zT=null;if(y==-1)b.JF.gB(m,this.HU)}C.G()};
b.JF.gB=function(u,m){var C=m[0],Z=m[1],q,J;if(b1.jv[C]){q=b1.jv[C];if(t[C])J=Z}if(a7.jv[C]){q=a7.jv[C];
if(t[C])J=Z}if(C=="fade"){q="fade";J=Z}if(C=="matc"){q="matchColor";J=Z}if(C=="aply"){q="applyImageEvent";
J=Z}if(q==null)return;var A=new eY(r.E.od,!0);A.data={cf:!0,ZO:q};if(J){J=JSON.parse(JSON.stringify(J));
J.classID="null";delete J.__name;A.data.yS=J}u.c(A)};b.JF.g2=function(u,m){b.JF.a$(u,m)};b.JF.KK=function(u,m,C,Z){for(var D=0;
D<m.length;D++){var q=m[D],J=u.g[q.i],A=q.i<0?u.YG[-1-q.i]:q.Jl<=0?null:q.Jl==1?J.Te():J.Ha(u).M;if(A){A.GJ();
A.hf=!0;if(J)J.uE(u)}else{J.GJ();J.G()}delete q.cF;delete q._j}var n=new h5(C,Z);n.data=m;u.hO(n);u.aJ=!0};
b.JF.CL=function(u,m,C){for(var D=0;D<m.length;D++){var Z=m[D],q=u.g[Z.i],J=C?Z._y:Z.cF,A=Z.yt;if(Z.Jl==0){q.extend(A);
if(Z._j){j.zO(Z._y,A,q.buffer,q.rect);j.a.LP(J,A,q.buffer,q.rect,Z._j,A,0,A,1)}else j.zO(J,A,q.buffer,q.rect)}else{var n=Z.i<0?u.YG[-1-Z.i]:Z.Jl==1?q.Te():q.Ha(u).M;
n.extend(A);if(Z._j){var N=j.U(A.Z()*4);j.Uj(Z._y,N);j.a.LP(J,A,N,A,Z._j,A,0,A,1);b.Zg.wo(N,A,n)}else b.Zg.wo(J,A,n);
n.hf=!0;if(q)q.uE(u)}if(q)q.G()}if(!C)b.JF.J6(u,m)};b.JF.a$=function(u,m){for(var D=0;D<m.length;D++){var C=m[D],Z=u.g[C.i],q=C.yt,J=j.U(q.Z()*4);
if(C.Jl==0){j.zO(Z.buffer,Z.rect,J,q);Z.extend(q);j.zO(C._y,q,Z.buffer,Z.rect);Z.GJ()}else{var A=C.i<0?u.YG[-1-C.i]:C.Jl==1?Z.Te():Z.Ha(u).M;
b.Zg.xa(A.channel,A.rect,A.color,J,q);A.extend(q);b.Zg.wo(C._y,q,A);A.GJ();A.hf=!0;if(Z)Z.uE(u)}C._y=J;
if(Z)Z.G()}u.aJ=!0};b.JF.J6=function(u,m){var C=b.JF._P(u),Z=~C;if(C==16777215)return;for(var D=0;D<m.length;
D++){var q=m[D],J=u.g[q.i],A=q.yt;if(q.Jl!=0)continue;J.extend(A);var n=A.x-J.rect.x,N=A.y-J.rect.y,e=J.rect.e,Q=new Uint32Array(q._y.buffer),p=new Uint32Array(J.buffer.buffer);
for(var B=0;B<A.n;B++)for(var $=0;$<A.e;$++){var R=B*A.e+$,z=(B+N)*e+($+n);p[z]=p[z]&C|Q[R]&Z}J.GJ();
J.G()}u.G()};b.JF._P=function(u){var m=u.t.Np;return m[2]*16711680|m[1]*65280|m[0]*255};b.JF.prototype.H8=function(u,m){var C=m.g[u.i];
if(u.qf!=null)C.add[b1.get(C.add)]=u.qf;else b.JF.a$(m,u);m.G()};b.JF.prototype.H_=function(u,m){var C=m.g[u.i];
if(u.qf!=null)C.add[b1.get(C.add)]=u.Qc;else b.JF.a$(m,u);m.G()};b.La=function(){b.uF.call(this,"Filter Edit",b.zz);
this.zT=null;this.GZ=null;this.d=null;this.HU=null};b.La.prototype=new b.uF;b.La.prototype.W1=function(u,m,C,Z,q){if(u.d=="start"){if(C.w.length==0)return;
var J=C.g[C.w[0]];if(J.add.SoLd&&J.$v<=0&&C.Rc.length==0){}else if(!C.j9(m,null,!0))return;var A=u.Bp;
if((t[A]||a7.K[A])&&u.yg==null){if(C.w.length!=1)alert("Will be applied to "+C.w.length+" layers.");
var n=new eY(r.E.z,!0);n.data=b.La.A9(A,this.X9(C,A));m.c(n)}else{var N={d:"edit",Bp:A,yg:u.yg,jO:this.X9(C)};
this.W1(N,m,C,Z,q);N.d="confirm";delete N.yg;this.W1(N,m,C,Z,q)}}if(u.d=="edit"||u.d=="cancel"||u.d=="confirm"){if(u.d=="edit")this.HU=[u.Bp,u.yg];
if(u.jO)this.a1r(u,C,q);else this.a8Q(u,m,C,q)}if(u.d=="applylast"&&this.HU!=null){var N={d:"edit",Bp:this.HU[0],yg:this.HU[1],jO:this.X9(C)};
this.W1(N,m,C,Z,q);N.d="confirm";delete N.yg;this.W1(N,m,C,Z,q)}};b.La.A9=function(u,m){var C=a7.K[u];
if(C)return{d:r.J.K3,b:C,xr:{jO:m}};else return{d:r.J.zH,E$:"afw_"+u,jO:m}};b.La.prototype.X9=function(u,m){var C=u.g[u.w[0]],Z;
if(C.add.SoLd&&C.$v<=0&&u.Rc.length==0){Z={i:u.w[0],index:0};if(C.add.SoLd.filterFX!=null){var q=C.add.SoLd.filterFX.v.filterFXList.v;
Z.index=q.length;for(var D=0;D<q.length;D++)if(a7.OU(q[D].v)==m&&a7.K[m])Z.index=D}}return Z};b.La.prototype.a1r=function(u,m,C){var Z=m.g[u.jO.i],q=u.Bp;
if(u.d=="edit"){if(this.d==null){var J=a7.names[q];if(J==null)J=b1.names[q];if(q=="blendOptions")J=[14,10];
this.d=new h5(J,this);this.d.data={jO:u.jO,a2O:JSON.parse(JSON.stringify(Z.add.SoLd))}}if(!Z.Bv()){Z.add.SoLd.filterFX=a7.wN();
this.d.data.Yd=gj.ajh(Z.add.SoLd.placed.v);m.qr(this.d.data.Yd);Z.go(m)}var A=Z.add.SoLd.filterFX.v.filterFXList.v;
if(A[u.jO.index]==null){A.push(a7.TH(q,C))}if(u.yg){A[u.jO.index].v.enab.v=u.e3!=!0;if(q=="blendOptions")A[u.jO.index].v.blendOptions.v=u.yg;
else A[u.jO.index].v.Fltr.v=u.yg}this.d.data.a11=JSON.parse(JSON.stringify(Z.add.SoLd));this.H_(this.d.data,m)}if(u.d=="cancel"){if(this.d)this.H8(this.d.data,m);
this.d=null}if(u.d=="confirm"){if(this.d)m.hO(this.d);this.d=null}};b.La.prototype.c5=function(u){return{p:u>>>16,T:u>>>8&255,S:u&255}};
b.La.prototype.a8Q=function(u,m,C,Z){if(this.zT==null){var q=a7.FK(u.Bp,u.yg);this.zT=b.JF.getData(C,q.x!=0||q.y!=0)}if(u.d=="edit"){var J=JSON.stringify(u.yg);
if((u.yg==null||J!=this.GZ)&&u.e3!=!0)for(var D=0;D<this.zT.length;D++){var A=this.zT[D],n={rect:A.yt,buffer:A._y},N={rect:A.yt,buffer:A.cF};
if(u.Bp=="Avrg"&&A._j){n.buffer=A._y.slice(0);j.uY(A._j,n.buffer)}a7.D1(u.Bp,n,u.yg,this.c5(Z.jM),this.c5(Z.z0),N,[C.add.lnk2?C.add.lnk2:[],C.g[C.w[0]].Te(),C.YG,C.yG()]);
if(u.Bp=="Avrg"&&A._j){var e=A._y.length;for(var D=0;D<e;D+=4)A.cF[D+3]=A._y[D+3]}this.GZ=J}b.JF.CL(C,this.zT,u.e3)}if(u.d=="cancel"){b.JF.g2(C,this.zT);
this.zT=null;this.GZ=null}if(u.d=="confirm"){b.JF.KK(C,this.zT,a7.names[u.Bp],this);this.zT=null;this.GZ=null;
b.JF.gB(m,this.HU)}C.G();C.aJ=!0};b.La.prototype.H8=function(u,m){if(u.jO){var C=m.g[u.jO.i];if(u.Yd)m.GW(u.Yd);
C.add.SoLd=JSON.parse(JSON.stringify(u.a2O));if(C.Bv())C.cB(m);else{C.go(m);C.$v=0}}else b.JF.a$(m,u);
m.G();m.aJ=!0};b.La.prototype.H_=function(u,m){if(u.jO){var C=m.g[u.jO.i];if(u.Yd)m.qr(u.Yd);C.add.SoLd=JSON.parse(JSON.stringify(u.a11));
if(C.Bv())C.cB(m);else C.go(m);if(!C.e8())C.VO+=32}else b.JF.a$(m,u);m.G();m.aJ=!0};var jO={LY:"0",el:"1",__:"2",f2:"3",c$:"4",ZM:"5",Jb:"6",O_:"7",H:"8",HW:"8.5",t4:"8.8",Cn:"9",ht:"10",Cd:"11",IH:"12",lY:"13",Lz:"14",qA:"15",m6:"16",e0:"21",Th:"22",e6:"23",ZL:"23.0",Cm:"23.1",pO:"23.2",hm:"23.3",Nw:"23.4",lW:"23.5",V2:"23.6",wR:"30",mO:"31",gX:"40",T3:"41",fK:"42"};
jO.rZ={};jO.rZ[jO.el]=["abr","brushes",jG,[9,3]];jO.rZ[jO.__]=["grd","gradients",hz,[12,37]];jO.rZ[jO.f2]=["shc","contours",jH,[12,21]];
jO.rZ[jO.c$]=["asl","styles",c2,[12,22]];jO.rZ[jO.ZM]=["pat","patterns",eN,[12,62]];jO.rZ[jO.Jb]=["csh","shapes",j9,[12,77]];
jO.rZ[jO.O_]=["aco","swatches",ff,[9,8]];jO.rZ[jO.H]=["atn","actions",ck,[9,9]];jO.rZ[jO.HW]=["tpl","tpresets",ig,[9,12]];
jO.rZ[jO.t4]=["icc","profiles",ir,"ICCs"];function h5(u,m,C){if(C==null)C=!1;this.name=u;this.b=m;this.SI=C;
this.data=null;this.aly=Date.now()}var hc={};hc.Q3=function(u,m){var C={t:"Clss",v:{classID:u}};if(m)C={t:"Enmr",v:{classID:u,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[C]}};hc.yD=function(u,m){var C={classID:"Lyr"};C[u]=m;return{ZO:"set",yS:{classID:"null",null:hc.Q3("Lyr",!0),T:{t:"Objc",v:C}}}};
hc.acD=function(u,m,C,Z,q){var J=new eY(r.E.od,!0),A=[],D=0,n=hc.RR(m,C,Z,A);while(A.length!=0){var N=A.pop();
D++;if(!N.P)continue;console.log(D-1);if(N.ZO=="conditional"){var e=u.g[u.w[0]],Q=N.yS.null.v.Cndt,p=!1;
if(Q=="Bckg")p=!1;else if(Q=="Pxel"&&u.w0(!1))p=!0;else if(Q=="Adjs"&&b1.get(e.add))p=!0;else if(Q=="Shp"&&e.add.vogk)p=!0;
else if(Q=="Grup"&&e.ld())p=!0;else if(Q=="Opn"&&u!=null)p=!0;else if(Q=="32Bt")p=!1;else if(Q=="RGB")p=!0;
var B=N.yS.then,$=N.yS.else;if(p&&B)hc.RR(m,B.v[0].v.val,B.v[1].v.val,A);if(!p&&$)hc.RR(m,$.v[0].v.val,$.v[1].v.val,A)}else if(N.ZO=="stop"){if(N.yS.Cntn&&N.yS.Cntn.v==!0)window.confirm(N.yS.Msge.v);
else{alert(N.yS.Msge.v);break}}else if(N.ZO=="play"){var R=N.yS.null.v,z=new eY(r.E.z,!0);z.data={d:r.J.Wy,_c:[R[0].v.val,R[1].v.val]};
q.c(z)}else{J.data={ZO:N.ZO,yS:N.yS};q.c(J)}}};hc.RR=function(u,m,C,Z){var q;for(var D=0;D<u.length;
D++){if(u[D].wy!=C)continue;var J=u[D].pQ;for(var A=0;A<J.length;A++){if(J[A].wy!=m)continue;q=J[A].pQ}}var n=q.length;
for(var D=0;D<n;D++)Z.push(q[n-1-D])};hc.ajN=function(u){var m=u.ZO,C=u.yS,Z,A,n,N,e;if(C&&C.null)Z=C.null.v[0];
if(C&&Z==null&&C.At)Z=C.At.v[0];if(Z&&Z.t=="obj ")Z=Z.v[0];var q=Z?Z.v.classID:null,J=["purge"];if(J.indexOf(m)!=-1)return m[0].toUpperCase()+m.slice(1);
if(m=="GEfc")return b5.names[C.GEfk.v.GEft][1];e=b1.jv;for(A in e)if(e[A]==m)n=A;e=a7.jv;for(A in e)if(e[A]==m)N=A;
if(n){var Q=b1.yC(n,C);if(Q!=-1)return[4,16,Q];return b1.names[n]}if(N)return a7.names[N];var p=hc.d8;
if(m=="make"){if(Z){if(q=="AdjL")return[6,1];else if(q=="layerSection")return C.From?[6,9]:[6,20];else if(q=="Lyr")return[6,13];
else if(q=="Chnl"&&Z.v.enum=="Msk")return[6,2];else if(q=="contentLayer")return[6,48,1];else if(q=="BckL")return"Make Background Layer";
else if(q=="Path")return"Make Path";else if(q=="TxLr")return"Make Text Layer";else if(q=="slice")return"Make Slices"}if(C.Nw){q=C.Nw.v.classID;
if(q=="Dcmn")return[11,7];else if(q=="Chnl"||q=="SCch")return"New Channel"}}else if(m=="deselect"){if(q=="Path")return"Deselect current path";
else throw q}else if(m=="select"){if(q=="Chnl")return"Select "+(Z.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(q=="Mn")return"Select Panel \""+Z.v.enum+"\"";else if(q=="Lyr"){if(Z.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward"}[Z.v.enum]+" Layer";
return"Select Layer \""+Z.v.val+"\""}else if(q=="Path")return"Select Path";else if(q=="Brsh")return"Select Brush";
else if(q=="Dcmn")return"Select Document"}else if(p[m]&&q=="Chnl"){var B=Z.v.keyID=="fsel";return p[m]+" "+(B?"Selection":"Channel")}else if(m=="set"){if(q=="Lyr")return"Set Current Layer";
else if(q=="AdjL")return[6,39];else if(q=="contentLayer")return[6,48,2];else if(q=="Prpr")return[11,6];
else if(q=="Clr")return"Set "+(Z.v.keyID=="FrgC"?"Foreground":"Background")+" color";else if(q=="Brsh")return"Set Brush";
else console.log(q)}else if(m=="move"){if(q=="Lyr")return"Move Layer"}else if(m=="show"||m=="hide"){var $="";
if(q=="Lyr")+"Layer";if(q=="Chnl")+"Channel";return(m=="show"?"Show":"Hide")+" "+$}else if(m=="reset"){if(q=="Clr")return"Reset Colors"}else if(m=="exchange"){if(q=="Clr")return[22,7,0]}else if(m=="rotateEventEnum")return[2,5];
else if(m=="flip"){var R=C.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,R?2:3]]}if(q=="Chnl"){if(m=="duplicate"){if(Z.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(m=="delete")return"Delete Channel"}if(m=="transform")return Z&&Z.v.keyID=="fsel"?[7,10]:[10,16];
var z={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:C?[6,31]:[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},v=z[m];
if(v==null)v=hc.fp[m];if(v)return v;return m};hc.fp={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
hc.d8={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
hc.asF=function(u,m,C,Z){var q=u.ZO,J=u.yS,A=new eY(r.E.H,!0),e,Q,p,B,z;A.b=b.IZ;var n=new eY(r.E.z,!0),N=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(N.indexOf(q)!=-1)return;B=b1.jv;for(e in B)if(B[e]==q)Q=e;B=a7.jv;for(e in B)if(B[e]==q)p=e;if(q=="fade")Q=q;
if(q=="matchColor")Q="matc";if(q=="applyImageEvent")Q="aply";if(Q){A.b=b.ks;A.data={d:"start",gD:Q,yg:J}}else if(p){A.b=b.zz;
A.data={d:"start",Bp:p,yg:J}}else if(q=="GEfc"){A.b=b.zz;A.data={d:"start",Bp:"GEfc",yg:J}}else if(q=="imageSize"||q=="canvasSize"||q=="revealAll"||q=="trim"||q=="crop"){A.b=b.VC;
A.data={d:"fromAction",Xc:u}}else if(q=="fill"||q=="stroke"||q=="delete"&&J==null){A.b=b.el;A.data={d:"fromAction",Xc:u}}else if(q=="colorRange"){A.b=b.zj;
A.data={d:"fromAction",Xc:u}}else if(hc.fp[q]||hc.d8[q]&&(!1||J.With&&J.With.v[0].v.keyID=="fsel"||J.From&&J.From.v[0].v.keyID=="fsel"||J.null&&J.null.v[0].v.keyID=="fsel"||J.T.v[0]&&J.T.v[0].v.keyID=="fsel")){A.b=b.zj;
A.data={d:"fromAction",Xc:u}}var $={copyToLayer:F.X_,cutToLayer:F.qn,mergeLayersNew:Z&&Z.w.length==1?F.BY:F.oQ,rasterizeLayer:F.eZ,mergeVisible:F.pi,flattenImage:F.Pt,newPlacedLayer:F.O7};
if($[q])A.data={d:$[q],yS:J};if(A.data){m.c(A);return}if(q=="collapseAllGroupsEvent"){for(var D=0;D<Z.g.length;
D++){var R=Z.g[D];if(R.ld())R.add.lsct=cT.an}Z.xi=!0;return}if(q=="desaturate"){A.b=b.ks;A.data={d:"auto",qK:3};
if(Z&&Z.g[Z.w[0]].add.SoLd==null)m.c(A);return}if(q=="close"){if(J.Svng.v.YsN=="Ys"){n.data={d:r.J.lg};
m.c(n)}n.data={d:r.J.Zi,Zq:Z};m.c(n);return}if(q=="save"){n.data={d:r.J.lg};m.c(n);return}if(q=="copyMerged"){n.data={d:r.J.TN,s_:!0,$Y:!0};
m.c(n);return}var $={placedLayerEditContents:r.J.amj,copyEvent:r.J.TN,paste:r.J.Dr};if($[q])n.data={d:$[q],$Y:!0};
if(n.data){m.c(n);return}if(J.null||J.At)z=(J.null?J.null:J.At).v;else z=[{t:"----",v:J}];if(z[0].t=="obj "){if(z.length!=1)throw"e";
z=z[0].v}for(var v=0;v<z.length;v++){var a=z[v],X=a.v.classID;A.data=null;if(q=="make"){if(J.null==null&&J.Nw)X=J.Nw.v.classID;
if(X=="AdjL"){A.data={d:F.Z1,yS:J}}else if(X=="layerSection"){A.data=J.From?{d:F.KH}:{d:F.Zb};if(J.Usng){var V=J.Usng.v;
if(V.Nm)A.data.RX=V.Nm.v;if(V.Clr)A.data.xc=hc.$B(V)}}else if(X=="Lyr"){if(J.Usng&&J.Usng.v.length==2)A.data={d:F.Bf};
else{A.data={d:F.O1};if(J.Usng)A.data.RX=J.Usng.v.Nm.v;if(J.below&&J.below.v)A.data.aoL=!0}}else if(X=="Chnl"&&a.v.enum=="Msk"){A.data={d:F.Nx,xk:J.Usng.v.UsrM}}else if(X=="Chnl"||X=="SCch"){A.data={d:F.aS,OY:"fromAction",k:u}}else if(X=="contentLayer"){A.data={d:F.UU,yS:J}}else if(X=="BckL"){Z.g[Z.w[0]].an7();
continue}else if(X=="Dcmn"){var o=J.Nw.v;n.data={d:r.J.n1,Uk:gj.akd(o,C)}}else if(X=="Ptrn")n.data={d:r.J.KA,no:0};
else if(X=="Path"){A.b=b.UX;A.data={d:"pathedit",OY:"fromsel"}}else if(X=="TxLr"){A.b=b.IR;A.data={d:"fromAction",Xc:u}}else if(X=="slice"){A.b=b.e4;
A.data={d:"fromAction",Xc:u}}else if(X=="SnpS"){continue}else{console.log(q,X,J);throw"e"}}else if(q=="deselect"){if(X=="Path"){Z.h2=[];
Z.xi=Z.qz=!0;continue}else throw X}else if(q=="select"){var h={PcTl:b.Vf,PbTl:b.el,magicWandTool:b.fQ};
if(X=="Lyr"){var T=J.selectionModifier,l=T?T.v.selectionModifierType:null,w=hc.u3(Z,a);if(w==-1){alert("Layer "+a.v.val+" does not exist.");
throw"e"}A.data={d:F.Ge,i:w,apq:l?["addToSelection","addToSelectionContinuous"].indexOf(l):null,l8:0,abd:!0}}else if(X=="Path"){if(a.v.keyID=="WrPt"){Z.h2=[0];
Z.xi=Z.qz=!0;continue}else throw a}else if(X=="Chnl"){A.data={d:F.Ge,i:w,l8:1}}else if(X=="Dcmn"){if(m.RE.length<2)return;
n.data={d:r.J.a46,dir:J.null.v[0].v.val}}else if(X=="Brsh"){var W=C.HI.list,U;for(var D=0;D<W.length;
D++){if(W[D].v.Nm.v==a.v.val)U=W[D].v}n.data={d:r.J.mh,no:jO.Lz,_0:U}}else if(X=="Mn"){if(a.v.enum=="Scl")n.data={d:r.J.K3,b:b.l7,xr:{xk:3}};
if(a.v.enum=="Plce")n.data={d:r.J.zZ,arQ:!0}}else if(h[X]){n.data={d:r.J.K3,b:h[X]}}else throw X}else if((q=="set"||q=="reset"||q=="exchange")&&X=="Clr"){n.data={d:r.J.mh,no:jO.e0,OY:q=="reset"?3:2};
if(q=="set"){n.data.OY=a.v.keyID=="FrgC"?0:1;var s=j.C.o5(J.T.v);n.data.k=s.p<<16|s.T<<8|s.S}}else if(q=="set"){if(X=="AdjL"){var S=J.T.v.classID;
S=b1.nR[S];A.b=b.ks;if(S)A.data={d:"edit_layer",k:J.T.v}}else if(X=="Lyr"){var x=J.T.v,w=hc.u3(Z,a);
if(x.Nm)A.data={d:F.W9,name:x.Nm.v};else if(x.Opct)A.data={d:F.X8,Qc:Math.round(x.Opct.v.val*255/100)};
else if(x.fillOpacity)A.data={d:F.Sh,Qc:Math.round(x.fillOpacity.v.val*255/100)};else if(x.Md)A.data={d:F.EU,Qc:hR.C7.indexOf(x.Md.v.BlnM)+(Z.g[w].ld()?1:0)};
else if(x.Usrs)A.data={d:F.JZ,i:w};else if(x.Blnd){A.b=b.vW;A.data={d:"setstl",i:w,k:{blendOptions:{t:"objc",v:x}}};
m.c(A);A.data={d:"confirm",i:w}}else if(x.userMaskFeather||x.userMaskDensity){var P=x.userMaskFeather,y=x.userMaskDensity;
A.b=b.IZ;var w=Z.w[0],_=Z.g[w].tr(0);if(P)_.yb=P.v.val;if(y)_.s2=y.v.val;A.data={d:F.Hw,eI:w,aL:_}}else if(x.Clr){var g=hc.$B(x);
A.data={d:F.vz,aaS:g}}else if(z[0].t=="prop")continue;else{console.log(J);throw"e"}var R=Z.g[w];R.a14()}else if(X=="Prpr"){var x=JSON.parse(JSON.stringify(J.T.v));
if(a.v.keyID=="TxtS"){var w=hc.u3(Z,J.null.v[1]),R=Z.g[w],G=R.add.TySh,E=JSON.parse(JSON.stringify(G.pU)),L=ad.yd(E),c=ad.zd(E,0,L.length-2);
if(x.Undl&&x.Undl.v.Undl=="underlineOnLeftInVertical")c.L4.Underline=!0;ad.sM(E,0,L.length-1,c);A.b=b.IR;
A.data={d:"newED",sm:w,N9:E};v=1e9}else{for(var k in x)if(x[k].v){if(k=="Scl")x[k].v.val=100;if(x[k].v.TrnS&&x[k].v.TrnS.v.Crv==null){x[k].v.TrnS=JSON.parse(c0.j_[9]).TrnS}}fg.HJ(x);
if(x.masterFXSwitch==null)x.masterFXSwitch={t:"bool",v:!0};var w=hc.u3(Z,J.null.v[1]);A.b=b.vW;A.data={d:"setstl",i:w,k:{Lefx:{t:"objc",v:x}}};
m.c(A);A.data={d:"confirm",i:w}}}else if(X=="contentLayer"){var w=hc.u3(Z,a),x=J.T.v;if(x.classID=="shapeStyle")x=x.FlCn.v;
var I={solidColorLayer:0,gradientLayer:1,patternLayer:2}[x.classID],Y=b.Ug.zD(Z,w),p=Y.Er==I+1?Y.am:c0.g0[I];
p=JSON.parse(JSON.stringify(p));b.l_.wl(x,p,I);A.data={d:F.cQ,Mn:[w],Ze:!0,k:{Er:I+1,am:p}}}else if(X=="Brsh"){var U=JSON.parse(JSON.stringify(C.HI.P1)),K=J.T.v;
if(K.masterDiameter)U.Brsh.v.Dmtr.v.val=K.masterDiameter.v.val;else console.log("unknown brush parameters");
n.data={d:r.J.mh,no:jO.Lz,_0:U}}else{console.log(a,J);throw X}}else if(q=="move"){if(X=="Lyr"){var x=J.T.v;
if(x.classID=="Ofst"){A.data={d:"trsl",io:x.Hrzn.v.val,Kp:x.Vrtc.v.val};A.b=b.Iw}else{var i,i4;if(x[0].t=="Enmr"){if(x[0].v.enum=="Frnt")i4=0;
else if(x[0].v.enum=="Nxt")i4=1;else if(x[0].v.enum=="Prvs")i4=2;else if(x[0].v.enum=="Back")i4=3;else throw"e"}else i=x[0].v.val;
A.data={d:F.Sk,target:i,OY:i4,acN:J.Dplc?J.Dplc.v:!1}}}}else if(q=="groupEvent"||q=="ungroup")A.data={d:F.A8};
else if(q=="show"||q=="hide"){if(X=="Lyr"){var w=hc.u3(Z,a);if(w==-1)continue;var d7=Z.g[w].cG();if(q=="show"&&d7||q=="hide"&&!d7)continue;
A.data={d:F.LV,i:w}}else if(X=="Chnl"){A.data={d:F.aS,OY:"fromAction",k:u}}else if(X=="filterFX"){if(a.v.val!=null)A.data={d:F.nB,index:a.v.val-1};
A.data={d:F.M$};z=[z[0]]}}else if(q=="rotateEventEnum"){A.b=b.VC;var d=J.Angl.v.val;A.data={d:"rot",wy:[2,5],k:-d*Math.PI/180}}else if(q=="flip"){A.b=b.VC;
var fH=J.Axis.v.Ornt=="Hrzn",aC=fH?new dz(-1,1):new dz(1,-1);A.data={d:"scl",wy:[[2,6],[22,4,fH?2:3]],k:aC}}else if(q=="transform"){var f8=1,c9=1,g1=0,cE=0,hG=0,fA=0,hh=0;
if(J.Wdth)f8=J.Wdth.v.val/100;if(J.Hght)c9=J.Hght.v.val/100;if(J.Skew){var eE=J.Skew.v;g1=eE.Hrzn.v.val;
cE=eE.Vrtc.v.val}if(J.Ofst){var dh=J.Ofst.v;fA=dh.Hrzn.v.val;hh=dh.Vrtc.v.val}if(J.Angl)hG=J.Angl.v.val;
var fT=new ix;fT.concat(new ix(f8,f8*Math.tan(cE*Math.PI/180),c9*Math.tan(g1*Math.PI/180),c9,0,0));fT.rotate(-hG*Math.PI/180);
fT.translate(fA,hh);var dB={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[J.FTcs.v.QCSt];
if(dB==null)throw J.FTcs.v.QCSt;var a=J.null;if(a&&a.v instanceof Array)a=a.v[0];var w=a?hc.u3(Z,a):null;
if(w==-1)w=null;A.b=a&&a.v.keyID=="fsel"?b.r_:b.l7;A.data={d:"mat",fy:dB,k:fT}}else if(X=="Chnl"){A.data={d:F.aS,OY:"fromAction",k:u}}else if(q=="duplicate")A.data={d:F.Gx,RX:J.Nm?J.Nm.v:null};
else if(q=="delete"){if(X=="filterFX"){if(a.v.val!=null)A.data={d:F.q_,$h:a.v.val-1};else A.data={d:F.M3}}else A.data={d:F.Sz};
z=[z[0]]}else if(q=="align"){if(J.Aply&&J.Aply.v.projection=="Auto"){A.b=b.VC;A.data={d:"auto-align"}}else{A.b=b.Iw;
var iN=J.Usng.v.ADSt,Q={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[iN];if(Q==null)throw iN;A.data={d:"algn",k:Q}}}else if(q=="applyLocking"){var gV=J.layerLocking.v,fI;
if(gV.protectTransparency)fI=[[gV.protectTransparency.v],[0]];else if(gV.protectNone)fI=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(gV);throw"e"}A.data={d:F.nV,Qc:fI}}if(A.data)m.c(A);else if(n.data)m.c(n);else{console.log(u);
alert("Unknown action \""+q+"\"");throw"e"}}};hc.$B=function(u){var m={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[u.Clr.v.Clr];
if(m==null)throw u.Clr.v.Clr;return m};hc.u3=function(u,m){var C=1e6,Z=0;for(var D=0;D<u.w.length;D++){C=Math.min(C,u.w[D]);
Z=Math.max(Z,u.w[D])}var q=m.t,J=-1;if(q=="name"){var A=m.v.val,J=-1;for(var D=0;D<u.g.length;D++)if(u.g[D].getName()==A){J=D;
break}}if(q=="Enmr"&&u.w.length!=0)J=u.w[0];if(q=="Enmr"&&m.v.enum=="Frwr")J=Z+1;if(q=="Enmr"&&m.v.enum=="Bckw")J=C-1;
if(q=="prop"){if(m.v.keyID=="Bckg")J=0}return J};var b1={};b1.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
b1.O5=["expA","clrL","selc"];b1.oc=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];b1.abn=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
b1.ql=[[13,1,1],[13,1,4],[13,1,5]];b1.Ku={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
b1.nR=function(){var u=JSON.parse(JSON.stringify(b1.Ku));delete u.GrMp;u.GdMp="grdm";return u}();b1.jv={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
b1.keys={levl:[hs.Vw,hs.nI],curv:[hs.Vw,hs.RM],hue2:[hs.Vw,hs.BB],nvrt:[hs.Vw,hs.El],blnc:[hs.Vw,hs.Eu]};
b1.vp=function(u){var m=a7.Qv("mixr");m.Mnch={t:"bool",v:u.ct};function C(Z,D){var q={classID:"ChMx"},J={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var A in J)q[A]={t:"UntF",v:{type:"#Prc",val:Z[D+J[A]]}};return{t:"Objc",v:q}}if(u.ct)m.Gry=C(u.k,0);
else{m.Rd=C(u.k,0);m.Grn=C(u.k,5);m.Bl=C(u.k,10)}return m};b1.yP=function(u){function m(Z,q,D){var J={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var A in J)if(Z[A])q[D+J[A]]=Z[A].v.val}var C={ct:!1,k:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(u.Mnch&&u.Mnch.v)C.ct=!0;if(C.ct)m(u.Gry.v,C.k,0);else{m(u.Rd.v,C.k,0);m(u.Grn.v,C.k,5);m(u.Bl.v,C.k,10)}return C};
b1.get=function(u){for(var m in b1.names)if(u[m]!=null)return m;return null};b1.z$=function(u,m){var C=b1.R8,Z;
if(u=="brit"){var q=m.Brgh?m.Brgh.v:0,J=m.Cntr?m.Cntr.v:0,A=m.useLegacy?m.useLegacy.v:!1;if(A){var n=q/255,N=1+J/100;
if(N>1)N=1+Math.tan(Math.PI/2*J/101);var e=(1-N)/2,Q=j.dZ.Z9(n,n,n),p=[N,0,0,e,0,N,0,e,0,0,N,e,0,0,0,1],B=j.dZ.multiply(Q,p),$=new j.HT(256);
for(var D=0;D<256;D++)$.p[D]=D;j.dZ.transform($,$,B);Z={type:C.ot,S8:$.p,Qm:$.p,h3:$.p,R9:!1,SZ:!1}}else{var R=1024,z=-30+60*(J+100)/200,v=[];
for(var D=0;D<4;D++)v.push(j.AE.Ft(D/3*255,D/3*255,!0));v[1].v.Hrzn.v=64;v[1].v.Vrtc.v=64-z;v[2].v.Hrzn.v=128+64;
v[2].v.Vrtc.v=128+64+z;v.sort(function(da,bc){return da.v.Hrzn.v-bc.v.Hrzn.v});var a=j.AE.xP(v,R);function X(da,R){var v=[],jt=3;
for(var D=0;D<jt+1;D++)v.push(j.AE.Ft(D/jt*255,D/jt*255,!0));v[1].v.Hrzn.v=130-da*26;v[1].v.Vrtc.v=130+da*51;
v[2].v.Hrzn.v=233-da*48;v[2].v.Vrtc.v=233+da*10;return j.AE.xP(v,R)}var V=X(Math.abs(q)/100,R);if(q<0){var o=[],h=1/R;
for(var D=0;D<R;D++){var T=D*h,l=D;while(V[l]>T&&l>1)l--;o[D]=l*h}V=o}var w=new Uint8Array(R);for(var D=0;
D<R;D++){var W=Math.round((R-1)*V[D]);w[D]=Math.round(255*a[W])}Z={type:C.ot,S8:w,Qm:w,h3:w,R9:!1,SZ:!1}}}if(u=="levl"){var U=[],s,S,Q,x,P,y;
for(var D=0;D<4;D++)U.push(ii.kN(m,D));s=-U[0][0]/255;S=1/(U[0][1]/255-U[0][0]/255);Q=j.dZ.multiply(j.dZ.wV(S,S,S),j.dZ.Z9(s,s,s));
x=j.dZ.wV(1/(U[1][1]/255-U[1][0]/255),1/(U[2][1]/255-U[2][0]/255),1/(U[3][1]/255-U[3][0]/255));P=j.dZ.Z9(-U[1][0]/255,-U[2][0]/255,-U[3][0]/255);
y=j.dZ.multiply(x,P);var w=new j.HT(256);for(var D=0;D<256;D++)w.p[D]=w.T[D]=w.S[D]=D;var _=1/(U[0][4]/100),g=1/(U[1][4]/100),G=1/(U[2][4]/100),O=1/(U[3][4]/100);
j.dZ.transform(w,w,y);for(var D=0;D<256;D++){w.p[D]=Math.round(Math.max(0,Math.min(255,255*Math.pow(w.p[D]/255,g))));
w.T[D]=Math.round(Math.max(0,Math.min(255,255*Math.pow(w.T[D]/255,G))));w.S[D]=Math.round(Math.max(0,Math.min(255,255*Math.pow(w.S[D]/255,O))))}j.dZ.transform(w,w,Q);
for(var D=0;D<256;D++){w.p[D]=Math.round(Math.max(0,Math.min(255,255*Math.pow(w.p[D]/255,_))));w.T[D]=Math.round(Math.max(0,Math.min(255,255*Math.pow(w.T[D]/255,_))));
w.S[D]=Math.round(Math.max(0,Math.min(255,255*Math.pow(w.S[D]/255,_))))}s=U[0][2]/255;S=U[0][3]/255-U[0][2]/255;
Q=j.dZ.multiply(j.dZ.Z9(s,s,s),j.dZ.wV(S,S,S));x=j.dZ.wV(U[1][3]/255-U[1][2]/255,U[2][3]/255-U[2][2]/255,U[3][3]/255-U[3][2]/255);
P=j.dZ.Z9(U[1][2]/255,U[2][2]/255,U[3][2]/255);y=j.dZ.multiply(P,x);j.dZ.transform(w,w,j.dZ.multiply(Q,y));
Z={type:C.ot,S8:w.p,Qm:w.T,h3:w.S,R9:!1,SZ:!1}}if(u=="curv"){var E=ee.kN(m,0).length==256?1:0,L=[];if(E==0){var c=j.AE.bm(ee.kN(m,0),256);
for(var D=1;D<4;D++){var k=j.AE.bm(ee.kN(m,D),256);L.push(j.AE.Ux(k,c))}}else{var I=[];for(var D=0;D<4;
D++){var Y=new Uint8Array(256);I.push(Y);var K=ee.kN(m,D);for(var l=0;l<256;l++)Y[l]=K[l]}for(var D=1;
D<4;D++)L.push(j.AE.Ux(I[D],I[0]))}Z={type:C.ot,S8:L[0],Qm:L[1],h3:L[2],R9:!1,SZ:!1}}if(u=="expA"){var i=m.Exps,i4=m.Ofst,d7=m.gammaCorrection,d=i?i.v:0,fH=i4?i4.v:0,aC=d7?d7.v:1,w=new Uint8Array(256);
for(var D=0;D<256;D++){var m=D/255,f8=Math.pow(Math.abs(fH),1/(Math.PI/2));if(fH>0){m=Math.max(fH/Math.E,m);
m=m*Math.exp(fH/1.75+d/Math.PI);m=(1-f8)*m+f8*1}else{m=m*Math.exp(-fH*1.75+d/Math.PI);m=m+-f8*1.14}m=Math.pow(m,1/aC);
m=Math.max(0,Math.min(1,m));w[D]=Math.round(m*255)}Z={type:C.ot,S8:w,Qm:w,h3:w,R9:!1,SZ:!1}}if(u=="vibA"){var c9=(m.vibrance?m.vibrance.v:0)/100,g1=(m.Strt?m.Strt.v:0)/100,f8=1+c9*(c9>0?.25:.5),cE=.8+.2/f8;
Z={type:C.Xk,no:[c9,g1,cE,f8]}}if(u=="hue2"){var hG=[],fA=[],hh=[],eE=m.Clrz?m.Clrz.v:!1;for(var D=0;
D<256;D++){hG[D]=D/255;fA[D]=0;hh[D]=0}var dh=je.kN(m,0),fT=b1.f8(dh[1]/100);if(eE){var dB=dh[0]/360;
for(var D=0;D<256;D++){hG[D]=dB;fA[D]=fT}}else{for(var D=0;D<256;D++){var iN=hG[D],gV=fA[D];hG[D]+=dh[0]/360;
for(var l=0;l<6;l++){var fI=je.kN(m,l+1),gc=fI.tZ,aF=fI.w8,f8=0;for(var gh=1;gh<4;gh++)if(aF[gh]<aF[0])aF[gh]+=360;
var gD=aF[0],j1=aF[1],dg=aF[2],ao=aF[3],eC=iN*360;if(eC<aF[0])eC+=360;var bD=(eC-gD)/(j1-gD),fK=(eC-dg)/(ao-dg);
if(bD<0)f8=0;else if(bD<1)f8=bD;else if(fK<0)f8=1;else if(fK<1)f8=1-fK;else f8=0;var N=b1.f8(gc[1]/100);
hG[D]+=f8*gc[0]/360;fA[D]+=f8*N;hh[D]+=f8*gc[2]/100}}for(var D=0;D<256;D++){fA[D]=(1+fA[D])*(1+fT)-1;
hh[D]=Math.max(-1,Math.min(1,hh[D]))}}var a1=new Uint8Array(256),fR=new Uint8Array(256),bj=new Uint8Array(256);
for(var D=0;D<256;D++){var b7=hG[D],g1=fA[D],ha=hh[D];if(b7>1)b7--;if(b7<0)b7++;g1=b1.auQ(g1);g1=(1+g1)*.5;
ha=(1+ha)*.5;a1[D]=Math.round(255*b7);fR[D]=Math.round(255*g1);bj[D]=Math.round(255*ha)}var eJ=dh[2]/100,cq=eJ<0?-eJ:eJ,bF=eJ<0?0:1;
Z={type:C.qW,an9:a1,li:fR,amx:bj,a4K:cq*bF,h8:1-cq,a23:dh[2]/100,ac_:eE?1:0}}if(u=="nvrt"){var w=new Uint8Array(256);
for(var D=0;D<256;D++)w[D]=255-D;Z={type:C.ot,S8:w,Qm:w,h3:w,R9:!1,SZ:!1}}if(u=="post"){var g4=m.Lvls.v,w=new Uint8Array(256),f8=g4/255.001,eA=255/(g4-1);
for(var D=0;D<256;D++)w[D]=Math.floor(D*f8)*eA;Z={type:C.ot,S8:w,Qm:w,h3:w,R9:!1,SZ:!1}}if(u=="grdm"){var aJ=m.Grad.v,fU=m.Rvrs,R=1024,iE;
if(aJ.Clrs){var hQ=j.C.Nm(aJ.Clrs.v,0,0);iE=j.C.nW(aJ,hQ,R,fU?fU.v:!1)}else{iE=j.C.$l(aJ,R,fU?fU.v:!1)}var bT=j.U(R),iU=j.U(R),ba=j.U(R);
j._H(iE,bT,0);j._H(iE,iU,1);j._H(iE,ba,2);Z={type:C.ot,S8:bT,Qm:iU,h3:ba,R9:!0,SZ:!1}}if(u=="selc"){var eI=new Float32Array(9*3*2),e_=m.Lq,bs=m.Mthd?m.Mthd.v.CrcM=="Absl":!1;
for(var l=0;l<9;l++){var fr=l*6,db=iw.kN(m,l),fx=db[0]/100,fb=db[1]/100,dA=db[2]/100,ge=db[3]/100;if(bs){eI[fr]=eI[fr+1]=eI[fr+2]=1;
eI[fr+3]=fx*(1+ge)+ge;eI[fr+4]=fb*(1+ge)+ge;eI[fr+5]=dA*(1+ge)+ge}else{eI[fr+0]=(1+fx)*(1+ge);eI[fr+1]=(1+fb)*(1+ge);
eI[fr+2]=(1+dA)*(1+ge)}}Z={type:C.L2,a0o:eI}}if(u=="blwh"){var bh="Rd Yllw Grn Cyn Bl Mgnt".split(" "),Z=[],cQ=0,i8=0;
for(var D=0;D<6;D++)Z.push(m[bh[D]].v);Z.push(m.useTint.v,m.tintColor.v);var cY=[];for(var D=0;D<6;D++)cY.push((Z[D]-50)/50);
var d6=j.C.o5(Z[7]);d6.p/=255;d6.T/=255;d6.S/=255;var hU=j.Kv(d6.p,d6.T,d6.S),ha=j.Gc(j.dB(hU.Oh,1,.5)),f2=hU.jL*hU.yg;
if(ha==.5)cQ=i8=.5;else{cQ=f2*(.5-ha)/(.5/ha-1);i8=1-f2*(.5-ha)-1/(2*(1-ha));i8/=1-1/(2*(1-ha))}Z={type:C.tv,aoT:cY,ep:Z[6]?1:0,a5K:hU.Oh,Gc:ha,arq:f2,De:cQ,apw:i8}}if(u=="blnc"){var U=[],hw=["ShdL","MdtL","HghL"];
for(var D=0;D<3;D++){if(m[hw[D]]==null){U[D]=[0,0,0];continue}var g4=m[hw[D]].v,iA=g4[0].v/100,ce=g4[1].v/100,al=g4[2].v/100,aS=m.PrsL==null||m.PrsL.v?(Math.min(iA,ce,al)+Math.max(iA,ce,al))/2:0;
U[D]=[iA-aS,ce-aS,al-aS]}var L=[j.U(256),j.U(256),j.U(256)];for(var l=0;l<3;l++)for(var D=0;D<256;D++){var T=D*(1/255),gM=0,z=0,gS=0;
z=U[2][l];gS=Math.abs(z);if(z<0)gM=Math.pow(T,Math.SQRT2);else gM=1.63*(Math.pow(T+.04,.5)-.2);T=gS*gM+(1-gS)*T;
z=U[1][l];gS=Math.abs(z);if(z<0)gM=Math.pow(T,2);else gM=Math.min(2.35*(Math.pow(T+.09,.5)-.3),Math.pow(T,1/2));
T=gS*gM+(1-gS)*T;z=U[0][l];gS=Math.abs(z);if(z<0)gM=T<.4?0:Math.pow((T-.4)/.6,Math.SQRT2);else gM=Math.pow(T,Math.SQRT2/2);
T=gS*gM+(1-gS)*T;T=Math.max(0,Math.min(1,T));L[l][D]=Math.round(T*255)}Z={type:C.ot,S8:L[0],Qm:L[1],h3:L[2],R9:!1,SZ:!1}}if(u=="phfl"){var h3=j.C.o5(m.Clr.v),id=[h3.p/255,h3.T/255,h3.S/255],e3=m.Dnst.v/100,L=[j.U(256),j.U(256),j.U(256)];
for(var l=0;l<3;l++)for(var D=0;D<256;D++){var T=D*(1/255),cw=T*id[l];cw=Math.max(0,Math.min(1,cw));
T=e3*cw+(1-e3)*T;L[l][D]=Math.round(T*255)}Z={type:C.ot,S8:L[0],Qm:L[1],h3:L[2],R9:!1,SZ:m.PrsL.v}}if(u=="thrs"){var w=j.U(256);
for(var D=m.Lvl.v;D<256;D++)w[D]=255;Z={type:C.ot,S8:w,Qm:w,h3:w,R9:!0,SZ:!1}}if(u=="mixr"){var io=b1.yP(m),B=[];
for(var D=0;D<io.k.length;D++)if(D%5!=3)B.push(io.k[D]/100);if(io.ct){for(var iY=1;iY<3;iY++)for(var T=0;
T<4;T++)B[iY*4+T]=B[T]}Z={type:C.QC,NC:B}}if(u=="rplc"){var jy=m.Mnm.v,cn=m.Mxm.v;Z={type:C.nz,IT:[jy.Lmnc.v,jy.A.v,jy.B.v],u9:[cn.Lmnc.v,cn.A.v,cn.B.v],shift:[m.H.v/360,m.Strt.v/100,m.Lght.v/100],Wf:m.Fzns.v/150}}if(u=="clrL"&&m.profile){var ej=new Uint8Array(m.profile.v),j7=ICC.R(ej.buffer),fn=[],h4=17,fn=ICC.U.sampleLUT(j7,h4);
Z={type:C.gJ,_y:ICC.U.rgba8LUT(fn,h4),amd:fn,M8:h4}}return Z};b1.yC=function(u,m){var C=-1;if(u!="levl"||m==null)C=-1;
else if(m.Auto)C=0;else if(m.AuCo)C=1;else if(m.autoBlackWhite)C=2;return C};b1.R8={ot:0,qW:1,Xk:2,L2:3,tv:4,QC:5,nz:6,gJ:7};
b1.f8=function(u){if(u<0)return u;return Math.pow(Math.tan(Math.PI/2*u),1.3)};b1.auQ=function(u){if(u<0)return u;
u=Math.pow(u,1/1.3);return Math.atan2(u,1)/(Math.PI/2)};b1.D1=function(u,m,C,Z){var q=b1.R8,J=Date.now();
if(H.GL&&Z.Z()>300*300&&u.type!=q.ot&&u.type!=q.gJ){Z=Z.clone();Z.x=Z.y=0;var A=H.Gi(0,Z.e,Z.n);A.set(m);
H.JU(A,Z);A._h(Z);b1.ka(u,A.Fj,Z);A.get(C);return}if(u.type==q.gJ){var n=u.amd,N=u.M8;ICC.U.applyLUT(n,N,m,C);
var e=m.length;for(var D=0;D<e;D+=4)C[D+3]=m[D+3]}if(u.type==q.QC)j.dZ.pz(m,C,u.NC);if(u.type==q.tv){var Q=u.arq,p=u.Gc,B=u.De,$=u.apw,e=m.length;
for(var D=0;D<e;D+=4){var Z=m[D]*(1/255),R=m[D+1]*(1/255),z=m[D+2]*(1/255),v=j.up(Z,R,z),a=0;for(var X=0;
X<6;X++)a+=Math.min(1,1.7*(1-v.Hc))*v.jL*u.aoT[X]*b1.CJ(v.Oh,X*(1/6));var V=Math.max(0,Math.min(1,v.Hc*(1+a)));
if(u.ep==1){var o=0;if(V<B)o=V*(.5/p);else if(V<$)o=V+Q*(.5-p);else o=1-(1-V)*.5/(1-p);v.Oh=u.a5K;v.jL=Math.min(1,Q+3*Q*Math.abs(V-.5*(B+$)));
v.Hc=o}else{v.Oh=0;v.jL=0;v.Hc=V}var h=j.dB(v.Oh,v.jL,v.Hc);C[D]=Math.round(h.p*255);C[D+1]=Math.round(h.T*255);
C[D+2]=Math.round(h.S*255)}}if(u.type==q.L2){var T=u.a0o,e=m.length,l=1/255;for(var D=0;D<e;D+=4){var Z=m[D]*l,R=m[D+1]*l,z=m[D+2]*l,v=j.up(Z,R,z),w=Math.max(Z,Math.max(R,z)),W=Math.min(Z,Math.min(R,z)),U=1-Z,s=1-R,S=1-z,x=0,P=0,y=0;
for(var X=0;X<9;X++){var _=X*6,E=0;if(T[_]==1&&T[_+1]==1&&T[_+2]==1&&T[_+3]==0&&T[_+4]==0&&T[_+5]==0)continue;
var g=U*T[_]+T[_+3],G=s*T[_+1]+T[_+4],O=S*T[_+2]+T[_+5];if(X<6)E=b1.CJ(v.Oh,X*(1/6))*v.jL*2*Math.min(v.Hc,1-v.Hc);
else if(X==6)E=Math.max(0,W-.5)*2;else if(X==7)E=1-(Math.abs(w-.5)+Math.abs(W-.5));else E=Math.max(0,.5-w)*2;
x+=(Math.max(0,Math.min(1,g))-U)*E;P+=(Math.max(0,Math.min(1,G))-s)*E;y+=(Math.max(0,Math.min(1,O))-S)*E}U=Math.max(0,Math.min(1,U+x));
s=Math.max(0,Math.min(1,s+P));S=Math.max(0,Math.min(1,S+y));Z=1-U;R=1-s;z=1-S;C[D]=Math.round(Z*255);
C[D+1]=Math.round(R*255);C[D+2]=Math.round(z*255)}}if(u.type==q.ot){j.a87(m,C,u.S8,u.Qm,u.h3,u.R9,u.SZ)}if(u.type==q.qW){var L=new Uint32Array(m.buffer),c=new Uint32Array(C.buffer),e=L.length;
if(b1.US==null){b1.US=new Float64Array(256);for(var D=0;D<256;D++)b1.US[D]=b1.f8(-1+2*D/255)}var k=b1.US;
for(var D=0;D<e;D++){var I=L[D],Z=(I&255)*(1/255),R=(I>>>8&255)*(1/255),z=(I>>>16&255)*(1/255),Y=I>>>24,K=Math.min(Z,R,z),i=Math.max(Z,R,z),i4=0,d7=0,d=0;
i4=j.up(Z,R,z).Oh;var fH=~~(i4*255+.5),aC=u.an9[fH]*(1/255),f8=u.li[fH]*(1/255)*2-1,c9=u.amx[fH]*(1/255)*2-1,a=-c9,g1=K;
if(0<c9){a=c9;g1=i}var cE=u.a4K+u.h8*a*g1,hG=u.h8*(1-a);Z=cE+hG*Z;R=cE+hG*R;z=cE+hG*z;i=Math.max(Z,R,z);
K=Math.min(Z,R,z);d=(i+K)*.5;if(i!=K){var fA=i-K;d7=d>.5?fA/(2-(i+K)):fA/(i+K)}var hh=f8;if(u.ac_==0){f8=k[Math.floor((1+f8)*127.5)];
hh=Math.min(d7*(1+f8),1)}var h=j.dB(aC,hh,d);Z=h.p;R=h.T;z=h.S;c[D]=Y<<24|z*255<<16|R*255<<8|Z*255}}if(u.type==q.nz){j.Uj(m,C);
var L=new Uint32Array(m.buffer),c=new Uint32Array(C.buffer),e=L.length,eE=u.Wf,dh=1/eE,fT={nI:u.IT[0],w7:u.IT[1],S:u.IT[2]},dB={nI:u.u9[0],w7:u.u9[1],S:u.u9[2]};
for(var D=0;D<e;D++){var I=L[D],iN=I&255,gV=I>>>8&255,fI=I>>>16&255,Z=iN*(1/255),R=gV*(1/255),z=fI*(1/255),Y=I>>>24,gc=j.OI(iN,gV,fI),aF=j.ZZ(gc,fT,dB,eE,dh);
if(aF==0)continue;var v=j.up(Z,R,z),aC=2+v.Oh+u.shift[0];v.Oh=aC-~~aC;v.jL=Math.max(0,Math.min(1,v.jL+u.shift[1]));
v.Hc=Math.max(0,Math.min(1,v.Hc+u.shift[2]));var h=j.dB(v.Oh,v.jL,v.Hc);Z=(1-aF)*Z+aF*h.p;R=(1-aF)*R+aF*h.T;
z=(1-aF)*z+aF*h.S;c[D]=Y<<24|z*255<<16|R*255<<8|Z*255}}if(u.type==q.Xk){var L=new Uint32Array(m.buffer),c=new Uint32Array(C.buffer),e=L.length,gh=u.no[0],gD=u.no[1],j1=u.no[2],a=u.no[3],dg=j.dZ.Po([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),ao=j.dZ.mL(dg),eC=2.4;
console.log(ao);function N(bj){return Math.max(0,Math.min(1,bj))}function bD(bj){return Math.pow(bj,eC)}function fK(bj){return Math.pow(bj,1/eC)}function a1(Z,R,z,bj){Z=bD(Z);
R=bD(R);z=bD(z);var b7=j.dZ.lf(dg,[Z,R,z,1]);b7[0]*=j1;b7[1]*=a;b7[2]*=a;var h=j.dZ.lf(ao,b7);h[0]=fK(N(h[0]));
h[1]=fK(N(h[1]));h[2]=fK(N(h[2]));return h}for(var D=0;D<e;D++){var I=L[D],Z=(I&255)*(1/255),R=(I>>>8&255)*(1/255),z=(I>>>16&255)*(1/255),Y=I>>>24,h=a1(Z,R,z,gh);
Z=h[0];R=h[1];z=h[2];var fR=j.up(Z,R,z);fR.jL=Math.max(0,Math.min(1,fR.jL*(1+gD)));h=j.dB(fR.Oh,fR.jL,fR.Hc);
Z=h.p;R=h.T;z=h.S;c[D]=Y<<24|z*255<<16|R*255<<8|Z*255}}};b1.ka=function(u,m,C){H.gD.ka(u,m)};b1.CJ=function(u,m){var C=j.KM(m,u)*6;
return Math.max(0,Math.min(1,C<0?1+C:1-C))};var a7={};a7.OU=function(u){var m=u.filterID.v;return m>16777215?M.aeY(m):u.Fltr.v.classID};
a7.Bc=[{am:"GEfc"},{am:"LnCr"},{am:"LqFy",ZR:!0},{TB:"3D",FE:["lightFilterGradient"]},{TB:[24,2],FE:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{TB:[24,4],FE:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{TB:[24,6],FE:["AdNs","Dspc","DstS","Mdn ","denoise"]},{TB:[24,8],FE:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{TB:[24,10],FE:["Flam","Clds","DfrC","Fbrs","LnsF"]},{TB:[24,12],FE:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{TB:[24,14],FE:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{TB:[24,16],FE:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr".split(",")},{TB:"Fourier",FE:["dDFT","iDFT"]}];
a7.jv={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
a7.aX={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM"};
a7.K={rigidTransform:b.Pz};a7.names={lightFilterGradient:"Normal Map",rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:"ZigZag",AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:"Reduce Noise",ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Flam:"Flame",Clds:[24,11,0],DfrC:[24,11,1],Fbrs:"Fibers",LnsF:[24,11,2],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:"Solarize",TrcC:"Trace Contour","Wnd ":"Wind",HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:"Color to Alpha",Dthr:[12,23,3],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:"Defringe",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]]};
a7.Qv=function(u){var m=null;if(u=="GEfc")m={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:b5.Qv("GlwE")}]}};
if(u=="LqFy"){var C={du:5,Oh:5,map:new Float32Array(5*5*2)},Z=new Uint8Array(eX.Zw(C)),q=[];for(var D=0;
D<Z.length;D++)q.push(Z[D]);m={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:q}}}if(u=="rigidTransform"){m={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(u=="LnCr")m={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(u=="adaptCorrect")m={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(u=="Dfs ")m={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(u=="Fbrs")m={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(u=="Embs")m={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(u=="oilPaint")m={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(u=="TrcC")m={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(u=="Wnd ")m={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(u=="lightFilterGradient")m={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(u=="boxblur")m={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(u=="GsnB")m={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(u=="Bokh")m={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(u=="MtnB")m={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(u=="RdlB")m={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(u=="surfaceBlur")m={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(u=="denoise")m={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(u=="Dspl")m={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(u=="Pnch")m={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(u=="Plr ")m={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(u=="Rple")m={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(u=="Shr ")m={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(u=="Sphr")m={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(u=="Twrl")m={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(u=="Wave")m={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(u=="ZgZg")m={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(u=="AdNs")m={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(u=="DstS")m={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(u=="Mdn ")m={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(u=="ClrH")m={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(u=="Crst")m={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(u=="Mztn")m={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(u=="Msc ")m={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(u=="Pntl")m={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(u=="LnsF")m={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(u=="Dthr")m={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0}};if(u=="Adobe Camera Raw Filter")m={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(u=="smartSharpen")m={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(u=="UnsM")m={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(u=="HghP")m={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(u=="HsbP")m={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(u=="Mxm ")m={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(u=="Mnm ")m={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(u=="Ofst")m={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(u=="Rept")m={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(u=="Flam")m={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(u=="Ctoa")m={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(u=="brit")m={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(u=="levl")m={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(u=="curv")m={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(u=="expA")m={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(u=="vibA")m={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(u=="hue2")m={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(u=="blnc")m={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(u=="blwh")m={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(u=="phfl")m={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(u=="grdm")m={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(c0.j_[6]).Grad};
if(u=="selc")m={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(u=="thrs")m={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(u=="mixr")m={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(u=="clrL")m={__name:"Color Lookup",classID:"colorLookup"};if(u=="post")m={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(u=="rplc")m={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(u=="fade")m={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(u=="aply")m={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(u=="matc"){m={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(u=="blendOptions")m={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return m};a7.sv={sFlam:function(u,m){m[0]=u.Type.v;m[1]=u.Leng.v;m[2]=u.RndL.v;m[3]=u.Widt.v;m[4]=u.Angl.v;
m[5]=u.Intr.v;m[6]=u.Adpt.v;m[7]=u.Clr.v;m[8]=u.Qual.v;m[9]=u.Turb.v;m[10]=u.Jag.v;m[11]=u.Opct.v.val;
m[12]=u.Lins.v;m[13]=u.Botm.v;m[14]=u.Styl.v;m[15]=u.Shap.v;m[16]=u.RnSh.v;m[17]=u.Arng.v},gFlam:function(u,m){u.Type.v=m[0];
u.Leng.v=m[1];u.RndL.v=m[2];u.Widt.v=m[3];u.Angl.v=m[4];u.Intr.v=m[5];u.Adpt.v=m[6];u.Clr.v=m[7];u.Qual.v=m[8];
u.Turb.v=m[9];u.Jag.v=m[10];u.Opct.v.val=m[11];u.Lins.v=m[12];u.Botm.v=m[13];u.Styl.v=m[14];u.Shap.v=m[15];
u.RnSh.v=m[16];u.Arng.v=m[17]},sAdNs:function(u,m){m[0]=u.Nose.v.val;m[1]=["Gsn","Unfr"].indexOf(u.Dstr.v.Dstr);
m[2]=u.Mnch.v},gAdNs:function(u,m){u.Nose.v.val=m[0];u.Dstr.v.Dstr=["Gsn","Unfr"][m[1]];u.Mnch.v=m[2]},sDstS:function(u,m){m[0]=u.Rds.v;
m[1]=u.Thsh.v},gDstS:function(u,m){u.Rds.v=m[0];u.Thsh.v=m[1]},sGsnB:function(u,m){m[0]=u.Rds.v.val},gGsnB:function(u,m){u.Rds.v.val=m[0]},sHghP:function(u,m){m[0]=u.Rds.v.val},gHghP:function(u,m){u.Rds.v.val=m[0]},sHsbP:function(u,m){var C=["RGBC","HSBl","HSLC"];
m[0]=C.indexOf(u.Inpt.v.ClrS);m[1]=C.indexOf(u.Otpt.v.ClrS)},gHsbP:function(u,m){var C=["RGBC","HSBl","HSLC"];
u.Inpt.v.ClrS=C[m[0]];u.Otpt.v.ClrS=C[m[1]]},"sMxm ":function(u,m){var C="preserveShape";m[0]=u.Rds.v.val;
m[1]=u[C]?["squareness","Rndn"].indexOf(u[C].v[C]):0},"gMxm ":function(u,m){var C="preserveShape";u.Rds.v.val=m[0];
u[C]={t:"enum",v:{preserveShape:["squareness","Rndn"][m[1]]}}},"sMnm ":function(u,m){var C="preserveShape";
m[0]=u.Rds.v.val;m[1]=u[C]?["squareness","Rndn"].indexOf(u[C].v[C]):0},"gMnm ":function(u,m){var C="preserveShape";
u.Rds.v.val=m[0];u[C]={t:"enum",v:{preserveShape:["squareness","Rndn"][m[1]]}}},sMtnB:function(u,m){m[0]=[u.Angl.v];
m[1]=u.Dstn.v.val;console.log(m)},gMtnB:function(u,m){u.Angl.v=typeof m[0]=="number"?m[0]:m[0][0];u.Dstn.v.val=m[1]},sOfst:function(u,m){m[0]=u.Hrzn.v;
m[1]=u.Vrtc.v;m[2]=["Rpt","Bckg","Wrp"].indexOf(u.Fl.v.FlMd)},gOfst:function(u,m){u.Hrzn.v=m[0];u.Vrtc.v=m[1];
u.Fl.v.FlMd=["Rpt","Bckg","Wrp"][m[2]]},sPnch:function(u,m){m[0]=u.Amnt.v},gPnch:function(u,m){u.Amnt.v=m[0]},"sPlr ":function(u,m){m[0]=["RctP","PlrR"].indexOf(u.Cnvr.v.Cnvr)},"gPlr ":function(u,m){u.Cnvr.v.Cnvr=["RctP","PlrR"][m[0]]},sRple:function(u,m){m[0]=u.Amnt.v;
m[1]=["Sml","Mdm","Lrg"].indexOf(u.RplS.v.RplS)},gRple:function(u,m){u.Amnt.v=m[0];u.RplS.v.RplS=["Sml","Mdm","Lrg"][m[1]]},sTwrl:function(u,m){m[0]=u.Angl.v},gTwrl:function(u,m){u.Angl.v=m[0]},sZgZg:function(u,m){m[0]=u.Amnt.v;
m[1]=u.NmbR.v;m[2]=["ArnC","OtFr","PndR"].indexOf(u.ZZTy.v.ZZTy)},gZgZg:function(u,m){u.Amnt.v=m[0];
u.NmbR.v=m[1];u.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][m[2]]},sUnsM:function(u,m){m[0]=u.Amnt.v.val;m[1]=u.Rds.v.val;
m[2]=u.Thsh.v},gUnsM:function(u,m){u.Amnt.v.val=m[0];u.Rds.v.val=m[1];u.Thsh.v=m[2]}};a7.aaG=function(u){var m=new dz(0,0);
if(u.enab.v==!1)return m;var C=u.filterFXList.v;for(var D=0;D<C.length;D++){var Z=C[D].v;if(Z.enab.v==!1)continue;
var q=a7.OU(Z),J=a7.FK(q,Z.Fltr?Z.Fltr.v:null);if(J.x>m.x)m.x=J.x;if(J.y>m.y)m.y=J.y}return m};a7.FK=function(u,m){var C=0,Z=0;
if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(u)!=-1){var q=m.Rds.v.val;C=Z=q*2.57}if(u=="MtnB")C=Z=m.Dstn.v.val;
if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(u)!=-1){C=Z=1e4}if(u=="GEfc")return b5.FK(m);
return new dz(Math.ceil(C),Math.ceil(Z))};a7.wN=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
a7.TH=function(u,m){var C={p:m.jM>>16,T:m.jM>>8&255,S:m.jM&255},Z={p:m.z0>>16,T:m.z0>>8&255,S:m.z0&255},q=a7.names[u];
if(q==null)q=b1.names[u];var J=u;for(var A in b1.Ku)if(b1.Ku[A]==u)J=A;var n={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:jg.get(q)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:j.C.sG(C)},BckC:{t:"Objc",v:j.C.sG(Z)},filterID:{t:"long",v:J.length==4?M.abe(J):777}}},N=a7.Qv(u);
if(N)n.v.Fltr={t:"Objc",v:N};return n};a7.zV=function(u,m,C,Z){var q=Date.now(),J=H.GL&&Math.max(Z.e,Z.n)<=H.O2.getParameter(H.O2.MAX_TEXTURE_SIZE);
if(u<1){var A=Math.round(u*5),n=[1,2,1,2,[40,26,13,6,4,2][A],2,1,2,1];n=j.aA.G7(n);if(!J){j._B(C);var N=C.slice(0);
j.aA.ea(N,C,Z.e,Z.n,n,255);j.QW(C)}else{var e=Z.e,Q=Z.n,p=H.Gi(0,e,Q);p.set(C);var B=H.Gi(1,e,Q),$=new Float32Array([1/e,1/Q]);
H.JU(B);H.filter.ka({type:H.filter.ap1,nQ:$,am1:new Float32Array(n)},p.oo);B.get(C)}}else{var R=m==j.yM.qy?0:m==j.yM.jX?1:2,z=[];
while(R!=2&&u*[1,2.4][R]>20&&z.length<4){var v=j.z8(C,Z);z.push(C,Z);C=v.bf;Z=v.rect;u/=2}var e=Z.e,Q=Z.n;
if(!J||R==2&&u>15){j._B(C);m(C,Z,u);j.QW(C)}else{var p=H.Gi(0,e,Q);p.set(C);var B=H.Gi(1,e,Q),$=new Float32Array([1/e,1/Q]);
if(R==0){var a=1;while(a<u)a<<=1;H.JU(B);H.filter.ka({type:H.filter.IP,nQ:$,AW:u,xr:[0,0,a]},p.oo);H.JU(p);
H.filter.ka({type:H.filter.IP,nQ:$,AW:u,xr:[0,1,a]},B.oo);p.get(C)}else if(R==1){var X=3,V=j.yM.Vz(u,X);
for(var D=0;D<X;D++){var o=V[D]>>>1,h=1;while(h<o)h<<=1;if(o==0)continue;H.JU(B);H.filter.ka({type:H.filter.IP,nQ:$,AW:o,xr:[0,0,h]},p.oo);
H.JU(p);H.filter.ka({type:H.filter.IP,nQ:$,AW:o,xr:[0,1,h]},B.oo)}p.get(C)}else{var a=1;while(a<u)a<<=1;
H.JU(B);H.filter.ka({type:H.filter.IP,nQ:$,AW:u,xr:[0,0,a]},p.oo);B.get(C)}}var T=Date.now();while(z.length!=0){var l=z.pop(),w=z.pop();
j.scale.amk(C,Z.e,Z.n,w,l.e,l.n);C=w;Z=l}}};a7.a1E=function(u,m,C,Z){for(var D=0;D<u.length;D++){C[D]=u[D]*(1/255);
Z[D]=0}FFT.fft2d(C,Z);var q=m>>>1,J=16384,A=128,N=100;while(A<m){A<<=1;J<<=2}var n=255/Math.log(J),e=-100;
for(var Q=0;Q<m;Q++)for(var p=0;p<q;p++){var B=m+q+Q&m-1,$=C[B*m+p],R=Z[B*m+p],z=Math.sqrt($*$+R*R),v=Math.atan2(R,$);
u[Q*m+p]=Math.round(n*Math.log(z+1));u[Q*m+q+p]=Math.round((Math.PI+v)*(255*.5/Math.PI))}};a7.acx=function(u,m,C,Z){C.fill(0);
Z.fill(0);var q=m>>>1,J=16384,A=128;while(A<m){A<<=1;J<<=2}var n=255/Math.log(J),N=[],e=[],Q=[];for(var D=0;
D<256;D++){N[D]=Math.exp(D/n)-1;var p=D*(2*Math.PI/255)-Math.PI;e[D]=Math.sin(p);Q[D]=Math.cos(p)}for(var B=0;
B<m;B++)for(var $=0;$<q;$++){var R=m+q+B&m-1,z=N[u[B*m+$]],p=u[B*m+q+$],v=z*Q[p],a=z*e[p];C[R*m+$]=v;
Z[R*m+$]=a;if($!=0){var X=R==0?R*m+m-$:(m-R)*m+(m-$);C[X]=v;Z[X]=-a}}FFT.ifft2d(C,Z);for(var D=0;D<u.length;
D++){u[D]=Math.max(0,Math.min(255,~~(.5+255*C[D])))}};a7.wZ=new ArrayBuffer(512);a7.an6=function(u){var m=a7.wZ,C=u.length;
if(m.byteLength<C)a7.wZ=m=new ArrayBuffer(C);var Z=new Uint8Array(m);for(var D=0;D<C;D+=4){Z[D]=u[D];
Z[D+1]=u[D+1];Z[D+2]=u[D+2];Z[D+3]=u[D+3]}return m};a7.D1=function(u,m,C,Z,q,J,A){if(J==null)J={buffer:j.U(m.buffer.length),rect:m.rect.clone()};
j.Uj(m.buffer,J.buffer);var n=C&&C.RndS?C.RndS.v>>>1:0;if(u=="GEfc"){var N=[];if(C.GEfs){var e=C.GEfs.v;
for(var D=0;D<e.length;D++){var Q=e[D].v;if(Q.GELv&&Q.GELv.v==!1)continue;N.push(Q)}}else N=[C];for(var D=0;
D<N.length;D++){var p;if(D==0)b5.D1(u,m,N[D],Z,q,J,A);else{if(p==null)p={buffer:j.U(m.buffer.length),rect:m.rect.clone()};
j.Uj(J.buffer,p.buffer);b5.D1(u,p,N[D],Z,q,J,A)}}}if(u=="Adobe Camera Raw Filter"){var B=m.rect,$=B.e,R=B.n,z=$*R,v=z*4,a=z*3,X=new Float32Array($*R*3),o=m.buffer;
for(var D=0;D<z;D++){var h=D*3,T=D*4;X[h]=o[T]*(1/255);X[h+1]=o[T+1]*(1/255);X[h+2]=o[T+2]*(1/255)}var l=JSON.parse(JSON.stringify(C));
delete l.Upri;delete l.GuUr;var w=X.slice(0);X=w;o=J.buffer;for(var D=0;D<z;D++){var h=D*3,T=D*4;o[T]=255*Math.max(0,Math.min(1,X[h]));
o[T+1]=255*Math.max(0,Math.min(1,X[h+1]));o[T+2]=255*Math.max(0,Math.min(1,X[h+2]))}}if(u=="adaptCorrect"){var B=m.rect,$=B.e,R=B.n,z=$*R,v=z*4,W=C.sdwM.v,U=W.Amnt.v.val/100,s=W.Wdth.v.val/100,S=W.Rds.v,x=C.hglM.v,P=x.Amnt.v.val/100,y=x.Wdth.v.val/100,_=x.Rds.v;
j.vh.a0q(m.buffer,J.buffer,$,R,U,s,S,P,y,_,C.ClrC.v/100,C.Cntr.v/100)}if(u=="denoise"){var B=m.rect,$=B.e,R=B.n,g=C.channelDenoise.v[0].v;
j.FH.a3f(m.buffer,$,R,J.buffer,g.Amnt.v/10,g.EdgF.v/100)}if(u=="HsbP"){var G=C.Inpt.v.ClrS,O=C.Otpt.v.ClrS,B=m.rect,$=B.e,R=B.n,z=$*R;
for(var D=0;D<z;D++){var T=D*4,E=m.buffer[T]*(1/255),L=m.buffer[T+1]*(1/255),c=m.buffer[T+2]*(1/255);
if(G=="RGBC"){}else if(G=="HSLC"){var w=j.dB(E,L,c);E=w.p;L=w.T;c=w.S}else if(G=="HSBl"){var w=j.a9l(E,L,c);
E=w.p;L=w.T;c=w.S}var k=E,I=L,Y=c;if(O=="RGBC"){}else if(O=="HSLC"){var w=j.up(E,L,c);k=w.Oh;I=w.jL;
Y=w.Hc}else if(O=="HSBl"){var w=j.apE(E,L,c);k=w.Oh;I=w.jL;Y=w.S}J.buffer[T]=~~(255*k);J.buffer[T+1]=~~(255*I);
J.buffer[T+2]=~~(255*Y)}}if(u=="Fbrs"){var B=m.rect,$=B.e,R=B.n;j.v.Ol(m.buffer,$,R,J.buffer,[C.Vrnc.v,C.Strg.v,n]);
var K=j.U($*R);j._H(J.buffer,K,0);j.mL(K);b5.bX(K,J.buffer,Z,q)}if(u=="Frgm"){var B=m.rect,$=B.e,R=B.n,i=m.buffer.slice(0);
j._B(i);j.v.a27(i,$,R,J.buffer);j.QW(J.buffer)}if(u=="Flam"){var B=m.rect,$=B.e,R=B.n,i4=C.Clr.v,d7={type:C.Type.v+1,length:C.Leng.v,amW:C.RndL.v,zh:C.Widt.v,a1d:C.Angl.v,a8o:C.Intr.v,ald:C.Adpt.v,color:{p:i4.Rd.v,T:i4.Grn.v,S:i4.Bl.v},ag:C.Qual.v+1,Pk:C.Turb.v,ob:C.Jag.v,opacity:C.Opct.v.val,Sg:C.Lins.v,amR:C.Botm.v,style:C.Styl.v+1,shape:C.Shap.v+1,a6O:C.RnSh.v,a0K:C.Arng.v,are:!1},d=A[3],fH=d[0],aC=d[1],f8=fH[aC.length!=0?aC[0]:0];
if(f8==null){alert("Make a path first");return}var c9=f8.add.vmsk.B,g1=j.$.o1(c9),cE=[];for(var hG=0;
hG<g1;hG++){var fA=j.$.I9(c9,hG),hh=c9[fA];if(hh.length<2)continue;var eE=[];cE.push(eE);var dh=hh.length-(hh.type==3?1:0);
for(var fT=0;fT<dh;fT++){var dB=c9[fA+1+fT],iN=fT==hh.length-1?c9[fA+1]:c9[fA+1+fT+1],gV=dB.A,fI=dB.wm,gc=iN.Rv,aF=iN.A,gh=Math.round(dz.th(gV,aF)/5);
for(var gD=0;gD<gh;gD++){var j1=gD/gh,dg=1-j1,ao=dg*dg*dg*gV.x+3*dg*dg*j1*fI.x+3*dg*j1*j1*gc.x+j1*j1*j1*aF.x,eC=dg*dg*dg*gV.y+3*dg*dg*j1*fI.y+3*dg*j1*j1*gc.y+j1*j1*j1*aF.y;
eE.push(ao,eC)}}}var bD=[cE,d7],fK=Date.now(),a1=gy(bD);ie(m.buffer,$,R,J.buffer,a1,bD)}if(u=="Dfs "){var B=m.rect,$=B.e,R=B.n,fR=["Nrml","DrkO","LghO","anisotropic"].indexOf(C.Md.v.DfsM);
if(fR<3)j.v.a2w(m.buffer,$,R,J.buffer,[fR]);else{var bD=[1.4,1.6,1,4,!1,2,[0,0,.001]],B=m.rect.clone();
B.x=B.y=0;j.mo.filter(m.buffer,B,J.buffer,bD)}}if(u=="TrcC"){var B=m.rect,$=B.e,bj=$<<2,R=B.n,b7=C.Lvl.v,ha=C.Edg.v.CntE=="Lwr",eJ=m.buffer,cq=J.buffer;
j.gs(cq,16777215,4278190080);function g4(hX,hE){aJ(hX,hE);aJ(hX+1,hE+1);aJ(hX+2,hE+2)}function eA(hX,hE){fU(hX,hE);
fU(hX+1,hE+1);fU(hX+2,hE+2)}function aJ(hX,hE){var k=eJ[hX],I=eJ[hE];if(k>=b7&&I<b7)cq[hX]=0;if(k<b7&&I>=b7)cq[hE]=0}function fU(hX,hE){var k=eJ[hX],I=eJ[hE];
if(k>b7&&I<=b7)cq[hE]=0;if(k<=b7&&I>b7)cq[hX]=0}if(ha)for(var eC=1;eC<R;eC++)for(var ao=1;ao<$;ao++){var T=eC*$+ao<<2;
g4(T,T-4);g4(T,T-bj)}else for(var eC=1;eC<R;eC++)for(var ao=1;ao<$;ao++){var T=eC*$+ao<<2;eA(T,T-4);
eA(T,T-bj)}}if(u=="Embs"){var B=m.rect,$=B.e,R=B.n,iE=-C.Angl.v*Math.PI/180,hQ=C.Hght.v,bT=C.Amnt.v/100;
hQ/=2;var iU=Math.cos(iE)*hQ,ba=Math.sin(iE)*hQ,eJ=m.buffer,cq=J.buffer;cq.fill(0);var eI=new Uint32Array(eJ.buffer),w=new Uint8Array(4),e_=new Uint32Array(w.buffer);
for(var eC=0;eC<R;eC++)for(var ao=0;ao<$;ao++){var bs=0,fr=0,db=0;if(0<=ao+iU&&ao+iU<$&&0<=eC+ba&&eC+ba<R){j.N.Zu(ao+iU+.5,eC+ba+.5,eI,$,R,e_,0,0);
bs+=w[0]-128;fr+=w[1]-128;db+=w[2]-128}if(0<=ao-iU&&ao-iU<$&&0<=eC-ba&&eC-ba<R){j.N.Zu(ao-iU+.5,eC-ba+.5,eI,$,R,e_,0,0);
bs-=w[0]-128;fr-=w[1]-128;db-=w[2]-128}var T=eC*$+ao<<2;cq[T]=Math.max(0,Math.min(255,bs*bT+128));cq[T+1]=Math.max(0,Math.min(255,fr*bT+128));
cq[T+2]=Math.max(0,Math.min(255,db*bT+128));cq[T+3]=eJ[T+3]}}if(u=="ShrE"){var B=m.rect,$=B.e,R=B.n;
j.v.a7O(m.buffer,$,R,J.buffer)}if(u=="Dspc"){var B=m.rect,$=B.e,R=B.n;j.v.a9O(m.buffer,$,R,J.buffer)}if(u=="Slrz"){var fx=J.buffer,fb=128;
for(var D=0;D<fx.length;D+=4){if(fx[D]>fb)fx[D]=255-fx[D];if(fx[D+1]>fb)fx[D+1]=255-fx[D+1];if(fx[D+2]>fb)fx[D+2]=255-fx[D+2]}}if(u=="Wnd "){var B=m.rect,$=B.e,R=B.n,dA=["Wnd","Blst","Stgr"],ge=C.WndM.v.WndM;
j.v.E$(m.buffer,$,R,J.buffer,[dA.indexOf(ge),C.Drct.v.Drct!="Left"])}if(u=="Bokh"){var B=m.rect,$=B.e,R=B.n,z=$*R,v=z*4,bh=m.buffer.slice(0),cY=C.BkDi.v.BtDi,d6=C.BkDc,hU=C.BkDs.v,f2=C.BkDp.v/255;
if(cY=="BeIn")f2=0;var cQ=57*(.3+.7*(($+R)/2)/1750)*(C.BkIb.v/100)*(1+.2*Math.pow(f2,.1)),jt=parseInt(C.BkIs.v.BtIs.slice(3)),i8=-C.BkIr.v*Math.PI/180,hw=[];
for(var D=0;D<8;D++){var iA=i8+D*(Math.PI*2/jt),ce=i8+(D+1)*(Math.PI*2/jt),al=Math.cos(iA),aS=Math.sin(iA),gM=Math.cos(ce),gS=Math.sin(ce),h3=[0,0,0];
j.NC.WM([[al,aS,1,0],[gM,gS,1,0],[1,1,1,1]],h3);if(h3[2]>0){h3[0]*=-1;h3[1]*=-1;h3[2]*=-1}hw.push(h3[0],h3[1],h3[2],0)}if(cY=="BeIn"){j.gs(bh,0,16777215);
f2=1}else if(cY=="BeIt"&&d6.v.BtDc=="BeCt"){}else{var id;if(cY=="BeIt"&&d6.v.BtDc=="BeCm")id=A[1];else if(cY=="BeIa")id=A[2][d6.v];
if(id==null){j.gs(bh,0,16777215)}else{var e3;if(id.rect.QV(B))e3=id.channel;else e3=id.f9(B);j.wC(e3,bh,3)}}if(hU)for(var D=0;
D<v;D+=4)bh[D+3]=255-bh[D+3];if(H.GL){var cw=bh,io=$,iY=R,jy=1,cn=(C.BkSb.v==0||C.BkSt.v==255)&&cY=="BeIn";
if(!cn){var ej=0;for(var D=0;D<v;D+=4)ej+=Math.abs(f2-bh[D+3]*(1/255));ej=ej/z*cQ;var j7=3.14*ej*ej*$*R/3e6;
if(j7>2e3){alert("too large radius");return}}while(cn&&3*(cQ/jy)*(cQ/jy)*$*R>500*2e3*2e3){var fn=j.Zz(bh,new bl(0,0,io,iY));
bh=fn.bf;io=fn.rect.e;iY=fn.rect.n;jy*=2}var fK=Date.now(),h4=H.Gi(0,io,iY);h4.set(bh);var da=H.Gi(1,$,R);
H.JU(da);H.filter.ka({type:H.filter.aaN,nQ:new Float32Array([1/io,1/iY]),aqS:f2,Fg:cQ/jy,anP:new Float32Array([C.BkSb.v/100,C.BkSt.v/255]),a4X:new Float32Array([C.BkNa.v/100,C.BkNt.v.BtNt=="BeNu"?0:1,C.BkNm.v?1:0]),a43:new Float32Array(hw.slice(0,16)),af7:new Float32Array(hw.slice(16))},h4.oo);
da.get(J.buffer);var bc=J.buffer;for(var D=0;D<v;D+=4)bc[D+3]=m.buffer[D+3]}}if(u=="rigidTransform"){var fK=Date.now(),aA=a7.an6,h4=m.buffer.slice(0),cp=0,ev=0;
j._B(h4);j.gs(J.buffer,0);var $=m.rect.e,R=m.rect.n,f5=C.puppetShapeList.v,aR=[],eW=[],cS=[],cR=[];for(var fT=0;
fT<f5.length;fT++){var aQ=f5[fT].v,e$=cp*2,h=ev*3,bP=aQ.originalVertexArray.v.length>>>2,ft=aQ.indexArray.v.length>>>2,d8=new Float32Array(aA(aQ.originalVertexArray.v));
for(var D=0;D<bP;D++)aR[e$+D]=d8[D];var dt=new Float32Array(aA(aQ.deformedVertexArray.v));for(var D=0;
D<bP;D++)eW[e$+D]=dt[D];var ji=new Uint32Array(aA(aQ.indexArray.v));for(var D=0;D<ft;D++)cS[h+D]=cp+ji[D];
var jh=[],c5=[],dw=aQ.PnDp.v;for(var D=0;D<dw.length;D++){jh.push(aQ.pinVertexIndices.v[D].v);c5.push(dw[D].v)}var jm=j.AA.af2(d8,ji,jh,c5);
for(var D=0;D<jm.length;D++)cR[cp+D]=jm[D];cp+=bP>>>1;ev+=~~(ft/3)}var E=m.rect,$=E.e,R=E.n;j.AA.mn(h4,$,R,J.buffer,$,R,aR,eW,cR,cS);
j.QW(J.buffer)}if(u=="lightFilterGradient"){function bn(gV){var as=1/Math.sqrt(gV[0]*gV[0]+gV[1]*gV[1]+gV[2]*gV[2]);
gV[0]*=as;gV[1]*=as;gV[2]*=as}var $=m.rect.e,R=m.rect.n,z=$*R,fK=Date.now(),hn=j.U(z),I=.3,Y=.7;j.px(J.buffer,hn);
var fu=j.U(z);j.yM.kJ(hn,fu,J.rect,16);var dP=j.U(z);j.yM.kJ(hn,dP,J.rect,8);var fD=hn,aw=new Float32Array(z),iO=C.Dtl.v,gC=iO[2].v,jD=iO[1].v,jw=iO[0].v,fB=C.Scl.v*40*C.textureScale.v/(gC+jD+jw);
gC*=fB;jD*=fB;jw*=fB;for(var D=0;D<z;D++){var g_=fu[D]*(1/255),a9=dP[D]*(1/255),g$=fD[D]*(1/255);g$=g$*g$;
aw[D]=gC*g_+jD*a9+jw*g$}var iC=C.blur.v;if(iC!=0){var iM=aw.slice(0);j.yM.A1(iM,aw,J.rect,iC)}var ar=$-1,eS=R-1;
for(var eC=1;eC<eS;eC++)for(var ao=1;ao<ar;ao++){var D=eC*$+ao,T=D*4,cc=aw[D],iU=I*(aw[D+1]-cc)+Y*(cc-aw[D-1]),ba=I*(aw[D+$]-cc)+Y*(cc-aw[D-$]),gV=[1,0,iU],fI=[0,1,ba];
bn(gV);bn(fI);var ce=gV[0],cU=gV[2],jK=fI[1],el=fI[2],eK=-cU*jK,em=-ce*el,fj=ce*jK;J.buffer[T]=~~(127.5+eK*127.5);
J.buffer[T+1]=~~(127.5+em*127.5);J.buffer[T+2]=~~(127.5+fj*127.5)}}if(u=="defr"){var $=m.rect.e,R=m.rect.n;
gH(m.buffer,$,R,J.buffer)}if(u=="dDFT"||u=="iDFT"){function aK(jt){if(jt==0)return 1;jt--;jt|=jt>>1;
jt|=jt>>2;jt|=jt>>4;jt|=jt>>8;jt|=jt>>16;return jt+1}var $=m.rect.e,R=m.rect.n,bd=aK(Math.max($,R)),jJ=bd>>>1,ex=new bl(0,0,bd,bd),ek=new bl(0,0,$,R);
ek.y=bd-R>>>1;var b4=$>>>1,b0=new bl(0,ek.y,b4,R),ah=new j.HT($*R);j.Bh(m.buffer,ah);var a0=new Float64Array(bd*bd),ia=new Float64Array(bd*bd),e3=j.U(bd*bd);
FFT.init(bd);var ga=[ah.p,ah.T,ah.S];for(var D=0;D<3;D++){var dI=ga[D];e3.fill(0);if(u=="dDFT"){j.j5(dI,ek,e3,ex);
a7.a1E(e3,bd,a0,ia);j.j5(e3,ex,dI,ek,b0);b0.x+=b4;ex.x-=jJ-b4;j.j5(e3,ex,dI,ek,b0);b0.x-=b4;ex.x+=jJ-b4}else{j.j5(dI,ek,e3,ex,b0);
b0.x+=jJ;ek.x+=jJ-b4;j.j5(dI,ek,e3,ex,b0);b0.x-=jJ;ek.x-=jJ-b4;a7.acx(e3,bd,a0,ia);j.j5(e3,ex,dI,ek)}}j.jh(ah,J.buffer)}if(u=="Avrg"){var c8=0,e0=0,jQ=0,hN=0,ei=1;
for(var D=0;D<m.buffer.length;D+=4){var gz=m.buffer[D+3];jQ+=m.buffer[D]*gz;e0+=m.buffer[D+1]*gz;c8+=m.buffer[D+2]*gz;
hN+=gz}var bM=1/hN;c8=Math.round(ei*(c8*bM)+(1-ei)*255);e0=Math.round(ei*(e0*bM)+(1-ei)*255);jQ=Math.round(ei*(jQ*bM)+(1-ei)*255);
j.gs(J.buffer,c8<<16|e0<<8|jQ,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(u)!=-1){var bQ=C.Rds.v.val,d0=u=="boxblur"?j.yM.qy:j.yM.jX;
a7.zV(bQ,d0,J.buffer,J.rect);if(u=="UnsM"||u=="smartSharpen"){var bT=C.Amnt.v.val/100,hO=0;if(u=="UnsM")hO=C.Thsh.v;
else bT*=.75;for(var D=0;D<m.buffer.length;D++){if((D&3)==3){J.buffer[D]=m.buffer[D];continue}var g0=m.buffer[D],fS=J.buffer[D],hL=bT*(g0-fS);
if(hL>0)hL=Math.max(0,hL-hO);else hL=Math.min(0,hL+hO);J.buffer[D]=Math.max(0,Math.min(255,g0+hL))}}if(u=="HghP")for(var D=0;
D<m.buffer.length;D++){if((D&3)==3){J.buffer[D]=m.buffer[D];continue}var g0=m.buffer[D],fS=J.buffer[D];
J.buffer[D]=Math.max(0,Math.min(255,128+g0-fS))}}if(u=="AdNs"){var hg=new Uint8ClampedArray(J.buffer.buffer),h1=255*C.Nose.v.val/100,jN;
if(C.Dstr.v.Dstr=="Gsn")jN=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else jN=function(){return Math.random()*2-1};for(var D=0;D<hg.length;D+=4){var E=hg[D],L=hg[D+1],c=hg[D+2],il,jM,gx;
if(C.Mnch.v){il=jM=gx=jN()}else{il=jN();jM=jN();gx=jN()}E+=h1*il;L+=h1*jM;c+=h1*gx;hg[D]=E;hg[D+1]=L;
hg[D+2]=c}}var fK=Date.now();if(u=="Mdn "||u=="DstS"||u=="Mxm "||u=="Mnm "||u=="surfaceBlur"){var E=0,bf=C.Thsh,aQ=0;
if(bf)bf=bf.v;else bf=0;if(u=="Mdn "||u=="Mxm "||u=="Mnm "||u=="surfaceBlur")E=C.Rds.v.val;else E=C.Rds.v;
var bN=C.preserveShape;if(bN&&bN.v.preserveShape=="Rndn")aQ=1;var $=m.rect.e,R=m.rect.n,iJ=["Mnm ","Mxm ","surfaceBlur"].indexOf(u),gr=(aQ==0?1:.75)*[.73,.73,1][iJ]*($*R*E*E)/1722387,ho=[.73,.9,1.4][iJ]*($*R*Math.sqrt(E))/6500;
if(H.GL&&iJ!=-1&&(gr<ho||aQ==1)&&gr<1500){var h4=H.Gi(0,$,R);h4.set(m.buffer);var p=H.Gi(1,$,R);H.JU(p);
H.filter.ka({type:H.filter.a6i,nQ:new Float32Array([1/$,1/R]),Fg:E,aj2:bf/255,xr:[aQ,iJ,10*Math.ceil(E/10)]},h4.oo);
p.get(J.buffer)}else{E=Math.round(E);j.ev.lv=.5;var d0=j.ev.D$;if(u=="Mxm ")d0=j.ev.iD;if(u=="Mnm ")d0=j.ev.EH;
if(u=="surfaceBlur")d0=j.ev.xq;j.ev.XU(m.buffer,J.buffer,$,R,E,d0,[bf]);if(u=="DstS")for(var D=0;D<$*R*4;
D++){var fX=Math.abs(m.buffer[D]-J.buffer[D]);if(fX<=bf)J.buffer[D]=m.buffer[D]}}}if(u=="ClrH"){var b0=m.rect.clone();
b0.x=b0.y=0;var E=C.Rds.v;E=Math.round(E*Math.sqrt(2));var $=b0.e,R=b0.n,ah=new j.HT($*R);j.Bh(m.buffer,ah);
j.mL(ah.p);j.mL(ah.T);j.mL(ah.S);var hy=j.l2($,R),bc=j.U($*R*4);for(var i5=0;i5<3;i5++){var e3=i5==0?ah.p:i5==1?ah.T:ah.S,iE=Math.PI*C["Ang"+(i5+1)].v/180,aM=new ix(1/E,0,0,1/E,0,0);
aM.rotate(iE);j.wC(e3,bc,3);var w=b.Q.Ta([bc,b0],aM,!0),ek=w.rect;hy.clearRect(0,0,$,R);var by=Math.sin(iE),eG=Math.cos(iE);
for(var D=0;D<ek.n;D++)for(var gD=0;gD<ek.e;gD++){var ao=(gD+ek.x+.5)*E,eC=(D+ek.y+.5)*E,iD=ao,iS=eC;
ao=eG*iD-by*iS;eC=by*iD+eG*iS;var z=w.buffer[(D*ek.e+gD<<2)+3]*(1/255),bQ=E*Math.sqrt(z*(1/Math.PI));
hy.beginPath();hy.arc(ao,eC,bQ,0,2*Math.PI);hy.fill()}var jB=hy.getImageData(0,0,$,R);j._H(jB.data,e3,3)}j.mL(ah.p);
j.mL(ah.T);j.mL(ah.S);j.jh(ah,J.buffer)}if(u=="Crst"||u=="Pntl"){var $=m.rect.e,R=m.rect.n,d0=u=="Crst"?j.Gf.amy:j.Gf.amo;
d0(m.buffer,$,R,J.buffer,C.ClSz.v,[Math.round(q.p),Math.round(q.T),Math.round(q.S)])}if(u=="Mztn"){var $=m.rect.e,R=m.rect.n,z=$*R,ah=new j.HT(z),jk=[ah.p,ah.T,ah.S];
j.Bh(m.buffer,ah);var ge=C.MztT.v.MztT,i_={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[ge],fK=Date.now(),b2=[];
for(var D=0;D<z;D++){b2[D]=Math.random()}var z=$*R,bm=Math.round(z*i_[0]),hb=z-$-1;for(var D=0;D<bm;
D++){var j0=Math.random(),gb=1;if(j0<.5){gb=$;j0*=2}else j0=2*(j0-.5);var hX=Math.floor(j0*hb),hE=hX+gb;
b2[hX]=b2[hE]}var cg=Math.round($*i_[1]);for(var eC=0;eC<R;eC++)for(var D=0;D<cg;D++){var j0=j.a.x3(eC*z+D),hX=eC*$+Math.floor(j0*($-1));
b2[hX]=b2[hX+1]}var j8=new Float64Array(256);for(var D=0;D<256;D++){var he=D/255,hH=2*(he<.5?he:1-he);
hH=i_[2]+Math.pow(hH,i_[3])*(1-i_[2]);he=he<.5?hH*.5:1-hH*.5;j8[D]=he}for(var aV=0;aV<3;aV++){var e3=jk[aV];
for(var eC=0;eC<R;eC++){for(var ao=0;ao<$;ao++){var D=eC*$+ao,hM=e3[D],he=j8[hM],j0=b2[D];e3[D]=j0>he?0:255}}}j.jh(ah,J.buffer)}if(u=="Msc "){var g1=C.ClSz.v.val,$=m.rect.e,R=m.rect.n,gQ=Math.ceil($/g1),dM=Math.ceil(R/g1),ep=j.U(gQ*dM*4);
j.scale.Sr(m.buffer,$,R,ep,gQ,dM,1/g1);j.scale.Sr(ep,gQ,dM,J.buffer,$,R,g1)}if(u=="Clds"||u=="DfrC"){var $=J.rect.e,R=J.rect.n,z=$*R,ij=j.U(z);
if(u=="Clds")j.gs(J.buffer,4278190080);var fz=j.U(256*4);for(var D=0;D<256;D++){var T=D<<2,hF=D/255,ji=1-hF;
fz[T]=Math.round(hF*Z.p+ji*q.p);fz[T+1]=Math.round(hF*Z.T+ji*q.T);fz[T+2]=Math.round(hF*Z.S+ji*q.S)}j.v.a8A(m.buffer,$,R,ij);
var eg=J.buffer;for(var D=0;D<z;D++){var T=D<<2,aV=ij[D]<<2,E=fz[aV],L=fz[aV+1],c=fz[aV+2];if(u=="Clds"){eg[T]=E;
eg[T+1]=L;eg[T+2]=c}else{eg[T]=Math.abs(eg[4*D]-E);eg[T+1]=Math.abs(eg[4*D+1]-L);eg[T+2]=Math.abs(eg[4*D+2]-c)}}}if(u=="LnsF"){var $=m.rect.e,R=m.rect.n,ge=["Zm","Nkn","Nkn1","PnVs"].indexOf(C.Lns.v.Lns),bC=C.FlrC.v,du=[Math.min(ge,2),C.Brgh.v/100,bC.Hrzn.v,bC.Vrtc.v],fK=Date.now();
j.aoP(m.buffer,$,R,J.buffer,du)}var c6=["Blr ","BlrM","Shrp","ShrM"].indexOf(u);if(c6!=-1){var ci=c6>1,$=m.rect.e,R=m.rect.n,eo=j.aA.bS[c6],a$=m.buffer.slice(0);
if(!ci)j._B(a$);j.aA.ea(a$,J.buffer,$,R,eo,255,!1,ci);if(!ci)j.QW(J.buffer)}if(u=="MtnB"){var fv=-C.Angl.v*Math.PI/180,e9=C.Dstn.v.val/2,fK=Date.now(),$=m.rect.e,R=m.rect.n,B=m.rect.clone();
B.x=B.y=0;if(H.GL){var fK=Date.now(),aH=J.buffer;aH.set(m.buffer);j._B(aH);var a6=H.Gi(0,$,R);a6.set(aH);
var eJ=j.U(4);eJ[0]=Math.round(128+127*Math.cos(fv));eJ[1]=Math.round(128+127*Math.sin(fv));new Uint32Array(aH.buffer).fill(new Uint32Array(eJ.buffer)[0]);
var jA=H.Gi(1,$,R);jA.set(aH);H.JU(a6,B);a6._h(B);H.filter.ka({type:H.filter.T7,dU:jA.oo,nQ:new Float32Array([1/$,1/R]),aq6:e9/2,aqV:1},a6.Fj);
a6.get(aH);j.QW(aH)}else{var aM=new ix;aM.rotate(fv);var w=b.Q.Ta([m.buffer,m.rect],aM,!1,null,!0);a7.zV(e9,j.yM.gL,w.buffer,w.rect);
aM.mL();w=b.Q.Ta([w.buffer,w.rect],aM,!1,J.buffer.buffer,!0,J.rect)}console.log(Date.now()-fK)}if(u=="RdlB"){var $=m.rect.e,R=m.rect.n,bT=C.Amnt.v,f$=C.BlrM.v.BlrM=="Zm",i5=C.Cntr.v,gB=i5.Hrzn.v,jT=i5.Vrtc.v,iU=Math.max(gB,1-gB)*$,ba=Math.max(jT,1-jT)*R,bQ=Math.sqrt(iU*iU+ba*ba),cl=2*Math.PI*bQ*1.5,eu=Math.round(cl),bJ=Math.round(bQ),b0=new bl(0,0,eu,bJ),ca=j.U(eu*bJ*4),e7=f$?4:1,gX=f$?.6:8*(($+R)/2)/1400,a2=.1,jy=1,gJ=1;
j.N.cn(m.buffer,$,R,ca,eu,bJ,gB,jT,e7,a2,jy,gJ);var iV=f$?j.U(eu*bJ*4):null;if(f$){j.N.$E(ca,iV,eu,bJ);
var j1=iV;iV=ca;ca=j1;b0.e=bJ;b0.n=eu}a7.zV(gX*bT,j.yM.gL,ca,b0);if(f$){j.N.$E(ca,iV,bJ,eu);var j1=iV;
iV=ca;ca=j1;b0.e=eu;b0.n=bJ}j.N.bd(ca,eu,bJ,J.buffer,$,R,gB,jT,e7,a2,jy,gJ)}if(u=="Plr "){var $=m.rect.e,R=m.rect.n;
if(C.Cnvr.v.Cnvr=="RctP")j.N.bd(m.buffer,$,R,J.buffer,$,R,.5,.5,1,0,2,$/R);else j.N.cn(m.buffer,$,R,J.buffer,$,R,.5,.5,1,0,2,$/R)}if(u=="FndE"){var $=m.rect.e,R=m.rect.n;
j.aA.b1(m.buffer,J.buffer,$,R)}if(u=="oilPaint"){var iE=C.LghD.v*Math.PI/180,dX=[Math.cos(iE),Math.sin(iE),.001],bD=[C.stylization.v,C.cleanliness.v,C.brushScale.v,C.microBrush.v,C.lightingOn.v,C.specularity.v,dX],B=m.rect.clone();
B.x=B.y=0;j.mo.filter(m.buffer,B,J.buffer,bD)}if(u=="Ofst"){var $=m.rect.e,R=m.rect.n,jL=new Uint32Array(m.buffer.buffer),gI=new Uint32Array(J.buffer.buffer),iD=C.Hrzn.v,iS=C.Vrtc.v,hC=C.Fl.v.FlMd;
j.gs(gI,0);if(hC=="Bckg"||hC=="Rpt"){var b0=m.rect.clone();b0.offset(iD,iS);j.zO(jL,b0,gI,J.rect)}if(hC=="Rpt"){var al,aS,gM,gS,eL;
iD=Math.max(-$,Math.min($,iD));iS=Math.max(-R,Math.min(R,iS));al=iD>0?iD:0;gM=iD>0?$:$+iD;aS=iS>0?0:iS+R;
gS=iS>0?iS:R;eL=iS>0?0:$*(R-1);for(var eC=aS;eC<gS;eC++)for(var ao=al;ao<gM;ao++)gI[eC*$+ao]=jL[eL+ao-iD];
al=iD>0?0:$+iD;gM=iD>0?iD:$;aS=iS>0?iS:0;gS=iS>0?R:R+iS;eL=iD>0?0:$-1;for(var eC=aS;eC<gS;eC++)for(var ao=al;
ao<gM;ao++)gI[eC*$+ao]=jL[eL+$*(eC-iS)];if(iD>=0&&iS>=0){al=0;gM=iD;aS=0;gS=iS;eL=0}if(iD>=0&&iS<0){al=0;
gM=iD;aS=R+iS;gS=R;eL=$*(R-1)}if(iD<0&&iS>=0){al=$+iD;gM=$;aS=0;gS=iS;eL=$-1}if(iD<0&&iS<0){al=$+iD;
gM=$;aS=R+iS;gS=R;eL=$*R-1}for(var eC=aS;eC<gS;eC++)for(var ao=al;ao<gM;ao++)gI[eC*$+ao]=jL[eL]}if(hC=="Wrp"){iD=(iD+100*$)%$;
iS=(iS+100*R)%R;var b0=new bl(iD-$,iS-R,$,R);j.zO(jL,b0,gI,J.rect);b0.offset($,0);j.zO(jL,b0,gI,J.rect);
b0.offset(0,R);j.zO(jL,b0,gI,J.rect);b0.offset(-$,0);j.zO(jL,b0,gI,J.rect)}}if(u=="Rept"){var hm=C.Rsft.v.val/100,fG=C.SpcX.v.val/100;
fG=Math.max(fG,-.99);var aO=C.SpcY.v.val/100;aO=Math.max(aO,-.99);var jy=C.Scl.v.val/100,aM=new ix;aM.rotate(C.Angl.v*Math.PI/180);
aM.scale(jy,jy);var jd={buffer:m.buffer,rect:m.rect};j.TS(jd);if(jd.rect.qR()){jd.buffer=m.buffer;jd.rect=m.rect}var eg=jd.buffer,b0=jd.rect,iB=j.vk(eg,b0,0),ib=new Uint32Array(eg.buffer)[0];
if(!iB.qR()&&!iB.QV(b0)){var h$=j.U(iB.Z()*4);j.zO(eg,b0,h$,iB);eg=h$;b0=iB}b0.x=b0.y=0;ib=fG==0&&aO==0||C.SpcC.v?ib:0;
function cd(ao){return ao<0?Math.ceil(ao):Math.floor(ao)}var b$=aM.HL(new dz(b0.e,0));b$.x=cd(b$.x);
b$.y=cd(b$.y);var co=aM.HL(new dz(0,b0.n));co.x=cd(co.x);co.y=cd(co.y);var w=b.Q.Ta([eg,b0],aM,!1),ek=w.rect,cq=w.buffer,fP=Math.round(ek.x),gw=Math.round(ek.y),cB=Math.max(J.rect.e,J.rect.n)/Math.min(b0.e*jy*(1+fG),b0.n*jy*(1+aO));
cB=Math.ceil(cB*1.7);j.gs(J.buffer,ib);for(var eC=-cB;eC<cB;eC++){for(var ao=-cB;ao<cB;ao++){var fs=(ao+eC*hm)*(1+fG),ac=eC*(1+aO);
ek.x=fP+Math.round(fs*b$.x+ac*co.x);ek.y=gw+Math.round(fs*b$.y+ac*co.y);if(ek.bL(J.rect))j.a.q5("norm",cq,ek,J.buffer,J.rect,ek,1)}}}if(u=="Ctoa"){var q=j.C.o5(C.Clr.v),bf=C.Trsp.v.val/100,fE=C.Opct.v.val/100;
bf=fE==0?0:bf/fE;var $=m.rect.e,R=m.rect.n,an=~~q.p,fp=~~q.T,iL=~~q.S,eL=m.buffer,ae=J.buffer;for(var eC=0;
eC<R;eC++)for(var ao=0;ao<$;ao++){var D=eC*$+ao,T=D<<2,b0=eL[T],de=eL[T+1],eg=eL[T+2],ap=Math.abs(an-b0),fY=Math.abs(fp-de),dS=Math.abs(iL-eg),bH=Math.max(ap,fY,dS)*(1/255);
bH=Math.max(0,Math.min(1,bH/fE));var h2=bH==0?0:1/bH,bB=bf==1?1:Math.max(0,Math.min(1,(bH-bf)/(1-bf)));
ae[T]=Math.max(0,Math.min(255,(b0-an*(1-bH))*h2));ae[T+1]=Math.max(0,Math.min(255,(de-fp*(1-bH))*h2));
ae[T+2]=Math.max(0,Math.min(255,(eg-iL*(1-bH))*h2));ae[T+3]=~~(.5+bB*255)}}if(u=="Dthr"){function f3(ao){return~~(.5+255*j.MD(ao/255))}var fT=C.Plte.v,cA;
if(fT==0)cA=[4278190080,4294967295];else{var ih=[[1,1,1],[2,2,2],[3,3,2]][fT-1],eV=[1<<ih[0],1<<ih[1],1<<ih[2]],aa=[~~(255/(eV[0]-1)),~~(255/(eV[1]-1)),~~(255/(eV[2]-1))];
cA=[];for(var E=0;E<eV[0];E++)for(var L=0;L<eV[1];L++)for(var c=0;c<eV[2];c++)cA.push(255<<24|f3(c*aa[2])<<16|f3(L*aa[1])<<8|f3(E*aa[0]))}var $=m.rect.e,R=m.rect.n,z=$*R,jr=z*4,db=m.buffer.slice(0),dJ=J.buffer;
for(var D=0;D<jr;D++)db[D]=~~(.5+255*j.MD(db[D]/255));var fk=j.U($*R);UPNG.encode.dither(db,$,R,cA,dJ,fk);
for(var D=0;D<jr;D++)dJ[D]=~~(.5+255*j.wa(dJ[D]/255))}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg".split(",").indexOf(u)!=-1){var hZ=A[0],$=m.rect.e,R=m.rect.n,j8,af=0;
if(u=="LqFy")j8=eX.Nh(new Uint8Array(C.LqMe.v).buffer);else{var ic=3;j8={du:Math.floor($/ic),Oh:Math.floor(R/ic)};
j8.map=new Float32Array(j8.du*j8.Oh*2);if(u=="LnCr"){var gB=.5*(j8.du-1),jT=.5*(j8.Oh-1),fw=Math.max(Math.abs(0-gB),Math.abs(1-gB)),fo=Math.max(Math.abs(0-jT),Math.abs(1-jT)),b8=Math.sqrt(fw*fw+fo*fo),cz=0,jl=0,g9=-1,cu=2,jy=C.LnSi.v/100,f$=1/jy,dN=C.LnIa.v/100,aN=dN==0?1e-6:dN*4.6,ju=f$/b8;
for(var eC=0;eC<j8.Oh;eC++){for(var ao=0;ao<j8.du;ao++){var iU=(ao-gB)*ju,ba=(eC-jT)*ju,E=Math.sqrt(iU*iU+ba*ba)*aN,gG=Math.atan(E),aX=dN>0?gG/E:E/gG,gJ=gB+b8*aX*iU,a_=jT+b8*aX*ba,D=eC*j8.du+ao<<1;
j8.map[D]=gJ-ao;j8.map[D+1]=a_-eC}}}else if(u=="Dspl"&&hZ.length!=0){af=C.UndA.v.UndA=="WrpA"?2:1;var g2=C.DspF.v.pth,dl;
for(var D=0;D<hZ.length;D++)if(hZ[D].Yw==g2)dl=hZ[D];if(dl==null)dl=hZ[0];dl.K9();var ap=dl.CB[1],iX=j.U(ap.Z());
j.px(dl.CB[0],iX);var fm=ap.e,eP=ap.n;j8={du:fm,Oh:eP};j8.map=new Float32Array(j8.du*j8.Oh*2);var hJ=2.54*C.HrzS.v*fm/$,ay=2.54*C.VrtS.v*eP/R;
for(var eC=0;eC<j8.Oh;eC++){for(var ao=0;ao<j8.du;ao++){var fX=-.5+iX[eC*fm+ao]*(1/255),D=eC*j8.du+ao<<1;
j8.map[D]=fX*hJ;j8.map[D+1]=fX*ay}}}else if(u=="Pnch"||u=="Twrl"||u=="Sphr"||u=="ZgZg"){var bT=1,fv=Math.PI,it=0,hx=1,cF=0,i5=3,g1=1.53,aX=1;
if(u=="Pnch"||u=="Sphr"||u=="ZgZg")bT=C.Amnt.v/100;if(u=="ZgZg"){hx=C.NmbR.v;cF=["ArnC","OtFr","PndR"].indexOf(C.ZZTy.v.ZZTy)}if(u=="Twrl")fv=C.Angl.v*Math.PI/180;
if(u=="Sphr")it=["Nrml","HrzO","VrtO"].indexOf(C.SphM.v.SphM);function d0(ao){ao=Math.pow(ao,1-ao*.3-ao*ao*(ao*ao)*.5);
return-.225*Math.sin(ao*Math.PI)}function hS(R,as,E,al,aS,gM,gS,aX){var iU=gM-al,ba=gS-aS,gn=al-R,bW=aS-as,hF=iU*iU+ba*ba,c=2*(iU*gn+ba*bW),i5=gn*gn+bW*bW-E*E,aU=Math.sqrt(c*c-4*hF*i5),f_=aX/(2*hF),j6=(-c+aU)*f_,fl=(-c-aU)*f_;
return aX*Math.min(j6,fl)}var gQ=j8.du,dM=j8.Oh,bI=j8.du/2,eS=j8.Oh/2,fe=1/bI,E=Math.sqrt(i5*i5+1)/i5,dI=i5+Math.sqrt(1/(i5*i5));
if(bT<0){i5=1.72;E=1;dI=i5;g1=-1;aX=-1}for(var eC=0;eC<dM;eC++){var ba=(eC-eS)/eS;for(var ao=0;ao<gQ;
ao++){var iU=(ao-bI)*fe;if(it==1)ba=0;else if(it==2)iU=0;var gm=Math.sqrt(iU*iU+ba*ba);if(gm<1&&gm!=0){var D=eC*j8.du+ao<<1;
if(u=="Pnch"){var dj=-bT*d0(gm)/gm;j8.map[D]=iU*dj*bI;j8.map[D+1]=ba*dj*eS}else if(u=="Sphr"){var j1=hS(0,dI,E,0,0,gm,i5,aX),h6=g1*bT*(j1-1);
j8.map[D]=iU*h6*bI;j8.map[D+1]=ba*h6*eS}else if(u=="Twrl"){var iE=Math.atan2(ba,iU)-fv*(1-gm)*(1-gm),eT=Math.cos(iE),cs=Math.sin(iE);
j8.map[D]=(gm*eT-iU)*bI;j8.map[D+1]=(gm*cs-ba)*eS}else if(u=="ZgZg"){var eT=0,cs=0,cx=bT*(.5-.5*Math.cos(gm*hx*2*Math.PI))*(1-gm);
if(cF==0){var iE=Math.atan2(ba,iU)-3.5*cx;eT=gm*Math.cos(iE);cs=gm*Math.sin(iE)}if(cF==1){cx=100/$*cx/gm;
eT=(1-cx)*iU;cs=(1-cx)*ba}if(cF==2){var c1=512/$*cx*Math.PI/4;eT=c1+iU;cs=c1+ba}j8.map[D]=(eT-iU)*bI;
j8.map[D+1]=(cs-ba)*eS}}}}}else if(u=="Shr "){var c9=JSON.parse(JSON.stringify(C.ShrP.v));j.AE.I(c9,new ix(0,255/127,255/127,0,-2,0));
var bS=j.AE.xP(c9,j8.Oh,!0);af=C.UndA.v.UndA=="WrpA"?2:1;for(var eC=0;eC<j8.Oh;eC++){var iU=-bS[eC]*j8.du;
for(var ao=0;ao<j8.du;ao++){var D=eC*j8.du+ao<<1;j8.map[D]=iU}}}else if(u=="Wave"){var jf=C.NmbG.v,gs=C.WLMn.v,c_=C.WLMx.v,gW=C.AmMn.v*(Math.PI/4),a5=C.AmMx.v*(Math.PI/4),i3=C.SclH.v/100,fO=C.SclV.v/100,ge=C.Wvtp.v.Wvtp,cx=Math.sin;
if(ge=="WvTr")cx=function(ao){ao*=2/Math.PI;return-.5+Math.abs(ao%2-1)};if(ge=="WvSq")cx=function(ao){ao*=2/Math.PI;
return 1+2*Math.floor(ao%2-1)};var cM=[],dC=new j.a.d2(C.RndS.v);for(var D=0;D<jf;D++){cM.push(dC.get()*10);
cM.push(Math.PI*ic/(gs+dC.get()*(c_-gs)));cM.push(i3*(gW+dC.get()*(a5-gW))/ic);cM.push(dC.get()*10);
cM.push(Math.PI*ic/(gs+dC.get()*(c_-gs)));cM.push(fO*(gW+dC.get()*(a5-gW))/ic)}var iZ=[],a8=[],iT=Math.max(j8.du,j8.Oh);
for(var D=0;D<iT;D++){var iU=0,ba=0;for(var gD=0;gD<jf;gD++){var jV=gD*6;iU+=cM[jV+2]*cx(cM[jV]+D*cM[jV+1]);
ba+=cM[jV+5]*cx(cM[jV+3]+D*cM[jV+4])}iZ[D]=ba;a8[D]=iU}for(var eC=0;eC<j8.Oh;eC++){for(var ao=0;ao<j8.du;
ao++){var D=eC*j8.du+ao<<1;j8.map[D]=a8[eC];j8.map[D+1]=iZ[ao]}}af=C.UndA.v.UndA=="WrpA"?2:1}else if(u=="Rple"){af=1;
var bT=C.Amnt.v/100,iI=4,bE=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],b_=1,cj=1,gn=0,dV=["Sml","Mdm","Lrg"].indexOf(C.RplS.v.RplS);
if(dV==0){b_=1;cj=.2;gn=3}if(dV==2){b_=1;cj=2;gn=-1;bE=bE.reverse()}var jE=function(ao,eC){var i5=Math.cos,fB=0;
for(var D=0;D<iI;D++)for(var gD=0;gD<iI;gD++)fB+=bE[D*iI+gD]*i5(ao*(D+gn)-eC*(gD+gn));return fB},e2=Math.floor(50/ic),jP=new Float32Array(e2*e2*2),hv=cj*bT*.5/ic;
for(var eC=0;eC<e2;eC++)for(var ao=0;ao<e2;ao++){var gB=b_*ao*2*Math.PI/e2,jT=b_*eC*2*Math.PI/e2,i$=jE(gB,jT),iU=(jE(gB+.01,jT)-i$)*100,ba=(jE(gB,jT+.01)-i$)*100,D=(eC*e2+ao)*2;
jP[D]=iU*hv;jP[D+1]=ba*hv}for(var eC=0;eC<j8.Oh;eC++)for(var ao=0;ao<j8.du;ao++){var cs=eC%e2,eT=ao%e2,D=eC*j8.du+ao<<1,gU=cs*e2+eT<<1;
j8.map[D]=jP[gU];j8.map[D+1]=jP[gU+1]}}}j.xW.xZ(m.buffer,J.buffer,$,R,null,j8.map,j8.du,j8.Oh,af)}return J};
var b5={};b5.r3="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");b5.jg="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
b5.db=["ScrC","ScrD","ScrL"];b5.HM=["SDRD","SDHz","SDLD","SDVt"];b5.CK="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
b5.qq="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");b5.RN="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
b5.Bc=["Artistic","Brush Strokes",[24,4],"Sketch",[24,14],[12,67]];b5.names={ClrP:[0,"Colored Pencil"],Ct:[0,"Cutout"],DryB:[0,"Dry Brush"],FlmG:[0,"Film Grain"],Frsc:[0,"Fresco"],NGlw:[0,"Neon Glow"],PntD:[0,"Paint Daubs"],PltK:[0,"Palette Knife"],PlsW:[0,"Plastic Wrap"],PstE:[0,"Poster Edges"],RghP:[0,"Rough Pastels"],SmdS:[0,"Smudge Stick"],Spng:[0,"Sponge"],Undr:[0,"Underpainting"],Wtrc:[0,"Watercolor"],AccE:[1,"Accented Edges"],AngS:[1,"Angled Strokes"],Crsh:[1,"Crosshatch"],DrkS:[1,"Dark Strokes"],InkO:[1,"Ink Outlines"],Spt:[1,"Spatter"],SprS:[1,"Sprayed Strokes"],Smie:[1,"Sumi-e"],DfsG:[2,"Diffuse Glow"],Gls:[2,"Glass"],OcnR:[2,"Ocean Ripple"],BsRl:[3,"Bas Relief"],ChlC:[3,"Chalk & Charcoal"],Chrc:[3,"Charcoal"],Chrm:[3,"Chrome"],CntC:[3,"Cont\xE9 Crayon"],GraP:[3,"Graphic Pen"],HlfS:[3,"Halftone Pattern"],NtPr:[3,"Note Paper"],Phtc:[3,"Photocopy"],Plst:[3,"Plaster"],Rtcl:[3,"Reticulation"],Stmp:[3,"Stamp"],TrnE:[3,"Torn Edges"],WtrP:[3,"Water Paper"],GlwE:[4,"Glowing Edges"],Crql:[5,"Craquelure"],Grn:[5,"Grain"],MscT:[5,"Mosaic Tiles"],Ptch:[5,"Patchwork"],StnG:[5,"Stained Glass"],Txtz:[5,"Texturizer"]};
b5.Qv=function(u){var m;if(u=="ClrP")m={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(u=="Ct")m={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(u=="DryB")m={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(u=="FlmG")m={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(u=="Frsc")m={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(u=="NGlw")m={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(u=="PntD")m={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(u=="PltK")m={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(u=="PlsW")m={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(u=="PstE")m={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(u=="RghP")m={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(u=="SmdS")m={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(u=="Spng")m={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(u=="Undr")m={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(u=="Wtrc")m={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(u=="AccE")m={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(u=="AngS")m={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(u=="Crsh")m={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(u=="DrkS")m={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(u=="InkO")m={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(u=="Smie")m={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(u=="Spt")m={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(u=="SprS")m={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(u=="DfsG")m={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(u=="Gls")m={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(u=="OcnR")m={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(u=="BsRl")m={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(u=="ChlC")m={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(u=="Chrc")m={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(u=="Chrm")m={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(u=="CntC")m={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(u=="GraP")m={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(u=="HlfS")m={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(u=="NtPr")m={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(u=="Phtc")m={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(u=="Plst")m={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(u=="Rtcl")m={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(u=="Stmp")m={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(u=="TrnE")m={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(u=="WtrP")m={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(u=="GlwE")m={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(u=="Crql")m={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(u=="Grn")m={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(u=="MscT")m={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(u=="Ptch")m={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(u=="StnG")m={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(u=="Txtz")m={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
m.__name="Filter Gallery";m.classID="GEfc";m.GEfk={t:"enum",v:{GEft:u}};m.GELv={t:"bool",v:!0};return m};
b5.R9=function(u,m){for(var D=0;D<m.length;D++)~~(m[D]=(u[4*D]+u[4*D+1]+u[4*D+2])*(1/3))};b5.iZ=function(u,m,C,Z){var q=UPNG.quantize(u,m);
q={Qa:q.inds,BJ:q.plte};var J=Math.floor((C+Z)*.015);if(J!=0)j.xG.ahi(q.Qa,C,Z,J);return q};b5.D1=function(u,m,C,Z,q,J,A){u=C.GEfk.v.GEft;
var n=m.rect,N=n.e,e=n.n,Q=N*e,p=C.FlRs?C.FlRs.v>>>1:0;function B(h){return h.p<<24|h.T<<16|h.S<<8|255}if(u=="ClrP")j.v.a7B(m.buffer,N,e,J.buffer,[C.Pncl.v,C.StrP.v,C.PprB.v]);
if(u=="Ct"){var $=C.NmbL.v,R=C.EdgS.v,z=b5.iZ(m.buffer.buffer,$*2,N,e);for(var D=0;D<z.Qa.length;D++)z.Qa[D]++;
var v=new Uint8Array((N+2)*(e+2));j.j5(z.Qa,new bl(1,1,N,e),v,new bl(0,0,N+2,e+2));var a=j.u.VS(v,N+2,e+2,R,!1),X=new ix(1,0,0,1,-1,-1);
for(var D=0;D<a.length;D++)j.u.I(a[D].path.s,X,a[D].path.s);var V=[],o=z.BJ;for(var D=0;D<o.length;D++){var h=o[D].est.q;
V.push({p:Math.round(255*h[0]),T:Math.round(255*h[1]),S:Math.round(255*h[2]),w7:Math.round(255*h[3])})}var T=j.l2(N,e);
for(var D=0;D<a.length;D++){var l=a[D],h=V[l.color-1];if(h.w7==0)continue;T.fillStyle="rgba("+h.p+","+h.T+","+h.S+","+h.w7/255+")";
T.beginPath();Typr.U.pathToContext({crds:l.path.s,cmds:l.path.X},T);T.fill()}if(!n.qR()){var w=T.getImageData(0,0,N,e);
j.Uj(w.data,J.buffer)}}if(u=="DryB")j.v.af8(m.buffer,N,e,J.buffer,[C.BrsS.v,C.BrsD.v,C.Txtr.v]);if(u=="FlmG")j.v.ahB(m.buffer,N,e,J.buffer,[C.Grn.v,C.HghA.v,C.Intn.v,p]);
if(u=="Frsc")j.v.a61(m.buffer,N,e,J.buffer,[C.BrsS.v,C.BrsD.v,C.Txtr.v]);if(u=="NGlw")j.v.auC(m.buffer,N,e,J.buffer,[C.Sz.v,C.Brgh.v,B(j.C.o5(C.Clr.v)),B(Z),B(q)]);
if(u=="PltK")j.v.aun(m.buffer,N,e,J.buffer,[C.StrS.v,C.StDt.v,C.Sftn.v]);if(u=="PstE")j.v.a0s(m.buffer,N,e,J.buffer,[C.EdgT.v,C.EdgI.v,C.Pstr.v]);
if(u=="RghP")j.v.a0p(m.buffer,N,e,J.buffer,[C.StrL.v,C.StDt.v,b5.CK.indexOf(C.TxtT.v.TxtT),C.Scln.v,C.Rlf.v,b5.jg.indexOf(C.LghD.v.LghD),C.InvT.v]);
if(u=="SmdS")j.v.a2I(m.buffer,N,e,J.buffer,[C.StrL.v,C.HghA.v,C.Intn.v,C.FlRs.v,p]);if(u=="Spng")j.v.aaw(m.buffer,N,e,J.buffer,[C.BrsS.v,C.Dfnt.v,C.Smth.v,C.FlRs.v,p]);
if(u=="Undr")j.v.ab4(m.buffer,N,e,J.buffer,[C.BrsS.v,C.TxtC.v,b5.CK.indexOf(C.TxtT.v.TxtT),C.Scln.v,C.Rlf.v,b5.jg.indexOf(C.LghD.v.LghD),C.InvT.v]);
if(u=="Wtrc")j.v.arn(m.buffer,N,e,J.buffer,[C.BrsD.v,C.ShdI.v,C.Txtr.v]);if(u=="AccE")j.v.aoI(m.buffer,N,e,J.buffer,[C.EdgW.v,C.EdgB.v,C.Smth.v]);
if(u=="AngS")j.v.at6(m.buffer,N,e,J.buffer,[C.DrcB.v,C.StrL.v,C.Shrp.v]);if(u=="Crsh")j.v.aa7(m.buffer,N,e,J.buffer,[C.StrL.v,C.Shrp.v,C.Strg.v]);
if(u=="DrkS")j.v.aky(m.buffer,N,e,J.buffer,[C.Blnc.v,C.BlcI.v,C.WhtI.v]);if(u=="InkO")j.v.apc(m.buffer,N,e,J.buffer,[C.StrL.v,C.DrkI.v,C.LghI.v]);
if(u=="Smie")j.v.a3l(m.buffer,N,e,J.buffer,[C.StrW.v,C.StrP.v,C.Cntr.v]);if(u=="DfsG")j.v.anH(m.buffer,N,e,J.buffer,[C.Grns.v,C.GlwA.v,C.ClrA.v,B(q),p]);
if(u=="CntC")j.v.a2a(m.buffer,N,e,J.buffer,[C.FrgL.v,C.BckL.v,b5.CK.indexOf(C.TxtT.v.TxtT),C.Scln.v,C.Rlf.v,b5.jg.indexOf(C.LghD.v.LghD),C.InvT.v,B(q),B(Z)]);
if(u=="ChlC")j.v.a2u(m.buffer,N,e,J.buffer,[C.ChrA.v,C.ChlA.v,C.StrP.v,p,B(q),B(Z)]);var W=u=="GraP"||u=="Chrc"||u=="Plst"||u=="Rtcl"||u=="Stmp"||u=="TrnE";
if(W){var U=j.U(N*e);if(u=="GraP")j.v.ac$(m.buffer,N,e,J.buffer,[C.StrL.v,C.LgDr.v,b5.HM.indexOf(C.SDir.v.StrD),p]);
if(u=="Chrc")j.v.apR(m.buffer,N,e,J.buffer,[C.ChAm.v,C.Dtl.v,C.LgDr.v]);if(u=="Plst")j.v.aug(m.buffer,N,e,J.buffer,[C.ImgB.v,b5.qq.indexOf(C.LghP.v.LghP),C.Smth.v]);
if(u=="Rtcl")j.v.af$(m.buffer,N,e,J.buffer,[C.Dnst.v,C.BlcL.v,C.WhtL.v,p]);if(u=="Stmp")j.v.asX(m.buffer,N,e,J.buffer,[C.LgDr.v,C.Smth.v]);
if(u=="TrnE")j.v.amY(m.buffer,N,e,J.buffer,[C.ImgB.v,C.Smth.v,C.Cntr.v,p]);j._H(J.buffer,U,0);b5.bX(U,J.buffer,Z,q)}if(u=="NtPr")j.v.a75(m.buffer,N,e,J.buffer,[C.ImgB.v,C.Grns.v,C.Rlf.v,B(Z),B(q),p]);
if(u=="WtrP")j.v.aj0(m.buffer,N,e,J.buffer,[C.FbrL.v,C.Brgh.v,C.Cntr.v,p>>>1]);if(u=="Crql")j.v.aqq(m.buffer,N,e,J.buffer,[C.CrcS.v,C.CrcD.v,C.CrcB.v,p]);
if(u=="Grn")j.v.aud(m.buffer,N,e,J.buffer,[C.Intn.v,b5.RN.indexOf(C.Grnt.v.Grnt),C.Cntr.v,B(Z),B(q),p]);
if(u=="MscT")j.v.afX(m.buffer,N,e,J.buffer,[C.TlSz.v,C.GrtW.v,C.LghG.v,p]);if(u=="Ptch")j.v.atC(m.buffer,N,e,J.buffer,[C.SqrS.v,C.Rlf.v,p]);
if(u=="Phtc"){function s(g4,eA,n,aS){j.yM.Yz(g4,eA,n,aS);for(var D=0;D<Q;D++)eA[D]=Math.max(0,Math.min(255,128+g4[D]-eA[D]))}var S=C.Dtl.v,x=C.Drkn.v,P=j.U(Q);
j.px(m.buffer,P);var y=j.U(Q);s(P,y,n,1);if(S==1){S=2;x=Math.round(x/4)}var _=j.U(Q);s(P,_,n,S);for(var D=0;
D<Q;D++)P[D]=Math.max(0,Math.min(255,255-(y[D]-_[D])*x));b5.bX(P,J.buffer,Z,q)}if(u=="Spt"||u=="SprS"){var g,G=1,O=1;
g={du:Math.floor(N/O),Oh:Math.floor(e/O)};g.map=new Float32Array(g.du*g.Oh*2);var E=new j.a.d2(C.FlRs.v),L=new Float32Array(8192),c=C.SprR.v,k=c<20?.018*c:.36+(c-20)*.128;
if(u=="SprS"){k=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][c]}for(var D=0;
D<8192;D++)L[D]=(-1+2*E.get())*k*70;for(var I=0;I<e;I++)for(var Y=0;Y<N;Y++){var K=I*N+Y<<1;g.map[K]=L[K%7919];
g.map[K+1]=L[(K+1)%7919]}var i=g.map.slice(0),i4=u=="Spt"?C.Smth.v-1:1;if(u=="Spt"&&i4!=0){b5.bz(g.map,i,N,e,i4);
b5.Mi(i,g.map,N,e,i4)}if(u=="SprS"){var d7=C.StrL.v>>>1,d=d7==0?2:1;b5.bz(g.map,i,N,e,d);b5.Mi(i,g.map,N,e,d);
if(d7!=0){var fH=b5.HM.indexOf(C.SDir.v.StrD),aC=[1,1,1,0][fH],f8=[-1,0,1,1][fH],c9=2*d7+1,g1=1/c9;for(var I=0;
I<e;I++)for(var Y=0;Y<N;Y++){var K=I*N+Y<<1,cE=0,hG=0;for(var D=0;D<c9;D++){var fA=Math.max(0,Math.min(N-1,Y-(d7+D)*aC)),hh=Math.max(0,Math.min(e-1,I-(d7+D)*f8)),eE=hh*N+fA<<1;
cE+=g.map[eE];hG+=g.map[eE+1]}i[K]=cE*g1;i[K+1]=hG*g1}g.map=i}}j.xW.xZ(m.buffer,J.buffer,N,e,null,g.map,g.du,g.Oh,G)}if(u=="BsRl"||u=="PlsW"||u=="Chrm"){var dh=Date.now(),fT=j.U(Q),dB=fT.slice(0);
j.px(m.buffer,fT);var S=C.Dtl.v,iN=C.Smth.v;if(S!=15){j.yM.kJ(fT,dB,n,Math.round((15-S)*.5));j.Uj(dB,fT)}var gV=1.4/N,fI=1.4/e,gc=new Float32Array(Q),aF=new Float32Array(Q),gh=new Float32Array(J.buffer.buffer);
for(var I=0;I<e;I++)for(var Y=0;Y<N;Y++){var D=I*N+Y,aC=Y==N-1?fT[D]-fT[D-1]:fT[D+1]-fT[D],f8=I==e-1?fT[D]-fT[D-N]:fT[D+N]-fT[D],gD=Y*gV-.7,j1=I*fI-.7;
gc[D]=aC==0?gD:aC*.4;aF[D]=f8==0?j1:f8*.4}if(u=="BsRl"){var dg=(2+b5.jg.indexOf(C.LghD.v.LghD))*Math.PI*.25,cE=Math.cos(dg);
if(Math.abs(cE)<.1)cE=0;cE=Math.sign(cE);var hG=Math.sin(dg);if(Math.abs(hG)<.1)hG=0;hG=Math.sign(hG);
var ao=1/(cE*cE+hG*hG);for(var I=0;I<e;I++)for(var Y=0;Y<N;Y++){var D=I*N+Y,eC=Math.max(-1,Math.min(1,cE*gc[D])),bD=Math.max(-1,Math.min(1,hG*aF[D]));
dB[D]=128+127*(eC+bD)*ao}if(iN!=1){j.yM.kJ(dB,fT,n,Math.round((iN-1)*.5));j.Uj(fT,dB)}b5.bX(dB,J.buffer,Z,q)}else{if(u=="Chrm")iN=5+iN;
if(iN>1)b5.zV(gc,aF,gh,n,iN-1);if(u=="PlsW"){var fK=new Uint8Array(gc.buffer);for(var D=0;D<Q;D++){var a1=D<<2,aC=gc[D],f8=aF[D],fR=1/(Math.sqrt(1+aC*aC)*Math.sqrt(1+f8*f8)),bj=fR*fR,b7=bj*bj,h=~~(255*(b7*b7*bj));
fK[a1+0]=h;fK[a1+1]=h;fK[a1+2]=h;fK[a1+3]=h}J.buffer.set(m.buffer);j.a.q5("norm",fK,n,J.buffer,n,n,C.HghS.v/20)}else if(u=="Chrm"){var ha=J.buffer,eJ=N>>>1,cq=e>>>1;
for(var D=0;D<Q;D++){var a1=D<<2,aC=gc[D],f8=aF[D],g4={x:1,y:0,jN:aC};dU.E4(g4);var eA={x:0,y:1,jN:f8};
dU.E4(eA);var aJ=dU.apu(g4,eA),fU=1/aJ.jN,iE=~~Math.max(0,Math.min(N-1,eJ-aJ.x*fU*eJ)),hQ=~~Math.max(0,Math.min(e-1,cq-aJ.y*fU*cq)),h=fT[hQ*N+iE];
ha[a1+0]=h;ha[a1+1]=h;ha[a1+2]=h}}}}if(u=="Gls"||u=="OcnR"||u=="Txtz"){var bT=u=="OcnR"?2:b5.CK.indexOf(C.TxtT.v.TxtT),iU=b5.Cl(bT),ba=iU[0],fT=iU[1],eI=ba.e,e_=ba.n,c9=24,cY=0,d6,hU;
function bs(bP,ft,d8){return~~(fr*(bP+ft)+8192)&127}var gc=new Float32Array(Q),aF=new Float32Array(Q),gh=new Float32Array(J.buffer.buffer),fr=u=="OcnR"?1/(1+(C.RplS.v-1)*.1):100/C.Scln.v;
if(bT==3)fr*=32/22.2;var dh=Date.now(),db=fr,gV=1.4/N,fI=1.4/e;if(u=="Txtz"){db*=1/255;c9=256}for(var I=0;
I<e;I++){var fx=bs(I,n.y,e_),hh=fx+1&127;for(var Y=0;Y<N;Y++){var D=I*N+Y,fb=bs(Y,n.x,eI),fA=fb+1&127,dA=0,ge=0,bh=0;
if(u=="Txtz"){dA=j.N.Bd(fr*Y,fr*I,fT,128,128);ge=j.N.Bd(fr*Y,fr*I+1,fT,128,128);bh=j.N.Bd(fr*Y+1,fr*I,fT,128,128)}else{dA=fT[fx*eI+fb];
ge=fT[hh*eI+fb];bh=fT[fx*eI+fA]}gc[D]=Math.max(-c9,Math.min((bh-dA)*db,c9));aF[D]=Math.max(-c9,Math.min((ge-dA)*db,c9))}}if(u=="Txtz")b5.H2(gc,aF,gh,n,6);
else b5.zV(gc,aF,gh,n,u=="Txtz"?1:u=="OcnR"?3.5/fr:C.Smth.v);if(u=="Txtz")cY=C.InvT.v?-1:1;else if(u=="Gls"){cY=[1,.4,.5,.5][bT]*(Math.exp(C.Dstr.v*.155)-1);
if(C.InvT.v)cY=-cY}else{cY=.5*(Math.exp(C.RplM.v*.155)-1)}var ha=J.buffer;if(u=="Txtz"){var dg=(2+b5.jg.indexOf(C.LghD.v.LghD))*Math.PI*.25,cE=Math.cos(dg),hG=Math.sin(dg);
d6={x:cE,y:hG,jN:0};dU.E4(d6);hU=C.Rlf.v;hU=hU/4+Math.max(0,(hU-35)*2)}function f2(g4,eA,i8){var io=j.a.overF(eA,g4,1),bP=(1-i8)*g4+i8*(i8*eA+(1-i8)*io);
return bP*255}for(var I=0;I<e;I++)for(var Y=0;Y<N;Y++){var D=I*N+Y,a1=D<<2,aC=gc[D],f8=aF[D],g4={x:1,y:0,jN:aC};
dU.E4(g4);var eA={x:0,y:1,jN:f8};dU.E4(eA);var aJ=dU.apu(g4,eA);if(u=="Txtz"){var cQ=dU.a82(aJ,d6)*cY,i8=1,h=1;
if(cQ<0){h=0;cQ=-cQ}i8=Math.min(1,cQ*hU);ha[a1+0]=~~f2(m.buffer[a1]*(1/255),h,i8);ha[a1+1]=~~f2(m.buffer[a1+1]*(1/255),h,i8);
ha[a1+2]=~~f2(m.buffer[a1+2]*(1/255),h,i8)}else{var fU=cY/aJ.jN,iE=~~Math.max(0,Math.min(N-1,Y-aJ.x*fU)),hQ=~~Math.max(0,Math.min(e-1,I-aJ.y*fU)),hw=hQ*N+iE<<2;
ha[a1+0]=m.buffer[hw];ha[a1+1]=m.buffer[hw+1];ha[a1+2]=m.buffer[hw+2]}}}if(u=="PntD"){var iA=C.Shrp.v*.4,ce=C.BrsT.v.BrsT,al={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[ce],aS=Math.round(C.Sz.v*.5);
j.ev.lv=al[0];var gM=j.ev.D$;j.ev.XU(m.buffer,J.buffer,N,e,aS,gM,[]);var gS=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
gS=j.aA.G7(gS);var h3=J.buffer.slice(0);j.aA.ea(h3,J.buffer,N,e,gS,0);for(var D=0;D<m.buffer.length;
D++){var id=J.buffer[D]-h3[D];J.buffer[D]=Math.max(0,Math.min(255,h3[D]+iA*id))}}if(u=="GlwE"){var e3=J.buffer.slice(0);
j.ev.lv=.5;var gM=j.ev.D$;j.ev.XU(m.buffer,e3,N,e,C.Smth.v>>>1,gM,[]);j.aA.b1(e3,J.buffer,N,e);j.Uj(J.buffer,e3);
j.mL(e3);j.gs(e3,4278190080,16777215);j.ev.XU(e3,J.buffer,N,e,C.EdgW.v>>>1,j.ev.iD,[]);var cw=C.EdgB.v/10;
for(var D=0;D<e3.length;D++){if((D&3)==3)continue;var io=J.buffer[D];J.buffer[D]=Math.max(0,Math.min(255,io*cw))}}if(u=="StnG"){j.Gf.a7a(m.buffer,N,e,J.buffer,C.ClSz.v,[Math.round(Z.p),Math.round(Z.T),Math.round(Z.S)],C.BrdT.v)}if(u=="HlfS"){var iY=C.HlSz.v,jy=iY*2+1,cn=C.Cntr.v,ej=b5.db.indexOf(C.ScrT.v.ScrT),Q=N*e,j7=Q*4,fn=j.U(Q),h4=m.buffer,aR=0,eW=0;
b5.R9(h4,fn);var da=fn.slice(0);j.yM.tn(da,fn,n,iY);var bc=Math.PI/jy,aA=new Float64Array(N),cE=new Float64Array(N),f5=new Float64Array(2*N);
for(var Y=0;Y<N;Y++){var fb=(Y-(N>>>1))*bc;aA[Y]=fb*fb;cE[Y]=Math.cos(fb);var aC=Y<<1;f5[aC]=Math.sin(aC*(1/4.5));
f5[aC+1]=Math.sin((aC+1)*(1/4.5))}for(var I=0;I<e;I++){var fx=(I-(e>>>1))*bc,hG=Math.cos(fx),cS=fx*fx;
for(var Y=0;Y<N;Y++){var h=hG;if(ej==0){var cR=.5+Math.sqrt(aA[Y]+cS)*4.5;h=f5[~~cR]}else if(ej==1){h=cE[Y]*hG}var D=I*N+Y,cp=fn[D]*(.75+.25*h),i8=h4[(D<<2)+3]*(1/255),ev=Math.max(0,Math.min(255,~~cp));
aR+=ev*i8,eW+=i8;fn[D]=ev}}aR/=eW;var aQ=128+1.26*(aR-128),cw=.08+.25*Math.abs((128-aR)/128),e$=1+cw*cn;
for(var D=0;D<Q;D++){var cp=aQ+(fn[D]-aQ)*e$;fn[D]=Math.max(0,Math.min(255,~~cp))}if(cn>46)j.round(fn);
b5.bX(fn,J.buffer,Z,q)}for(var D=0;D<m.buffer.length;D+=4)J.buffer[D+3]=m.buffer[D+3]};b5.bX=function(u,m,C,Z){var q=u.length,J=C.p,A=C.T,n=C.S,N=Z.p,e=Z.T,Q=Z.S;
for(var D=0;D<q;D++){var p=u[D]*(1/255),B=1-p,$=D<<2;m[$]=~~(J*B+N*p);m[$+1]=~~(A*B+e*p);m[$+2]=~~(n*B+Q*p)}};
b5.Cl=function(u){if(u==6)u=2;var m="blocks canvas frosted tinylens brick burlap".split(" ")[u];if(b5.uh==null)b5.uh=[];
if(b5.uh[u]==null){var C,Z;if(u==2){Z=new bl(0,0,128,128);var q=a7.Qv("AdNs");q.Mnch.v=!0;q.Dstr.v.Dstr="Gsn";
q.Nose.v.val=50;var C=j.U(Z.Z()*4),J=C.slice(0);new Uint32Array(J.buffer).fill(4286611584);a7.D1("AdNs",{buffer:J,rect:Z},q,0,0,{buffer:C,rect:Z})}else{var A=d4.aw.get("tex/"+m,!0)[0];
Z=A.WL;C=new Uint8Array(A.data)}var n=j.U(Z.Z());j._H(C,n,0);b5.uh[u]=[Z,n]}return b5.uh[u]};b5.zV=function(u,m,C,Z,q){if(q<=1){q=Math.round(q);
b5.H2(u,m,C,Z,[1,16,4][q]);return}var J=q*.42;if(u){j.yM.A1(u,C,Z,J,3);u.set(C)}if(m){j.yM.A1(m,C,Z,J,3);
m.set(C)}};b5.H2=function(u,m,C,Z,q){var J=j.aA.G7([1,2,1,2,q,2,1,2,1]);if(u){C.set(u);j.aA.$z(u,C,Z.e,Z.n,J);
u.set(C)}if(m){C.set(m);j.aA.$z(m,C,Z.e,Z.n,J);m.set(C)}};b5.FK=function(u){if(u==null)return new dz(0,0);
var m=0,C=u.GEfs?u.GEfs.v:[{v:u}];for(var D=0;D<C.length;D++){var Z=C[D].v,J=1e4;if(Z.GELv&&!Z.GELv.v)continue;
var q=Z.GEfk.v.GEft;if(q=="GlwE"||q=="Phtc"||q=="BsRl"||q=="PlsW"||q=="Chrm"||q=="Gls"||q=="OcnR")J=0;
m=Math.max(m,J)}return new dz(m,m)};b5.aG=function(u){var m=[0,0,0,0,0,0,0,0,0,0,0,0,0],C=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][u];
for(var D=0;D<13;D++){var Z=D-6;m[D]=1/(C*Math.sqrt(2*Math.PI))*Math.exp(-.5*(Z/C)*(Z/C))}return m};
b5.bz=function(u,m,C,Z,q){var J=b5.aG(q),A=6,n=13;for(var N=0;N<Z;N++)for(var e=0;e<C;e++){var Q=N*C+e<<1,p=0,B=0;
for(var D=0;D<n;D++){var $=e+D-A,R=$<0?0:$>=C?C-1:$,z=(N*C+R)*2,v=J[D];p+=v*u[z];B+=v*u[z+1]}m[Q]=p;
m[Q+1]=B}};b5.Mi=function(u,m,C,Z,q){var J=b5.aG(q),A=6,n=13;for(var N=0;N<Z;N++)for(var e=0;e<C;e++){var Q=N*C+e<<1,p=0,B=0;
for(var D=0;D<n;D++){var $=N+D-A,R=$<0?0:$>=Z?Z-1:$,z=(R*C+e)*2,v=J[D];p+=v*u[z];B+=v*u[z+1]}m[Q]=p;
m[Q+1]=B}};function hR(){}hR.gQ=[2,5,5,7,4,4];hR.AO="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
hR.C7="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
hR.Pc=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
hR.Al=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
hR.Sp=function(u){if(u=="passThrough")return"pass";return hR.AO[hR.C7.indexOf(u)]};hR.gt=function(u){if(u=="pass")return"passThrough";
return hR.C7[hR.AO.indexOf(u)]};hR.getName=function(u){return hR.Pc[hR.AO.indexOf(u)]};function F(){this.rect=null;
this.buffer=null;this.Um="norm";this.opacity=255;this.G8=!1;this.VO=0;this.Aa=0;this.Hy=!0;this.Aw=[];
for(var D=0;D<10;D++)this.Aw.push(0,0,255,255);this.name=null;this.add={};this.Xu=null;this.Rz=null;
this.M=null;this.yR=null;this.a5p=30;this.h$=F.Fw();this.asa=F.Fw();this.adR=F.Fw();this.a4B=F.Fw();
this.$v=0;this.Xn=!1;this.yH=null;this.zi=new F.ET}F.Fw=function(){var u=document.createElement("canvas");
u.width=u.height=30;return u.getContext("2d")};F.ET=function(){this.LD=!0;this.gZ=!0;this.IJ=j.U(0);
this.aiT=j.U(0);this.tR=null;this.Jo={};this.a6C=null;this.YJ=null;this.og=null;this.gW=null;this.lX=null;
this.Rm=null;this.NX=null;this.$x=null;this.YK=null;this.cI=null;this.Ms=null;this.eh=null;this.R3=!1};
F.ET.prototype.ko=function(){this.LD=!1;this.gZ=!1;this.tR=null;this.R3=H.GL};F.ET.prototype.a5i=function(){dU.amh(this.Jo);
this.IJ=j.U(0);this.aiT=j.U(0);if(this.gW)this.gW.delete();if(this.lX)this.lX.delete();this.gW=null;
this.lX=null;var u=[this.Rm,this.NX,this.$x,this.YK,this.cI,this.Ms];for(var D=0;D<6;D++)if(u[D]!=null&&u[D]instanceof H.HT)u[D].delete();
this.Rm=null;this.NX=null;this.$x=null;this.YK=null;this.cI=null;this.Ms=null};F.prototype.G=function(u){if(u==null)u=this.rect.clone();
if(this.zi.tR==null)this.zi.tR=u;else this.zi.tR=this.zi.tR.QN(u)};F.prototype.ld=function(){return this.add.lsct==cT.G6||this.add.lsct==cT.an};
F.prototype.Y8=function(){var u=this.add;return u.SoCo!=null||u.GdFl!=null||u.PtFl!=null};F.prototype.Ar=function(){var u=this.add.lmfx;
if(u==null)return;var m=["GrFl","patternFill"];for(var D=0;D<m.length;D++){var C=c0.Ca[c0.order.indexOf(m[D])],Z=u[C].v;
if(Z.length==0)continue;for(var q=0;q<Z.length;q++){var J=Z[q].v;if(J.enab.v&&(J.Algn==null||!J.Algn.v))this.zi.gZ=!0}}};
F.prototype.kB=function(){var u=this.M;if(this.Y8())u=this.Te();if(!H.GL)return u.YX();if(this.zi.lX==null||this.zi.LD||H.GL!=this.zi.R3){if(this.zi.lX)this.zi.lX.delete();
this.zi.lX=new H.Wl(u.Ci().e,u.Ci().n);this.zi.lX.set(u.YX())}return this.zi.lX};F.prototype.iN=function(u){var m=this.rect,C=this.buffer;
if(!H.GL){var Z=this.P9(u,C,m);if(Z){C=Z.bf;m=Z.rect}return C}if(this.zi.tR!=null||H.GL!=this.zi.R3){var Z=this.P9(u,C,m);
if(Z){C=Z.bf;m=Z.rect}var q=m;if(H.GL!=this.zi.R3||this.zi.gW==null||this.zi.gW.e!=q.e||this.zi.gW.n!=q.n){if(this.zi.gW)this.zi.gW.delete();
this.zi.gW=new H.HT(q.e,q.n);this.zi.gW.set(C)}else{var J=this.zi.tR.clone();J.offset(-m.x,-m.y);this.zi.gW.set(C,J)}}return this.zi.gW};
F.prototype.JD=function(){var u=this.M;if(this.Y8())u=this.Te();return u!=null&&u.isEnabled&&(!u.rect.qR()||u.o5()!=255)};
F.prototype.P9=function(u,m,C){if(this.Bv()){var Z=this.Ha(u);if(Z.M&&Z.M.isEnabled&&(!Z.M.rect.qR()||Z.M.color==0)){var q=this.add.SoLd.filterFX.v;
Z.M.cp=q.filterMaskDensity?q.filterMaskDensity.v:255;Z.M.To=q.filterMaskFeather?q.filterMaskFeather.v:0;
var J=Z.buffer,A=Z.rect;if(A.Z()<C.Z()){A=C;J=j.U(A.Z()*4);j.zO(Z.buffer,Z.rect,J,A)}var n=Z.M.f9(C);
j.mL(n);m=m.slice(0);j.a.LP(J,A,m,C,n,C,0,C,1);return{bf:m,rect:C}}}};F.prototype.adw=function(){var u={ef:!1,N3:!1,hl:0,bG:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)u.N3=!0;if(this.Te()&&this.Te().isEnabled)u.ef=!0;if(u.ef&&u.N3){u.hl=this.Te().rect.x-this.add.vmsk.Te().rect.x;
u.bG=this.Te().rect.y-this.add.vmsk.Te().rect.y}return u};F.prototype.uE=function(u){if(this.add.lsct==cT.Ip)return;
var m=this,C=this.Te()!=null&&this.Te().hf,Z=this.add.vmsk!=null&&this.add.vmsk.hf,q=this.adw(),J=JSON.stringify(q)!=this.zi.a6C||q.ef&&C||q.N3&&Z;
if(J){if(q.N3){var A=this.add.vmsk.Te();if(q.ef){this.M=this.Te().kt(A);this.zi.YJ=new dz(this.M.rect.x-this.Te().rect.x,this.M.rect.y-this.Te().rect.y)}else this.M=A}if(this.M)this.zi.LD=!0;
if(this.M)this.zi.og=new dz(this.rect.x-this.M.rect.x,this.rect.y-this.M.rect.y);if(q.ef)this.Te().hf=!1;
if(q.N3)this.add.vmsk.hf=!1;this.G()}else{if(q.ef&&q.N3){this.M.rect.x=this.Te().rect.x+this.zi.YJ.x;
this.M.rect.y=this.Te().rect.y+this.zi.YJ.y}}if(m.Y8()){this.ik(u)}if(m.b0()){var n;if(this.M)n=new dz(this.rect.x-this.M.rect.x,this.rect.y-this.M.rect.y);
if(this.M&&this.M.isEnabled&&(this.zi.og==null||!n.QV(this.zi.og))){this.zi.og=n;this.G();this.zi.LD=!0}}if(b1.get(m.add)!=null)this.zi.LD=!0;
this.zi.a6C=JSON.stringify(q)};F.prototype.ik=function(u){var m=this,C=m.add.vstk,Z=new bl(0,0,u.e,u.n),q,J=m.add.vmsk?this.add.vmsk.Te():null,N=!0,p;
if(J&&J.isEnabled&&J.o5()==0)q=J.Ci().clone();else q=Z;var A=m.Te();if(A&&A.isEnabled&&A.o5()==0)q=q.aR(m.M.Ci());
var n=J&&C;if(C&&(!C.strokeEnabled.v||C.strokeStyleLineWidth.v.val==0))n=!1;if(C&&!C.fillEnabled.v&&n)N=!1;
var e=j.U(q.Z()*4);if(N){if(m.add.SoCo)dU.Dx(e,m.add.SoCo.Clr.v);if(m.add.GdFl){var Q=J&&J.color==0?j.$.Br(m.add.vmsk.B,null,!0):null;
dU.ew(m.add.GdFl,e,q,u,null,Q)}if(m.add.PtFl)dU.Hm(m.add.PtFl,e,q,u.add.Patt,m.add.fxrp)}if(n)p=c0.K_.bt.indexOf(C.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(J){var B=J.cp;if(n)J.cp=255;var $=j.U(q.Z());if(J.o5()!=0)$.fill(Math.round(J.o5()));if(J&&J.isEnabled){var R=J.Ci(),z=J.YX();
if(R.QV(q))j.Uj(z,$);else j.j5(z,R,$,q)}if(n&&p==2){}else{if(m.add.SoCo&&N){j.wC($,e,3)}else j.BE($,q,e,q)}if(n)J.cp=B}m.buffer=e;
m.rect=q;if(n){var v=C.strokeStyleContent.v,a=c0.K_.j1.indexOf(v.classID),X=this.add.vmsk.Te(C);if(p!=0&&!m.rect.QV(Z))m.extend(m.rect.QN(X.Ci()));
var B=X.cp;X.cp=255;var V=X.f9(m.rect);X.cp=B;if(X.color==255)j.mL(V);var o=j.U(m.rect.Z()*4);if(a==0)dU.Dx(o,v.Clr.v);
if(a==1)dU.ew(v,o,m.rect,u,null,J.color==0?J.rect:null);if(a==2)dU.Hm(v,o,m.rect,u.add.Patt,m.add.fxrp);
var h=C.strokeStyleOpacity.v.val/100;if(h!=1)j.Hv(V,h);if(X.color==255)p=2-p;if(p<2){j.a.LP(o,m.rect,m.buffer,m.rect,V,m.rect,255,m.rect,1,!1);
if(p==0)j.uY($,m.buffer)}if(p==2){j.uY(V,o);j.mL($);j.a.LP(o,m.rect,m.buffer,m.rect,$,q,255,m.rect,1,!1);
j.mL($)}if(X.cp!=255){var T=o.slice(0);j.gs(T,4278190080,16777215);j.a.q5("norm",T,m.rect,m.buffer,m.rect,m.rect,1-X.cp/255)}B=J.cp;
J.cp=255;this.aiT=J.f9(m.rect);J.cp=B}this.G()};F.prototype.go=function(u,m){var C=this,Z=C.add.SoLd.Idnt.v,q=C.add.SoLd,J=j.u.Of(b.Q.Fo(q.nonAffineTransform)),A=u.SP(Z,q.Crop?q.Crop.v:null,[J.e,J.n],q.Impr.v.classID),B=1;
if(A==null)return;var n=A.CB;q.Sz.v.Wdth.v=n[1].e;q.Sz.v.Hght.v=n[1].n;var N=A.JJ==null?q.Rslt.v.val:A.JJ,e=q.warp.v,Q=b.Q.Fo(q.nonAffineTransform),p=n[1].clone();
p.e*=B;p.n*=B;p.x=(n[1].e-p.e)/2;p.y=(n[1].n-p.n)/2;var $=j.N.GG(Q,p);if(e&&!j.x0.Y2(e)){var J=j.u.Of(j.x0.Xw(e)),R=J.x,z=J.y,v=1/J.e,a=1/J.n;
$=j.N.GG(Q);$=j.N.kt($,[v,0,-R*v,0,a,-z*a,0,0])}var X=b.Q._5(n,m?0:1,$,e,null,null,null,m);if(X==null){C.buffer=j.U();
C.rect=new bl}else if(C.Bv()){var V=C.Ha(u);V.buffer=X.buffer;V.rect=X.rect.clone();this.cB(u,m)}else{C.buffer=X.buffer;
C.rect=X.rect}C.uE(u);C.G();u.G()};F.prototype.cB=function(u,m){if(m==null)m=!1;var C=this.Ha(u),Z=this.add.SoLd.filterFX.v,q=a7.aaG(Z),J=new bl(0,0,u.e,u.n),A=C.rect.QN(J),n=C.rect.clone();
n.iO(q.x,q.y);var N={buffer:null,rect:A.aR(n)};N.buffer=j.U(N.rect.Z()*4);j.zO(C.buffer,C.rect,N.buffer,N.rect);
if(Z.enab.v&&m==!1){var e=Z.filterFXList.v;for(var D=0;D<e.length;D++){var Q=e[D].v;if(Q.enab.v==!1)continue;
var p=Q.blendOptions.v,B=hR.Sp(p.Md.v.BlnM),$=p.Opct.v.val/100,R=j.C.o5(Q.FrgC.v),z=j.C.o5(Q.BckC.v),v=a7.OU(Q),a={buffer:j.U(N.buffer.length),rect:N.rect.clone()},X=Q.Fltr?Q.Fltr.v:null;
if(b1.Ku[v]!=null){var V=b1.Ku[v],o=b1.z$(V,X);if(o)b1.D1(o,N.buffer,a.buffer,N.rect)}else a7.D1(v,N,X,R,z,a,[u.add.lnk2?u.add.lnk2:[],this.Te(),u.YG]);
if(B=="norm"&&$==1)N=a;else if(B=="norm"){j.a.LP(a.buffer,a.rect,N.buffer,N.rect,null,null,null,N.rect,$)}else{j.a.q5(B,a.buffer,a.rect,N.buffer,N.rect,N.rect,$)}}}this.rect=N.rect;
this.buffer=N.buffer;this.GJ();this.G();u.G()};F.prototype.RZ=function(u,m,C){this.yH=this.Jm(u,m,C)};
F.prototype.pY=function(u,m){var C=this.Jm(u,m,!0);if(C==null)return null;var Z={l8:C.$v,_y:C.J7,rect:C.BR};
if(Z.l8==1||Z.l8==3){var q=Z.rect,J=j.U(q.e*q.n*4);j.wC(Z._y,J,0);j.wC(Z._y,J,1);j.wC(Z._y,J,2);j.dF(u.q.channel,u.q.rect,J,q);
Z._y=J}return Z};F.prototype.Jm=function(u,m,C){var Z,q,J,A,n,N,e;if(this.$v<=0){var Q=j.U(this.rect.Z());
j._H(this.buffer,Q,3);Z=j.cz.Jy(m,{channel:Q,rect:this.rect},3);if(Z==null)return null;var p=j.tY(Z.channel,Z.rect);
A=Z.rect.clone();n=this.rect.clone();q=j.U(A.Z()*4);j.zO(this.buffer,n,q,A);j.wC(Z.channel,q,3);J=this.buffer.slice(0);
if(!C){var B=m.channel.slice(0);j.mL(B);j.BE(B,m.rect,J,n)}N=this.buffer.slice(0);e=this.rect.clone()}if(this.$v==1||this.$v==3){var $=this.$v==1?this.Te():this.Ha(u).M;
A=m.rect.clone();n=$.rect.clone();q=$.HQ(A);var J=$.channel.slice(0);if(!C)j.a.wI($.color==255?j.AL(A.Z()):j.LW(A.Z()),A,J,n,m.channel,A,1);
N=$.channel.slice(0);e=$.rect.clone()}return{$v:this.$v,J7:q,BR:A,hF:J,Gp:n,qB:N,f4:e}};F.prototype.nK=function(u,m){var C=this.yH;
if(C.$v==0){this.rect=C.f4;this.buffer=C.qB;this.G()}if(C.$v==1||C.$v==3){var Z=C.$v==1?this.Te():this.Ha(u).M;
Z.channel=C.qB;Z.rect=C.f4;if(this.$v==1){Z.hf=!0;this.uE(u)}if(this.$v==3)this.G()}this.yH=m};F.prototype.DJ=function(u,m){if(this.$v<=0&&m.rect.QV(this.rect)){var C=j.U(this.rect.Z());
j._H(this.buffer,C,3);if(j.QV(u.q.channel,C)){var Z=this.rect,q=this.buffer;this.yH={$v:this.$v,J7:q.slice(0),BR:Z.clone(),hF:j.U(0),Gp:new bl,qB:j.U(0),f4:new bl};
return!0}}var J=this.yH;if(J==null)return!1;if(J.$v!=this.$v)return!1;if(!m.rect.QV(J.BR))return!1;var A=J.Gp.QN(J.BR);
if(J.$v<=0){if(!A.QV(this.rect))return!1;var n=j.U(J.J7.length>>2);j._H(J.J7,n,3);if(!j.QV(m.channel,n))return!1;
var N=j.U(A.e*A.n*4);j.zO(J.hF,J.Gp,N,A);j.a.q5("norm",J.J7,J.BR,N,A,A,1);return j.QV(N,this.buffer)}if(J.$v==1||J.$v==3){var e=J.$v==1?this.Te():this.Ha(u).M;
if(!A.QV(e.rect))return!1;var Q=j.U(A.Z());Q.fill(e.color);j.j5(J.hF,J.Gp,Q,A);j.a.wI(J.J7,J.BR,Q,A,m.channel,A,1);
return j.QV(Q,e.channel)}};F.prototype.mi=function(u,m,C,Z){var q=this.yH;q.BR.offset(m,C);var J=q.Gp.QN(q.BR);
if(q.$v<=0){var A=j.U(J.Z()*4);j.zO(q.hF,q.Gp,A,J);j.a.q5("norm",q.J7,q.BR,A,J,J,1);this.buffer=A;this.rect=J;
this.G()}else{var n=this.$v==1?this.Te():this.Ha(u).M,N=j.U(J.Z());N.fill(n.color);j.j5(q.hF,q.Gp,N,J);
j.a.wI(q.J7,q.BR,N,J,Z.channel,J,1);n.channel=N;n.rect=J.clone();if(this.$v==1){n.hf=!0;this.uE(u)}if(this.$v==3)this.G()}};
F.prototype.Z0=function(){var u=[-1,0,1,2];if(this.M)u.push(-2);if(this.yR)u.push(-3);return u};F.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
F.prototype.RS=function(jt){this.add.luni=this.name=jt};F.prototype.ye=function(u){var m=this.add.lnsr,C=this.add.TySh;
if(m=="rend"&&C){var Z=ad.yd(C.pU);this.RS(Z.slice(0,Z.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
F.prototype.cG=function(){return(this.VO&1<<1)==0};F.prototype.b0=function(){return(this.VO&1<<4)==0};
F.prototype.e8=function(){return(this.VO&1<<5)!=0};F.prototype.an7=function(){var u=this;if(u.add.lnsr!="bgnd"){u.add.lnsr="bgnd";
u.RS("Background");u.add.lspf=1<<2}};F.prototype.a14=function(){var u=this;if(u.add.lnsr=="bgnd"){delete u.add.lnsr;
u.RS("Layer 0");u.add.lspf=0}};F.prototype.Je=function(u){var m=this.add.lspf;return m==null?!1:(m>>u&1)!=0};
F.prototype.$S=function(u){if(u&&!this.cG())this.VO-=2;if(!u&&this.cG())this.VO+=2};F.prototype.jt=function(){var u=this.add.lmfx;
if(u==null)return!1;for(var m in u){if(m=="masterFXSwitch")continue;if(m=="Scl")continue;if(m=="classID")continue;
if(u[m].v.length>0)return!0}return!1};F.prototype.Bv=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
F.prototype.mB=function(){var u=this.add.lmfx;if(u==null)return!1;if(!u.masterFXSwitch.v)return!1;for(var m in u){if(m=="masterFXSwitch")continue;
if(m=="Scl")continue;if(m=="classID")continue;var C=u[m].v;for(var D=0;D<C.length;D++)if(C[D].v.enab.v)return!0}return!1};
F.prototype.vj=function(u,m,C,Z,q){var J=new bl,A=this.to(u,C,Z);if(A.indexOf(0)!=-1)J=J.QN(this.rect);
if(A.indexOf(1)!=-1){var n=this.Te(),N=n.Ci();J=C&&n.o5()==0?J.qR()?N:J.aR(N):J.QN(N)}if(A.indexOf(2)!=-1){var e=this.add.vmsk,Q=this.add.vstk,p;
if(m){p=j.$.Br(e.B,e.w.length!=0?e.w:null)}else p=j.$.Br(e.B);if(!q&&Q&&Q.strokeEnabled.v){var B=Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment,$=Q.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(B!="strokeStyleAlignInside"){var R=Q.strokeStyleLineWidth.v.val;if($=="strokeStyleMiterJoin")p=new bl(0,0,u.e,u.n);
else p.iO(R,R)}}J=J.QN(p)}if(A.indexOf(3)!=-1)J=J.QN(this.Ha(u).M.Ci());if(A.length==0&&this.Y8())J=q?new bl(0,0,0,0):new bl(0,0,u.e,u.n);
return J};F.prototype.uZ=function(){var u=this.add.artb,m=u.artboardBackgroundType.v,C=0;if(m==1)C=4294967295;
else if(m==2)C=4278190080;else if(m==3)C=0;else if(m==4){C=u.Clr.v;C=255<<24|C.Bl.v<<16|C.Grn.v<<8|C.Rd.v}else throw m;
return C};F.prototype.M_=function(){var u=this.add.artb.artboardRect.v,m=u.Btom.v,C=u.Left.v,Z=u.Rght.v,top=u.Top.v;
return new bl(C,top,Z-C,m-top)};F.prototype.Cw=function(u){var m=F.w6(u);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=m};F.w6=function(u){var m={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
m.Btom.v=u.y+u.n;m.Left.v=u.x;m.Rght.v=u.x+u.e;m.Top.v=u.y;return m};F.prototype.to=function(u,m,C){var Z=[],q=this,J=this.Xn;
if(!m&&q.Xn&&C){Z.push(2)}else if(q.$v<=0||m){if(q.b0())if(!this.rect.qR())Z.push(0);if(q.Te()&&!q.Te().rect.qR())if(q.Te().ca||m)Z.push(1);
if(q.add.vmsk)if(q.add.vmsk.ca||m)Z.push(2);if(q.Bv()&&q.Ha(u).M&&!q.Ha(u).M.rect.qR())Z.push(3)}else if(q.$v==1){Z.push(1);
if(q.Te().ca&&!q.Te().rect.qR()){if(q.b0())if(!this.rect.qR())Z.push(0);if(q.add.vmsk)if(q.add.vmsk.ca)Z.push(2)}}else if(q.$v==3&&!q.Ha(u).M.rect.qR())Z.push(3);
if(q.add.artb&&Z.indexOf(0)==-1)Z.push(0);Z.sort();return Z};F.prototype.Te=function(){var u=this;return u.yR?u.yR:u.add.vmsk&&u.add.vmsk.isEnabled?null:u.M};
F.prototype.Ha=function(u){var m=this.add.SoLd.placed.v,C=u.add.FEid;if(C==null)return null;for(var D=0;
D<C.length;D++)if(C[D].id==m)return C[D];return null};F.prototype.extend=function(u){j.a3_(this,u)};
F.prototype._t=function(u,m,C){var Z=u.clone();if(this.mB()){var q=this.add.lmfx,J=m.root.jj(m.g.indexOf(this)),A=q.gradientFillMulti.v,n=!1;
for(var D=0;D<A.length;D++)if(A[D].v.enab.v&&A[D].v.Algn.v)n=!0;if(n)Z=Z.QN(J.Ci(m,!1));var N=dU.ajs(this.add.lmfx,m,C);
Z.offset(N.x,N.y);Z.e+=N.e;Z.n+=N.n}return Z};F.prototype.GJ=function(){if(this.b0())j.TS(this);var u=this.Te();
if(u)u.GJ()};F.prototype.clone=function(){var u=new F;u.rect=this.rect.clone();u.buffer=this.buffer.slice(0);
u.Um=this.Um;u.opacity=this.opacity;u.G8=this.G8;u.VO=this.VO;u.name=this.name;u.Aw=this.Aw.slice(0);
if(this.M)u.M=this.M.clone();if(this.yR)u.yR=this.yR.clone();for(var m in this.add)u.add[m]=fg.clone(m,this.add[m]);
return u};F.prototype.yE=function(u){var m=this;if(m.add.TySh)delete m.add.TySh;if(m.add.SoLd){var C=this.P9(u,this.buffer,this.rect);
if(C){this.buffer=C.bf;this.rect=C.rect;this.G()}delete m.add.SoLd}if(m.add.SoCo||m.add.GdFl||m.add.PtFl){if(m.add.vogk)delete m.add.vogk;
if(m.add.SoCo)delete m.add.SoCo;if(m.add.GdFl)delete m.add.GdFl;if(m.add.PtFl)delete m.add.PtFl;if(m.add.vmsk){console.log(m.yR,m.M);
delete m.add.vmsk;if(m.yR==null&&m.M)delete m.M;else if(m.yR!=null&&m.M!=null){m.M=m.yR;delete m.yR}}}if(!m.ld()&&b1.get(m.add)==null&&!this.b0())this.VO-=16};
F.prototype.tr=function(u){var m=255,C=0;if(u==2){var Z=this.add.SoLd.filterFX.v;if(Z.filterMaskDensity)m=Z.filterMaskDensity.v;
if(Z.filterMaskFeather)C=Z.filterMaskFeather.v}else{var q=u==0?this.Te():this.add.vmsk;m=q.cp;C=q.To}return{WE:u,s2:m,yb:C}};
F.prototype.dE=function(u){if(u.WE==2){var m=this.add.SoLd.filterFX.v;if(u.s2==255)delete m.filterMaskDensity;
else m.filterMaskDensity={t:"long",v:u.s2};if(u.yb==0)delete m.filterMaskFeather;else m.filterMaskFeather={t:"doub",v:u.yb};
this.G()}else{var C=u.WE==0?this.Te():this.add.vmsk;C.cp=u.s2;C.To=u.yb;C.hf=!0}};F.prototype.yz=function(){var u=this,m=u.add.vmsk;
if(m==null)return;u.add.vogk=F.yz(m.B)};F.yz=function(u){var m=[],C=j.$.o1(u);for(var Z=0;Z<C;Z++)m.push(j.xK.LW());
return m};var cT={Ev:0,G6:1,an:2,Ip:3};F.ol=function(){this.name="Mask";this.GH=!1;this.fB={p:255,T:0,S:0};
this.UO=50;this.X1=0;this.color=255;this.ca=!0;this.isEnabled=!0;this.Qr=!1;this.cp=255;this.To=0;this.rect=new bl;
this.channel=j.U(0);this.k3=null;this.ae8=null;this.hf=!0};F.ol.prototype.kt=function(u){if(!this.isEnabled)return u;
var m=new F.ol;m.color=Math.round(this.o5()*u.o5()/255);if(this.o5()==0&&u.o5()==0)m.rect=this.Ci().aR(u.Ci());
else if(u.o5()==0)m.rect=u.Ci().clone();else if(this.o5()==0)m.rect=this.Ci().clone();else m.rect=this.Ci().QN(u.Ci());
m.channel=this.f9(m.rect);m.cp=255;m.To=0;var C=u.f9(m.rect);j.a6V(C,m.rect,m.channel,m.rect);return m};
F.ol.prototype.Ci=function(){if(this.To==0)return this.rect;var u=Math.ceil(this.To*2.2),m=this.rect.clone();
if(m.y==0){if(m.x==0)m.e+=u;else m.iO(u,0);m.n+=u}else m.iO(u,u);return m};F.ol.prototype.YX=function(){if(this.To==0&&this.cp==255)return this.channel;
if(this.To==0){var u=this.channel.slice(0);j.mL(u);j.Hv(u,this.cp/255);j.mL(u);return u}var m=this.Ci(),C=this.HQ(m),u=j.U(m.Z());
j.yM.kJ(C,u,m,this.To);if(this.cp!=255){j.mL(u);j.Hv(u,this.cp/255);j.mL(u)}return u};F.ol.prototype.o5=function(){return Math.round(255-(255-this.color)*(this.cp/255))};
F.ol.prototype.extend=function(u){j.extend(this,u,this.color)};F.ol.prototype.GJ=function(){if(this.color==255)j.mL(this.channel);
j.GJ(this);if(this.color==255)j.mL(this.channel)};F.ol.prototype.clone=function(){var u=new F.ol;u.name=this.name;
u.GH=this.GH;u.fB=this.fB;u.UO=this.UO;u.X1=this.X1;u.color=this.color;u.ca=this.ca;u.isEnabled=this.isEnabled;
u.Qr=this.Qr;u.cp=this.cp;u.To=this.To;u.rect=this.rect.clone();u.channel=this.channel.slice(0);return u};
F.ol.prototype.HQ=function(u,m){if(m==null)m=j.U(u.Z());m.fill(this.color);j.j5(this.channel,this.rect,m,u);
return m};F.ol.prototype.f9=function(u,m){var C=this.Ci(),Z=this.YX();if(m==null)m=j.U(u.Z());m.fill(this.o5());
j.j5(Z,C,m,u);return m};F.nq=function(){this.ca=!0;this.isEnabled=!0;this.cp=255;this.To=0;this.B=[{type:6},{type:8,all:0}];
this.s4=[-3,-3];this.Fi=!1;this.yR=null;this.hf=!0;this.w=[];this.H9=[]};F.nq.prototype.offset=function(u,m){this.yR=this.Te();
j.$.l0(this.B,new ix(1,0,0,1,u,m));this.yR.rect.offset(u,m)};F.nq.prototype.Te=function(u){if(!this.hf&&this.yR&&u==null){this.yR.isEnabled=this.isEnabled;
return this.yR}var m=j.$.Br(this.B),C="strokeStyleLineAlignment",Z="strokeStyleLineJoinType";if(m.Z()>3e4*3e4)m=new bl(0,0,100,100);
if(u&&u[C].v[C]!="strokeStyleAlignInside"){var q=1;if(u[Z].v[Z]=="strokeStyleMiterJoin"){var J=j.$.a1t(this.B),A=J/2,n=Math.sin(A),N=Math.cos(A);
N/=n;n=1;var q=Math.sqrt(N*N+n*n);if(isNaN(q)||q<1)q=1}q*=u[C].v[C]=="strokeStyleAlignOutside"?1:.5;
var e=Math.ceil(u.strokeStyleLineWidth.v.val*q);e=Math.min(e,600);m.iO(e,e)}m=j.u.wu(m);var Q=new F.ol;
Q.color=j.$.ue(this.B)?0:255;Q.ca=this.ca;Q.isEnabled=this.isEnabled;Q.Qr=!0;Q.rect=m;Q.cp=this.cp;Q.To=this.To;
Q.channel=j.U(Q.rect.Z());if(!m.qR())j.$.aal(this.B,Q.channel,Q.rect,u);if(u==null){this.yR=Q;this.hf=!1}return Q};
F.nq.prototype.clone=function(){var u=new F.nq;u.ca=this.ca;u.isEnabled=this.isEnabled;u.cp=this.cp;
u.To=this.To;u.B=F.nq.K$(this.B);u.s4=this.s4.slice(0);u.Fi=this.Fi;u.w=this.w.slice(0);u.H9=this.H9.slice(0);
return u};F.nq.prototype.concat=function(u){var m=u.B.slice(2);if(m.length==0)return;m[0].hB=3;this.B=this.B.concat(m)};
F.nq.K$=function(u){var m=[];for(var D=0;D<u.length;D++){var C=u[D];if(C.type>5||C.type==0||C.type==3)m.push(JSON.parse(JSON.stringify(C)));
else m.push({type:C.type,Rv:C.Rv.clone(),A:C.A.clone(),wm:C.wm.clone()})}return m};F.nq.a7u=function(u,m,C){if(u.length!=m.length)return!1;
for(var D=2;D<u.length;D++){var Z=u[D],q=m[D];if(Z.type!=q.type)return!1;if(Z.type==0||Z.type==3){if(Z.length!=q.length||!C&&Z.hB!=q.hB)return!1}else if(!Z.Rv.QV(q.Rv)||!Z.A.QV(q.A)||!Z.wm.QV(q.wm))return!1}return!0};
F.nq.prototype.a9S=function(){var u=this.B;for(var D=3;D<u.length;D++)if(u[D].type==0||u[D].type==3)u[D].hB=-1};
F.Jk=function(){this.type=null;this.x1=2;this.Yw=null;this.sK="";this.Er="";this.cg="";this.open=0;this.raw=null;
this.CB=null;this.anu=""};F.Jk.prototype.clone=function(){var u=new F.Jk;u.type=this.type;u.x1=this.x1;
u.Yw=this.Yw;u.sK=this.sK;u.Er=this.Er;u.cg=this.cg;u.open=this.open;u.raw=new Uint8Array(this.raw.buffer.slice(0));
return u};F.Jk.prototype.K9=function(u,m,C){if(C==null)C="none";var Z=this,q=d4.BM(Z.raw.buffer),J=q=="svg"||q=="pdf";
if(Z.CB){var A=m&&J&&Math.max(Z.CB[1].e,Z.CB[1].n)<Math.max(m[0],m[1]);if(!A&&C==this.anu)return}this.anu=C;
if(!J)u=0;if(q==null){alert("Unsupported format: "+M.Qi(Z.raw,0,4));return null}var n=d4.X5(q);if(n.x5){var N=new gj(name+(q=="psd"?"":"-"+q)+".psd"),e;
n.Pl(Z.raw.buffer,N,m);var Q=new bl(0,0,N.e,N.n);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(C)!=-1){var p=[];
for(var D=0;D<N.g.length;D++){var B=N.g[D],$=B.buffer;if(!B.rect.QV(Q)){$=j.U(Q.Z()*4);j.zO(B.buffer,B.rect,$,Q);
console.log("resizing")}p.push($)}e=j.U(Q.Z()*4);j.stack.stack(p,e,C)}else{for(var D=0;D<N.g.length;
D++)if(N.g[D].Y8())N.g[D].uE(N);N.gO();N.G();N.Qp();e=N.K9()}Z.CB=[e,Q];Z.JJ=N.JJ!=null&&N.JJ!=0?N.JJ:72}else if(n){var R=n.Pl(Z.raw.buffer)[0];
Z.CB=[new Uint8Array(R.data),R.WL];Z.JJ=R.JJ!=null&&R.JJ!=0?R.JJ:72}if(Z.CB){if(u==1){var $=Z.CB[0],z=Z.CB[1],v=j.U(z.Z());
j._H($,v,3);var a=j.tY(v,z),X=j.U(a.Z()*4);j.zO($,z,X,a);Z.CB=[X,a]}j.ML(Z.CB)}};F.Gx="0";F.Sz="2";F.Mj="2.5";
F.cW="2.6";F.O7="3";F.o$="4";F.UB="4.5";F.lM="4.6";F.d$="5";F.oJ="5.5";F.eZ="6";F.cv="7";F.Bf="7.5";
F.BY="8";F.oQ="9";F.pi="9.3";F.Pt="9.5";F.BZ="9.6";F.vf="10";F.y5="11";F.hc="12";F.Nx="13";F.bk="13.1";
F.dP="13.2";F.eN="13.3";F.aW="13.4";F.sR="14";F.Ws="14.1";F.i2="14.2";F.vw="14.3";F.JZ="17";F.IE="18";
F.Gr="19";F._3="19.5";F.aS="19.6";F.zw="19.7";F.EU="20";F.X8="21";F.nV="21.5";F.Sh="22";F.Sl="22.5";
F.LV="23";F.app="24";F.Ge="25";F.OJ="26";F.pq="27";F.xt="28";F.Rh="29";F.Ix="30";F.A8="31";F.O1="32";
F.Zb="33";F.Z1="34";F.Bt="35";F.WQ="36";F.k5="36.5";F.KH="37";F.Sk="37.5";F.agx="37.6";F.W9="38";F.Jv="38.5";
F.Is="38.6";F.Y7="39";F.vz="40";F.hu="41";F.L3="42";F.M$="50";F.nB="51";F.o4="52";F.OF="53";F.M3="54";
F.z2="54.5";F.q_="54.6";F.Dz="54.7";F.cr="54.8";F.cQ="55";F.UU="56";F.X_="57";F.qn="58";F.Hw="59";F.LL="60";
function cm(){this.depth=0;this.index=-1;this.i=null;this.acd=null;this.Vk=-1;this.children=null;this.parent=null;
this.tc=null}cm.prototype.DD=function(u,m){if(this.depth!=0)u.push(this.i.getName());if(this.children)for(var D=0;
D<this.children.length;D++)this.children[D].DD(u,m);if(u.length>m.yg.length)m.yg=u.slice(0);if(this.depth!=0)u.pop()};
cm.prototype.ac0=function(){var u=0;if(this.i.ld()){for(var D=0;D<this.children.length;D++)u+=this.children[D].ac0()}else if(this.i.buffer)u+=this.i.buffer.length;
return u};cm.prototype.jj=function(u){var m=this.tc[u];return this.tc[u]};cm.prototype.eE=function(u,m){var C=this.i;
if(!C.cG()||C.Je(2)||C.Je(31))return null;if(C.JD()){var Z=C.M.rect.bL(u);if(!Z&&C.M.color==0)return}if(C.ld()){for(var D=0;
D<this.children.length;D++){var jt=this.children[D];jt.eE(u,m)}}else if(C.rect.bL(u))m.push(this.index)};
cm.prototype.O0=function(u,m){var C=this.i;if(!C.cG()||C.Je(2)||C.Je(31))return null;if(C.JD()){if(C.M.rect.PG(u)){if(!j.O0(u,C.M.channel,C.M.rect))return null}else if(C.M.color==0)return null}if(C.ld()){if(C.add.artb&&!C.M_().PG(u))return null;
for(var D=this.children.length-1;D>=0;D--){var jt=this.children[D],Z=jt.O0(u,m);if(Z&&m==null)return Z}return null}else if(C.add.TySh&&C.rect.PG(u)||j.a8s(u,C.buffer,C.rect)){if(m==null)return this;
else m.push(this.index)}return null};cm.prototype.ak0=function(u){var m=this.i;if(!m.cG()||m.Je(2)||m.Je(31))return null;
var C=m.add.vmsk;if(C&&C.isEnabled){var Z=j.$.O0(C.B,u).NR;if(Z!=-1)return{ai_:this,ajg:Z}}if(m.ld()){if(m.add.artb&&!m.M_().PG(u))return null;
for(var D=this.children.length-1;D>=0;D--){var jt=this.children[D],q=jt.ak0(u);if(q)return q}return null}return null};
cm.prototype.i6=function(u,m){u.push(this.index);if(this.i.ld()){u.push(this.Vk);if(m)if(this.i.$v==1&&this.i.Te().ca==!1)return;
for(var D=0;D<this.children.length;D++)this.children[D].i6(u)}};cm.prototype.Dq=function(u,m,C){var Z=this.i,q,J;
if(Z.ld()&&Z.add.artb!=null)m=Z.M_();if(m.e>m.n){q=C;J=Math.floor(C*(m.n/m.e))}else{q=Math.floor(C*(m.e/m.n));
J=C}if(Z.Y8()&&Z.add.vmsk==null||Z.add.TySh)q=J=Math.max(J,16);else{q=Math.max(q,6);J=Math.max(J,6)}var A=J,n=Z.Y8()&&Z.add.vmsk;
if(n){var N=Z.rect.clone(),p,B;if(N.qR())N=new bl(0,0,20,20);var e=N.e,Q=N.n;if(e>Q){p=C;B=Math.floor(C*(Q/e))}else{p=Math.floor(C*(e/Q));
B=C}if(p*B==0)p=B=16;j.Qo.SO(Z.h$,p,B,N,Z.buffer,Z.rect,!1);j.Qo.an3(Z.h$,p,B);A=B}else if(Z.add.TySh){j.Qo.agU(Z.h$,A,A,Z.add.TySh)}else if(Z.add.SoCo){A=Math.max(16,Math.min(q,J));
j.Qo.a65(Z.h$,A,A,Z.add.SoCo)}else if(Z.add.GdFl){j.Qo.a4O(Z.h$,A,A,Z.add.GdFl)}else if(Z.add.PtFl){j.Qo.aoN(Z.h$,A,A,Z.add.PtFl,u)}else if(b1.get(Z.add)!=null){j.Qo.abO(Z.h$,A,A,Z.add)}else if(Z.add.SoLd){j.Qo.SO(Z.h$,q,J,m,Z.buffer,Z.rect,!1);
j.Qo.acj(Z.h$,q,J,Z.add.SoLd)}else if(Z.ld()){A=16}else{if(Z.b0())j.Qo.SO(Z.h$,q,J,m,Z.buffer,Z.rect,!1);
else{j.Qo.aur(Z.h$,A,A)}}var $=Z.Te();if($)j.Qo.qE(Z.asa,q,J,m,$);if(Z.Bv()&&Z.Ha(u)&&Z.Ha(u).M){var R=Z.Ha(u).M;
j.Qo.qE(Z.a4B,q,J,m,R)}if(!n&&Z.add.vmsk){j.Qo.qE(Z.adR,q,J,m,Z.add.vmsk.Te(),!0)}if(Z.add.vmsk||$)A=Math.max(A,J);
Z.a5p=Math.max(A,16);if(Z.ld()&&(Z.add.lsct==cT.G6||u.g.length<4e3))for(var D=0;D<this.children.length;
D++)this.children[D].Dq(u,m,C)};cm.prototype.gk=function(u,m,C,Z){this.depth=C;var q=u[m];if(Z==null)Z=[];
this.tc=Z;if(q.add.lsct==cT.Ip){this.acd=q;this.Vk=m-1;this.children=[];var D=m+1;while(!0){var J=u[D];
if(J==null)console.log(D,u.length);if(J.add.lsct==cT.G6||J.add.lsct==cT.an){if(q.add.lyid==J.add.lyid)q.add.lyid+=16777215;
this.i=J;this.index=D-1;Z[this.index]=this;Z[m-1]=this;break}var A=new cm;A.parent=this;D=A.gk(u,D,C+1,Z);
this.children.push(A)}return D+1}else{this.i=q;this.index=m-1;Z[this.index]=this;return m+1}};cm.prototype.t8=function(u,m,C,Z){var q=this.jj(C),J=u;
while(q.parent!=null){J=q.i._t(J,m,Z);q=q.parent}return J};cm.prototype.Ci=function(u,m){var C=this.i,Z=new bl;
if(!C.cG())return Z;var q=C.Te();if(C.ld())for(var D=0;D<this.children.length;D++){var J=this.children[D].Ci(u,!0);
Z=Z.QN(J)}else if(b1.get(C.add)!=null)Z=C.JD()&&C.M.color==0?C.M.Ci().clone():new bl(0,0,u.e,u.n);else if(C.Y8()&&C.add.vmsk&&C.add.vmsk.isEnabled&&C.add.vstk){Z=C.rect.clone()}else if(C.Y8()&&q&&q.isEnabled&&q.o5()!=0)Z=new bl(0,0,u.e,u.n);
else{Z=C.vj(u,!1,!0);if(C.add.vmsk)Z=j.u.wu(Z)}return m?C._t(Z,u):Z};cm.BB={delete:function(u){if(u&&u.e)u.delete()},U:function(u,m){return H.GL?new H.HT(u,m):j.U(u*m*4)},S3:function(u,m,C){if(H.GL){if(u==null||u.e!=m||u.n!=C){cm.BB.delete(u);
return new H.HT(m,C)}}else{if(u==null||!(u instanceof Uint8Array)||u.length!=m*C*4){cm.BB.delete(u);
return j.U(m*C*4)}}return u},j5:function(u,m,C,Z,q){(H.GL?H.rt:j.zO)(u,m,C,Z,q)},LP:function(u,m,C,Z,q,J,A,n,D,N,e){(H.GL?H.a.z1:j.a.LP)(u,m,C,Z,q,J,A,n,D,N,e)},q5:function(u,m,C,Z,q,J,A,n){if(H.GL)H.a.Td(u,m,C,Z,q,J,A,n);
else j.a.q5(u,m,C,Z,q,J,A,n)},gs:function(u,m,C){if(H.GL){H.JU(u);H.OT(m,C)}else j.gs(u,m,C)},a7G:function(u,m,C,Z,q){if(H.GL){H.a.z1(null,null,Z,q,u,m,C,q,1,!1)}else{if(C==255)j.BE(u,m,Z,q);
else{var J=j.U(m.Z());j.xV(Z,q,J,m);j.wW(u,J);j.gs(Z,0,16777215);j.dF(J,m,Z,q)}}},WF:function(u,m,C,Z){if(H.GL)H.a.z1(null,null,C,Z,u,m,0,Z,1,!1);
else j.WF(u,m,C,Z)}};cm.prototype.IU=function(u,m,C,Z,q,J){var A=typeof J=="number";if(!this.i.ld()&&(A&&this.index>J||!A&&J.indexOf(this.index)==-1)){return}var n=this.i,N=dU.uX(n),e=cm.BB,Q=n.Y8()?n.Te():n.M;
if(!n.cG())return;if(n.JD()&&Q.rect.qR()&&Q.o5()==0){return}if(n.add.vstk==null&&this.Ci(Z,!1).qR()){return}var p=this.Ci(Z,!0).aR(C);
if(!m.QV(C)&&!C.bL(p))return;if(n.ld()&&n.add.artb){var B=n.M_();C=C.aR(B)}var $=cm.adL(n,q,N);if(!$){this.a4H(u,m,C,Z,q,J);
return}n.zi.Rm=e.S3(n.zi.Rm,p.e,p.n);e.j5(u,m,n.zi.Rm,p,C);this.a4H(n.zi.Rm,p,C,Z,q,J);e.LP(n.zi.Rm,p,u,m,null,null,0,C,n.opacity/255,n.Um=="diss",N.he)};
cm.adL=function(u,m,C){if(C.he[0]*C.he[1]*C.he[2]==0)return!0;return u.opacity!=255&&(m.length!=0||u.ld()||u.mB())};
cm.adO={zi:{}};cm.prototype.a4H=function(u,m,C,Z,q,J){var A=this.i,n=dU.uX(A),N=b1.get(A.add)!=null,e=cm.BB,Q=cm.adL(A,q,n),p=Q?1:A.opacity/255,B=A.Y8()?A.Te():A.M,$=A.ld()&&(A.Um=="pass"||A.add.artb)&&!(q.length>0||n.fill!=1||A.mB()),R=!A.ld()&&!N&&!A.mB()&&q.length==0,z=N&&!A.mB()&&q.length==0,h=null,T=null,l=null,S;
if($||R||z){var v=u,a=m;if(A.JD()){a=this.Ci(Z,!1);v=A.zi.YK=e.S3(A.zi.YK,a.e,a.n);e.j5(u,m,A.zi.YK,a)}if($)this.qv(v,a,C,Z,J);
if(R)e.q5(A.Um,A.iN(Z),A.rect,v,a,C,p,n);if(z){var X=A.JD()&&B.o5()==0?B.Ci().clone():a.clone(),V=A.zi;
if(X.QV(new bl(0,0,Z.e,Z.n)))V=cm.adO;V.$x=this.and(v,a,V.$x,X,A.add);n.hh=!0;e.q5(A.Um,V.$x,X,v,a,C,p,n)}if(A.JD())e.LP(v,a,u,m,A.kB(),B.Ci(),B.o5(),C,1,A.Um=="diss");
A.zi.ko();return}var o=A.ld()&&A.Um=="pass"&&(q.length>0||n.fill!=1||A.mB()),X=A.rect;if(A.ld()){X=this.Ci(Z,!1);
l=A.zi.$x=e.S3(A.zi.$x,X.e,X.n);e.gs(l,0);this.qv(l,X,X,Z,J);T=e.S3(A.zi.NX,X.e,X.n);e.j5(l,X,T,X)}else if(N){X=A.JD()&&B.o5()==0?B.Ci().clone():m.clone();
T=e.S3(A.zi.NX,X.e,X.n);e.gs(T,4294967295)}else{X=A.rect;h=A.iN(Z);T=e.S3(A.zi.NX,X.e,X.n);e.j5(h,X,T,X)}A.zi.NX=T;
if(A.JD())e.a7G(A.kB(),B.Ci(),B.o5(),T,X);if(A.mB())if(A.zi.tR||A.zi.gZ||A.zi.R3!=H.GL||A.zi.LD||A.ld()){var w=A.add.vmsk,W=j.U(X.Z());
if(dU.am5(A.add.lmfx)){if(H.GL){if(!A.ld()&&A.Te()==null&&A.rect.QV(X)&&w==null)j._H(A.buffer,W,3);else{var U=j.U(X.Z()*4);
T.get(U);j._H(U,W,3)}}else j._H(T,W,3)}if(A.zi.gZ||A.zi.R3!=H.GL||!j.QV(W,A.zi.IJ)){var s=null;if(A.Y8()&&w&&w.isEnabled&&w.Te().color==0)s=w.Te().rect;
dU.amh(A.zi.Jo);A.zi.Jo=dU.agm(W,X,A.add.lmfx,A.add.fxrp,Z,s);A.zi.IJ=W;A.zi.au8=X}}if(A.mB())dU.ajk(A.add.lmfx,A.zi.Jo,X,u,m,C);
if(A.ld()){h=e.S3(A.zi.YK,X.e,X.n);e.gs(h,0);if(A.Um=="pass")e.j5(u,m,h,X);if(o)e.WF(l,X,h,X);this.qv(h,X,C,Z,J);
A.zi.YK=h}if(N){h=A.zi.YK=this.and(u,m,A.zi.YK,X,A.add)}if(A.ld()||N)S=h;else{S=e.S3(A.zi.YK,X.e,X.n);
e.j5(h,X,S,X,C);A.zi.YK=S}e.gs(S,4278190080,16777215);for(var D=0;D<q.length;D++)q[D].IU(S,X,C,Z,[],J);
var x=A.zi.cI=e.S3(A.zi.cI,X.e,X.n);e.j5(u,m,x,X,C);if(N)n.hh=!0;e.q5(A.Um=="pass"?"norm":A.Um,S,X,x,X,C,1,n);
if(A.mB()){var P=A.zi.Jo.type.FrFX,y=null;if(P.length!=0){y=P[0];for(var D=0;D<P.length;D++)if(P[D].jz.e>y.jz.e)y=P[D];
A.zi.Ms=e.S3(A.zi.Ms,y.jz.e,y.jz.n);e.j5(u,m,A.zi.Ms,y.jz,C);A.zi.eh=e.S3(A.zi.eh,y.jz.e,y.jz.n)}dU.arJ(A.add.lmfx,A.zi.Jo,X,u,m,C,x,A.zi.Ms,A.zi.eh,y?y.jz:null)}if(!H.GL){var _=j.U(X.Z());
j._H(T,_,3);T=_}e.LP(x,X,u,m,T,X,0,C,1,A.Um=="diss");A.zi.ko()};cm.prototype.and=function(u,m,C,Z,q){var J=b1.get(q),A;
if(J)A=b1.z$(J,q[J]);var n=cm.BB;C=n.S3(C,Z.e,Z.n);if(!(H.GL&&m.QV(Z)))n.j5(u,m,C,Z);if(A){if(H.GL){var N=Z.clone();
N.x=N.y=0;if(m.QV(Z)){H.JU(C,N);b1.ka(A,u.oo,N)}else{H.JU(C,Z);C._h(Z);b1.ka(A,C.Fj,N)}}else b1.D1(A,C,C,Z)}return C};
cm.prototype.qv=function(u,m,C,Z,q){var J=this.children;for(var D=0;D<J.length;D++){var A=[];for(var n=D+1;
n<J.length;n++)if(J[n].i.G8)A.push(J[n]);else break;J[D].IU(u,m,C,Z,A,q);D+=A.length}};function gj(u){this.rG="psd";
this.Mo=!1;this.name=u;this.Bu=-1;this.lC=null;this.PC=null;this.Y$=null;this.iJ=null;this.e=0;this.n=0;
this.buffer=null;this.g=[];this.aB={};this.add={};this.Sv=4;this.kK=null;this.JJ=72;this.wn={};this.w=[];
this.lZ=[];this.Uu=!1;this.$o=[];this.Lv=[];this.kL=[gj.Q2("Work Path")];this.h2=[];this.WC=null;this.CG={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.I4=null;this.Ex=!1;this.a2J=!1;this.a8O=!1;this.VG=!1;this.W0=!1;this.qz=!1;this.xi=!1;
this.aJ=!1;this.LM=!1;this.Ss=!1;this.tR=null;this.ft=null;this.q=null;this.YG=[];this.Rc=[];this.D={Ir:{},hN:[],acC:[],oC:[],SN:[],dz:null,VK:null,g3:null,JS:null,W3:[],fb:[],m_:null};
this.history=[new h5([1,0],null)];this.oa=0;this.OZ=0;this.nr=0;this.t=new bY(this)}gj.prototype.OD=function(){var u=this.lZ,m=[];
for(var D=0;D<u.length;D++)m[D]=-1;var C=this.root.children;for(var D=0;D<C.length;D++){var Z=C[D],q=Z.i.add.artb;
if(q==null)continue;var J=q.guideIndeces;J=J?J.v:[];for(var A=0;A<J.length;A++)m[J[A].v]=Z.index}return[JSON.parse(JSON.stringify(u)),m]};
gj.prototype.sP=function(u){this.lZ=JSON.parse(JSON.stringify(u[0]));var m=u[1],C=this.root.children;
for(var D=0;D<C.length;D++){var Z=C[D],q=Z.i.add.artb;if(q==null)continue;q.guideIndeces={t:"VlLs",v:[]}}for(var D=0;
D<m.length;D++)if(m[D]!=-1)this.g[m[D]].add.artb.guideIndeces.v.push({t:"long",v:D})};gj.prototype.a2e=function(u){var m=this;
if(u[0])m.add.lnk2=u[0];else delete m.add.lnk2;if(u[1])m.add.FEid=u[1];else delete m.add.FEid;if(u[2])m.add.Patt=u[2];
else delete m.add.Patt};gj.prototype.arB=function(u){var m=this,C=[],Z=[],q=[],R=null,z=null,v=null;
for(var D=0;D<u.length;D++){var J=u[D];if(J.add.SoLd){C.push(J.add.SoLd.Idnt.v);Z.push(J.add.SoLd.placed.v)}if(J.add.PtFl)q.push(J.add.PtFl.Ptrn.v.Idnt.v);
if(J.add.lmfx){for(var A=0;A<c0.Ca.length;A++){var n=J.add.lmfx[c0.Ca[A]].v;for(var N=0;N<n.length;N++)if(n[N].v.Ptrn){var e=n[N].v;
if(e.classID=="FrFX"&&e.PntT.v.FrFl!="Ptrn")continue;q.push(e.Ptrn.v.Idnt.v)}}}var Q=J.add.vstk;if(Q&&Q.strokeStyleContent.v.classID=="patternLayer"){q.push(Q.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var p=m.add.lnk2,B=m.add.FEid,$=m.add.Patt;
if(p){R=[];for(var D=0;D<p.length;D++)if(C.indexOf(p[D].Yw)!=-1)R.push(p[D]);if(R.length==0)R=null}if(B){z=[];
for(var D=0;D<B.length;D++)if(Z.indexOf(B[D].id)!=-1)z.push(B[D]);if(z.length==0)z=null}if($){v=[];for(var D=0;
D<$.length;D++)if(q.indexOf($[D].id)!=-1)v.push($[D]);if(v.length==0)v=null}return[R,z,v]};gj.prototype.D0=function(){var u=this.YG,m=this.YG.length;
if(m!=0&&u[m-1].name=="Quick Mask")return u[m-1]};gj.prototype.Tp=function(){return this.rG==dZ.R0("% |/!)")||this.rG==dZ.$L("gP")};
gj.prototype.gS=function(u){var m=this.add.artd;if(u!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:u},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};gj.prototype.qr=function(u){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(u)==-1)this.add.FEid.push(u)};
gj.prototype.GW=function(u){var m=this.add.FEid.indexOf(u);this.add.FEid.splice(m,1);if(this.add.FEid.length==0)delete this.add.FEid};
gj.prototype.G=function(u){if(u==null)u=new bl(0,0,this.e,this.n);if(this.tR==null)this.tR=u;else this.tR=this.tR.QN(u)};
gj.prototype.acP=function(u){return this.tR!=null};gj.prototype.MK=function(u){var m=this.g[u],C=this.root.jj(u);
if(C==null)return!1;if(m.ld()||C.parent.children.indexOf(C)==0)return!1;return!0};gj.amD=function(u){if(u.add.lnk2)for(var D=0;
D<u.add.lnk2.length;D++){var m=u.add.lnk2[D].Yw;u.add.lnk2[D].Yw=gj.b2()+m.slice(8);for(var C=0;C<u.g.length;
C++){var Z=u.g[C].add.SoLd;if(Z&&Z.Idnt.v==m)Z.Idnt.v=u.add.lnk2[D].Yw}}};gj.prototype.Ko=function(u,m,C){u.sort(function(p,B){return p-B});
var top=u[u.length-1],Z=this.g.slice(0),q=this.w.slice(0),J=[],A=[];for(var D=0;D<this.g.length;D++){if(u.indexOf(D)!=-1)A.push(this.g[D]);
else J.push(this.g[D])}this.os(A);this.w=[];var n=this.root.Ci(this,!0);if(m)n=n.aR(m);if(C)n=n.QN(C);
if(n.qR())n=new bl(0,0,100,100);var N=new bl(-n.x,-n.y,this.e,this.n),e=new Uint8Array(d4.X5("PSD").c2(this,0,0,[!0,!1]));
this.os(Z);this.w=q;var Q=new gj(this.g[top].getName());d4.X5("PSD").Pl(e.buffer,Q);delete Q.add.artd;
Q.$o=[];Q.os(Q.g);Q.sP([[],[]]);gj.amD(Q);b.pB.gf(Q,n);Q.G();Q.Qp();Q.K9();return[Q,n,J,top]};gj.prototype.afA=function(u,m,C){var Z=this.Ko(u),q=Z[0],J=Z[1],A=Z[2],top=Z[3],n;
if(C=="jpg")n=new Uint8Array(d4.X5("JPG").c2([[q.K9().buffer]],q.e,q.n,[80]));else n=new Uint8Array(d4.X5("PSD").c2(q,null,null,[!0,!1]));
if(m)A=this.g.slice(0);var N=this.mV(n,q.name,J.x,J.y);if(top==this.g.length-1)A.push(N);else A.splice(m?top+1:top-u.length+1,0,N);
this.os(A);this.w=[A.indexOf(N)]};gj.b2=function(u){if(u==null)u="";var m="";while(m==""||m==u){m="";
for(var D=0;D<8;D++)m+=Math.floor(Math.random()*16).toString(16)}return m};gj.prototype.Vp=function(u){if(u==null)return;
if(this.add.Patt==null)this.add.Patt=[];var m=this.add.Patt;for(var D=0;D<m.length;D++)if(m[D].id==u.id)return;
m.push(u)};gj.prototype.mV=function(u,m,C,Z,q){if(this.add.lnk2==null)this.add.lnk2=[];var J=null,p=!1;
for(var D=0;D<this.add.lnk2.length;D++)if(j.QV(u,this.add.lnk2[D].raw)){J=this.add.lnk2[D].Yw;break}if(J==null){var A=d4.BM(u.buffer);
J=gj.b2()+"-d71c-11e5-b1ae-a548a96e5f9f";var n=new F.Jk;n.Yw=J;n.cg=A=="psd"?"8BIM":"    ";n.sK=m+"."+A;
n.Er=A=="psd"?"8BPB":"    ";n.open=0;n.raw=u;n.type="liFD";n.x1=2;this.add.lnk2.push(n)}var N=this.SP(J),e=gj.b2()+"-d71c-11e5-b1ae-a548a96e5f9f",Q=this.Rp();
Q.RS(m);if(N!=null){var B=0,$=0,R=this.e,z=this.n;if(q){B=q.x;$=q.y;R=q.e;z=q.n}var v=Q.rect=N.CB[1].clone();
v.offset(B+C,$+Z);var a=Math.max(v.e/R,v.n/z),p=q!=null&&a>1.0001;if(p){v.e=Math.round(v.e/a);v.n=Math.round(v.n/a);
v.x=Math.round(B+(R-v.e)/2);v.y=Math.round($+(z-v.n)/2)}else if(q!=null&&d4.BM(u.buffer)=="pdf"&&this.JJ!=144){var a=144/this.JJ;
v.e=Math.round(v.e/a);v.n=Math.round(v.n/a);p=!0}Q.buffer=j.U(v.Z()*4);if(!p)j.Uj(N.CB[0],Q.buffer)}Q.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:J},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:e},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:j.x0.U(N?N.CB[1]:Q.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:Q.rect.e},Hght:{t:"doub",v:Q.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:N?N.JJ:72}}};
var X=j.u.yj(Q.rect).s;Q.add.SoLd.Trnf=b.Q.Ii(X);Q.add.SoLd.nonAffineTransform=b.Q.Ii(X);if(p)Q.go(this,!1);
return Q};gj.prototype.K9=function(u){if(u!=null){this.G();this.Qp(u);var m=this.buffer;if(H.GL)this.I4.get(m);
else m=m.slice(0);this.G();this.Qp();return m}if(this.tR){this.Qp();this.tR=null}if(H.GL&&this.ft){this.I4.get(this.buffer);
this.ft=null;this.xi=!0}return this.buffer};gj.prototype.a0z=function(){for(var D=0;D<this.g.length;
D++)this.g[D].Ar();this.G()};gj.prototype.ak$=function(){for(var D=0;D<this.g.length;D++)if(this.g[D].add.lmfx)this.g[D].zi.gZ=!0};
gj.prototype.Ls=function(){var u=this.aB.r1044;if(u==null){u=this.aB.r1044=new Uint8Array(4);var m=0;
for(var D=0;D<this.g.length;D++)m=Math.max(m,this.g[D].add.lyid);M.G9(u,0,m)}var C=M.h(u,0);M.G9(u,0,C+1);
return C+1};gj.prototype.w0=function(u,m,C){if(u==null)u=!0;var Z=this;if(Z.Rc.length!=0)return!0;if(Z.w.length!=1){if(u)alert(Z.w.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.j9(u,m,C)};gj.prototype.j9=function(u,m,C){if(u==null)u=!0;if(m==null)m=!1;var Z=this;
if(Z.Rc.length!=0)return!0;for(var D=0;D<Z.w.length;D++){var q=Z.g[Z.w[D]],J=m||q.$v<=0;if(q.add.lsct!=null&&q.add.lsct!=cT.Ev&&q.$v!=1){if(u)alert(jg.get([15,7,2]));
return!1}if(J&&!q.b0()){if(u)alert(jg.get([15,7,2]));return!1}if(J&&q.add.TySh){return this.ae4(u,[15,7,3],C)}if(J&&q.add.SoLd){return this.ae4(u,[15,7,4],C)}if(q.Je(1)||q.Je(31)){if(u)alert(jg.get([6,57,0]));
return!1}}return!0};gj.prototype.ae4=function(u,m,C){if(u&&typeof u=="object"){var Z=window.confirm(jg.get(m)+". "+jg.get([6,8])+"?");
if(Z){var q=new eY(r.E.od,!0);q.data={ZO:"rasterizeLayer",yS:{classID:"rasterizeLayer",null:hc.Q3("Lyr",!0)}};
u.c(q)}return C?Z:!1}if(u)alert(jg.get(m));return!1};gj.prototype.a0R=function(u){var m=this.root.jj(u);
if(m.parent)return m.i.cG()&&this.a0R(m.parent.index);else return m.i.cG()};gj.prototype.sx=function(){var u=this;
if(u.add.artd&&u.w.length!=0){var m=u.root.jj(u.w[0]);while(m.parent.parent)m=m.parent;if(m.i.add.artb)return m.index}return-1};
gj.prototype.a3v=function(){var u=this.g[this.w[0]];if(u.$v<=0&&!u.rect.bL(this.q.rect)){alert("Selected area is empty.");
return!1}if(this.w.length==1&&this.q){var m=j.U(this.q.channel.length);j.xV(u.buffer,u.rect,m,this.q.rect);
j.wW(this.q.channel,m);if(j.GP(m,0)){alert("Selected area is empty.");return!1}}return!0};gj.prototype.lQ=function(){if(this.aB["r"+1037]==null)this.hL(30);
return M.LR(this.aB["r"+1037],0)};gj.prototype.hL=function(u){if(this.aB["r"+1037]==null)this.aB["r"+1037]=new Uint8Array(4);
if(M.LR(this.aB["r"+1037],0)==u)return;M.Tg(this.aB["r"+1037],0,u);this.ak$()};gj.prototype.mg=function(){if(this.aB["r"+1049]==null)this.eK(30);
return M.LR(this.aB["r"+1049],0)};gj.prototype.eK=function(u){if(this.aB["r"+1049]==null)this.aB["r"+1049]=new Uint8Array(4);
if(M.LR(this.aB["r"+1049],0)==u)return;M.Tg(this.aB["r"+1049],0,u);this.ak$()};gj.prototype.GN=function(u){if(this.add.lnk2==null)return null;
for(var D=0;D<this.add.lnk2.length;D++)if(this.add.lnk2[D].Yw==u)return this.add.lnk2[D];return null};
gj.prototype.alc=function(u){var m=this.GN(u);if(m==null)return!1;var C=d4.BM(m.raw.buffer);if(C==null)return!1;
if(d4.X5(C)!=null||C=="psd")return!0;return!1};gj.prototype.SP=function(u,m,C,Z){var q=this.GN(u);if(q==null)return null;
q.K9(m,C,Z);if(q.CB)return q};gj.prototype.ac2=function(){var u=this.e,m=this.n;if(H.GL&&this.I4==null)this.I4=new H.HT(u,m,!0);
if(this.buffer==null||this.buffer.length!=u*m*4||H.GL&&(this.I4.e!=u||this.I4.n!=m)){this.buffer=j.U(u*m*4);
if(this.I4)this.I4.delete();if(H.GL)this.I4=new H.HT(u,m,!0)}};gj.prototype.a8l=function(){this.ac2();
if(H.GL){this.I4.set(this.buffer)}};gj.prototype.Qp=function(u){var m=this.e,C=this.n,Z=new bl(0,0,m,C),q=Z.aR(this.tR);
this.ac2();if(q.qR())return;if(!q.QV(Z)){if(!H.GL){var J=j.LW(q.Z()*4);j.zO(J,q,this.buffer,Z)}if(H.GL){H.JU(this.I4,q);
H.OT(0)}}else{if(H.GL){this.I4.set(null)}else{this.buffer.fill(0)}}var A=Date.now(),n=H.GL?this.I4:this.buffer;
if(u==null)u=1e9;var N=this.root.children;for(var D=0;D<N.length;D++){var e=N[D].i;if(e.cG()&&e.add.artb){var Q=e.M_(),p=q.aR(Q),B=e.uZ();
if(B!=0){if(H.GL){H.JU(n,p);H.OT(B);H.OT(B)}else j.a73(n,Z,p,B)}}}this.root.IU(n,Z,q,this,[],u);this.ft=this.tR.clone()};
gj.prototype.Rp=function(u){var m=new F;m.rect=new bl(0,0,0,0);m.buffer=j.U(1);m.add.luni=new dz(0,0);
if(u!=!0)m.add.lyid=this.Ls();m.add.lsct=cT.Ev;m.add.lclr=0;m.add.fxrp=new dz(0,0);return m};gj.prototype.B$=function(u){var m=this.Rp(u);
m.RS("</Layer group>");m.add.lsct=cT.Ip;m.VO=24;return m};gj.prototype.xB=function(){return this.oa!=this.OZ};
gj.prototype.hO=function(u){while(this.history.length>this.oa+1)this.history.pop();if(this.OZ>this.oa)this.OZ=-1;
if(u.b.id!=b.o6){this.VG=!0;if(this.CG.lastAppliedComp){delete this.CG.lastAppliedComp;this.xi=!0}}this.history.push(u);
this.oa++;this.xi=!0;var m=iP.Bi()?60:30,C=0;for(var D=this.history.length-1;D>=0;D--){var Z=this.history[D];
if(Z.SI)continue;C++;if(C==m){this.oa-=D;this.history=this.history.slice(D);break}}};gj.prototype.QX=function(){if(this.oa!=this.history.length-1)return null;
return this.history[this.history.length-1]};gj.prototype.TX=function(u,m,C,Z){if(u==null)u=!1;var q=m!=null?[m]:this.w.slice(0);
if(Z){var J=[];for(var D=0;D<q.length;D++){var A=this.g[q[D]],n=A.Aa;if(A.Hy&&n!=0&&J.indexOf(n)==-1)J.push(n)}if(J.length!=0)for(var D=0;
D<this.g.length;D++){var A=this.g[D],n=A.Aa;if(A.Hy&&n!=0&&J.indexOf(n)!=-1&&q.indexOf(D)==-1)q.push(D)}}var N=[];
for(var D=0;D<q.length;D++){var e=this.mK(q[D],u);for(var Q=0;Q<e.length;Q++)if(N.indexOf(e[Q])==-1)N.push(e[Q]);
if(C){var jt=this.root.jj(q[D]);while(jt.parent!=null&&jt.parent.parent!=null){jt=jt.parent;if(N.indexOf(jt.index)==-1){N.push(jt.index,jt.Vk)}}}}return N};
gj.prototype.uH=function(u,m,C){var Z=this,q=Z.TX(!1,u,null,C);q.sort(function(V,o){return V-o});var J={};
for(var A=0;A<Z.g.length;A++){var n=Z.g[A].getName();J[n]=!0}var N=[];for(var D=0;D<q.length;D++){var e=Z.g[q[D]].clone(),v,a;
e.add.lyid=Z.Ls();e.add.lspf=0;if(e.Bv()){var Q=e.Ha(Z),p=gj.a3B(Q);Z.qr(p);e.add.SoLd.placed.v=p.id}else if(e.add.SoLd){var B=e.add.SoLd.placed.v;
e.add.SoLd.placed.v=gj.b2(B.slice(0,8))+B.slice(8)}e.uE(Z);var $=e.getName(),R=$.length;while(48<=$.charCodeAt(R-1)&&$.charCodeAt(R-1)<=57)R--;
var z=parseInt($.slice(R));if(isNaN(z)){if($.endsWith(" copy")){z=1;v=$.slice(0,$.length-5)}else{z=0;
v=$}}else if($.slice(0,R).endsWith(" copy ")){z=z;v=$.slice(0,R-6)}else{z=0;v=$}z++;while(!0){a=v+" copy"+(z==1?"":" "+z);
if(J[a]==null)break;z++}var X=q.indexOf(this.root.jj(q[D]).parent.index)!=-1;if($=="Background"&&Z.g.length==1)a="Layer 1";
if(m!=!0&&!X)e.RS(a);J[a]=!0;N.push(e)}return N};gj.a3B=function(u){return{id:gj.b2(u.id.slice(0,8))+u.id.slice(8),buffer:u.buffer.slice(0),rect:u.rect.clone(),M:u.M?u.M.clone():null}};
gj.ajh=function(u){return{id:u,rect:new bl,buffer:j.U(1),M:new F.ol}};gj.Q2=function(u,m){if(m==null)m={vmsk:new F.nq};
if(m.vogk==null){m.vogk=[];var C=j.$.o1(m.vmsk.B);for(var Z=0;Z<C;Z++)m.vogk.push(j.xK.LW())}return{name:u,NR:0,add:m}};
gj.prototype.yG=function(u){var m=[],C=[],Z=this,J=0;for(var D=1;D<Z.kL.length;D++){var q=Z.kL[D];q.NR=-1-D;
m.push(q);if(Z.h2.indexOf(D)!=-1)C.push(m.length-1)}if(Z.kL[0].add.vmsk.B.length>2){var q=Z.kL[0];q.NR=-1;
m.push(q);if(Z.h2.indexOf(0)!=-1)C.push(m.length-1)}var A=Z.WC==null;if(A)Z.WC=[];for(var D=Z.w.length-1;
D>=0;D--){var n=Z.g[Z.w[D]],N=n.add.TySh;if(n.add.vmsk!=null&&(n.Xn||n.Y8())){var q=gj.Q2("\""+n.getName()+"\" Shape Path",n.add);
q.NR=Z.w[D];m.push(q);if(A)Z.WC.push(J);if(Z.WC.indexOf(J)!=-1)C.push(m.length-1);J++}if(u!=!0&&N&&N.add&&j.x0.Y2(N.av)){var q=gj.Q2("\""+n.getName().slice(0,10)+"..\" Text Path",N.add);
q.NR=1e6+Z.w[D];m.push(q);C.push(m.length-1);J++}}if(C.length==0&&u){Z.kL[0].NR=-1;Z.h2=[0];C.push(m.length);
m.push(Z.kL[0])}return[m,C]};gj.prototype.mK=function(D,u){var m=[],jt=this.root.jj(D);if(jt)jt.i6(m,u);
return m};gj.prototype.eA=function(){this.root.Dq(this,new bl(0,0,this.e,this.n),32*b.F())};gj.prototype.os=function(u){for(var D=0;
D<this.g.length;D++){var m=this.g[D];if(u.indexOf(m)==-1){m.zi.a5i();m.G()}}var C=0;for(var D=0;D<u.length;
D++)if(u[D].add.artb)C++;this.gS(C);this.g=u.slice(0);this.gO()};gj.prototype.gO=function(){var u=this.g,m=u.length;
this.root=new cm;var C=this.Rp(!0);C.Um="pass";C.add.lsct=cT.G6;C.RS("");var Z=this.B$(!0),q=[Z];for(var D=0;
D<m;D++)q.push(u[D]);q.push(C);this.root.gk(q,0,0);if(this.w.length==0)this.w=[m-1]};gj.prototype.oU=function(){if(this.w.length!=1)return;
var u=this.root.jj(this.w[0]);while(u.parent!=null){var m=u.parent.i;m.add.lsct=cT.G6;u=u.parent}this.qz=this.ad9=!0};
gj.prototype.ak6=function(){this.gO();var u=[this.root],fa=0;while(u.length!=0){var top=u.pop();fa++;
if(top.i.add.lsct==cT.G6)for(var D=0;D<top.children.length;D++)u.push(top.children[D])}if(fa>1e3){var m=this.root.children;
for(var D=0;D<m.length;D++)if(m[D].i.add.lsct==cT.G6)m[D].i.add.lsct=cT.an}};gj.yO=function(u,m,C,Z,q,J,A){var n={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:Z},artboard:{t:"bool",v:J},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:u}},Hght:{t:"UntF",v:{type:"#Rlt",val:m}},Rslt:{t:"UntF",v:{type:"#Rsl",val:C}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:q}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
if(q=="Clr")n.Nw.v.FlCl={t:"Objc",v:A};return{ZO:"make",yS:n}};gj.akd=function(u,m){var C=0,Z=0,q=72,J=m.ahe,A=u.preset&&u.preset.v=="Clipboard";
if(A){C=J.e;Z=J.n}else{C=u.Wdth.v.val;Z=u.Hght.v.val;q=u.Rslt.v.val}var n=new gj((u.Nm?u.Nm.v:jg.get([11,7]))+".psd");
n.e=C;n.n=Z;n.JJ=q;var N=u.Fl?u.Fl.v.Fl:"Wht";if(u.artboard&&u.artboard.v){var e=n.Rp();e.RS("Artboard 1");
e.add.lsct=cT.G6;e.Cw(new bl(0,0,C,Z));e.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[N]};
if(N=="Clr")e.add.artb.Clr={t:"Objc",v:j.C.sG(j.C.o5(u.FlCl.v))};e.Um="pass";e.VO=24;var Q=n.Rp();Q.RS("Layer 1");
n.os([n.B$(),Q,e]);n.gS(1);n.w=[1]}else{var p=n.Rp(),B=0;p.RS("Background");n.os([p]);p.add.lspf=1<<2;
if(N=="Clr"){B=j.C.o5(u.FlCl.v);B=255<<24|Math.round(B.S)<<16|Math.round(B.T)<<8|Math.round(B.p)}else{var $=m.z0;
$=($&255)<<16|($>>>8&255)<<8|$>>>16;B={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|$}[N]}p.rect=new bl(0,0,C,Z);
p.buffer=j.U(C*Z*4);j.gs(p.buffer,B)}n.buffer=j.U(C*Z*4);return n};function bY(u){this.Uk=u;this.V=0;
this.qM=1;this.r=new dz(0,0);this.E6=new dz(0,0);this.ez=0;this.Np=[1,1,1];this.pQ=new bl(0,0,1,1);this.ajx=new bl(0,0,u.e,u.n);
this.SD=null;this.CO=null;this._F=new Uint32Array(0);this.Ne=null;this.NN=null;this.ga=j.U(0);this.FY=null;
this.fA=null}bY.prototype.bR=function(u){var m=new ix,C=this.pQ,Z=this.Uk,q=u?this.qM:this.V,J=u?this.E6:this.r,A=Math.round((C.e-Z.e*q)/2+J.x),n=Math.round((C.n-Z.n*q)/2+J.y);
m.translate(-A,-n);m.scale(1/q,1/q);var N=Z.e/2,e=Z.n/2;m.translate(-N,-e);m.rotate(this.ez);m.translate(N,e);
return m};bY.prototype.akY=function(u){var m=this.pQ,C=this.Uk,Z=Math.atan2(-u.S,u.w7),q=C.e/2,J=C.n/2;
u.translate(-q,-J);u.rotate(-Z);u.translate(q,J);var A=1/u.p1();u.scale(A,A);var n=-u.GI,N=-u.c_,e=Math.round(n-(m.e-C.e*A)/2),Q=Math.round(N-(m.n-C.n*A)/2);
if(Math.abs(A-Math.round(A))<1e-6)A=Math.round(A);this.ez=Z;this.V=A;this.r=new dz(e,Q)};bY.prototype.Iv=function(u,m){var C=this.bR();
return C.HL(new dz(u,m))};bY.prototype.qh=function(u,m){var C=this.bR();C.mL();return C.HL(new dz(u,m))};
function c0(){}c0.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");c0.Ca="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
c0.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];c0.a1x=["DrSh","IrSh","SoFi","GrFl","FrFX"];
c0.wP=["Clr"];c0.mr="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");c0.d0=["Ptrn","Angl","Scl","Algn","phase"];
c0.gy={H6:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",aje:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",aoZ:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",aau:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",iG:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
c0.gy.H6="\"Clr\": "+c0.gy.H6;c0.gy.C="\"Grad\":"+c0.gy.aje+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
c0.gy.iG="\"Ptrn\":"+c0.gy.iG+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
c0.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
c0.j_=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+c0.gy.H6+","+c0.gy.C+","+c0.gy.iG+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+c0.gy.H6+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+c0.gy.C+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+c0.gy.iG+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
c0.C={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
c0.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],PK:["SClr","GrFl","Ptrn"],auP:[[13,0],[12,37],[12,62]]};
c0.Wu={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],ajm:["SrcC","SrcE"],aoV:[[19,5,1],[12,69]]};c0.LZ={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],ajP:["SfBL","PrBL","Slmt"],aja:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
c0.K_={kS:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],bt:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],j1:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+c0.gy.H6+"}")},strokeStyleResolution:{t:"doub",v:72}}};
c0.g0=[{classID:"null",Clr:JSON.parse(c0.j_[5]).Clr},{classID:"null",Grad:JSON.parse(c0.j_[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(c0.j_[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var dU={};dU.vi=function(u,m){function C(u,B){if(u==null)return null;var $=u[B].v,R;if($.length!=0){R=$[0].v;
if(!R.enab.v)R=null}return R}var Z=m.SoCo,q=m.GdFl,J=C(u,"solidFillMulti"),A=C(u,"gradientFillMulti");
if(J==null&&A==null)return[Z,q];var n=dU.a78;if(Z&&J&&A==null){var N=JSON.parse(JSON.stringify(Z));N.Clr.v=n(J.Clr.v,Z.Clr.v,J);
return[N,null]}if(q&&J&&A==null){var e=JSON.parse(JSON.stringify(q)),Q=e.Grad.v.Clrs.v;for(var D=0;D<Q.length;
D++){var p=Q[D].v.Clr;p.v=n(J.Clr.v,p.v,J)}return[null,e]}if(Z&&A){var e=JSON.parse(JSON.stringify(A)),Q=e.Grad.v.Clrs.v;
for(var D=0;D<Q.length;D++){var p=Q[D].v.Clr;p.v=n(p.v,Z.Clr.v,A)}return[null,e]}return[J,A]};dU.a94={tW:j.U(4),uc:j.U(4),p:new bl(0,0,1,1)};
dU.a78=function(u,m,C){var Z=hR.Sp(C.Md.v.BlnM),q=C.Opct.v.val/100,J=dU.a94;u=j.C.o5(u);m=j.C.o5(m);
J.tW[0]=u.p;J.tW[1]=u.T;J.tW[2]=u.S;J.tW[3]=255;J.uc[0]=m.p;J.uc[1]=m.T;J.uc[2]=m.S;J.uc[3]=255;j.a.q5(Z,J.tW,J.p,J.uc,J.p,J.p,q);
return{classID:"RGBC",Rd:{t:"doub",v:J.uc[0]},Grn:{t:"doub",v:J.uc[1]},Bl:{t:"doub",v:J.uc[2]}}};dU.a74=function(u,m,C){var Z=u;
u=u.slice(0);var q=hR.AO[hR.C7.indexOf(m.Md.v.BlnM)],J=j.C.o5(m.Clr.v),A=4278190080|Math.round(J.S)<<16|Math.round(J.T)<<8|Math.round(J.p),n=j.U(C.Z()*4);
j.gs(n,A);j.a.q5(q,n,C,u,C,C,m.Opct.v.val/100);for(var D=0;D<u.length;D+=4)u[D+3]=Z[D+3];return u};dU.o7=function(u,m){var C=["Sz","blur","Sftn","Dstn"];
for(var D=0;D<c0.order.length;D++){var Z=c0.order[D],q=u[c0.Ca[D]].v;for(var J=0;J<q.length;J++){var A=q[J].v;
for(var n=0;n<C.length;n++){var N=A[C[n]];if(N){var e=N.v.val,Q=e;Q=Math.max(e==0?0:1,Q*m);if(Z=="ChFX")Q=Math.min(Q,250);
if(Z=="ebbl"){if(C[n]=="blur")Q=Math.min(Q,250);if(C[n]=="Sftn")Q=Math.min(Q,16)}N.v.val=Math.round(Q)}}if(Z=="ebbl"||Z=="patternFill"||Z=="FrFX")if(A.Ptrn&&A.Scl)A.Scl.v.val=Math.max(1,Math.min(1e3,A.Scl.v.val*m))}}};
dU.ajs=function(u,m,C){var Z=new bl(-.5,-.5,1,1);for(var D=0;D<c0.order.length;D++){var q=c0.order[D],J=u[c0.Ca[D]].v;
for(var A=0;A<J.length;A++){var n=J[A].v,p;if(!n.enab.v)continue;var N=n.blur?n.blur.v.val+1:0,e=n.Ckmt?n.Ckmt.v.val/100:0,Q=Math.round(N*e);
if(q=="DrSh"||q=="IrSh"&&C){p=new bl(-.5,-.5,1,1);p.iO(N,N);dU.rW(p,n,m,0)}if(q=="OrGl"||q=="IrGl"&&C){p=new bl(-.5,-.5,1,1);
p.iO(N,N)}if(q=="FrFX"){var B=dU.yx(n),$=B[1];if(C)$=Math.max(B[0],$);p=new bl(-.5,-.5,1,1);p.iO(Math.ceil($),Math.ceil($))}if(q=="ebbl"){var N=n.blur.v.val,R=n.bvlS.v.BESl;
if(R=="Embs"||R=="PlEb")N/=2;var z=["OtrB","InrB","Embs","PlEb","strokeEmboss"],v=["SfBL","PrBL","Slmt"],a=["In","Out"],X=n.bvlT.v.bvlT!="SfBL"?N:N*.43,V=Math.round(N);
p=new bl(-V-1,-V-1,2*V+2,2*V+2)}if(C&&q=="ChFX"){p=new bl(-.5,-.5,1,1);p.iO(N,N);var o=p.clone();dU.rW(p,n,m,0);
dU.rW(o,n,m,Math.PI);p=p.QN(o)}if(p)Z=Z.QN(p)}}if(Z.x!=Math.ceil(Z.x)){Z.x=Math.ceil(Z.x);Z.e-=1}if(Z.y!=Math.ceil(Z.y)){Z.y=Math.ceil(Z.y);
Z.n-=1}Z.e=Math.floor(Z.e);Z.n=Math.floor(Z.n);return Z};dU.yx=function(u){var m=0,C=0,Z=u.Styl.v.FStl,q=u.Sz.v.val;
if(Z=="OutF")C=q;if(Z=="InsF")m=q;if(Z=="CtrF")m=C=q/2;return[m,C]};dU.ajn=function(u){if(H.GL&&u.gP==null){u.gP=new H.HT(u.Xq.e,u.Xq.n);
u.gP.set(u.bf);delete u.bf;if(u.DK){u.pT=new H.Wl(u.Xq.e,u.Xq.n);u.pT.set(u.DK);delete u.DK}if(u.JC){u.Id=new H.Wl(u.Xq.e,u.Xq.n);
u.Id.set(u.JC);delete u.JC}}};dU.akM=function(u){if(u.gP)u.gP.delete();if(u.pT)u.pT.delete();if(u.Id)u.Id.delete()};
dU.amh=function(u){if(u.all==null)return;for(var D=0;D<u.all.length;D++){dU.akM(u.all[D])}};dU.agm=function(u,m,C,Z,q,J){var A=dU.Dn(C,Z,u,m,q,J);
for(var D=0;D<A.all.length;D++)dU.ajn(A.all[D]);return A};dU.am5=function(u){for(var D=0;D<c0.order.length;
D++){var m=c0.order[D],C=c0.Ca[D],Z=u[C].v;for(var q=0;q<Z.length;q++){var J=Z[q].v;if(J.enab.v&&["patternFill","GrFl","SoFi"].indexOf(m)==-1)return!0}}return!1};
dU.Dn=function(u,m,C,Z,q,J){if(J==null)J=Z;var A=0,n=0;for(var D=0;D<c0.order.length;D++){var N=c0.order[D],e=c0.Ca[D],Q=u[e].v;
for(var p=0;p<Q.length;p++){var B=Q[p].v;if(N=="DrSh"&&B.enab.v&&B.Ckmt.v.val>0&&B.blur.v.val>0)A=Math.max(A,Math.ceil(B.Ckmt.v.val*B.blur.v.val/100));
if(N=="OrGl"&&B.enab.v&&B.Ckmt.v.val>0&&B.blur.v.val>0&&B.GlwT.v.BETE=="SfBL")A=Math.max(A,Math.ceil(B.Ckmt.v.val*B.blur.v.val/100));
if(N=="OrGl"&&B.enab.v&&B.blur.v.val>0&&B.GlwT.v.BETE=="PrBL")A=Math.max(A,B.blur.v.val);if(N=="FrFX"&&B.enab.v&&B.Sz.v.val>0){if(B.Styl.v.FStl=="OutF")A=Math.max(A,B.Sz.v.val);
if(B.Styl.v.FStl=="CtrF")A=Math.max(A,Math.ceil(B.Sz.v.val/2));n=Math.max(n,dU.yx(B)[1])}}}var $=new dU.YA(C,Z,A,dU.am5(u)),R=-Z.x,z=-Z.y,v={type:{},all:[]};
for(var a=0;a<c0.order.length;a++){var N=c0.order[a],e=c0.Ca[a];v.type[N]=[];for(var X=u[e].v.length-1;
X>=0;X--){var V=u[e].v[X].v,w;if(!V.enab.v)continue;var o=V.blur?V.blur.v.val:0,h=V.Ckmt?V.Ckmt.v.val/100:0,l=o*h;
if(N=="DrSh"){var W=$.QS(l,o-l,!0),U=W.kO,s=W.yt;s.offset(R,z);dU.Zs(U,V,!1);dU.rW(s,V,q,0);var S=j.U(s.Z()*4);
dU.Dx(S,V.Clr.v);j.wC(U,S,3);w={bf:S,Xq:s,afz:V.layerConceals.v}}else if(N=="IrSh"){var W=$.QS(l,o-l,!1);
dU.rW(W.yt,V,q,0);var s=$.rect().clone(),U=j.U(s.Z());U.fill(255);j.j5(W.kO,W.yt,U,s);dU.Zs(U,V,!0);
var S=j.U(s.Z()*4);dU.Dx(S,V.Clr.v);j.wC(U,S,3);s.offset(R,z);w={bf:S,Xq:s}}else if(N=="GrFl"){var S=j.U($.rect().Z()*4);
dU.ew(V,S,$.rect(),q,null,J);var s=$.rect().clone();s.offset(R,z);w={bf:S,Xq:s}}else if(N=="SoFi"){var S=j.U($.kO().length*4);
dU.Dx(S,V.Clr.v);var s=$.rect().clone();s.offset(R,z);w={bf:S,Xq:s}}else if(N=="ebbl"){var x=!1;if(x)console.log(V);
var P=Date.now(),y=V.bvlS.v.BESl;if(y=="strokeEmboss"){var _=u.frameFXMulti.v;if(_.length==0)continue;
_=_[0].v;if(!_.enab.v)continue;var g=_.Styl.v.FStl;if(g=="OutF")y="OtrB";if(g=="CtrF")y="Embs";if(g=="InsF")y="InrB"}var o=V.blur.v.val;
if(o==0)o=.7;if(y=="Embs"||y=="PlEb")o/=2;var G=["OtrB","InrB","Embs","PlEb","strokeEmboss"],O=["SfBL","PrBL","Slmt"],E=["In","Out"],L=V.bvlT.v.bvlT!="SfBL"?o:o*.45,c=Math.round(o),k=$.rect().clone(),I=k.clone();
I.iO(c,c);var Y=I.e,K=I.n,i=Y*K,i4=j.U(i);j.j5($.kO(),k,i4,I);var d7=new Float64Array(i),d=new Float64Array(i);
j.style.Pj(i4,d7,Y,K);j.mL(i4);j.style.Pj(i4,d,Y,K);if(x)console.log("distTransform computed",Date.now()-P);
for(var D=0;D<i;D++)d[D]=d[D]-d7[D];for(var D=0;D<i;D++){var fH=d[D];if(fH<-L)d[D]=-L;else if(fH>L)d[D]=L}if(x)console.log("summing + cropping",Date.now()-P);
if(V.bvlT.v.bvlT=="SfBL"){var aC=Math.pow(o*.21,1.22);if(!0)aC=Math.max(aC,2);var f8=j.yM.Vz(aC,2);j.yM.PW(d,d7,I,f8[0]>>>1);
j.yM.PW(d7,d,I,f8[1]>>>1)}if(x)console.log("blurring",Date.now()-P);var c9=d,g1=c9.slice(0);if(V.useShape.v){var cE=Math.min(100,V.Inpr.v.val+1)/100;
if(y!="OtrB"&&y!="InrB")cE=1;var hG=j.AE.xP(V.MpgS.v.Crv.v,2e3),fA=Math.round(2e3/cE);hG=j.AE.aeW(hG,fA,y=="InrB");
var hh=.5/L;for(var D=0;D<i;D++){var eE=c9[D],dh=.99999*(eE+L)*hh;c9[D]=-L+2*L*hG[~~(dh*(fA-1))]}if(x)console.log("applying shape",Date.now()-P)}if(V.useTexture.v){var fT=j.U(Y*K*4);
dU.Hm(V,fT,I,q.add.Patt,m);var dB=j.U(Y*K);j.px(fT,dB);var iN=j.U(Y*K);j.yM.tn(dB,iN,I,1);dB=iN;var gV=o*V.textureDepth.v.val*(1/100)*(1/255);
if(V.InvT.v)gV=-gV;for(var D=0;D<i;D++)c9[D]+=-gV*dB[D];if(x)console.log("applying texture",Date.now()-P)}var fI=(V.bvlT.v.bvlT=="SfBL"?1:.5)*(V.bvlD.v.BESs=="In"?1:-1)*V.srgR.v.val/100;
for(var D=0;D<i;D++)c9[D]*=fI;if(x)console.log("scaling",Date.now()-P);var gc=V.uglg&&V.uglg.v?q.lQ():V.lagl.v.val;
gc=gc*(Math.PI/180);var aF=V.uglg&&V.uglg.v?q.mg():V.Lald.v.val;aF=aF*(Math.PI/180);var gh=Math.cos(gc)*Math.cos(aF),gD=-Math.sin(gc)*Math.cos(aF),j1=Math.sin(aF),dg=new Float64Array(i),ao=new Float64Array(i),eC=y=="PlEb";
for(var bD=0;bD<K;bD++)for(var fK=0;fK<Y;fK++){var D=bD*Y+fK,a1=0,fR=0,bj=1;if(bD!=0&&bD!=K-1&&fK!=0&&fK!=Y-1){var b7=c9[D-Y-1],ha=c9[D-Y+1],eJ=c9[D+Y-1],cq=c9[D+Y+1];
a1=-.125*(ha+2*c9[D+1]+cq-(b7+2*c9[D-1]+eJ));fR=-.125*(eJ+2*c9[D+Y]+cq-(b7+2*c9[D-Y]+ha))}else{var bF=c9[D];
fR=-(bD==0?c9[D+Y]-bF:bD==K-1?bF-c9[D-Y]:.5*(c9[D+Y]-c9[D-Y]));a1=-(fK==0?c9[D+1]-bF:fK==Y-1?bF-c9[D-1]:.5*(c9[D+1]-c9[D-1]))}var g4=1/Math.sqrt(a1*a1+fR*fR+1);
a1*=g4;fR*=g4;bj*=g4;var eA=a1*gh+fR*gD+bj*j1,aJ=eA;if(eC)aJ=-a1*gh-fR*gD+bj*j1;if(eA>0)dg[D]=eA;if(aJ>0)ao[D]=aJ}if(x)console.log("raycasting",Date.now()-P);
if(V.Sftn.v.val!=0){j.yM.A1(dg,d7,I,V.Sftn.v.val*.43);var fU=d7,d7=dg,dg=fU;if(eC){j.yM.A1(ao,d7,I,V.Sftn.v.val*.43);
var fU=d7,d7=ao,ao=fU}else j.Uj(dg,ao)}if(x)console.log("softening",Date.now()-P);var hG=j.AE.xP(V.TrnS.v.Crv.v,1024);
for(var D=0;D<i;D++){dg[D]=hG[~~(dg[D]*1024)];ao[D]=hG[~~(ao[D]*1024)]}if(x)console.log("contour remap",Date.now()-P);
Y=Math.round(Y);K=Math.round(K);var iE=j.U(Y*K*4);dU.Dx(iE,V.hglC.v);var hQ=j.U(Y*K*4);dU.Dx(hQ,V.sdwC.v);
var bT=j.U(Y*K*4);dU.Dx(bT,V.hglC.v);var iU=j.U(Y*K*4);dU.Dx(iU,V.sdwC.v);var ba=1/j1,eI=1/(1-j1),hh=1/L,e_=new Float64Array(1e3);
for(var D=0;D<1e3;D++)e_[D]=Math.pow(D*.001,.2);for(var bD=0;bD<K;bD++)for(var fK=0;fK<Y;fK++){var D=bD*Y+fK,bs=4*D+3,fr=0,db=0;
fr=dg[D];db=ao[D];var fx=Math.max(0,Math.min(.9999,(g1[D]+L*.993)*hh));fx=e_[Math.floor(fx*1e3)];var fb=fx*(1-Math.min(1,fr*ba)),dA=fx*(1-Math.min(1,(1-fr)*eI)),ge=fx*(1-Math.min(1,db*ba)),bh=fx*(1-Math.min(1,(1-db)*eI));
hQ[bs]=Math.round(255*fb);iE[bs]=Math.round(255*dA);iU[bs]=Math.round(255*ge);bT[bs]=Math.round(255*bh)}if(x)console.log("baking textures",Date.now()-P);
I=$.rect().clone();I.iO(c,c);I.offset(R,z);w={abU:V.bvlS.v.BESl=="strokeEmboss"};var cY=hR.Sp(V.hglM.v.BlnM),d6=V.hglO.v.val/100,hU=hR.Sp(V.sdwM.v.BlnM),f2=V.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(y)!=-1){w._X={bf:iE,Xq:I,h3:cY,mv:d6};w.yT={bf:hQ,Xq:I,h3:hU,mv:f2}}if(["OtrB","Embs","PlEb"].indexOf(y)!=-1){w.nl={bf:bT,Xq:I,h3:cY,mv:d6};
w.Kl={bf:iU,Xq:I,h3:hU,mv:f2}}if(x)console.log(Date.now()-P)}else if(N=="patternFill"){var cQ=$.rect(),S=j.U(cQ.Z()*4);
dU.Hm(V,S,cQ,q.add.Patt,m);var s=cQ.clone();s.offset(R,z);w={bf:S,Xq:s}}else if(N=="ChFX"){var S=j.U($.kO().length*4);
dU.Dx(S,V.Clr.v);var o=V.blur.v.val,i8=$.rect().clone();i8.iO(o,o);var hw=j.U(i8.Z()),iA=j.U(i8.Z());
j.j5($.kO(),$.rect(),iA,i8);j.yM.kJ(iA,hw,i8,o*.43);var ce=j.AE.bm(V.MpgS.v.Crv.v,256,!0);j.n$(hw,ce);
var al=j.U($.kO().length),aS=j.U($.kO().length),gM=$.rect().clone();dU.rW(gM,V,q,0);j.j5(hw,i8,al,gM);
gM=$.rect().clone();dU.rW(gM,V,q,Math.PI);j.j5(hw,i8,aS,gM);var gS=al.length;for(var D=0;D<gS;D++)S[4*D+3]=Math.abs(al[D]-aS[D]);
if(V.Invr.v)for(var D=0;D<gS;D++)S[4*D+3]=255-S[4*D+3];var s=$.rect().clone();s.offset(R,z);w={bf:S,Xq:s}}else if(N=="OrGl"){var W;
if(V.GlwT.v.BETE=="SfBL")W=$.QS(l,o-l,!0);else W=$.aj$(o,h,!0);var U=W.kO,s=W.yt,h3=U.slice(0);dU.a1k(U,V);
var S=j.U(s.Z()*4);if(V.Grad==null){dU.Dx(S,V.Clr.v);dU.Zs(U,V,!1)}else{dU.Zs(U,V,null);var id={e_:U,M5:255,Sb:0,Mp:s};
dU.ew(V,S,s,q,id);var e3=V.Nose.v.val/100,cw=s.e;for(var D=0;D<h3.length;D++){var io=255,iY=h3[D];if(iY<32){var jy=(iY+h3[D-1]+h3[D+1]+h3[D-cw]+h3[D+cw])*.2-1;
io=Math.min(255,Math.round(Math.max(0,jy)*8))}U[D]=io}dU.apg(U,V)}j.wC(U,S,3);s.offset(R,z);w={bf:S,Xq:s}}else if(N=="IrGl"){var W;
if(V.GlwT.v.BETE=="SfBL")W=$.QS(l,o-l,!1);else W=$.aj$(o,h,!1);var U=W.kO,s=W.yt;dU.a1k(U,V);if(V.glwS.v.IGSr=="SrcC")j.mL(U);
var S=j.U(s.Z()*4);if(V.Grad==null){dU.Dx(S,V.Clr.v);dU.Zs(U,V,!0)}else{dU.Zs(U,V,null);var id={e_:U,M5:255,Sb:0,Mp:s};
dU.ew(V,S,s,q,id);U.fill(255);dU.apg(U,V)}j.wC(U,S,3);s.offset(R,z);w={bf:S,Xq:s}}else if(N=="FrFX"){var cn=dU.yx(V),ej=cn[0],j7=cn[1],s=$.rect().clone(),fn=null,h4=null;
s.iO(Math.ceil(n),Math.ceil(n));if(j7>0){var W=$.QS(j7,0,!0);h4=W.kO;if(h4.length<s.Z()){h4=j.U(s.Z());
j.j5(W.kO,W.yt,h4,s)}}if(ej>0){var W=$.QS(ej,0,!1);fn=j.U(s.Z());fn.fill(255);j.j5(W.kO,W.yt,fn,s)}s.offset(R,z);
var S=j.U(s.Z()*4),da=V.PntT.v.FrFl;if(da=="SClr")dU.Dx(S,V.Clr.v);if(da=="GrFl")dU.ew(V,S,s,q,$.akJ(ej,j7));
if(da=="Ptrn")dU.Hm(V,S,s,q.add.Patt,m);w={bf:S,Xq:s,JC:h4,DK:fn}}v.type[N].push(w);if(N=="ebbl"){if(w._X)v.all.push(w._X,w.yT);
if(w.nl)v.all.push(w.nl,w.Kl)}else{w.h3=hR.Sp(V.Md.v.BlnM);w.mv=V.Opct.v.val/100,v.all.push(w)}}}return v};
dU.E4=function(u){var m=1/Math.sqrt(u.x*u.x+u.y*u.y+u.jN*u.jN);u.x*=m;u.y*=m;u.jN*=m};dU.apu=function(u,m){return{x:u.y*m.jN-u.jN*m.y,y:u.jN*m.x-u.x*m.jN,jN:u.x*m.y-u.y*m.x}};
dU.a82=function(u,m){return u.x*m.x+u.y*m.y+u.jN*m.jN};dU.apg=function(u,m){var C=m.Nose.v.val/100;if(C>0)for(var D=0;
D<u.length;D++){var Z=u[D];Z=Math.min(510-(1+C)*j.style.x3(D),Z);u[D]=Z}};dU.uX=function(u){var m=dU.y0(),C=u.Aw,Z=!1;
for(var D=0;D<32;D+=8)if(C[D]+C[D+1]+C[D+4]+C[D+5]!=0||C[D+2]+C[D+3]+C[D+6]+C[D+7]!=1020)Z=!0;if(Z){C=C.slice(0);
for(var D=0;D<40;D+=4){var q=C[D]/255,J=C[D+1]/255,A=C[D+2]/255,n=C[D+3]/255;C[D]=q-.001;C[D+1]=q==J?1e6:1/(J-q);
C[D+2]=A==n?-1e6:1/(A-n);C[D+3]=n+.001}}var N=u.add.iOpa!=null?u.add.iOpa/255:m.fill,e=u.add.vstk;if(e&&!e.fillEnabled.v&&(!e.strokeEnabled.v||e.strokeStyleLineWidth.v.val==0))N=0;
return{fill:N,JG:Z?C:null,he:u.add.brst!=null?u.add.brst:m.he,ac9:u.add.knko!=null?u.add.knko:m.ac9,style:!1,hh:!1}};
dU.y0=function(){return{fill:1,JG:null,he:[1,1,1],ac9:0,style:!1,hh:!1}};dU.G$=function(u,m){if(m==null)return null;
var C=u.Idnt.v,Z=u.Nm.v;for(var D=0;D<m.length;D++)if(m[D].id==C)return m[D];for(var D=0;D<m.length;
D++)if(m[D].name==Z)return m[D];return null};dU.adZ=function(u,m,C){var Z=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var D=0;D<Z.length;D++){var q=u.v[Z[D]].v;for(var J=0;J<q.length;J++)if(q[J].v.Ptrn)m.Vp(dU.G$(q[J].v.Ptrn.v,C))}};
dU.aol=function(u,m,C){var Z=["patternFillMulti","ebblMulti","frameFXMulti"];for(var D=0;D<Z.length;
D++){var q=u.v[Z[D]].v;for(var J=0;J<q.length;J++)if(q[J].v.Ptrn){var A=q[J].v.Ptrn.v,n=dU.G$(A,C),N=dU.G$(A,m.add.Patt);
if(n==null&&N)C.push(N)}}};dU.Hm=function(u,m,C,Z,q){var J=dU.G$(u.Ptrn.v,Z);if(J!=null&&!C.qR()){var A=J.k9,n=A[0],N=A[1],e=0;
j.ML(A);var Q=(u.Scl?u.Scl.v.val:100)/100;while((Q<.3||Q==.5)&&A[e+2]){Q*=N.e/A[e+3].e;e+=2;n=A[e];N=A[e+1]}var p=j.scale.Hm(n,N.e,N.n),B=u.phase?u.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},$=u.Angl?u.Angl.v.val:0,R=-C.x+B.Hrzn.v-1,z=-C.y+B.Vrtc.v-1;
if(u.Algn!=null&&!u.Algn.v){}else{R+=q.x;z+=q.y}j.scale.Mh(p,m,C.e,C.n,Q,Q,R+1,z+1,$*Math.PI/180)}};
dU.ew=function(u,m,C,Z,q,J){if(J==null)J=C;var A=u.Type?u.Type.v.GrdT:"shapeburst",n=u.Algn&&u.Algn.v?J:new bl(0,0,Z.e,Z.n),N=u.Angl?j.C.RJ(u,n):[new dz(0,0),new dz(100,0)],e=N[0].x,Q=N[0].y,p=N[1].x-e,B=N[1].y-Q,$=Math.sqrt(p*p+B*B);
$=1/(2*$*$);var R=[p*$,B*$,-B*$,p*$],z=u.Rvrs?u.Rvrs.v:!1,v=u.Dthr?u.Dthr.v:!1;j.C.jx(u.Grad.v,m,C,R,e,Q,z,c0.C.types.indexOf(A),0,0,q,v)};
dU.a7T=function(u,m,C){for(var D=0;D<u.all.length;D++){var Z=u.all[D];Z.jz=Z.Xq.clone();Z.jz.offset(m,C)}};
dU.ajk=function(u,m,C,Z,q,J){var A=H.GL?dU.a3r:dU.ajL;dU.a7T(m,C.x,C.y);var n=m.type.DrSh;for(var D=0;
D<n.length;D++)if(!n[D].afz)A(n[D],Z,q,J)};dU.arJ=function(u,m,C,Z,q,J,A,n,N,e){var Q=C,p=H.GL?dU.a3r:dU.ajL,B=H.GL?H.a.z1:j.a.LP,$;
$=m.type.DrSh;for(var D=0;D<$.length;D++)if($[D].afz)p($[D],Z,q,J);$=m.type.OrGl;for(var D=0;D<$.length;
D++)p($[D],Z,q,J);var R="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var z=0;z<R.length;z++){var $=m.type[R[z]];
for(var D=0;D<$.length;D++)p($[D],A,Q,J)}var v=m.type.ebbl[0],a=v!=null&&v.abU;$=m.type.FrFX;for(var D=0;
D<$.length;D++){var X=$[D];cm.BB.j5(n,e,N,e,J);p(X,N,e,J);if(a&&D==$.length-1){if(v.Kl)p(v.Kl,N,e,J);
if(v.nl)p(v.nl,N,e,J);if(v.yT)p(v.yT,N,e,J);if(v._X)p(v._X,N,e,J)}if(X.DK||X.pT)B(N,e,A,Q,H.GL?X.pT:X.DK,X.jz,0,J,1);
if(X.JC||X.Id)B(N,e,Z,q,H.GL?X.Id:X.JC,X.jz,0,J,1)}if(!a&&v!=null){if(v.Kl)p(v.Kl,Z,q,J);if(v.nl)p(v.nl,Z,q,J);
if(v.yT)p(v.yT,A,Q,J);if(v._X)p(v._X,A,Q,J)}};dU.ajL=function(u,m,C,Z){var q=dU.y0();q.fill=u.mv;q.style=!0;
j.a.q5(u.h3,u.bf,u.jz,m,C,Z,1,q)};dU.a3r=function(u,m,C,Z){var q=dU.y0();q.fill=u.mv;q.style=!0;H.a.Td(u.h3,u.gP,u.jz,m,C,Z,1,q)};
dU.a1k=function(u,m){var C=1-m.Inpr.v.val/100,Z=1+Math.tan(C*(Math.PI/2)),q=u.length;for(var D=0;D<q;
D++)u[D]=Math.min(255,Math.round(u[D]*Z))};dU.Zs=function(u,m,C){var Z=m.blur.v.val,q=Math.round(Z*(m.Ckmt.v.val/100));
if(Z>q){var J=j.AE.bm(m.TrnS.v.Crv.v,256,!0);j.n$(u,J)}if(C!=null&&m.Nose.v.val>0)j.style.dq(u,m.Nose.v.val/100,C)};
dU.Dx=function(u,m,C){if(C==null)C=255;var Z=j.C.o5(m),q=C<<24|Z.S<<16|Z.T<<8|Z.p,J=new Uint32Array(u.buffer);
J.fill(q)};dU.rW=function(u,m,C,Z){var q=m.uglg&&m.uglg.v?C.lQ():m.lagl.v.val;q=q*Math.PI/180+Z;var J=Math.cos(q)*m.Dstn.v.val,A=Math.sin(q)*m.Dstn.v.val;
u.x-=Math.round(J);u.y+=Math.round(A)};dU.hH=function(u){if(u==null)return null;var m=u.frameFXMulti.v;
if(m.length==0)return null;m=m[0].v;var C=JSON.parse(JSON.stringify(c0.K_.default));dU.agV(m,C);return C};
dU.agV=function(u,m){var C=c0.stroke.PK.indexOf(u.PntT.v.FrFl),Z=[c0.wP,c0.mr,c0.d0][C],q=m.strokeStyleContent.v={classID:c0.K_.j1[C]};
for(var D=0;D<Z.length;D++)q[Z[D]]=u[Z[D]];m.strokeEnabled=u.enab;m.strokeStyleLineWidth=u.Sz;m.strokeStyleLineAlignment.v.strokeStyleLineAlignment=c0.K_.bt[c0.stroke.types.indexOf(u.Styl.v.FStl)];
m.strokeStyleOpacity=u.Opct;m.strokeStyleBlendMode=u.Md};dU.di=function(u,m){var C=[];for(var D=0;D<u.length;
D++)C.push({t:"UntF",v:{type:"#Nne",val:Math.round(u[D]*m)}});return C};dU.YA=function(u,m,C,Z){this.RT=m.clone();
this.a8m=m.clone();this.a8m.iO(C,C);if(Z){this.RT.iO(1,1);this.x7=j.U(this.RT.Z());j.j5(u,m,this.x7,this.RT)}else this.x7=u;
this.pc=null;this.zE=null;this.MW=null};dU.YA.prototype.kO=function(){return this.x7};dU.YA.prototype.rect=function(){return this.RT};
dU.YA.prototype.Kx=function(){return this.a8m};dU.YA.prototype.Us=function(){if(this.pc)return this.pc;
this.pc=this.kO().slice(0);j.mL(this.pc);return this.pc};dU.YA.prototype.zt=function(){if(this.zE)return this.zE;
this.zE=new Float64Array(this.rect().Z());j.style.Pj(this.Us(),this.zE,this.rect().e,this.rect().n);
return this.zE};dU.YA.prototype.a1=function(){if(this.MW)return this.MW;var u=this.Kx(),m=j.U(u.Z());
j.j5(this.kO(),this.rect(),m,u);this.MW=new Float64Array(u.Z());j.style.Pj(m,this.MW,u.e,u.n);return this.MW};
dU.YA.prototype.akJ=function(u,m){var C={M5:-m,Sb:u,Mp:null,e_:null};if(m==0){C.Mp=this.rect();C.e_=this.zt();
return C}var Z=this.a1().slice(0),q=this.Kx();C.Mp=q;C.e_=Z;for(var D=0;D<Z.length;D++)Z[D]=-Z[D];if(u==0)return C;
var J=this.zt(),A=this.rect();for(var n=0;n<A.n;n++)for(var N=0;N<A.e;N++){var e=n*A.e+N,Q=(n+A.y-q.y)*q.e+N+A.x-q.x;
Z[Q]+=J[e]}return C};dU.YA.prototype.QS=function(u,m,C){var Z=Math.ceil(u+m),q={yt:this.rect().clone(),kO:null};
q.yt.iO(Z,Z);q.kO=j.U(q.yt.Z());if(u==0&&m==0)j.Uj(C?this.kO():this.Us(),q.kO);else{var J=j.U(q.yt.Z());
j.j5(this.kO(),this.rect(),J,q.yt);if(!C)j.mL(J);if(u!=0){if(C)j.style.LK(J,q.yt,this.a1(),this.Kx(),u);
else j.style.LK(J,q.yt,this.zt(),this.rect(),u)}if(m!=0)j.yM.kJ(J,q.kO,q.yt,Math.max(1,m*.43));else q.kO=J}return q};
dU.YA.prototype.aj$=function(u,m,C){var Z=u*(m-.5),q={yt:this.rect().clone(),kO:null};if(C)q.yt.iO(u,u);
q.kO=j.U(q.yt.Z());var J=q.yt.e,A=q.yt.n,n=C?this.a1():this.zt(),N=C?this.Kx():this.rect(),e=q.yt,Q=e.aR(N),J=Q.e,A=Q.n,p=Q.x-e.x,B=Q.y-e.y,$=Q.x-N.x,R=Q.y-N.y,z=1-m*2;
for(var v=0;v<A;v++)for(var a=0;a<J;a++){var X=n[(v+R)*N.e+a+$],V=X/u;q.kO[(v+B)*e.e+a+p]=Math.max(0,Math.min(255,255-255*((V+z)/(1+z))))}return q};
dU.aro=function(u,m,C){var Z=u.Lefx,q=u.blendOptions;if(Z){var J=m.add.lmfx;if(C==null)C=J?J.Scl.v.val:100;
m.add.lmfx=JSON.parse(JSON.stringify(Z.v));if(m.add.lmfx.Scl==null)m.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
dU.o7(m.add.lmfx,C/m.add.lmfx.Scl.v.val);if(J)m.add.lmfx.Scl.v.val=J.Scl.v.val}else delete m.add.lmfx;
if(q){q=q.v;if(q.Md)m.Um=hR.Sp(q.Md.v.BlnM);if(q.Opct)m.opacity=Math.round(q.Opct.v.val*255/100);if(q.fillOpacity)m.add.iOpa=Math.round(q.fillOpacity.v.val*255/100);
if(q.Blnd){var A=[];for(var D=0;D<10;D++)A.push(0,0,255,255);var n=q.Blnd.v,N="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var D=0;D<n.length;D++){var e=n[D].v,Q=8*["Gry","Rd","Grn","Bl"].indexOf(e.Chnl.v[0].v.enum);for(var p=0;
p<8;p++){A[Q+p]=e[N[p]].v}}m.Aw=A}}};dU.atU=function(u){var m="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),C=[],Z=u.Aw;
for(var D=0;D<4;D++){var q=D*8;if(Z[q]+Z[q+1]+Z[q+4]+Z[q+5]==0&&Z[q+2]+Z[q+3]+Z[q+6]+Z[q+7]==4*255)continue;
var J={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][D]}}]}}};
C.push(J);for(var A=0;A<8;A++)J.v[m[A]]={t:"long",v:Z[D*8+A]}}var n={classID:"blendOptions"};if(u.Um!="norm")n.Md={t:"enum",v:{BlnM:hR.gt(u.Um)}};
if(u.opacity!=255)n.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(u.opacity*100/255)}};if(u.add.iOpa!=null)n.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(u.add.iOpa*100/255)}};
if(C.length!=0)n.Blnd={t:"VlLs",v:C};var N={J4:{classID:"null",Idnt:{t:"TEXT",v:gj.b2()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},lr:{classID:"Styl",blendOptions:{t:"Objc",v:n}}},e=u.add.lmfx;
if(e)N.lr.Lefx={t:"Objc",v:e};return N};function c4(){}c4.NL=function(u){return JSON.parse(JSON.stringify(u))};
c4.Im=function(u){var m=c4.NL(c4.ak_),C=m.Brsh.v;if(u!=null){delete C.Hrdn;C.classID="sampledBrush";
C.Nm={t:"TEXT",v:"layer.png"},C.sampledData={t:"TEXT",v:u}}return m};c4.ak_={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
c4.E4={};c4.E4.check=function(u){var m=c4.E4.yW;for(var D=0;D<m.length;D++)if(u[m[D]]==null)u[m[D]]=JSON.parse(c4.E4.FB[m[D]]);
var C=[];for(var D=0;D<m.length;D++)C.push(m[D]);var Z=c4.E4.arV;for(var D=0;D<Z.length;D++){var q=Z[D][0],J=Z[D][1],A=!0;
for(var n=0;n<q.length;n++)A=A&&u[q[n]].v==!0;if(A)for(var n=0;n<J.length;n++){if(u[J[n]]==null)console.log("Missing conditional parameter "+J[n]);
else C.push(J[n])}}for(var N in u)if(C.indexOf(N)==-1)console.log("Extra parameter "+N);u=u.Brsh.v;m=c4.E4._0.yW;
for(var D=0;D<m.length;D++)if(u[m[D]]==null)u[m[D]]=JSON.parse(c4.E4._0.FB[m[D]]);C=[];for(var D=0;D<m.length;
D++)if(u[m[D]])C.push(m[D]);else console.log("Missing default parameter "+m[D]);Z=c4.E4._0.ahh[u.classID];
for(var D=0;D<Z.length;D++)if(u[Z[D]]==null&&Z[D]!="dtipsGridSize"&&Z[D]!="dtipsErodibleTipHeightMap"&&u.aaE!=1)console.log("Missing conditional parameter "+Z[D]);
else C.push(Z[D]);for(var N in u)if(C.indexOf(N)==-1)console.log("Extra parameter "+N)};c4.E4.qj=function(u){var m=c4.E4.arV;
for(var D=0;D<m.length;D++){var C=m[D][0],Z=m[D][1],q=!0;for(var J=0;J<C.length;J++)q=q&&u[C[J]]&&u[C[J]].v==!0;
if(q){for(var J=0;J<Z.length;J++)if(u[Z[J]]==null){u[Z[J]]=JSON.parse(c4.E4.FB[Z[J]])}}else for(var J=0;
J<Z.length;J++)if(u[Z[J]]!=null){delete u[Z[J]]}}};c4.E4._0={};c4.E4._0.yW="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
c4.E4._0.FB={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};c4.E4._0.ahh={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
c4.E4.arV=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
c4.E4.yW="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
c4.E4.FB={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function aT(u,m){this.a0k=u;this.ez=m==null?0:m;this.dir=0}aT.prototype.gi=function(u,m){var C=this.a0k,Z=new dz(u.x-C.x,u.y-C.y),q=new ix;
q.rotate(-this.ez);Z=q.HL(Z);if(this.dir==0&&!C.QV(u))this.dir=Math.abs(Z.x)<Math.abs(Z.y)?1:2;if(m.j(hs.KP)){if(this.dir==1)Z.x=0;
if(this.dir==2)Z.y=0}q.mL();Z=q.HL(Z);var J=new dz(C.x+Z.x,C.y+Z.y);return J};var aZ=function(){function u(){this.agQ={}}u.auI=function(m,C){var Z=m.clone();
Z.GI-=Math.floor(Z.GI);Z.c_-=Math.floor(Z.c_);var q=new dz(C,0),J=new dz(0,C),A=Z.HL(q),n=Z.HL(J),N=new dz(Z.GI,Z.c_);
return[A,n,N]};u.arX=function(m,C){var Z=dz.th;return Z(m[0],C[0])+Z(m[1],C[1])+Z(m[2],C[2]);return dsum};
u.prototype.anv=function(m){var C=this.agQ,Z=C[m];if(Z==null)Z=C[m]={O6:[],EM:0,Z:0,ari:0,arY:0};Z.EM=Date.now();
while(Object.keys(C).length>3){var q="",J=Date.now();for(var A in C){var n=C[A].EM;if(n<J){J=n;q=A}}delete C[q]}return Z};
u.prototype.aj3=function(m,C){var Z=m.O6,q,J=1e6;for(var D=0;D<Z.length;D++){var A=Z[D],n=u.arX(A.To,C);
if(n<J){q=A;J=n}}return q};u.prototype.agT=function(m,C){var Z=m.O6;Z.push(C);m.Z+=C.rect.Z();if(Z.length>1e3||m.Z>100*100*1600){console.log("pruning",m.Z,Z.length);
Z.sort(function(J,A){return A.EM-J.EM});while(Z.length>500||m.Z>100*100*800){var q=Z.pop();m.Z-=q.rect.Z()}}};
return u}();function eD(u,m,C,Z,q,J,A,n,N){this.Ub=m;this.MS=C;this.z0=J;this._c=Z;if(Z.JR==null)Z.JR=[!1,!0];
this.Ao=null;this.VX=null;this.Zv=0;this.a5n=0;this.a0j=0;this.dC=0;this.Yi=N==null?Math.floor(Math.random()*16777215):N;
this.a1R=N==null?Math.floor(Math.random()*16777215):N;this.WL=new bl;this.qo=new bl;if(n!=null){this.bf=n}else{var e=eD.a47;
if(e.length!=A.Z()*4)e=j.U(A.Z()*4);else e.fill(0);this.bf=eD.a47=e}this.rect=A.clone();this.dt=[];this.xj=[];
this.Sx=null;this.jM=0;this.S=null;this.ard="";this.fc=null;this.a5B(u,q)}eD.a47=j.U(16);eD.prototype.a5B=function(u,m){this.jM=m;
this.S=u;this.ard=JSON.stringify(u)+JSON.stringify(this._c.n8);this.fc=eD.aq7(u,this.Ub,this.MS)};eD.prototype.moveTo=function(u,m,C){C=this.a2Z(C);
this.Zv=C;var Z=new dz(u,m),q=this.S.Brsh.v.Dmtr.v.val;this.Ao=Z.clone();this.VX=Z.clone();this.Sx=Z.clone();
this.dt=[u,m];this.xj=[C];var J=this._c.JR;if(this._c.Ck!=eD.rf){var A=this.S.angleDynamics,n=A?A.v.bVTy.v==6:!1;
this.Zl(n?new bl:this.apH(Z,this.a38()*(J[1]?C:1),this._c.Hf*(J[0]?C*.5:1),new dz(0,0)))}this.dC=Z.clone()};
eD.prototype.lineTo=function(u,m,C){C=this.a2Z(C);var Z=this.dt,q=Z.length,J=Z[q-2],A=Z[q-1];if(u==J&&m==A)return;
var n=this.S.Brsh.v.Dmtr.v.val,N=Math.ceil(n)+1,e=new bl(Math.round(J),Math.round(A),0,0);e.iO(N,N);
var Q=new bl(Math.round(u),Math.round(m),0,0);Q.iO(N,N);this.dt.push(u,m);this.xj.push(C);q+=2;if(q>=6)this.Zl(this.anJ(q))};
eD.prototype.a2Z=function(u){if(u==null)u=1;u=Math.max(.05,Math.min(5,u));if(isNaN(u)){alert("Pressure is not a number");
throw"e"}return u};eD.prototype.Zl=function(u){this.WL=u;this.qo=this.qo.QN(u)};eD.prototype.finish=function(){var u=this.dt,m=u.length,C;
if(m==4)C=this.akU(u[m-2],u[m-1],this.xj[(m>>1)-1],!0);if(m>4)C=this.anJ(m+2);if(C)this.Zl(C)};eD.prototype.Ci=function(){return this.rect.clone()};
eD.prototype.OW=function(){return this.WL.aR(this.rect)};eD.prototype.ud=function(){return this.qo.aR(this.rect)};
eD.prototype.g9=function(){return this.bf};eD.prototype.anJ=function(u){var m=this.dt,C=this.xj,Z=m[u-6],q=m[u-5],J=m[u-4],A=m[u-3],n=C[(u>>1)-3],N=C[(u>>1)-2],e=new dz(0,0),Q=new dz(0,0);
if(8<=u)e=eD.aki(m[u-8],m[u-7],Z,q,J,A);if(u<=m.length)Q=eD.aki(m[u-2],m[u-1],J,A,Z,q);var p=Z+e.x,B=q+e.y,$=J+Q.x,R=A+Q.y,z=new bl;
for(var D=0;D<10;D++){var v=(D+1)*.1,a=1-v,X=a*a*a*Z+3*v*a*a*p+3*v*v*a*$+v*v*v*J,V=a*a*a*q+3*v*a*a*B+3*v*v*a*R+v*v*v*A,o=this.akU(X,V,n+v*(N-n));
z=z.QN(o)}return z};eD.aki=function(u,m,C,Z,q,J){var A=u-C,n=m-Z,N=q-C,e=J-Z,Q=Math.sqrt(A*A+n*n),p=Math.sqrt(N*N+e*e),B=Math.acos((A*N+n*e)/(Q*p))/Math.PI,$=.35,R=.1;
B=R+B*($-R);var z=q-u,v=J-m,a=Math.sqrt(z*z+v*v),X=B*p/a;return new dz(z*X,v*X)};eD.prototype.akU=function(u,m,C,Z){var q=new bl,J=this._c.a1J;
if(J==null)J=0;if(J==0||Z){q=this.aax(u,m,C);return q}var A=this.Sx,n=u-A.x,N=m-A.y,e=Math.sqrt(n*n+N*N);
n/=e;N/=e;if(e>J){var Q=A.x+n*(e-J),p=A.y+N*(e-J);q=this.aax(Q,p,C);this.Sx.qX(Q,p)}return q};eD.prototype.aax=function(u,m,C){var Z=new bl,q=new dz(u,m),J=this.S.Brsh.v.Dmtr.v.val,A=this._c.Ck,n=q.Vy(this.VX);
n.normalize(1);var N=dz.th(this.VX,q),e=-this.a5n,Q=this.VX.clone(),p=this._c.JR;while(!0){var B=this.Zv+(C-this.Zv)*(Math.max(0,e)/N),$=this.a38()*(p[1]?B:1),R=this.ar4()*($+this.a0j)/2*this.fc.afS;
if(A==eD.rf)R=1;if(e+R<N){e+=R;var z=new dz(this.VX.x+n.x*e,this.VX.y+n.y*e),X=1;if(A==eD.rf){var v=Q.clone();
v.x+=n.x>0?1:-1;var a=Q.clone();a.y+=n.y>0?1:-1;if(dz.th(v,z)<dz.th(a,z))z=v;else z=a;e=dz.th(z,this.VX)}if(this.S.useScatter.v==!0){X=this.S.Cnt.v;
var V=this.S.countDynamics.v.jitter.v.val/100,o=V*(-1+2*this.S5());X+=Math.round(X*o)}for(var D=0;D<X;
D++){var h=this.apH(z,$,this._c.Hf*(p[0]?B*.5:1),n);Z=Z.QN(h)}Q=z}else break}this.a5n=N-e;this.VX=q;
this.Zv=C;return Z};eD.prototype.ar4=function(){var u=this.S.Brsh.v,m=u.Spcn.v.val,C=Math.max(5,u.Rndn.v.val);
return C/100*(m/100)};eD.prototype.a38=function(){var u=this.S,m=u.Brsh.v.Dmtr.v.val;if(u.useTipDynamics.v){var C=m*(u.minimumDiameter.v.val/100);
m=C+(m-C)*(1-this.S5(this.a1R)*(u.szVr.v.jitter.v.val/100))}return m};eD.prototype.apH=function(u,m,C,Z){C=Math.min(1,C);
var q=this.S,J=this.S.Brsh.v,A=J.Dmtr.v.val,n=this._c,N=n.Ck,e=n.as$,Q=this.fc.k9[1],p=new ix;p.translate(-Q.e/2,-Q.n/2);
p.scale(1/this.fc.ace,1/this.fc.ace);p.scale(m/A,m/A);p.scale(1,Math.max(5,J.Rndn.v.val)/100);if(q.useTipDynamics.v){var B=q.angleDynamics.v,$=q.minimumRoundness.v.val/100;
p.scale(1,$+(1-$)*Math.round(100-this.S5()*q.roundnessDynamics.v.jitter.v.val)/100);p.rotate((-.5+this.S5())*4*Math.PI*(B.jitter.v.val/100));
if(B.bVTy.v==6)p.rotate(Math.atan2(-Z.y,Z.x))}p.rotate(J.Angl.v.val*(Math.PI/180));if(q.useScatter.v){var R=(-1+2*this.S5())*q.scatterDynamics.v.jitter.v.val/100;
p.translate(-R*m*Z.y,R*m*Z.x)}p.translate(u.x,u.y);var z=this.a7W(p,u,m),v=z.rect.clone();if(N==null){var a=this.$B(q);
j.gs(z.Zf,Math.round(a.S*255)<<16|Math.round(a.T*255)<<8|Math.round(a.p*255)<<0,4278190080);if(this.qo.qR()&&this.rect.QV(z.rect)&&C==1)this.bf=z.Zf.slice(0);
else j.a.aat(z.Zf,z.rect,this.bf,this.rect,z.rect,C)}if(N==eD.rf){var X=new dz(z.rect.x+z.rect.e/2,z.rect.y+z.rect.n/2),V=Math.round(X.x-this.dC.x),o=Math.round(X.y-this.dC.y),h=z.rect.clone();
h.offset(-V,-o);var T=h.aR(this.rect);T.offset(V,o);j.zO(this.bf,this.rect,z.Zf,h);j.a.AQ(z.Zf,z.rect,this.bf,this.rect,z.aZ,z.rect,C)}if(N==eD.IP||N==eD.xN||N==eD.KC){var l=z.rect.aR(this.rect),w;
if(l.QV(z.rect))w=z.aZ;else{w=j.U(l.Z());j.j5(z.aZ,z.rect,w,l)}var W=j.U(l.Z()*4);j.zO(this.bf,this.rect,W,l);
if(N==eD.xN){var U=W.slice(0),s=j.aA.G7([-1,-1,-1,-1,25,-1,-1,-1,-1]);j.aA.ea(W,U,l.e,l.n,s,0);j.Uj(U,W)}else if(N==eD.KC){var S=a7.Qv("UnsM");
S.Amnt.v.val=15;S.Thsh.v=0;S.Rds.v.val=5;var U=j.U(W.length);a7.D1("UnsM",{buffer:W,rect:l},S,0,0,{buffer:U,rect:l});
j.Uj(U,W)}else{a7.zV(1,j.yM.qy,W,l)}j.a.AQ(W,l,this.bf,this.rect,w,l,C)}this.a0j=m;this.dC=X;this.a1R++;
return v};eD.prototype.$B=function(u){var m=eD.a3t(this.jM);if(u.useColorDynamics&&u.useColorDynamics.v){var C=1-this.S5()*u.clVr.v.jitter.v.val/100,Z=eD.a3t(this.z0);
m.p=C*m.p+(1-C)*Z.p;m.T=C*m.T+(1-C)*Z.T;m.S=C*m.S+(1-C)*Z.S;var q=(-.5+this.S5())*u.H.v.val/100,J=(-1+2*this.S5())*u.Strt.v.val/100,A=(-1+2*this.S5())*u.Brgh.v.val/100,n=j.Kv(m.p,m.T,m.S);
n.Oh=(n.Oh+q+1)%1;n.jL=n.jL+J;if(n.jL<0)n.jL=-n.jL;if(n.jL>1)n.jL=1-(n.jL-1);n.yg=n.yg+A;if(n.yg<0)n.yg=-n.yg;
if(n.yg>1)n.yg=1-(n.yg-1);m=j.$t(n.Oh,n.jL,n.yg)}return m};eD.prototype.E4=function(u){return Math.max(0,Math.min(1,u))};
eD.prototype.S5=function(u){if(u==null){u=this.Yi++}return eD.hash(u)};eD.a3t=function(u){return{p:(u>>16&255)/255,T:(u>>8&255)/255,S:(u>>0&255)/255}};
eD.hash=function(u){u=u^61^u>>16;u=u+(u<<3);u=u^u>>4;u=u*668265261;u=u^u>>15;return(u&16777215)/16777215};
eD.a0g=new aZ;eD.prototype.a7W=function(u,m,C){var Z=Math.sqrt(this.fc.k9[1].Z()),q=Z*u.p1(),J=q<10?1:q<50?1.5:q<200?3:8,A=eD.a0g,n=A.anv(this.ard),N=this._c.n8;
if(N){u=u.clone();u.GI=Math.floor(u.GI);u.c_=Math.floor(u.c_)}var e=aZ.auI(u,Z),Q=A.aj3(n,e);if(Q&&aZ.arX(Q.To,e)>J)Q=null;
if(Q){Q.rect.x=Math.round(Q.aiD.x+u.GI);Q.rect.y=Math.round(Q.aiD.y+u.c_);if(N){Q.rect.x=Math.round(m.x-Q.rect.e/2);
Q.rect.y=Math.round(m.y-Q.rect.n/2)}Q.EM=Date.now()}else{var p=Math.round(this.S.Brsh.v.Dmtr.v.val),B;
if(N&&p<=3){B={buffer:j.U(p*p*4),rect:new bl(Math.round(m.x-p/2),Math.round(m.y-p/2),p,p)};j.gs(B.buffer,4278190080)}else if(u.w7==1&&u.S==0&&u.ZU==0&&u.MX==1){B={buffer:this.fc.k9[0],rect:this.fc.k9[1].clone()};
B.rect.x=Math.round(u.GI);B.rect.y=Math.round(u.c_)}else B=b.Q.Ta(this.fc.k9,u);if(N){for(var D=0;D<B.buffer.length;
D++)B.buffer[D]=B.buffer[D]>127?255:0}if(B==null)B={buffer:j.U(0),rect:new bl};Q={Zf:B.buffer,aZ:j.U(B.rect.Z()),rect:B.rect,aiD:new dz(B.rect.x-u.GI,B.rect.y-u.c_),To:e,EM:Date.now()};
j._H(Q.Zf,Q.aZ,3);if(n)A.agT(n,Q)}return Q};eD.aq7=function(u,m,C){var Z,q,J,A=u.Brsh.v.Dmtr.v.val;if(u.Brsh.v.classID=="computedBrush"){var n=u.Brsh.v.Hrdn.v.val/100,N=1+.55*(1-n);
q=A<100?1.2:1;J=1;var e=Math.round(q*A*N),Q=new bl(0,0,e,e),p=j.U(e*e*4),B=new Uint32Array(p.buffer);
Z=[p,Q];var $=e/2,R=N/$,z=Date.now(),v=eD.Es(n),a=Math.round(8e3/$),m=v[0],X=v[1]-a,V=v[2]+a,o=Math.min(e,(e>>>1)+1);
for(var D=0;D<o;D++){var h=R*(D-$+.25);h*=h;var T=R*(D-$+.75);T*=T;var l=D*e,w=(e-1-D)*e;for(var W=0;
W<o;W++){var U=R*(W-$+.25),s=Math.floor(Math.sqrt(U*U+h)*(4e3/1.55));if(V<s)continue;else if(s<X){var S=4278190080;
while(W<o){var x=e-1-W;B[l+W]=S;B[l+x]=S;B[w+W]=S;B[w+x]=S;W++}break}else{var P=R*(W-$+.75),y=Math.floor(Math.sqrt(P*P+h)*(4e3/1.55)),_=Math.floor(Math.sqrt(U*U+T)*(4e3/1.55)),g=Math.floor(Math.sqrt(P*P+T)*(4e3/1.55)),S=~~(.5+255*.25*(m[s]+m[y]+m[_]+m[g]))<<24,x=e-1-W;
B[l+W]=S;B[l+x]=S;B[w+W]=S;B[w+x]=S}}}}if(u.Brsh.v.classID=="sampledBrush"){var G;for(var D=0;D<m.length;
D++)if(m[D].id==u.Brsh.v.sampledData.v)G=m[D];Z=G.k9;var Q=Z[1];q=Math.max(Q.e,Q.n)/A;J=Math.min(Q.e,Q.n)/Math.max(Q.e,Q.n)}return{ace:q,afS:J,k9:Z}};
eD.ya=[];eD.Es=function(u){if(eD.ya[u])return eD.ya[u];var m=Math.pow(u,.55),C=new Float64Array(8e3),Z=0,q=8e3;
for(var D=0;D<8e3;D++){var J=eD.aep(D*(1.55/4e3),m);if(J>=1)Z=D;else if(J<=0&&q==8e3)q=D;C[D]=J}var A=[C,Z,q];
eD.ya[u]=A;return A};eD.aep=function(u,m){var C=u<m?1:eD.a1M((u-m)/Math.pow(1.001-m,.86));return C};
eD.a1M=function(u){var m=u*.85;return Math.exp(-(m*m)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
eD.O=null;eD.O2=null;eD.Dq=function(u,m,C,Z,q,J){var A=eD.O,n=eD.O2;if(A==null){eD.O=A=document.createElement("canvas");
eD.O2=n=A.getContext("2d")}if(J==null)J=Z;if(A.width!=J||A.height!=q){A.width=J;A.height=q}else n.clearRect(0,0,J,q);
n.fillStyle="#000000";n.font=Math.floor(10*b.F())+"px sans-serif";var N=u.Brsh.v.Dmtr.v.val,e=""+N,Q=n.measureText(e);
n.fillText(e,(Z-Q.width)/2,q-2);var p=Z,B=q-10*b.F(),$=Math.min(p,B),R=u.Brsh.v.classID;if(R=="computedBrush"){n.translate(p/2,B/2);
n.rotate(-u.Brsh.v.Angl.v.val*Math.PI/180);n.scale(1,.1+.9*u.Brsh.v.Rndn.v.val/100);var z=Math.min(.95*$/2,N/2)+.5,v=.9*u.Brsh.v.Hrdn.v.val/100,a=n.createRadialGradient(0,0,0,0,0,z);
a.addColorStop(v,"rgba(0,0,0,1)");a.addColorStop((.5+v)/1.5,"rgba(0,0,0,.5)");a.addColorStop(1,"rgba(0,0,0,0)");
n.fillStyle=a;n.fillRect(-z,-z,2*z,2*z);n.setTransform(1,0,0,1,0,0)}else if(R=="sampledBrush"){var X,l=0;
for(var D=0;D<m.length;D++)if(m[D].id==u.Brsh.v.sampledData.v)X=m[D];var V=X.k9;j.ML(V);var o=V[0],h=V[1].e,T=V[1].n;
while((h>p||T>B)&&V[l+2]){l+=2;o=V[l];h=V[l+1].e;T=V[l+1].n}if(h*T!=0){var w=new ImageData(new Uint8ClampedArray(o.buffer),h,T);
n.putImageData(w,Math.round((p-h)/2),Math.round((B-T)/2))}}else{}return A.toDataURL()};eD.ND=function(u,m,C,Z){if(C==0)C=1;
var q=u.Brsh.v,J=q.Dmtr.v.val,A=q.Dmtr.v.val=Math.min(Z!=null?Math.round(Z*2.6):3e3,J*C),n=q.Hrdn?q.Hrdn.v.val/100:1,N=Z!=null?Z:Math.round(A*(1+.55*(1-n)))+4,p;
N=Math.max(15,Math.min(N,3e3));var e=new bl(0,0,N,N),Q=new eD(u,m,null,{Hf:1},16711712,0,e);q.Dmtr.v.val=J;
Q.moveTo(e.e/2,e.n/2);var B=Q.g9(),$=Q.Ci();if(e.QV($))p=B;else{p=j.U(e.Z()*4);j.zO(B,$,p,e)}return[p,e,A]};
eD.a2r=function(u,m,C,Z){var q=m.e,J=q>>>1;for(var D=0;D<4;D++){var A=6-D;u[q*(J-A)+J-1]=Z;u[q*(J-A)+J]=C;
u[q*(J-A)+J+1]=Z;u[q*(J+A)+J-1]=Z;u[q*(J+A)+J]=C;u[q*(J+A)+J+1]=Z;u[q*(J-1)+J-A]=Z;u[q*J+J-A]=C;u[q*(J+1)+J-A]=Z;
u[q*(J-1)+J+A]=Z;u[q*J+J+A]=C;u[q*(J+1)+J+A]=Z}};eD.Nv=function(u,m,C,Z){var q=eD.ND(u,m,C),J=q[0].slice(0),A=q[1],n=q[2],N=A.Z(),e=j.U(N);
j._H(J,e,3);var Q=j.U(N);j.q.aaV(e,Q,A);if(n<3||j.GP(Q,0)||Z&&n>12){eD.a2r(Q,A,255,0)}var p=[1,2,1,2,8,2,1,2,1];
p=j.aA.G7(p);j.aA.rF(Q,e,A.e,A.n,p);j.gs(J,4294967295);j.wC(e,J,3);for(var D=0;D<N;D++)if(Q[D]==255){J[D<<2]=J[(D<<2)+1]=J[(D<<2)+2]=0;
J[(D<<2)+3]=255}return{p8:J,yt:A,$k:new dz(A.e/2,A.n/2)}};eD.rf="0";eD.IP="1";eD.xN="2";eD.KC="3";var bL={};
bL.mn=function(u,m){var C=u.W8(),A=0,e;if(C.x==Infinity||C.qR())return{bf:j.U(0),yt:new bl,jR:new bl};
var Z=u.W8(),q=bL.HZ(u,m),J=j.u.aO(q.s);for(var D=0;D<u.L4.length;D++){var n=u.L4[D].kZ;if(n.StrokeFlag&&n._LineWidth)A=Math.max(A,Math.ceil(n._LineWidth/2))}J.iO(A,A);
if(J.qR())return{bf:j.U(0),yt:new bl,jR:new bl};var N=j.l2(J.e,J.n);N.translate(-J.x,-J.y);bL.aqa(q,N);
if(u.L4.length!=0){var Q=ad.rR(m),p=N.getImageData(0,0,J.e,J.n);e=new Uint8Array(p.data.buffer);if(Q==0)for(var D=0;
D<e.length;D+=4)e[D+3]=e[D+3]>80?255:0;if(Q==3)for(var D=0;D<e.length;D+=4)e[D+3]=Math.min(255,e[D+3]*1.5)}else e=j.U(J.Z()*4);
N.resetTransform();N.beginPath();return{bf:e,yt:J,jR:Z}};bL.HZ=function(u,m){var C=m.I,Z=m.pU,q=ad.rR(m),J=Math.max(C.S*C.S,C.ZU*C.ZU)<1e-9?C:null;
if(q==3||q==4)J=null;var A={X:[],s:[]};bL.aiU(u,A,J,!0);bL.aiU(u,A,J,!1);A=bL.LE(A,m,u);return A};bL.LE=function(u,m,C){if(u==null)return u;
if(C&&C.S8)j.u.I(u.s,C.S8,u.s);if(C&&!j.x0.Y2(m.av)){var Z=ad.Ci(m,C);if(!Z.qR()){if(u.X){u=j.u.Vv(u);
var q=Math.min(Z.e,Z.n)/8;if(q<1)q=1;u=j.u.JO(u,q)}var J=j.x0.Xw(m.av,Z);j.jk.I(J,u.s,Z)}}var A=m.I;
j.u.I(u.s,A,u.s);return u};bL.aqa=function(u,m){m.save();m.miterLimit=2;Typr.U.pathToContext({crds:u.s,cmds:u.X},m);
m.restore()};bL.tV=function(u,m,C){if(!iW.a09(C))return;var Z=u.pU,q=Z.ResourceDict.FontSet,J=Z.ResourceDict.StyleSheetSet[0].StyleSheetData,A=Z.EngineDict.StyleRun.RunLengthArray,n=Z.EngineDict.StyleRun.RunArray,N=ad.yd(Z),e=!0,Q={},p=0;
for(var D=0;D<n.length;D++){var B=n[D].StyleSheet.StyleSheetData.Font;if(B==null)B=J.Font;for(var $=0;
$<A[D];$++){var R=N.charCodeAt(p+$),z=B+","+(R>128?R:-1);if(Q[z]==null){Q[z]=1;if(m.TF(q[B].Name,R)==null)e=!1}}p+=A[D]}return e};
bL.aiU=function(u,m,C,Z){var q=new ix;for(var D=0;D<u.n9.length;D++)bL.ai1(u.L4,u.n9[D],m,q,C,Z)};bL.ai1=function(u,m,C,Z,q,J){Z.translate(m.Uc.x,m.Uc.y);
for(var D=0;D<m.hz.length;D++){var A={},n=m.hz[D];if(!n.tj)break;var N=Z.clone();N.translate(n.Uc.x,n.Uc.y);
if(q){var e=q.c_+N.c_*q.MX;N.c_=(Math.round(e)-q.c_)/q.MX}for(var Q=n.start;Q<n.end;Q++)bL.ah2(u,m.qa[Q],m,A,C,N,J)}Z.translate(-m.Uc.x,-m.Uc.y)};
bL.abS="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
bL.ah2=function(u,m,C,Z,q,J,A){J.translate(m.Uc.x,m.Uc.y);for(var n=m.EQ;n<=m.h5;n++){var N=C.Or[n],e=N.yt.e,Q=u[C.asV+N.LG],p=Q.kZ._FillBackgroundFlag;
if(Q.Md=="\n"||A&&!p)continue;var B=Q.kZ.FontSize/Q.rz.head.unitsPerEm,$=J.clone();$.translate(N.Uc.x+N.hl*B,N.Uc.y-N.bG*B);
var R=new ix;R.scale(B,-B);if(Q.BW==1&&bL.abS.indexOf(Q.Md)!=-1)R.concat(new ix(-1,0,0,1,e,0));if(Q.kZ.FauxItalic)R.concat(new ix(1,0,-Math.tan(.18),1,0,0));
R.translate(0,Q.GD);R.scale(Q.scale.x,Q.scale.y);if(Q.kZ.BaselineShift!=null)R.translate(0,-Q.kZ.BaselineShift);
if(N.ez!=0){R.rotate(-N.ez)}R.concat($);var z=Q.kZ._LineWidth?Q.kZ._LineWidth:1;if(A){q.X.push(bL.$B(Q.kZ._FillBackgroundColor));
var v=1.005*N.yt.n/B,a=new bl(-N.hl,-v*.27,1.03*N.yt.e/B,v);if(Q.kZ.StrokeFlag)a.iO(z/B,z/B);j.u.concat(q,j.u.yj(a),R);
q.X.push("X");continue}if(Q.kZ.FillFlag)q.X.push(bL.$B(Q.kZ.FillColor));if(Q.kZ.StrokeFlag)q.X.push("O-"+bL.$B(Q.kZ.StrokeColor)+"-"+z);
if(N.path.X.length!=0&&Q.Md!="\t"){if(Q.kZ.FauxBold){var X=Q.kZ.FontSize/2048*27*Q.scale.x;R.GI+=X;j.u.concat(q,N.path,R);
R.GI-=X+X;j.u.concat(q,N.path,R)}else j.u.concat(q,N.path,R)}if(Q.Md!="\n"){if(Q.kZ.Underline){if(Z.p_==null)Z.p_=Q.rz.post.underlineThickness;
if(Z.arh==null)Z.arh=Q.rz.post.underlinePosition;var V=0,o=Z.arh-Z.p_/2,h=N.Mt*1.05,T=-Z.p_;j.u.concat(q,{X:["M","L","L","L","Z"],s:[V,o,V+h,o,V+h,o+T,V,o+T]},R)}if(Q.kZ.Strikethrough){var l=Q.rz["OS/2"].yStrikeoutSize,w=Q.rz["OS/2"].yStrikeoutPosition,V=0,o=w+l/2,h=N.Mt*1.05,T=-l;
j.u.concat(q,{X:["M","L","L","L","Z"],s:[V,o,V+h,o,V+h,o+T,V,o+T]},R)}}if(Q.kZ.FillFlag)q.X.push("X");
if(Q.kZ.StrokeFlag)q.X.push("OX")}J.translate(-m.Uc.x,-m.Uc.y)};bL.$B=function(u){var m=ad.o5(u),C=(Math.round(m.p)<<16)+(Math.round(m.T)<<8)+Math.round(m.S);
return"#"+j.U0(C)};function iW(u,m){var C=ad.wH(u),Z,q,J=ad.uG(u),A=u._LineOrientation==2?new ix:null,Q,B;
if(u.Curve)q=iW.Ys(u.Curve);if(C!=0){Z=new bl(J[0],J[1],J[2],J[3]);if(A){var n=Z.e;Z.e=Z.n;Z.n=n;A.translate(0,-J[2])}if(C==2){Z.e=q[5]-q[4];
Z.n=9999}}this.n9=[];this.L4=[];this.X1=C;this.S8=A;var N=this.acY=ad.yd(u),e=-1,p=-1;for(var D=0;D<N.length;
D++){var $=Q,R=ad.akE(u,D);if(R!=e){e=R;$=Q=ad.a5y(u,R)}var z=B,R=ad.ah4(u,D);if(R!=p){p=R;z=B=ad.anD(u,R)}var v={Md:N.charAt(D),kZ:$,rz:null,L0:-1,Pw:ad.al$(u,D),GD:0,scale:new dz(0,0),ji:0,lineHeight:0,BW:0},X=u.ResourceDict.FontSet[$.Font].Name,V=v.rz=m.TF(X,N.charCodeAt(D));
v.scale.x=$.HorizontalScale==null?1:$.HorizontalScale;v.scale.y=$.VerticalScale==null?1:$.VerticalScale;
var o=V["OS/2"],h=V.hhea;if($.FontCaps==1&&v.Md!=v.Md.toUpperCase()){var T=o.sxHeight?o.sxHeight/o.sTypoAscender:.76;
v.scale.x*=T;v.scale.y*=T}var l=1/V.head.unitsPerEm*$.FontSize;if($.FontBaseline==1){var T=u.ResourceDict.SuperscriptSize;
v.scale.x*=T;v.scale.y*=T;v.GD-=u.ResourceDict.SuperscriptPosition*$.FontSize}if($.FontBaseline==2){var T=u.ResourceDict.SubscriptSize;
v.scale.x*=T;v.scale.y*=T;v.GD+=u.ResourceDict.SubscriptPosition*$.FontSize}v.ji=iW.ji(V,X,$);var w=z.AutoLeading;
v.lineHeight=$.FontSize*(w==null?1.2:w);if($.AutoLeading==!1)v.lineHeight=$.Leading;if(v.lineHeight==0)v.lineHeight=.01;
this.L4.push(v)}var W=this.n9,U=[0];for(var D=0;D<u.EngineDict.ParagraphRun.RunLengthArray.length;D++){var s=new iW.jZ(u,m,this.L4,D,Z,U,C==1?q:null);
W.push(s)}if(A){if(C==0)A.translate(0,W[0].qa[0].ji/2);A.rotate(-Math.PI/2)}if(C==2){var S=u.Curve.Points,x=q[0],P=q[1],y=q[2],_=q[3],g=q[4],G=q[5];
for(var D=0;D<W.length;D++)for(var O=0;O<W[D].hz.length;O++)if(!(D==0&&O==0))W[D].hz[O].tj=!1;var s=W[0],E=s.hz[0];
s.Uc.qX(0,0);E.Uc.qX(0,0);for(var O=E.start;O<E.end;O++){var L=s.qa[O],c=L.Uc.x;L.Uc.x=0;for(var k=L.EQ;
k<=L.h5;k++){var I=s.Or[k],Y=I.yt.e/2;I.Uc.x+=c;var K=iW.a7y(x,(g+I.Uc.x+Y)%_);I.Uc.x=K[0]-Y*K[2];I.Uc.y=K[1]-Y*K[3];
I.ez=Math.atan2(K[3],K[2])}}}}iW.ji=function(u,m,C){var Z=u["OS/2"],q=u.hhea,J=0,J=0,A=[];A.push(Z&&Z.sxHeight&&m.toLowerCase().indexOf("capitals")!=-1?Z.sxHeight:0);
A.push(Z&&Z.sCapHeight?Z.sCapHeight:0);A.push(Z&&Z.sTypoAscender?Z.sTypoAscender:0);A.push(q.ascender?q.ascender:0);
for(var n=0;n<A.length;n++)if(A[n]!=0){J=A[n];break}var N=1/u.head.unitsPerEm*C.FontSize;J=J*N;if(J<C.FontSize*.6)J=C.FontSize*.75;
return J};iW.prototype.abo=function(){return!this.aos(0)};iW.prototype.apz=function(){return this.aos(1)};
iW.prototype.aos=function(u){var m=this.n9,C=!0,Z=0;for(var D=0;D<m.length;D++){var q=m[D].hz,J=q.length;
Z+=J;for(var A=0;A<J;A++)C&=q[A].tj}return[C,Z][u]};iW.Ys=function(u,m){if(m==null)m=.25;var C=u.Points,Z=C.length,q=Z>>>3,J=u.TextOnPathTRange,A=u.Reversed,p=0,B=0;
if(A){var n=C.slice(0);for(var D=0;D<Z;D+=2){n[D]=C[Z-2-D];n[D+1]=C[Z-1-D]}C=n;J=[q-J[1]%q,q-J[0]%q]}var N=[],e=[0],Q=[0];
for(var D=0;D<Z;D+=8){var $=C[D+6]-C[D+0],R=C[D+7]-C[D+1],z=Math.round(1/m*Math.sqrt($*$+R*R));for(var v=0;
v<z;v++){var a=v/z,X=1-a,V=X*X*X*C[D+0]+3*X*X*a*C[D+2]+3*X*a*a*C[D+4]+a*a*a*C[D+6],o=X*X*X*C[D+1]+3*X*X*a*C[D+3]+3*X*a*a*C[D+5]+a*a*a*C[D+7];
N.push(V,o);if(D+v!=0){var $=V-p,R=o-B;Q.push(Q[Q.length-1]+Math.sqrt($*$+R*R));e.push((D>>>3)+a)}p=V;
B=o}}var m=Q.length,h=Q[m-1],T=iW.Bm(J[0]%q,e),l=iW.Bm(J[1]%q,e),w=Q[T%m],W=Q[l%m];if(w>=W)W+=h;return[N,e,Q,h,w,W]};
iW.Bm=function(u,m){var D=0;while(m[D]<u)D++;return D};iW.a7y=function(u,m){var C=0,D=0,Z,q,J;while(C<m){Z=u[D+2]-u[D];
q=u[D+3]-u[D+1];J=Math.sqrt(Z*Z+q*q);C+=J;D+=2}return[u[D],u[D+1],Z/J,q/J]};iW.prototype.apQ=function(u){return this.L4[u]};
iW.prototype.ame=function(u){for(var m=0;m<this.n9.length;m++){var C=this.n9[m];for(var Z=0;Z<C.hz.length;
Z++){var q=C.hz[Z],J=C.qa[q.start].start,A=C.qa[q.end-1].end;if(J<u&&u<A)return[J,A-1]}}return[0,1]};
iW.prototype.ahv=function(u,m){var C=-1,Z=this.n9;if(this.X1==2){var q=1e9,J=0,A=Z[0],n=A.hz[0];for(var N=n.start;
N<n.end;N++){var e=A.qa[N];for(var Q=e.EQ;Q<=e.h5;Q++){var p=A.Or[Q],B=p.yt.e,$=u.x-p.Uc.x,R=u.y-p.Uc.y,z=$*$+R*R;
if(z<q){q=z;J=p.LG}}}if(J!=0&&this.acY.codePointAt(J-1)>65535)J--;return J}for(var v=0;v<Z.length;v++){var A=Z[v];
for(var a=0;a<A.hz.length;a++){C++;var n=A.hz[a],X=A.hz[a+1];if(X==null&&v<Z.length-1)X=Z[v+1].hz[0];
if(m!=null){if(C!=m)continue}else{if(X!=null&&A.Uc.y+n.Uc.y<u.y)continue}for(var N=n.start;N<n.end;N++){var e=A.qa[N];
for(var Q=e.EQ;Q<=e.h5;Q++){var p=A.Or[Q],B=p.yt.e,V=A.Uc.x+n.Uc.x+e.Uc.x,o=V+p.Uc.x,h=V+(Q<e.h5?A.Or[Q+1].Uc.x:p.Uc.x+B);
if(u.x<=h||N+1==n.end&&Q==e.h5){var T=A.asV+p.LG,l=this.L4[T],w=l.BW&1;if(l.Md!="\n"&&(w==0&&u.x>o+B/2||w==1&&u.x<o+B/2))T+=this.acY.codePointAt(T)>65535?2:1;
return T}}}}}};iW.prototype.Zk=function(u){var m={yt:new bl,KG:0},C=0;for(var Z=0;Z<this.n9.length;Z++){var q=this.n9[Z];
for(var J=0;J<q.hz.length;J++){var A=q.hz[J];m.KG=C;C++;for(var n=A.start;n<A.end;n++){var N=q.qa[n];
for(var e=N.start;e<N.end;e++){if(e==u){var Q=this.L4[e],p=Q.L0,B=q.Or[p].LG,$=1;while(q.Or[p]!=null&&q.Or[p].LG==B){var R=q.Or[p],z=q.Uc.x+A.Uc.x+N.Uc.x+R.Uc.x,v=q.Uc.y+A.Uc.y+N.Uc.y+R.Uc.y;
m.yt=m.yt.QN(new bl(z,v-Q.lineHeight,R.yt.e,Q.lineHeight));m.ez=R.ez;p+=$}return m}}}}}};iW.prototype.W8=function(){var u=Infinity,m=Infinity,C=-Infinity,Z=-Infinity;
for(var D=0;D<this.n9.length;D++){var q=this.n9[D];for(var J=0;J<q.hz.length;J++){var A=q.hz[J];if(!A.tj)break;
for(var n=A.start;n<A.end;n++){var N=q.qa[n];for(var e=N.EQ;e<=N.h5;e++){var Q=q.Or[e],p=Q.yt,B=q.Uc.x+A.Uc.x+N.Uc.x+Q.Uc.x,$=q.Uc.y+A.Uc.y+N.Uc.y+Q.Uc.y;
u=Math.min(u,B+p.x);m=Math.min(m,$+p.y);C=Math.max(C,B+p.x+p.e);Z=Math.max(Z,$+p.y+p.n)}}}}return new bl(u,m,C-u,Z-m)};
iW.jb=function(u){return 19968<=u&&u<=40959||12288<=u&&u<=12543};iW.a2T=function(u,m,C,Z,q,J,A){var n=[J],N=0;
for(var D=J;D<A;D++){if(C[D]==null)console.log(D,J,A,C);var e=C[D].Md,Q=e.charCodeAt(0);if(Q==32||Q==9){n.push(N,D,1,D+1);
N=0}else if(Q==3851){n.push(N+1,D+1);N=0}else if(iW.jb(Q)){n.push(N,D);N=1}else if(D!=J&&C[D].BW!=C[D-1].BW){n.push(N,D);
N=1}else N++}n.push(N);var p=[];for(var D=0;D<n.length;D+=2){var B=n[D],$=n[D+1];if($==0)continue;p.push(new iW.ahm(u,m,C,Z,q,B,$))}return p};
iW.a5f=function(u,m,C,Z,q,J,A){var n=[0,m?m.e:1e9],N=[];if(Z){var e=u[J].ji,Q=q+(q==0?e:u[J].lineHeight),p=Q-e*.9,B=j.u.$F(Z[0],p),$=B.length,R=j.u.$F(Z[0],Q),z=R.length;
if($!=0&&z!=0){var v=0,a=0;n=[];while(v<$&&a<z){var X=Math.max(B[v],R[a]),V=B[v+1],o=R[a+1],h=Math.min(V,o);
if(X<h)n.push(X,h);if(V<o)v+=2;else a+=2}}}for(var T=0;T<n.length;T+=2){var l=n[T+1]-n[T],w=0,W=J,U=m?l-C.StartIndent-C.EndIndent-(J==0?C.FirstLineIndent:0):Infinity;
while(J!=u.length){var s=u[J],S=w==0||(s.k7||s.Ke)||w+s.yt.e<U;if(!S)break;w+=s.yt.e;J++}N.push(J-W)}A[0]=N;
A[1]=n;A[2]=J};iW.a6R=function(u,m){var C=u.length,Z=new Uint32Array(C),q=new Uint8Array(C),J=0;for(var D=0;
D<C;D++){q[D]=0;var A=u.charCodeAt(D);Z[D]=A;if(A>J)J=A}if(J>1424)q=iW.au7(Z,m);return q};iW.afp=function(u){return u=="\xDF"?u:u.toUpperCase()};
iW.jZ=function(u,m,C,Z,q,J,A){this.qa=[];this.hz=[];this.Uc=new dz(0,0);this.Or=null;this.qa=null;this.kZ=ad.anD(u,Z);
var n=this.kZ,p=0,R="",o=0,h=1,I=0;if(Z!=0){var N=n.SpaceBefore;if(N!=null)J[0]+=N}var e=u.EngineDict.ParagraphRun.RunLengthArray,Q=e[Z];
for(var D=0;D<Z;D++)p+=e[D];var B=n._Direction?n._Direction:0;this.asV=p;var $=ad.yd(u).slice(p,p+Q);
for(var z=0;z<$.length;z++){var v=$.charAt(z);R+=C[p+z].kZ.FontCaps==0?v:iW.afp(v)}$=R;var X=iW.a6R($,B),V=[],T=X[D]&1,l=C[p].rz;
C[p].BW=X[0];for(var D=1;D<$.length;D++){var v=C[p+D],w=X[D];v.BW=w;if(w!=T||v.rz!=l){V.push(o,h);o=D;
h=1;T=w;l=v.rz}else h++}V.push(o,h);var W=this.Or=[];for(var D=0;D<V.length;D+=2){var U=V[D],s=V[D+1],S=(C[p+U].BW&1)==0,x=$.slice(U,U+s),P=Typr.U.shapeHB(C[p+U].rz,x,S),y=[],G=0;
for(var z=0;z<P.length;z++){var _=P[z];y.push({T:_.g,LG:_.cl,Mt:_.ax,GY:_.ay,hl:_.dx,bG:_.dy})}P=y;var g=P.slice(0);
if(!S)g.reverse();for(var z=0;z<x.length;z++){while(G+1<g.length&&g[G+1].LG<=z){G++}while(G>0&&g[G-1].LG==z)G--;
C[p+U+z].L0=W.length+(S?G:g.length-G-1)}for(var z=0;z<P.length;z++){W.push(P[z]);P[z].LG+=U;var v=C[p+P[z].LG];
if(v.Pw!=-1){P[z].T=v.Pw;var O=v.rz.hmtx;if(O){var E=Object.keys(O)[0];P[z].Mt=O[E][v.Pw]}}if(v.Md=="\n")P[z].Mt=0;
if(v.Md=="\t")P[z].Mt=v.rz.head.unitsPerEm*36/v.kZ.FontSize}}var L=ad.p5(n),c=this.qa=iW.a2T(u,m,C,p,W,p,p+Q),k=this.hz,Y=-1,R=[null,null,0];
while(I<c.length){iW.a5f(c,q,n,A,J[0],I,R);Y++;var K={start:I,end:0,yt:new bl,Uc:new dz(0,0),tj:!0},fT=0,dB=0;
k.push(K);K.end=R[2];var i=K.end==c.length;function i4(g,U,fI){var gc=fI-U>>>1;for(var D=0;D<gc;D++){var aF=g[U+D];
g[U+D]=g[fI-1-D];g[fI-1-D]=aF}}for(var d7=1;d7<5;d7++){var d=-1;for(var D=K.start;D<K.end;D++){var w=C[c[D].start].BW;
if(d==-1&&w>=d7)d=D;else if(d!=-1&&w<d7){i4(c,d,D);d=-1}}var fH=K.end;if(B==0&&c[fH-1].k7)fH--;if(d!=-1)i4(c,d,fH)}var aC=R[0],f8=R[1],d=I,c9=I;
for(var g1=0;g1<aC.length;g1++){var cE=f8[g1*2+1]-f8[g1*2],hG=0;d=c9;c9+=aC[g1];var fA=this.a7H(d,c9,c,B,q!=null);
if(q){if(L==1||i&&L==4)hG=fA[1]+(cE-fA[0]);if(L==2||i&&L==5)hG=fA[1]+(cE-fA[0])/2;if(Y==0)hG+=n.FirstLineIndent;
hG+=n.StartIndent}else{if(L==0)hG=n.StartIndent+n.FirstLineIndent;if(L==1)hG=-fA[0]-n.EndIndent;if(L==2)hG=-fA[0]/2}hG+=f8[g1*2];
if(q&&L>2&&(L==6||!i))this.a5M(d,c9,c,cE,B,hG);else{var hh=hG;for(var D=d;D<c9;D++){var eE=c[D],dh=eE.yt.e;
eE.Uc.x=hh;if(eE.Ud=="\t")dh=Math.ceil((hh+4)/36)*36-hh;hh+=dh}}}I=K.end;for(var D=K.start;D<K.end;D++){var iN=c[D].yt.clone();
iN.kU(c[D].Uc);K.yt=K.yt.QN(iN);fT=Math.max(fT,c[D].ji);dB=Math.max(dB,c[D].lineHeight)}K.Uc.y=Y==0?0:k[Y-1].Uc.y+dB;
if(Y==0){if(Z==0&&q)J[0]+=fT;if(Z!=0)J[0]+=dB;this.Uc.y=J[0]}else J[0]+=dB;if(q)K.tj=this.Uc.y+K.Uc.y<q.y+q.n}var gV=n.SpaceAfter;
if(gV!=null)J[0]+=gV};iW.jZ.prototype.a7H=function(u,m,C,Z,q){var J=0,A=0;for(var D=u;D<m;D++)J+=C[D].yt.e;
if(q){if(Z==0)for(var D=m-1;D>=u;D--)if(C[D].k7||C[D].Ke)J-=C[D].yt.e;else break;if(Z==1)for(var D=u;
D<m;D++)if(C[D].k7||C[D].Ke){var n=C[D].yt.e;J-=n;A-=n}else break}return[J,A]};iW.jZ.prototype.a5M=function(u,m,C,Z,q,J){var A=0,n=0,N=0,e=0;
for(var D=u;D<m;D++)if(C[D].k7)N++;else{A+=C[D].yt.e;n++}if(q==0)for(var D=m-1;D>=u;D--)if(C[D].k7||C[D].Ke){if(C[D].k7){N--}}else break;
if(q==1)for(var D=u;D<m;D++)if(C[D].k7||C[D].Ke){if(C[D].k7){N--;e++}}else break;if(n<=1||N==0){if(n==1)C[u].Uc.x=J;
return}var Q=(Z-A)/N,p=-e*Q;for(var D=u;D<m;D++){if(C[D].k7)this.Or[C[D].EQ].yt.e=C[D].yt.e=Q;C[D].Uc.x=J+p;
p+=C[D].yt.e}};iW.ahm=function(u,m,C,Z,q,J,A){this.Ud="";for(var D=0;D<A;D++)this.Ud+=C[J+D].Md;this.k7=A==1&&(C[J].Md==" "||C[J].Md=="\t");
this.Ke=A==1&&C[J].Md=="\n";this.start=J;this.end=J+A;this.yt=new bl;this.Uc=new dz(0,0);this.ji=0;this.lineHeight=0;
var n=0,N=0;if(A==0){this.lineHeight=C[J].lineHeight;this.ji=C[J].ji;this.yt=new bl(0,-C[J].lineHeight,0,C[J].lineHeight)}var e=C[J].L0,Q=C[J+A-1].L0;
if(Q<e){var p=e;e=Q;Q=p}while(Q+1<q.length&&q[Q].LG==q[Q+1].LG){Q++}this.EQ=e;this.h5=Q;for(var B=e;
B<=Q;B++){var $=q[B],R=C[Z+$.LG],z=u._LineOrientation==2&&(R.kZ.BaselineDirection!=2||iW.jb(R.Md.charCodeAt(0))),v=Typr.U.glyphToPath(R.rz,$.T),T=0;
$.path={X:v.cmds,s:v.crds};var X=R.kZ.FontSize,V=1/R.rz.head.unitsPerEm*X;if(!R.kZ.AutoKerning)n+=R.kZ.Kerning*2*V*R.scale.x;
$.Uc=new dz(n,0);$.ez=0;if(z&&$.path.s.length>0){$.ez=-Math.PI/2;$.Uc.x+=X*.83;$.Uc.y=-X*.3+$.Mt*V/2;
$.Mt=X/V}var o=$.Mt*V*R.scale.x;$.yt=new bl(0,-R.lineHeight,o,R.lineHeight);var h=$.yt.clone();h.kU($.Uc);
if(R.kZ.Tracking!=null)T=R.kZ.Tracking*.001*X;if(R.kZ.FauxBold==!0)T+=.027*X;n+=o+T;if(A==1&&R.Md==" ")h.e+=2*T;
else if(A==1&&R.Md!=null&&iW.jb(R.Md.charCodeAt(0)))h.e+=T;this.yt=this.yt.QN(h);this.ji=Math.max(this.ji,R.ji);
this.lineHeight=Math.max(this.lineHeight,R.lineHeight)}};iW.su=0;iW.a09=function(u){if(iW.su==2)return!0;
if(iW.su==1)return!1;iW.su=1;function m(){fetch("code/ext/fribidi.wasm").then(function(C){return C.arrayBuffer()}).then(function(C){return WebAssembly.instantiate(C)}).then(function(C){var Z=C.instance.exports,q=Z.memory,J=16,A=256,n=1,N=J|A,e=J|A|n;
iW.au7=function(p,B){var $=p.length,R=$*4+4+$*4+$*4+$;d4.sL(Z,R+$+1e7);var z=new Uint8Array(q.buffer),v=new Uint32Array(q.buffer),a=Z.calloc(R,1),X=a+$*4,V=X+4,o=V+$*4,h=o+$*4;
v.set(p,a>>>2);v[X>>>2]=B==0?N:e;Z.fribidi_get_bidi_types(a,$,V);Z.fribidi_get_bracket_types(a,$,V,o);
Z.fribidi_get_par_embedding_levels_ex(V,o,$,X,h);var T=z.slice(h,h+$);Z.free(a);return T};iW.su=2;var Q=new eY(r.E.z,!0);
Q.data={d:r.J.mh,lC:"add",no:jO.ht,Ax:null};u.c(Q)})}Typr.U.initHB("code/ext/hb.wasm",m);return!1};function ad(){}ad.NL=function(u){return JSON.parse(JSON.stringify(u))};
ad.Ei=function(u,m){for(var C in m)u[C]=m[C]};ad.bF=function(u,m,C){var Z=ad.a40();if(C)ad.sM(Z,0,0,C);
var q={I:new ix(1,0,0,1,Math.round(u),Math.round(m)),pU:Z};q.uv=ad.ak8();q.av=j.x0.U();q.jR=new bl;return q};
ad.atD=function(u){var m=["CharacterDirection",0];for(var D=0;D<m.length;D+=2){if(u[m[D]]!=null&&u[m[D]]!=m[D+1]){throw"e";
console.log(m[D],u[m[D]])}}if(u instanceof Array)for(var D=0;D<u.length;D++)ad.atD(u[D]);else if(u instanceof Object)for(var C in u)ad.atD(u[C])};
ad.p5=function(u,m){if(m==null)m=u.Justification;var C=u._Direction?u._Direction:0;if(C==1){if(m==0||m==3)m++;
else if(m==1||m==4)m--}return m};ad.GA=function(u){if(u.add==null)return;var m=u.pU,C=m.Curve,Z=u.add.vmsk,q=Z.B,J=j.u.Hh(q,!0).s,A=u.I.clone();
A.mL();j.u.I(J,A,J);var n=J.slice(0,8);for(var N=8;N<J.length;N+=6)n.push(J[N-2],J[N-1],J[N],J[N+1],J[N+2],J[N+3],J[N+4],J[N+5]);
C.Points=n;C.TextOnPathTRange=Z.s4.slice(0);C.Reversed=Z.Fi;if(ad.wH(m)==1){var C=iW.Ys(m.Curve),e=j.u.Of(C[0]);
ad.Fm(m,[0,0,e.e,e.n].map(Math.round));for(var D=0;D<n.length;D+=2){n[D]-=e.x;n[D+1]-=e.y}var Q=new ix(1,0,0,1,e.x,e.y);
Q.concat(u.I);u.I=Q}};ad.p9=function(u){if(u.add==null)return;var m=u.add.vmsk,C=u.pU.Curve,Z=C.Points,q={X:["M"],s:[Z[0],Z[1]]};
for(var D=0;D<Z.length;D+=8){q.X.push("C");q.s.push(Z[D+2],Z[D+3],Z[D+4],Z[D+5],Z[D+6],Z[D+7])}j.u.I(q.s,u.I,q.s);
var J=j.u.DA(q,!0);m.B=J;m.Fi=C.Reversed;m.s4=C.TextOnPathTRange.slice(0);u.add.vogk=F.yz(J)};ad.o5=function(u){var m={p:0,T:0,S:0};
if(u){var C=u.Values;if(u.Type==1)m={p:C[1]*255,T:C[2]*255,S:C[3]*255};else if(u.Type==2){var Z={classID:"CMYC",Cyn:{t:"doub",v:C[1]*100},Mgnt:{t:"doub",v:C[2]*100},Ylw:{t:"doub",v:C[3]*100},Blck:{t:"doub",v:C[4]*100}};
m=j.C.o5(Z)}else console.log("Unknown color type")}return m};ad.a9b=function(u){for(var D=0;D<u.length;
D++){var m=u[D].StyleSheet.StyleSheetData,C=m.FillColor;if(C&&C.Type==2){var Z=ad.o5(C);C.Type=1;C.Values=[1,Z.p/255,Z.T/255,Z.S/255]}}};
ad.Ci=function(u,m){var C;if(ad.wH(u.pU)==1){var Z=ad.uG(u.pU);C=new bl(0,0,Z[2]-Z[0],Z[3]-Z[1])}else{C=m.W8();
if(m.S8){var q=m.S8.clone(),J=j.u.yj(C);j.u.I(J.s,q,J.s);C=j.u.Of(J.s)}}return C};ad.kt=function(u){var m=u[0];
for(var D=0;D<u.length;D++)m=ad.aa0(m,u[D]);return m};ad.aa0=function(u,m){var C={};for(var Z in u)if(JSON.stringify(u[Z])==JSON.stringify(m[Z]))C[Z]=u[Z];
return C};ad.t7=function(u,m){var C=u.nS,Z=-1;for(var D=0;D<C.length;D++)if(C[D].Name==m)Z=D;if(Z==-1){Z=C.length;
C.push({FontType:1,Name:m,Script:0,Synthetic:0})}u.L4.Font=Z};ad.yd=function(u){return u.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
ad.CY=function(u,m){u.EngineDict.Editor.Text=m.replace(/\n/g,"\r")};ad.wH=function(u){return u.Curve&&u.Curve.TextOnPathTRange[0]>=0?2:u.EngineDict.Rendered.Shapes.Children[0].ShapeType};
ad.Qt=function(u,m){var C=u.EngineDict.Rendered.Shapes.Children[0];C.ShapeType=m;var Z=C.Cookie.Photoshop;
Z.ShapeType=m;Z.Base.ShapeType=m;if(m==0){delete Z.BoxBounds;Z.PointBase=[0,0]}if(m==1){delete Z.PointBase;
Z.BoxBounds=[0,0,1,1]}};ad.uG=function(u){return u.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
ad.Fm=function(u,m){u.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=m};ad.al$=function(u,m){var C=u.EngineDict.AlternateGlyphRun;
if(C==null)return-1;var Z=ad.y9(C.RunLengthArray,m).Ce,q=C.RunArray[Z].Glyph;return q==null?-1:q};ad.ab_=function(u,m,C){var Z=u.EngineDict.AlternateGlyphRun;
if(Z==null){Z=u.EngineDict.AlternateGlyphRun=ad.adb();Z.RunArray.push({});Z.RunLengthArray.push(ad.yd(u).length)}var q=ad.y9(Z.RunLengthArray,m),J=q.Ce,A=m-q.Gw,n=Z.RunArray[J],N=JSON.stringify(n),e=Z.RunLengthArray[J];
if(A!=0){Z.RunArray.splice(J,0,JSON.parse(N));Z.RunLengthArray.splice(J,0,A);Z.RunLengthArray[J+1]-=A;
J++;e-=A;A=0}if(e!=1){Z.RunArray.splice(J+1,0,JSON.parse(N));Z.RunLengthArray.splice(J+1,0,e-1);Z.RunLengthArray[J]=1;
e=1}n.Glyph=C};ad.akE=function(u,m){var C=u.EngineDict.StyleRun.RunLengthArray;return ad.y9(C,m).Ce};
ad.a5y=function(u,m){var C=u.ResourceDict.StyleSheetSet[0].StyleSheetData,Z={};for(var q in C)Z[q]=C[q];
var J=u.EngineDict.StyleRun.RunArray[m].StyleSheet.StyleSheetData;ad.Ei(Z,J);return Z};ad.ah4=function(u,m){var C=u.EngineDict.ParagraphRun.RunLengthArray;
return ad.y9(C,m).Ce};ad.anD=function(u,m){var C=u.ResourceDict.ParagraphSheetSet[0].Properties,Z={};
for(var q in C)Z[q]=C[q];var J=u.EngineDict.ParagraphRun.RunArray[m].ParagraphSheet.Properties;ad.Ei(Z,J);
var A=["StartIndent","EndIndent","FirstLineIndent"];for(var D=0;D<3;D++)if(Z[A[D]]==null)Z[A[D]]=0;return Z};
ad.Y9=function(u,m,C){if(C=="")return;var Z=ad.yd(u);ad.CY(u,Z.substring(0,m)+C+Z.substring(m,Z.length));
var q=u.EngineDict.StyleRun,J=q.RunLengthArray,A=ad.y9(J,m-1);J[A.Ce]+=C.length;var n=u.EngineDict.AlternateGlyphRun;
if(n){var J=n.RunLengthArray,A=ad.y9(J,m-1);J[A.Ce]+=C.length}var N=u.EngineDict.ParagraphRun,J=N.RunLengthArray,e=ad.y9(J,m),Q=C.split("\n");
if(Q.length==1){J[e.Ce]+=C.length;return}J.splice(e.Ce+1,0,J[e.Ce]-(m-e.Gw));N.RunArray.splice(e.Ce+1,0,ad.NL(N.RunArray[e.Ce]));
J[e.Ce]-=J[e.Ce+1];J[e.Ce]+=Q[0].length+1;for(var D=1;D<Q.length-1;D++){N.RunArray.splice(e.Ce+D,0,ad.NL(N.RunArray[e.Ce+D-1]));
N.RunLengthArray.splice(e.Ce+D,0,Q[D].length+1)}J[e.Ce+Q.length-1]+=Q[Q.length-1].length};ad.ta=function(u,m,C){var Z=ad.yd(u);
ad.CY(u,Z.substring(0,m)+Z.substring(C,Z.length));ad.Ur(u.EngineDict.ParagraphRun,m,C,!0);ad.Ur(u.EngineDict.StyleRun,m,C,!1);
var q=u.EngineDict.AlternateGlyphRun;if(q)ad.Ur(q,m,C,!1)};ad.Ur=function(u,m,C,Z){var q=u.RunLengthArray,J=ad.y9(q,m),A=ad.y9(q,C),n=[];
for(var D=0;D<q.length;D++)for(var N=0;N<q[D];N++)n.push(D);n.splice(m,C-m);var e=[];for(var D=0;D<q.length;
D++)e.push(0);for(var D=0;D<n.length;D++)e[n[D]]++;for(var D=0;D<q.length;D++){if(e[D]==0){e.splice(D,1);
q.splice(D,1);u.RunArray.splice(D,1);D--}else if(e[D]<q[D])q[D]=e[D]}if(Z&&J.Ce!=A.Ce&&J.Gw!=m){q[J.Ce]+=q[J.Ce+1];
q.splice(J.Ce+1,1);u.RunArray.splice(J.Ce+1,1)}};ad.sM=function(u,m,C,Z){var q=u.EngineDict.Editor.Text.length;
if(C==q-2)C++;if(Z.L4.Font!=null)u.ResourceDict.FontSet=Z.nS.slice(0);if(m<=C)ad.auy(u.EngineDict.StyleRun,Z.L4,m,C,!0);
ad.auy(u.EngineDict.ParagraphRun,Z.n9,m,C,!1)};ad.zd=function(u,m,C){var Z={nS:u.ResourceDict.FontSet.slice(0),L4:[],n9:[]},q=u.EngineDict.StyleRun.RunLengthArray,J=ad.y9(q,m).Ce,A=ad.y9(q,C).Ce;
for(var D=J;D<=A;D++){var n=ad.NL(u.ResourceDict.StyleSheetSet[0].StyleSheetData),N=u.EngineDict.StyleRun.RunArray;
if(N.length==0)continue;var e=N[D].StyleSheet.StyleSheetData;ad.Ei(n,e);Z.L4.push(n)}var Q=u.EngineDict.ParagraphRun.RunLengthArray,p=ad.y9(Q,m).Ce,B=ad.y9(Q,C).Ce;
for(var D=p;D<=B;D++){var $=u.EngineDict.ParagraphRun.RunArray;if($.length==0)continue;Z.n9.push(ad.NL($[D].ParagraphSheet.Properties))}Z.L4=Z.L4.length==0?{}:ad.kt(Z.L4);
Z.n9=Z.n9.length==0?{}:ad.kt(Z.n9);return Z};ad.auy=function(u,m,C,Z,q){var J=u.RunLengthArray;if(q){var A=ad.y9(J,C);
if(A.Gw!=C){var n=J[A.Ce];J.splice(A.Ce,0,C-A.Gw);J[A.Ce+1]=n-J[A.Ce];u.RunArray.splice(A.Ce+1,0,ad.NL(u.RunArray[A.Ce]))}var N=ad.y9(J,Z);
if(N.Gw+J[N.Ce]-1!=Z){var n=J[N.Ce];J.splice(N.Ce,0,Z-N.Gw+1);J[N.Ce+1]=n-J[N.Ce];u.RunArray.splice(N.Ce+1,0,ad.NL(u.RunArray[N.Ce]))}}var A=ad.y9(J,C),N=ad.y9(J,Z);
if(q)for(var D=A.Ce;D<=N.Ce;D++)ad.Ei(u.RunArray[D].StyleSheet.StyleSheetData,m);else for(var D=A.Ce;
D<=N.Ce;D++)ad.Ei(u.RunArray[D].ParagraphSheet.Properties,m)};ad.atO=function(u,m,C){var Z=u.EngineDict.StyleRun.RunLengthArray,q=[],J=0;
for(var D=0;D<Z.length;D++){var A=Z[D];for(var n=0;n<A;n++)if(m<=J+n&&J+n<C)q.push(D);J+=A}var N=q[0],e=[];
for(var D=0;D<q.length;D++){var Q=q[D]-N;if(Q==e.length)e.push(0);e[Q]++}return e};ad.a7C=function(u){var m=u.EngineDict.StyleRun,C=m.RunArray,Z=m.RunLengthArray;
for(var D=0;D<Z.length-1;D++){var q=C[D].StyleSheet.StyleSheetData,J=C[D+1].StyleSheet.StyleSheetData;
if(JSON.stringify(q)==JSON.stringify(J)){C.splice(D+1,1);Z[D]+=Z[D+1];Z.splice(D+1,1);D--}}};ad.rR=function(u){var m=u.uv.AntA.v.Annt;
m=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(m);if(m==-1)m=1;return m};ad.Op=function(u,m){u.uv.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][m]};
ad.vF=function(u,m){var C,Z;C=["FontSize","Leading","BaselineShift"];Z=u.L4;for(var D=0;D<C.length;D++)if(Z[C[D]]!=null)Z[C[D]]*=m;
C=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];Z=u.n9;for(var D=0;D<C.length;
D++)if(Z[C[D]]!=null)Z[C[D]]*=m};ad.aeN=function(){return ad.zd(ad.ahP,0,0)};ad.ak8=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
ad.y9=function(u,m){var C=0,D=0;while(C+u[D]<=m){C+=u[D];D++}return{Ce:D,Gw:C}};ad.a40=function(){var u=ad.NL(this.ahP);
return u};ad.atQ={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
ad.adW={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
ad.adb=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};ad.ahP={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(ad.atQ))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(ad.atQ))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(ad.adW))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var ct={};ct.aup=function(u){var m=ct.apF(u._0,u._1);ct.aqs(m,u._0);return m};ct.arZ=function(u,m,C){var Z={};
Z._98={_0:"i7"};Z._0=ct.arK(u,m,C?C._0:null);Z._1=ct.al4(u,m,Z._0,C?C._1:null);return Z};ct.arK=function(u,m,C){var Z={};
Z._1=ct.acf(u,C?C._1:null);Z._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};Z._3=JSON.parse(JSON.stringify(ct.a50));
Z._4=JSON.parse(JSON.stringify(ct.aty));Z._5=ct.anE(u,Z._1._0,C?C._5:null);Z._6=ct.a8f(u,C?C._6:null);
Z._8=ct.amJ(u,m,C?C._8:null);Z._9=ct.abR;return Z};ct.aqs=function(u,m){ct.a71(u,m._5,m._1._0)};ct.acf=function(u,m){var C=[],Z=[];
for(var D=0;D<u.length;D++){var q=u[D].ResourceDict.FontSet;for(var J=0;J<q.length;J++){var A=q[J];if(Z.indexOf(A.Name)!=-1)continue;
C.push(A);Z.push(A.Name)}}var n={_0:[]};for(var D=0;D<C.length;D++){var N=C[D],e={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+N.Name,_1:"i"+N.Script,_2:"i"+N.FontType}}};
if(N.Script==0)delete e._0._0._1;n._0.push(e)}return n};ct.anE=function(u,m,C){var Z={_0:[],_1:[]},q={_0:JSON.parse(JSON.stringify(ct.apC))};
ct.ajB(q._0,u[0].ResourceDict.StyleSheetSet[0],m,u[0].ResourceDict.FontSet);Z._0.push(q);Z._1.push({_0:"i0"});
Z._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});Z._1.push({_0:"i1"});return Z};ct.a71=function(u,m,C){var Z=m._0[0];
for(var D=0;D<u.length;D++)ct.a6v(Z._0,u[D].ResourceDict.StyleSheetSet[0],C,u[D].ResourceDict.FontSet)};
ct.a8f=function(u,m){var C={_0:[],_1:[]},Z={_0:JSON.parse(JSON.stringify(ct.ej))};ct.$i(Z._0,u[0].ResourceDict.ParagraphSheetSet[0]);
C._0.push(Z);C._1.push({_0:"i0"});Z={_0:JSON.parse(JSON.stringify(ct.ej))};ct.$i(Z._0,u[0].ResourceDict.ParagraphSheetSet[0]);
Z._0._0="sBasic Paragraph";Z._0._6="i0";C._0.push(Z);C._1.push({_0:"i1"});return C};ct.amJ=function(u,m,C){var Z={_0:[]};
for(var D=0;D<u.length;D++){var q=u[D].Curve,J={};Z._0.push({_0:J});var A=ad.wH(u[D]);J._2={};J._2._0="i"+A;
if(u[D]._LineOrientation==2)J._2._1="i2";if(A==0){J._2._6=["f-1","f-1"];J._2._11={_4:"i-1",_7:!1}}else if(A==1&&q==null){var n=ad.uG(u[D]),N=n[2],e=n[3];
J._1={_0:ct.ix("f",[0,0,0,0,N,0,N,0,N,0,N,0,N,e,N,e,N,e,N,e,0,e,0,e,0,e,0,e,0,0,0,0])};J._2._6=["f-2","f-2"];
J._2._11={_4:"i-2",_7:!1}}else if(A==1){var n=ad.uG(u[D]),N=n[2],e=n[3];J._1={_0:ct.ix("f",q.Points)};
J._2._6=["f-3","f-3"];J._2._11={_4:"i-3",_7:!1}}else if(A==2){J._1={_0:ct.ix("f",q.Points)};J._2._6=ct.ix("f",q.TextOnPathTRange);
J._2._11={_0:q.Reversed,_3:"i0",_5:"f0",_7:!1}}}return Z};ct.al4=function(u,m,C,Z){var q={};q._0=JSON.parse(JSON.stringify(ct.aak));
q._1=ct.arP(u,m,C,Z?Z._1:null);q._2=JSON.parse(JSON.stringify(ct.apC._6));q._3=JSON.parse(JSON.stringify(ct.ej._5));
return q};ct.apF=function(u,m){return ct.a1V(u,m._1)};ct.arP=function(u,m,C,Z){var q=[],J=C._1._0;for(var D=0;
D<u.length;D++){var A=u[D],n={_0:{}};q.push(n);n._0._0="s"+A.EngineDict.Editor.Text;n._0._0=n._0._0;
var N=n._0._5={_0:[]},e=A.EngineDict.ParagraphRun;for(var Q=0;Q<e.RunArray.length;Q++){var p={_0:{}};
N._0.push(p);p._0._0={_0:"s",_5:{},_6:"i1"};ct.$i(p._0._0,e.RunArray[Q].ParagraphSheet);p._1="i"+e.RunLengthArray[Q]}var B=n._0._6={_0:[]};
e=A.EngineDict.StyleRun;for(var Q=0;Q<e.RunArray.length;Q++){var $={_0:{}};B._0.push($);$._0._0={_0:"s",_5:"i1",_6:{}};
ct.ajB($._0._0,e.RunArray[Q].StyleSheet,J,A.ResourceDict.FontSet);$._1="i"+e.RunLengthArray[Q]}e=A.EngineDict.AlternateGlyphRun;
if(e){var R=n._0._9={_0:[]};for(var Q=0;Q<e.RunArray.length;Q++){var z={_0:{}};R._0.push(z);var v=e.RunArray[Q];
if(v.Glyph!=null){z._0._0={_0:"i"+v.Glyph,_1:"e"}}z._1="i"+e.RunLengthArray[Q]}}n._0._10={_0:"i4",_2:!0};
n._1=ct.view.ai7(A,null,D,null)}return q};ct.a1V=function(u,m){var C=[],Z=u._1._0;for(var D=0;D<m.length;
D++){var q=ad.a40();C.push(q);var J=m[D];q.EngineDict.Editor.Text=J._0._0.slice(1);var A=q.EngineDict.ParagraphRun.RunArray[0],n=q.EngineDict.ParagraphRun,N=J._0._5;
if(N)for(var e=0;e<N._0.length;e++){var Q=N._0[e];n.RunLengthArray[e]=parseInt(Q._1.slice(1));n.RunArray[e]=JSON.parse(JSON.stringify(A));
ct.au2(Q._0._0,n.RunArray[e].ParagraphSheet)}else{n.RunLengthArray[0]=ad.yd(q).length}var p=J._0._6;
n=q.EngineDict.StyleRun;if(p)for(var e=0;e<p._0.length;e++){var B=p._0[e];n.RunLengthArray[e]=parseInt(B._1.slice(1));
n.RunArray[e]={StyleSheet:{StyleSheetData:{}}};ct.a6v(B._0._0,n.RunArray[e].StyleSheet,Z,q.ResourceDict.FontSet)}else{n.RunLengthArray[0]=ad.yd(q).length;
n.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return C};ct.ajB=function(u,m,C,Z,q){u._0="s"+(m.Name?m.Name:"");
var J=u._6,A=q?q._6:null,n=m.StyleSheetData;if(n.Font==null)return;var N=Z[n.Font].Name,e=-1;for(var D=0;
D<C.length;D++)if("s"+N==C[D]._0._0._0){e=D;break}J._0="i"+e;if(n.FontSize!=null)J._1="f"+n.FontSize;
if(n.FauxBold!=null)J._2=n.FauxBold;if(n.FauxItalic!=null)J._3=n.FauxItalic;if(n.AutoLeading!=null)J._4=n.AutoLeading;
if(n.Leading!=null)J._5="f"+n.Leading;if(n.HorizontalScale!=null)J._6="f"+n.HorizontalScale;if(n.VerticalScale!=null)J._7="f"+n.VerticalScale;
if(n.Tracking!=null)J._8="i"+n.Tracking;if(n.BaselineShift!=null)J._9="f"+n.BaselineShift;if(n.AutoKerning!=null)J._11="i"+(n.AutoKerning?1:0);
if(n.FontCaps!=null)J._12="i"+n.FontCaps;if(n.FontBaseline!=null)J._13="i"+n.FontBaseline;if(n.Strikethrough!=null)J._15="i"+(n.Strikethrough?1:0);
if(n.Underline!=null)J._16="i"+(n.Underline?2:0);if(n.Ligatures!=null)J._18=n.Ligatures;if(n.DLigatures!=null)J._19=n.DLigatures;
if(n.BaselineDirection!=null)J._35="i"+n.BaselineDirection;if(n.Language!=null)J._38="i"+n.Language;
if(n.FillColor!=null)J._53=ct.$B(n.FillColor);if(n.StrokeColor!=null)J._54=ct.$B(n.StrokeColor);if(n.FillFlag!=null)J._56=n.FillFlag;
if(n.StrokeFlag!=null)J._57=n.StrokeFlag;if(n._LineWidth!=null)J._63="f"+n._LineWidth;if(n._FillBackgroundColor!=null)J._79=ct.$B(n._FillBackgroundColor);
if(n._FillBackgroundFlag!=null)J._80=n._FillBackgroundFlag};ct.$B=function(u){return{_99:"/SimplePaint",_0:{_0:"i1",_1:ct.ix("f",u.Values)}}};
ct.a6v=function(u,m,C,Z){var q=u._6;if(q==null)return;var J=m.StyleSheetData;if(q._0){var A=parseInt(q._0.slice(1)),n=C[A]._0._0._0.slice(1);
ad.t7({L4:J,nS:Z},n)}if(q._1!=null)J.FontSize=parseFloat(q._1.slice(1));if(q._2!=null)J.FauxBold=q._2;
if(q._3!=null)J.FauxItalic=q._3;if(q._4!=null)J.AutoLeading=q._4;if(q._5!=null)J.Leading=parseFloat(q._5.slice(1));
if(q._6!=null)J.HorizontalScale=parseFloat(q._6.slice(1));if(q._7!=null)J.VerticalScale=parseFloat(q._7.slice(1));
if(q._8!=null)J.Tracking=parseFloat(q._8.slice(1));if(q._9!=null)J.BaselineShift=parseFloat(q._9.slice(1));
if(q._11!=null)J.AutoKerning=parseFloat(q._11.slice(1))==1;if(q._12!=null)J.FontCaps=parseFloat(q._12.slice(1));
if(q._13!=null)J.FontBaseline=parseFloat(q._13.slice(1));if(q._15!=null)J.Strikethrough=parseFloat(q._15.slice(1))==1;
if(q._16!=null)J.Underline=parseFloat(q._16.slice(1))==1;if(q._18!=null)J.Ligatures=q._18;if(q._19!=null)J.DLigatures=q._19;
if(q._35!=null)J.BaselineDirection=parseFloat(q._35.slice(1));if(q._38!=null)J.Language=parseFloat(q._38.slice(1));
if(q._53!=null)J.FillColor=ct.Km(q._53);if(q._54!=null)J.StrokeColor=ct.Km(q._54);if(q._56!=null)J.FillFlag=q._56;
if(q._57!=null)J.StrokeFlag=q._57;if(q._63!=null)J._LineWidth=parseFloat(q._63.slice(1));if(q._79!=null)J._FillBackgroundColor=ct.Km(q._79);
if(q._80!=null)J._FillBackgroundFlag=q._80};ct.Km=function(u){var m=u._0._0,C=u._0._1,Z=[1,0,0,0],q=[];
for(var D=0;D<C.length;D++)q[D]=parseFloat(C[D].slice(1));if(m=="i0")Z[1]=Z[2]=Z[3]=q[1];else if(m=="i1")Z=q;
else if(m=="i2")Z=[1].concat(UDOC.C.cmykToRgb(q.slice(1)));else console.log("unknown color type",m,q);
return{Type:1,Values:Z}};ct.$i=function(u,m){u._0="s"+(m.Name?m.Name:"");var C=u._5,Z=m.Properties;if(Z.Justification!=null)C._0="i"+Z.Justification;
if(Z.FirstLineIndent!=null)C._1="f"+Z.FirstLineIndent;if(Z.StartIndent!=null)C._2="f"+Z.StartIndent;
if(Z.EndtIndent!=null)C._3="f"+Z.EndtIndent;if(Z.SpaceBefore!=null)C._4="f"+Z.SpaceBefore;if(Z.SpaceAfter!=null)C._5="f"+Z.SpaceAfter;
if(Z.AutoLeading!=null)C._7="f"+Z.AutoLeading;if(Z.AutoHyphenate!=null)C._9=Z.AutoHyphenate;if(Z._Direction!=null)C._33="i"+Z._Direction;
if(Z._ComposerEngine!=null)C._35="i"+Z._ComposerEngine};ct.au2=function(u,m){var C=u._5;if(C==null)return;
var Z=m.Properties;if(C._0)Z.Justification=parseInt(C._0.slice(1))};ct.ix=function(u,m){var C=[];for(var D=0;
D<m.length;D++)C.push(u+m[D]);return C};ct.a50={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
ct.aty={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
ct.apC={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
ct.ej={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
ct.abR={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
ct.aak={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var iv={};iv.afo=function(u){return iv.yL(u,iv.vI,0)};iv.a5P=function(u){return iv.dj(u,iv.vI)};iv.yL=function(u,m,C){var Z;
if(typeof u=="string")return u;if(u instanceof Array){Z=[];for(var D=0;D<u.length;D++)Z[D]=iv.yL(u[D],m,C+1)}else{Z={};
var q={};for(var J in m){var A=m[J],n="_"+A[0];if(u[n]!=null){Z[J]=A[1]?iv.yL(u[n],A[1],C+1):u[n];q[n]=!0}}for(var J in u){if(q[J]==null){if(J.length>3)continue;
console.log(m,q);console.log(J,u);throw"e"}}}return Z};iv.dj=function(u,m){var C;if(typeof u=="string")return u;
else if(u instanceof Array){C=[];for(var D=0;D<u.length;D++)C[D]=iv.dj(u[D],m)}else{C={};var Z={};for(var q in m){var J=m[q],A="_"+J[0];
if(u[q]!=null){C[A]=J[1]?iv.dj(u[q],J[1]):u[q];Z[q]=!0}}for(var q in u){if(Z[q]==null){console.log(m,Z);
console.log(q,u);throw"e"}}}return C};iv.Z4={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
iv.C7={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,iv.Z4],_StrokeColor:[54,iv.Z4],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,iv.Z4],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_89:[89],_90:[90]};
iv.a96={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,iv.C7],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
iv.abJ={_Name:[0],_Features:[5,iv.a96],_Parent:[6],_97:[97]};iv.aqi={_Name:[0],_Parent:[5],_Features:[6,iv.C7],_97:[97]};
iv.vI={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,iv.aqi]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,iv.abJ]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_97:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,iv.abJ]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,iv.aqi]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,iv.C7],_OriginalNormalParagraphFeatures:[3,iv.a96]}]};
ct.view={};ct.view.ai7=function(u,m,C,Z){var q={},J=ad.wH(u);q._0=[{_0:"i"+C}];return q};function CSS(){}CSS.apr=function(u,m){var C=u.add,Z=C.vmsk,q=C.vstk,J=C.lmfx,A=C.TySh,n=[],N=CSS.aga(J,C);
if(u.Y8()&&Z){var e=j.$.Br(Z.B);if(!e.qR()){n.push("width: "+Math.round(e.e)+"px");n.push("height: "+Math.round(e.n)+"px")}var Q=j.$.a5m(Z.B);
if(Q>0)n.push("border-radius: "+Math.round(Q)+"px")}else if(A){var p=A.pU;if(ad.wH(p)==1){var e=ad.uG(p);
n.push("width: "+Math.round(e[2])+"px");n.push("height: "+Math.round(e[3])+"px")}CSS.adX(n,ad.zd(p,0,0),A.I,!1,!1,N[0])}var B=[],$=J?J.dropShadowMulti.v:0;
for(var D=0;D<$.length;D++){var R=$[D].v;if(R.enab.v){var z=R.Dstn.v.val,v=R.lagl.v.val*Math.PI/180;
if(R.uglg&&R.uglg.v)v=m.lQ()*Math.PI/180;var X=z*Math.cos(v),V=z*Math.sin(v);B.push("drop-shadow("+(X==0?"0 ":CSS.hT(-X)+"px ")+(V==0?"0 ":CSS.hT(V)+"px ")+R.blur.v.val/2+"px "+CSS._m(R.Clr.v,R.Opct.v.val/100)+")")}}if(B.length!=0)n.push("filter: "+B.join(" "));
if(A==null)CSS.auu(N,n);if(q==null||!q.strokeEnabled.v)q=dU.hH(J);if(q&&q.strokeEnabled.v){var o=q.strokeStyleContent.v,h=o.classID,T=c0.K_.kS.indexOf(q.strokeStyleLineCapType.v.strokeStyleLineCapType),l=c0.K_.join.indexOf(q.strokeStyleLineJoinType.v.strokeStyleLineJoinType),w=q.strokeStyleOpacity.v.val/100,W=q.strokeStyleLineWidth.v.val,U="";
if(h=="solidColorLayer")U=CSS._m(o.Clr.v,w);n.push("border: "+W+"px solid "+U)}return n};CSS.aga=function(u,m){var C=dU.vi(u,m),Z=C[0],q=C[1],J,A;
if(Z){J=CSS._m(Z.Clr.v,m.iOpa!=null?m.iOpa/255:1)}else if(q){A=CSS.f$(q)}return[J,A]};CSS.auu=function(u,m){if(u[0])m.push("background-color: "+u[0]);
if(u[1])m.push("background-image: "+u[1])};CSS.Ef={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.hT=function(jt){return""+parseFloat(jt.toFixed(3))};CSS.Di=function(u){if(u==null)return{p:0,T:0,S:0};
var m=u.indexOf("(");if(m!=-1){var C=u.slice(m+1,u.length-1).split(",");for(var D=0;D<C.length;D++){var Z=C[D].trim();
C[D]=parseFloat(Z)*(Z.endsWith("%")?255/100:1)}return{p:C[0],T:C[1],S:C[2]}}if(u.charAt(0)!="#"){var q=CSS.Ef;
if(q[u])u=q[u];else console.log("unknown color "+u)}u=u.slice(1);if(u.length==3)u=u[0]+u[0]+u[1]+u[1]+u[2]+u[2];
u=parseInt(u,16);return{p:u>>16&255,T:u>>8&255,S:u&255}};CSS._m=function(u,m){return CSS.T9(j.C.o5(u),m)};
CSS.T9=function(u,m){if(m==null)m=1;var C=Math.round(u.p),Z=Math.round(u.T),q=Math.round(u.S),J=C<<16|Z<<8|q;
return m==1?"#"+j.U0(J):"rgba("+C+","+Z+","+q+","+m+")"};CSS.f$=function(u){var m=u.Grad.v;if(m.Clrs==null)return"";
var C=m.Clrs.v.slice(0),Z=m.Trns.v.slice(0),q=u.Ofst.v,J=u.Type.v.GrdT=="Rdl"?1:0,A=(J==1?"radial":"linear")+"-gradient",n=J==0?Math.round(-u.Angl.v.val+90)+"deg":"circle at center",N=u.Rvrs.v;
if(N){C.reverse();Z.reverse()}for(var D=0;D<C.length;D++){var e=C[D].v,Q=D<Z.length?Z[D].v.Opct.v.val/100:1,p=e.Lctn.v/4096;
if(N)p=1-p;n+=", "+CSS._m(e.Clr.v,Q)+" "+Math.round(p*100)+"%"}return A+"("+n+")"};CSS.adX=function(u,m,C,Z,q,J){var A=m.L4,n=Z?1:b.Q.p1(C),N=Math.round(A.FontSize*n);
u.push("font-size: "+N+"px");var e=A.Tracking;if(!Z&&e!=null&&e!=0)u.push("letter-spacing: "+Math.round(e*N/1e3)+"px");
if(!A.AutoLeading)u.push("line-height: "+Math.round(A.Leading*n)+"px");if(A.Strikethrough)u.push("text-decoration: line-through");
if(A.Underline)u.push("text-decoration: underline");var Q=ad.o5(A.FillColor);Q=[Q.p,Q.T,Q.S].map(Math.round);
u.push((Z?"fill: ":"color: ")+(J?J:"#"+j.U0(Q[0]<<16|Q[1]<<8|Q[2])));var p=m.nS[A.Font].Name;if(p){var B=hT.m9.TF(p),$="",R=null,z=null;
if(B!=null&&p!=hT.WA(B))B=null;if(q&&B)$+="\""+p+"\", ";var v=p.toLowerCase();if(B){R=hT.py(B)[0];if(B["OS/2"])z=B["OS/2"].usWeightClass}else{R=CSS.alF(p);
if(v.indexOf("light")!=-1)z=300;else if(v.indexOf("medium")!=-1)z=500;else if(v.indexOf("black")!=-1||v.indexOf("extrabold")!=-1)z=800;
else if(v.indexOf("bold")!=-1)z="bold"}if(R!=null)$+="\""+R+"\"";if(z!=null)u.push("font-weight: "+z);
if(v.indexOf("italic")!=-1||v.indexOf("oblique")!=-1)u.push("font-style: italic");if($)u.push("font-family: "+$)}var a=m.n9.Justification;
if(a!=null&&a!=0)if(Z){}else u.push("text-align: "+["left","right","center"][a%3])};CSS.alF=function(u){u=u.split("-")[0];
while(u.endsWith("MT")||u.endsWith("PS"))u=u.slice(0,u.length-2);var m=!0;for(var D=0;D<u.length;D++){var C=u.charAt(D);
if(!m&&C.toLowerCase()!=C){u=u.slice(0,D)+" "+u.slice(D);D++;m=!0}else m=!1}return u};function bp(){}bp.wQ={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
bp.aT=function(u,m){var C=Date.now(),Z;try{Z=acorn.parse(u)}catch(jg){console.log(jg);return}var q=JSON.parse(JSON.stringify(bp.f0.Cq));
q.__return=!1;q.__continue=!1;q.__break=!1;q.__throw=!1;q.__fs={};q.__window={};bp.eval(Z,m,q);var J=q.__fs;
if(Object.keys(J).length!=0){var A=UZIP.encode(J);h9.save(A,"output.zip")}};bp.eval=function(u,m,C){var Z=u.type;
if(!1){}else if(Z=="Program"||Z=="BlockStatement"){var q=u.body;for(var D=0;D<q.length;D++){var J=q[D].type;
if(J=="FunctionDeclaration")C[q[D].id.name]=q[D]}for(var D=0;D<q.length;D++){var J=q[D].type,A=bp.eval(q[D],m,C);
if(C.__continue){C.__continue=!1;return A}if(C.__return||C.__break||C.__throw)return A}}else if(Z=="ReturnStatement"){C.__return=!0;
return u.argument?bp.gT(u.argument,m,C):null}else if(Z=="BreakStatement"){C.__break=!0}else if(Z=="ContinueStatement"){C.__continue=!0}else if(Z=="VariableDeclaration"){var n=u.declarations;
for(var D=0;D<n.length;D++)bp.eval(n[D],m,C)}else if(Z=="VariableDeclarator"){C[u.id.name]=u.init?bp.gT(u.init,m,C):null}else if(Z=="FunctionDeclaration"){C[u.id.name]=u}else if(Z=="MemberExpression"){var N=bp.gT(u.object,m,C),e=u.computed?bp.gT(u.property,m,C):bp.eval(u.property,m,C),A;
if(N.Np!=null)A=bp.f0.d9(N,e,m,C);else if(N==window&&bp.wQ[e]){}else A=N[e];return A}else if(Z=="ArrayExpression"){var Q=[],p=u.elements;
for(var D=0;D<p.length;D++)Q.push(bp.gT(p[D],m,C));return Q}else if(Z=="ObjectExpression"){var Q={},p=u.properties;
for(var D=0;D<p.length;D++){var B=p[D],$=p[D].key.name?p[D].key.name:p[D].key.value;Q[$]=bp.gT(p[D].value,m,C)}return Q}else if(Z=="ExpressionStatement"){return bp.eval(u.expression,m,C)}else if(Z=="NewExpression"){var R=u.arguments,z=u.callee,v=z.type,a=[],Q=null;
for(var D=0;D<R.length;D++)a.push(bp.gT(R[D],m,C));if(v=="Identifier")Q=bp.f0.acG(z.name,a,m,C);else throw"e";
if(Q==null)throw"new "+z.name;return Q}else if(Z=="CallExpression"){var R=u.arguments,z=u.callee,v=z.type,X={};
for(var V in C)X[V]=C[V];var a=[];for(var D=0;D<R.length;D++)a.push(bp.gT(R[D],m,C));if(v=="Identifier"){var o=z.name,h=C[o];
if(h){if(h.params){var l=h.params;for(var D=0;D<l.length;D++)X[l[D].name]=a[D];return bp.eval(h.body,m,X)}else{return h.apply(null,a)}}else if(bp.f0.a1B.indexOf(o)!=-1)return bp.f0.oZ({Np:"Application"},o,a,m,C);
else if(window[o]==null)console.log("Unknown function "+o);else if(bp.wQ[o])alert(o+"() not available");
else{var w=window[o].apply(window,a);return w}}else if(v=="MemberExpression"){var N=bp.gT(z.object,m,C),e=z.computed?bp.gT(z.property,m,C):bp.eval(z.property,m,C);
if(N==window&&bp.wQ[e])return;if(N.Np!=null)return bp.f0.oZ(N,e,a,m,C);else return N[e].apply(N,a)}else if(v=="FunctionExpression"){return bp.eval(z.body,m,C)}else console.log(u)}else if(Z=="AssignmentExpression"){var W=u.operator,U=u.left,s=U.type,S=bp.gT(U,m,C),x=bp.gT(u.right,m,C),A=null;
if(!1){}else if(W=="=")A=x;else if(W=="+=")A=S+x;else if(W=="-=")A=S-x;else if(W=="*=")A=S*x;else if(W=="/=")A=S/x;
else if(W=="%=")A=S%x;else if(W=="&=")A=S&x;else if(W=="|=")A=S|x;else if(W=="&&=")A=S&&x;else if(W=="||=")A=S||x;
else console.log(u);if(s=="Identifier"){var P=U.name;if(C.hasOwnProperty(P))C[P]=A;else C.__window[P]=A}else if(s=="MemberExpression"){var y=bp.eval(U.property,m,C),_=bp.gT(U.object,m,C);
if(_.Np!=null)bp.f0.atv(_,y,A,m,C);else _[y]=A}else console.log(u)}else if(Z=="Identifier")return u.name;
else if(Z=="Literal")return u.value;else if(Z=="UpdateExpression"){var W=u.operator,g=u.argument.name,Q=bp.gT(u.argument,m,C),G=C;
if(G[g]==null)G=C.__window;if(!1){}else if(W=="++"){G[g]++;return u.prefix?G[g]:G[g]-1}else if(W=="--"){G[g]--;
return u.prefix?G[g]:G[g]+1}else console.log(u)}else if(Z=="UnaryExpression"){var W=u.operator,O=bp.gT(u.argument,m,C);
if(O.Np=="UnitValue"){if(W=="-")return-O.k;else return bp.a2k(O.k,W)}else return bp.a2k(O,W)}else if(Z=="BinaryExpression"||Z=="LogicalExpression"){var W=u.operator,U=bp.gT(u.left,m,C),O=bp.gT(u.right,m,C);
if(U==null||O==null)return bp.Zj(U,O,W);else if(U.Np=="UnitValue"&&O.Np=="UnitValue")return bp.Zj(U.k,O.k,W);
else if(U.Np=="UnitValue")return bp.Zj(U.k,O,W);else if(O.Np=="UnitValue"){if(W=="-")return-(U-O.k);
else return bp.Zj(U,O.k,W)}else return bp.Zj(U,O,W)}else if(Z=="IfStatement"||Z=="ConditionalExpression"){var E=bp.gT(u.test,m,C);
if(E)return bp.eval(u.consequent,m,C);else if(u.alternate)return bp.eval(u.alternate,m,C)}else if(Z=="ForInStatement"){bp.eval(u.left,m,C);
var L=u.left.declarations[0].id.name,c=bp.gT(u.right,m,C);for(var V in c){C[L]=V;var k=bp.eval(u.body,m,C);
if(C.__break)break;if(C.__return)return k}C.__break=!1}else if(Z=="ForStatement"){bp.eval(u.init,m,C);
while(bp.eval(u.test,m,C)){var k=bp.eval(u.body,m,C);if(C.__break)break;if(C.__return)return k;bp.eval(u.update,m,C)}C.__break=!1}else if(Z=="DoWhileStatement"){do{var k=bp.eval(u.body,m,C);
if(C.__break)break;if(C.__return)return k}while(bp.eval(u.test,m,C));C.__break=!1}else if(Z=="TryStatement"){bp.eval(u.block,m,C);
if(C.__throw){var I=u.handler;C[I.param.name]=C.__throw;C.__throw=!1;bp.eval(I.body,m,C);delete C[I.param.name]}}else if(Z=="EmptyStatement"){}else console.log(u)};
bp.Zj=function(u,m,C){if(C=="+")return u+m;else if(C=="-")return u-m;else if(C=="*")return u*m;else if(C=="/")return u/m;
else if(C=="%")return u%m;else if(C=="^")return u^m;else if(C=="&")return u&m;else if(C=="&&")return u&&m;
else if(C=="|")return u|m;else if(C=="||")return u||m;else if(C=="<")return u<m;else if(C==">")return u>m;
else if(C=="=="){if(u.Np&&m.Np)return u.k==m.k;return u==m}else if(C=="===")return u===m;else if(C=="<=")return u<=m;
else if(C==">=")return u>=m;else if(C=="!=")return u!=m;else if(C=="!==")return u!==m;else if(C=="<<")return u<<m;
else if(C==">>")return u>>m;else console.log(C)};bp.a2k=function(u,m){if(m=="-")return-u;else if(m=="!")return!u;
else if(m=="~")return~u;else if(m=="+")return u;else console.log(obj)};bp.gT=function(u,m,C){var Z=u.type;
if(Z=="Identifier")return bp.aci(u.name,m,C);else return bp.eval(u,m,C)};bp.aci=function(u,m,C){if(u=="undefined")return undefined;
else if(C.hasOwnProperty(u))return C[u];else if(u=="app")return{Np:"Application"};else if(u=="$")return{Np:"$"};
else if(bp.f0.alX.indexOf(u)!=-1)return bp.f0.d9({Np:"Application"},u,m,C);else if(C.__window.hasOwnProperty(u))return C.__window[u];
else if(window[u]&&!bp.wQ[u])return window[u];else{C[u]=null;return null}};bp.f0={};bp.f0.acG=function(u,m,C,Z){var q;
if(u=="SolidColor")q={Np:u,k:[1,0,0,0]};if(u=="RGBColor")q={Np:u,k:[1,0,0,0]};if(u=="Window")q={Np:u,k:new eH(m[0],m[1],m[2])};
if(u=="ExportOptionsSaveForWeb")q={Np:u,k:{uM:"png",cE:100}};if(u=="JPEGSaveOptions")q={Np:u,k:{uM:"jpg",cE:100}};
if(u=="PDFSaveOptions")q={Np:u,k:{uM:"pdf",a85:""}};if(u=="File")q={Np:u,k:m[0]};if(u=="ActionReference")q={Np:u,k:[]};
if(u=="ActionDescriptor")q={Np:u,k:{}};if(u=="ActionList")q={Np:u,k:[]};if(u=="UnitValue")q={Np:u,k:m.length==0?0:parseFloat(m[0])};
return q};bp.f0.alX="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
bp.f0.a1B=["charIDToTypeID","stringIDToTypeID","executeAction","executeActionGet","doAction"];bp.f0.d9=function(u,m,C,Z){var q=C.vg,J=C.Hp();
if(!1){}else if(m=="typename"){if(u.Np=="Layer")return u.k.ld()?"LayerSet":"ArtLayer";else return u.Np}else if(["Document","Layer"].indexOf(u.Np)!=-1&&["layers","artLayers","layerSets"].indexOf(m)!=-1){var A=J.root,n={Np:"Layers",d7:m,k:[]};
if(u.Np=="Layer")A=J.root.jj(J.g.indexOf(u.k));if(A.children==null)return null;for(var D=0;D<A.children.length;
D++){var N=A.children[D].i,e=N.ld();if(e&&m=="artLayers"||!e&&m=="layerSets")continue;n.k.push({Np:"Layer",k:N})}n.k.reverse();
return n}else if(u.Np=="Documents"||u.Np=="Layers"||u.Np=="HistoryStates"||u.Np=="LayerComps"){if(!1){}else if(m=="length")return u.k.length;
else if(Number.isInteger(m))return u.k[m];else console.log(u.Np+": unknown property ",m)}else if(u.Np=="Application"){if(!1){}else if(m=="activeDocument")return{Np:"Document",k:C.Hp()};
else if(m=="documents"){var n={Np:"Documents",k:[]};for(var D=0;D<C.RE.length;D++)n.k.push({Np:"Document",k:C.RE[D]});
return n}else if(m=="fonts")return{Np:"TextFonts"};else if(m=="preferences")return{Np:"Preferences"};
else if(m=="displayDialogs")return{Np:"DialogModes"};else if(m=="foregroundColor"||m=="backgroundColor"){var Q=m[0]=="f"?q.jM:q.z0;
return{Np:"SolidColor",k:[1,(Q>>>16&255)/255,(Q>>>8&255)/255,(Q>>>0&255)/255]}}else if(m=="UI")return{Np:"UI"};
else console.log(u,m)}else if(u.Np=="Document"){var J=u.k;if(!1){}else if(m=="activeLayer"){var N=J.g[J.w[0]];
return{Np:"Layer",k:N}}else if(m=="resolution")return J.JJ;else if(m=="width")return J.e;else if(m=="height")return J.n;
else if(m=="name")return J.name;else if(m=="saved")return!J.xB();else if(m=="selection")return{Np:"Selection"};
else if(m=="activeHistoryState")return{Np:"HistoryState",NR:J.oa};else if(m=="source")return J.PC;else if(m=="layerComps"){var p=J.CG.list.v,B=[];
for(var D=0;D<p.length;D++)B.push({Np:"LayerComp",k:D});return{Np:"LayerComps",k:B}}else if(m=="historyStates"){var $=[];
for(var D=0;D<J.history.length;D++)$.push({Np:"HistoryState",NR:D});return{Np:"HistoryStates",k:$}}else console.log(u,m)}else if(u.Np=="LayerComp"){if(m=="name")return J.CG.list.v[u.k].v.Nm.v;
else throw m}else if(u.Np=="Layer"){var R={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},N=u.k;
if(!1){}else if(m=="visible")return N.cG();else if(m=="selected")return J.w.indexOf(J.g.indexOf(N))!=-1;
else if(m=="grouped")return N.G8;else if(R[m]!=null)return N.Je(R[m]);else if(m=="opacity")return N.opacity*100/255;
else if(m=="blendMode")return N.Um;else if(m=="name")return N.getName();else if(m=="textItem")return{Np:"TextItem",k:N};
else if(m=="bounds"){var z=b.Q.Ci(J,[J.g.indexOf(N)]);return bp.f0.a1U(z,J)}else if(m=="parent"){var v=C.RE;
for(var D=0;D<v.length;D++)if(v[D].g.indexOf(N)!=-1)return{Np:"Document",k:v[D]}}else if(m=="kind"){var a=bp.f0.G0;
for(var D=0;D<a.length;D++)if(N.add[a[D]]!=null)return D;return 0}else console.log(u,m)}else if(u.Np=="Selection"){if(!1){}else if(m=="bounds")return bp.f0.a1U(C.Hp().q.rect,J);
else console.log(u,m)}else if(u.Np=="TextItem"){var X=u.k.add.TySh,V=X.pU,o=ad.yd(V),h=X.I.p1(),T=ad.zd(V,0,Math.max(0,o.length-2));
if(m=="contents")return o.slice(0,o.length-1).replace(/\n/g,"\r");else if(m=="font")return T.L4.Font!=null?T.nS[T.L4.Font].Name:null;
else if(m=="size")return bp.f0.wU(T.L4.FontSize*h,J);else if(m=="leading")return bp.f0.wU(T.L4.Leading*h,J);
else if(m=="tracking")return bp.f0.wU(T.L4.Tracking);else if(m=="baselineShift")return bp.f0.wU(T.L4.BaselineShift);
else if(m=="fauxBold")return T.L4.FauxBold;else if(m=="fauxItalic")return T.L4.FauxItalic;else if(m=="kind")return 1-ad.wH(V);
else if(m=="useAutoLeading")return T.n9.AutoLeading;else if(m=="hyphenation")return T.n9.AutoHyphenate;
else if(m=="justification")return bp.f0.wU(T.n9.Justification);else if(m=="color")return{Np:"SolidColor",k:T.L4.FillColor.Values.slice(0)};
else if(m=="width"||m=="height"){var l=ad.uG(V),w=(l[2]-l[0])*h,W=(l[3]-l[1])*h;return bp.f0.wU(m=="width"?w:W,J)}else if(m=="position"){var U=X.I;
return bp.f0.arU([U.GI,U.c_],J)}else if(m=="horizontalScale"||m=="verticalScale"){var s=m[0].toUpperCase()+m.slice(1);
return Math.round(T.L4[s]*100)}else if(m=="antiAliasMethod")ad.rR(X);else console.log(u,m)}else if(u.Np=="Preferences"){if(m=="rulerUnits")return q.SM.Pb;
else console.log(u,m)}else if(u.Np=="SolidColor"){if(m=="rgb")return{Np:"RGBColor",k:u.k};else console.log(u,m)}else if(u.Np=="RGBColor"){var z=Math.round(255*u.k[1]),S=Math.round(255*u.k[2]),x=Math.round(255*u.k[3]);
if(!1){}else if(m=="red")return z;else if(m=="green")return S;else if(m=="blue")return x;else if(m=="hexValue")return"#"+j.U0(z<<16|S<<8|x).toUpperCase();
else console.log(u,m)}else if(u.Np=="UnitValue"){if(m=="value")return u.k;else throw"e"}else if(u.Np=="ExportOptionsSaveForWeb"){if(m=="format")return u.k.uM;
else if(m=="PNG8"||m=="interlaced")return!1;else if(m=="quality")return u.k.cE;else if(m=="transparency")return!0;
else throw m}else if(u.Np=="JPEGSaveOptions"||u.Np=="PDFSaveOptions"){return 0}else console.log(u,m)};
bp.f0.a1U=function(u,m){return bp.f0.arU([u.x,u.y,u.x+u.e,u.y+u.n],m)};bp.f0.arU=function(u,m){var C=[];
for(var D=0;D<u.length;D++)C.push(bp.f0.wU(u[D],m));return C};bp.f0.aum=function(u){var m=[];for(var D=0;
D<u.length;D++)m.push(u[D].Np?u[D].k:u[D]);return m};bp.f0.wU=function(u,m){return{Np:"UnitValue",k:u}};
bp.f0.aeM=function(u,m){if(u.Np=="UnitValue")return u.k;return u};bp.f0.atv=function(u,m,C,Z,q){var J=new eY(r.E.H,!0),A=new eY(r.E.z,!0),n=Z.Hp(),N=Z.vg;
if(!1){}else if(u.Np=="Application"){if(!1){}else if(m=="activeDocument"){A.data={d:r.J.n1,Uk:C.k};Z.c(A)}else if(m=="displayDialogs"){}else console.log(u,m,C)}else if(u.Np=="Document"){var e=u.k;
if(!1){}else if(m=="name"){J.b=b.IZ;J.data={d:F.Jv,k:C,anV:!0,nu:e};n.xi=!0}else if(m=="source")e.PC=C;
else if(m=="activeLayer"){e.w=[e.g.indexOf(C.k)]}else if(m=="activeHistoryState"){J.b=b.fn;J.data={d:"h_itemchange",index:C.NR}}else console.log(u,m)}else if(u.Np=="Layer"){J.b=b.IZ;
var Q={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},p=u.k,B=n.g.indexOf(p);
if(!1){}else if(m=="visible"){if(p.cG()!=C)J.data={d:F.LV,i:B}}else if(m=="opacity"){J.data={d:F.X8,i:B,Qc:Math.round(255*C/100)}}else if(m=="blendMode"){J.data={d:F.EU,i:B,Qc:hR.AO.indexOf(C)}}else if(m=="name"){J.data={d:F.W9,i:B,name:C}}else if(Q[m]!=null){J.data={d:F.nV,i:B,Qc:[[C],[Q[m]]]}}else if(m=="kind"){J.data={d:F.Sl,i:B,$A:bp.f0.G0[C]}}else if(m=="grouped"){J.data={d:F.A8,i:B,Qc:C}}else console.log(u,m,C)}else if(u.Np=="TextItem"){J.b=b.IR;
var p=u.k,$=p.add.TySh,R=JSON.parse(JSON.stringify($.pU)),z=$.I.clone(),v=$.I.p1(),X=ad.yd(R),V=ad.zd(R,0,X.length-2),o=!1;
if(!1){}else if(m=="contents"){ad.ta(R,0,X.length-1);ad.Y9(R,0,C.replace(/\r/g,"\n"))}else if(m=="size"){V.L4.FontSize=(C.k!=null?C.k:C)/v;
o=!0}else if(m=="leading"){V.L4.Leading=(C.k!=null?C.k:C)/v;o=!0}else if(m=="tracking"){V.L4.Tracking=C.k!=null?C.k:C;
o=!0}else if(m=="baselineShift"){V.L4.BaselineShift=C.k!=null?C.k:C;o=!0}else if(m=="fauxBold"){V.L4.FauxBold=C;
o=!0}else if(m=="fauxItalic"){V.L4.FauxItalic=C;o=!0}else if(m=="kind"){var h=ad.wH(R);if(h==1&&C==1){var T=new iW(R,Z.vg.u6).n9[0],l=T.hz[0].end,w=T.qa[l-1].end;
ad.ta(R,0,X.length-1);ad.Y9(R,0,X.slice(0,w-1))}if(h==C)ad.Qt(R,1-C)}else if(m=="useAutoLeading"){V.n9.AutoLeading=C;
o=!0}else if(m=="hyphenation"){V.n9.AutoHyphenate=C;o=!0}else if(m=="justification"){V.n9.Justification=C;
o=!0}else if(m=="font"){ad.t7(V,C);o=!0}else if(m=="color"){V.L4.FillColor.Values=C.k.slice(0);o=!0}else if(m=="width"||m=="height"){var W=ad.uG(R).slice(0),U=bp.f0.aeM(C);
if(m=="width")W[2]=Math.round(W[0]+U/v);else W[3]=Math.round(W[1]+U/v);ad.Fm(R,W)}else if(m=="position"){z.GI=C[0];
z.c_=C[1]}else if(m=="horizontalScale"||m=="verticalScale"){var s=m[0].toUpperCase()+m.slice(1);V.L4[s]=C/100;
o=!0}else if(m=="antiAliasMethod")ad.Op($,C);else console.log(u,m,C);if(o)ad.sM(R,0,X.length-1,V);J.data={d:"newED",sm:n.g.indexOf(p),N9:R,I:z}}else if(u.Np=="Preferences"){if(!1){}else if(m=="rulerUnits"){var S=JSON.parse(JSON.stringify(N.SM));
S.Pb=C;A.data={d:r.J.mh,no:jO.ZL,Qc:S};Z.c(A)}else console.log(u,m,C)}else if(u.Np=="SolidColor"){if(m=="rgb")u.k=C.k;
else throw m}else if(u.Np=="RGBColor"){if(!1){}else if(m=="red")u.k[1]=C/255;else if(m=="green")u.k[2]=C/255;
else if(m=="blue")u.k[3]=C/255;else if(m=="hexValue"){var x=j.C2(C.slice(1));u.k[1]=(x>>>16&255)/255;
u.k[2]=(x>>>8&255)/255;u.k[3]=(x>>>0&255)/255}else console.log(u,m)}else if(u.Np=="ExportOptionsSaveForWeb"){if(m=="format")u.k.uM=C;
else if(m=="PNG8"||m=="transparency"||m=="interlaced"){}else if(m=="quality")u.k.cE=C;else throw m}else if(u.Np=="JPEGSaveOptions"){if(m=="quality")u.k.cE=Math.round(100*C/12)}else if(u.Np=="PDFSaveOptions"){if(m=="preset")u.k.a85=C}else console.log(u,m,C);
if(J.data!=null)Z.c(J)};bp.f0.oZ=function(u,m,C,Z,q){var J=u.Np,A=null,n=new eY(r.E.H,!0),N=new eY(r.E.od,!0),e=new eY(r.E.z,!0),Q=Z.Hp(),p=Z.RE;
if(!1){}else if(J=="Application"){if(!1){}else if(m=="charIDToTypeID"){var B=C[0].trim(),$={slct:"select",Dlt:"delete",Mk:"make"};
return $[B]?$[B]:B}else if(m=="stringIDToTypeID"){var R=C[0].trim(),$={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},z=$[R];
return z==null?R:z}else if(m=="executeAction"){console.log(C);var v;if(C[1]){v=C[1].k;v.classID=C[0]}var a={setd:"set"},X=a[C[0]];
if(X==null)X=C[0];var V=b1.Ku[C[0]];if(V&&b1.jv[V])X=b1.jv[V];N.data={ZO:X,yS:v}}else if(m=="executeActionGet"){return{Np:"ActionDescriptor",k:{classID:"null",null:{t:"obj ",v:C[0].k}}}}else if(m=="doAction"){e.data={d:r.J.Wy,_c:[C[0],C[1]]}}else if(m=="open"){e.data={d:r.J.x2,no:{url:C[0]}};
if(C[2]&&p.length!=0)e.data.no.fM=p.indexOf(Q)}else if(m=="echoToOE"){e.data={d:r.J.MH,no:C[0]}}else console.log(m)}else if(J=="LayerComp"){if(m=="apply"){n.b=b.o6;
n.data={d:"setLC",NR:Q.CG.list.v[u.k].v.compID.v}}else throw m}else if(J=="Document"){var Q=u.k;if(!1){}else if(m=="crop"){N.data=b.pB.V9(C[0])}else if(m=="trim"){var o=[];
for(var D=0;D<4;D++)o.push(C[D+1]!=null?C[D+1]:!0);N.data=b.pB.QP(C[0]!=null?C[0]:0,o)}else if(m=="suspendHistory"){var h=acorn.parse(C[1]);
bp.eval(h,Z,q)}else if(m=="save"){e.data={d:r.J.lg}}else if(m=="saveToOE"){e.data={d:r.J.lg,OX:C}}else if(m=="rotateCanvas"){N.data=b.Q.MF(!0,C[0])}else if(m=="resizeImage"||m=="resizeCanvas"){var T=C[0],l=C[1];
if(typeof T!="number"){T=Q.e*parseFloat(T.slice(0,T.length-1))/100;l=Q.n*parseFloat(l.slice(0,l.length-1))/100}if(m=="resizeCanvas")N.data=b.pB.jH(Math.round(T),Math.round(l),C[2]);
else N.data=b.pB.m5(Math.round(T),Math.round(l),null,1)}else if(m=="paste"){e.data={d:r.J.Dr,sz:C.length!=0&&C[0],$Y:!0}}else if(m=="close"){e.data={d:r.J.Zi,Zq:Q}}else if(m=="exportDocument"||m=="saveAs"){var w=q.__fs,W=C[0].k.replace(":","").replace("~/",""),U=m=="exportDocument"?C[2].k:C[1].k,s=d4.Qs(Q,U.uM,null,null,U.uM=="pdf"?null:[U.cE],Z.vg);
w[W]=new Uint8Array(s)}else console.log(u,m,C)}else if(J=="Layer"){var x=u.k,P=Q.g.indexOf(x);if(!1){}else if(m=="copy"){bp.f0.W_(Q,Z,0);
e.data={d:r.J.TN,s_:C[0],kj:P,$Y:!0};Z.c(e);delete e.data;bp.f0.W_(Q,Z,1)}else if(m=="clear"){bp.f0.W_(Q,Z,0);
N.data={ZO:"delete"};Z.c(N);delete N.data;bp.f0.W_(Q,Z,1)}else if(m=="duplicate"){if(C.length==0){n.data={d:F.Gx,i:P};
n.b=b.IZ;Z.c(n);n.data=null;A={Np:"Layer",k:Q.g[Q.w[0]]}}else if(C[0].Np=="Document"){n.data={d:F.Ix,g:Q.uH(P),EY:Q,Y0:C[0].k};
n.b=b.IZ}}else if(m=="merge"||m=="remove"){n.data={d:m=="merge"?F.BY:F.Sz,i:P};n.b=b.IZ;if(m!="remove")A={Np:"Layer",k:Q.g[Q.w[0]]}}else if(m=="move"){n.data={d:F.WQ,source:P,target:Q.g.indexOf(C[0].k),cb:C[1]!=3?.6:.3};
n.b=b.IZ}else if(m=="rasterize"){N.data={ZO:"rasterizeLayer",yS:{classID:"rasterizeLayer",null:hc.Q3("Lyr",!0)}}}else if(m=="rotate"){n.data={d:"rot",wy:[2,5],k:-C[0]*Math.PI/180,fy:C[1],i:P};
n.b=b.l7}else if(m=="resize"){n.data={d:"scl",wy:[2,4],k:new dz(C[0]/100,C[1]/100),fy:C[2],i:P};n.b=b.l7}else if(m=="translate"){var y=bp.f0.aum(C);
n.data={d:"trsl",i:P,io:y[0],Kp:y[1]};n.b=b.Iw}else if(m=="link"){n.data={d:F.Mj,a0P:[P,Q.g.indexOf(C[0].k)]};
n.b=b.IZ}else if(m=="invert"){n.b=b.ks;n.data={d:"start",gD:"nvrt"}}else if(m.startsWith("apply")&&a7.aX[m.slice(5)]){var y=bp.f0.aum(C),_=a7.aX[m.slice(5)];
N.data={ZO:a7.jv[_]};var v=a7.Qv(_);if(v){a7.sv["g"+_](v,y);N.data.yS=v}}else console.log(u,m,C)}else if(J=="Documents"){if(m=="getByName"){for(var D=0;
D<p.length;D++)if(p[D].name==C[0])return{Np:"Document",k:p[D]};return null}else if(m=="add"){var g=C[5];
if(g==null)g=1;N.data=gj.yO(C[0],C[1],C[2],C[3],["Wht","Trns","BckC"][g],!1)}else throw"e"}else if(J=="Layers"){if(m=="getByName"){for(var D=0;
D<u.k.length;D++)if(u.k[D].k.getName()==C[0]){A=u.k[D];break}if(A==null)q.__throw={message:"No layer with a name "+C[0]}}else if(m=="add"){n.data={d:u.d7=="layerSets"?F.Zb:F.O1};
n.b=b.IZ;Z.c(n);n.data=null;A={Np:"Layer",k:Q.g[Q.w[0]]}}else console.log(u,m,C)}else if(u.Np=="Selection"){if(m=="select"){var G=C[0],E=[];
for(var D=0;D<G.length;D++)E.push(G[D][0],G[D][1]);N.data=b.No.qQ(E)}else if(m=="clear"){N.data={ZO:"delete"}}else if(m=="selectAll"){N.data=b.No.W6(!0)}else if(m=="invert"){N.data={ZO:"inverse"}}else if(m=="copy"){e.data={d:r.J.TN}}else if(m=="deselect"){N.data=b.No.W6()}else if(m=="fill"){var L=C[0].k;
L=j.C.sG({p:L[1]*255,T:L[2]*255,S:L[3]*255});N.data=b.Zg.ij("Clr",C[1],C[2]==null?1:C[2]/100,L)}else console.log(u,m,C)}else if(u.Np=="Window"){if(m=="show"){e.data={d:r.J.zH,E$:u.k}}else throw"e"}else if(u.Np=="ActionReference"){if(m=="putProperty"){u.k.push({t:"prop",v:{classID:C[0],keyID:C[1]}})}else if(m=="putClass"){u.k.push({t:"Clss",v:{classID:C[0]}})}else if(m=="putEnumerated"){u.k.push({t:"Enmr",v:{classID:C[0],typeID:C[1],enum:C[2]}})}else if(m=="putName"){u.k.push({t:"name",v:{classID:C[0],val:C[1]}})}else console.log(m,C)}else if(u.Np=="ActionDescriptor"||u.Np=="ActionList"){if(m=="putReference"){u.k[C[0]]={t:"obj ",v:C[1].k}}else if(m=="putDouble"){u.k[C[0]]={t:"doub",v:C[1]}}else if(m=="putUnitDouble"){u.k[C[0]]={t:"UntF",v:{type:C[1],val:C[2]}}}else if(m=="putObject"){if(u.Np=="ActionList"){var c=C[1].k;
c.classID=C[0];u.k.push({t:"Objc",v:c})}else{var c=C[2].k;c.classID=C[1];u.k[C[0]]={t:"Objc",v:c}}}else if(m=="putList"){u.k[C[0]]={t:"VlLs",v:C[1].k}}else if(m=="putBoolean"){u.k[C[0]]={t:"bool",v:C[1]}}else if(m=="putInteger"){u.k[C[0]]={t:"long",v:C[1]}}else if(m=="putString"){u.k[C[0]]={t:"TEXT",v:C[1]}}else if(m=="putEnumerated"){var k={};
k[C[1]]=C[2];u.k[C[0]]={t:"enum",v:k}}else if(m=="hasKey"){var I=u.k.null.v;for(var D=0;D<I.length;D++){if(I[D].v.keyID==C[0]){if(C[0]=="UsrM"){return Q.g[Q.w[0]].Te()!=null}else throw C}}}else console.log(m,C)}else if(u.Np=="$"){if(m=="writeln"){console.log(C[0])}else throw m}else if(u.Np=="UI"){var Y;
if(m=="zoomIn"||m=="zoomOut"){Y={d:"zoom",_o:m=="zoomIn"}}else if(m=="fitTheArea"){Y={d:"adapt",k:"fitscr"}}else if(m=="pixelToPixel"){Y={d:"adapt",k:"pixel"}}n.b=b.Uz;
n.data=Y}else console.log(u,m,C);if(n.data)Z.c(n);if(N.data)Z.c(N);if(e.data)Z.c(e);return A};bp.f0.W_=function(u,m,C){var Z=new eY(r.E.H,!0);
Z.b=b.zj;var q=new eY(r.E.od,!0);if(C==0){bp.f0.aeI=u.q;q.data=b.No.W6(!0)}else{var J=bp.f0.aeI;if(J)Z.data={d:"setsel",wy:"Restore Selection",q:{rect:J.rect.clone(),channel:J.channel.slice(0)}};
else q.data=b.No.W6()}m.c(Z.data?Z:q)};bp.f0.aeI=null;bp.f0.Cq={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}};
bp.f0.Cq.ColorBlendMode=bp.f0.Cq.BlendMode;bp.f0.G0="---- SoLd TySh SoCo GdFl PtFl".split(" ");function bG(){}bG.HB={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
bG.T5={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
bG.a1l=function(u,m){if(m==null)m={};var C=bG.T5,Z=[],q=[],J="";for(var D=0;D<u.length;D++){var A=u[D],n=C[A[0]+""];
if(n&&m[n]==null)m[n]=A[1];else if(A[0]==12)q.push(A[1]);else if(A[0]==25)Z.push(A[1]);else if(A[0]==55)J=A[1];
else if(A[0]==60)J+=";"+A[1]}if(J!=""&&m["exif:DateTimeOriginal"]==null)m["exif:DateTimeOriginal"]=J;
if(q.length!=0&&m["Iptc4xmpCore:SubjectCode"]==null)m["Iptc4xmpCore:SubjectCode"]=q.join(";");if(Z.length!=0&&m["dc:Keywords"]==null)m["dc:Keywords"]=Z.join(";");
return m};bG.am0=function(u){var m=bG.T5,C=[];for(var Z in m)if(u[m[Z]])C.push([parseInt(Z),u[m[Z]]]);
if(u["Iptc4xmpCore:SubjectCode"]){var q=u["Iptc4xmpCore:SubjectCode"].split(";");for(var D=0;D<q.length;
D++)C.push([12,q[D].trim()])}if(u["dc:Keywords"]){var q=u["dc:Keywords"].split(";");for(var D=0;D<q.length;
D++)C.push([25,q[D].trim()])}C.sort(function(J,A){return J[0]-A[0]});return C};bG.ao_=function(u,m){if(m==null)m={};
var C=new DOMParser,Z=C.parseFromString(u,"image/svg+xml"),q=Z.getElementsByTagName("rdf:Description")[0];
if(q==null)return m;var J=bG.HB;for(var A in J){var n=J[A][2];if(n==null)continue;var N=q.getElementsByTagName(n)[0];
if(N==null)continue;var e=N.getElementsByTagName("rdf:li"),Q=[];for(var D=0;D<e.length;D++)Q.push(e[D].textContent);
m[A]=Q.join("; ")}return m};bG.a0E=function(u){var m=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],C=bG.HB;
for(var Z in C){var q=u[Z],J=C[Z][2],A="Seq",n="";if(q==null||J==null)continue;if(J=="dc:title"||J=="dc:description"){A="Alt";
n=" xml:lang=\"x-default\""}if(J=="dc:subject")A="Bag";m.push("\t<"+J+"><rdf:"+A+">");var N=J=="dc:subject"?q.split(";").join(",").split(","):[q];
for(var D=0;D<N.length;D++)m.push("\t\t<rdf:li"+n+">"+N[D].trim()+"</rdf:li>");m.push("\t</rdf:"+A+"></"+J+">")}m.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return m.join("\n")};bG.a58=function(u){var m=[];for(var D=0;D<u.length;D++)m[D]=u[D][1]==0?0:u[D][0]/u[D][1];
return m};bG.afv=function(u){var m=[];for(var D=0;D<u.length;D++){var C=u[D],Z=1;if(C!=Math.round(C)){Z=1e3;
C=Math.round(C*Z)}m[D]=[C,Z]}return m};bG.XL=function(u,m){var C=bG.HB;if(m==null)m={};for(var Z in C){var q=C[Z][1],J="t"+q;
if(q!=null&&u[J]!=null){var A=u[J];if(q==0)A=A.join(".");else if(q==2||q==4){var n=u["t"+(q-1)];if(n==null)n=[q==2?"N":"E"];
A=bG.a58(A).join(",")+n[0]}else if(q==42034)A=bG.a58(A).join(" ");else if(q==270||q==315){var N=A[0],e=new Uint8Array(N.length);
M.xI(e,0,N);A=M.V6(e)}else A=A[0];m[Z]=A}}if(u.exifIFD)bG.XL(u.exifIFD,m);if(u.gpsiIFD)bG.XL(u.gpsiIFD,m);
return m};bG.aC=function(u,m,C){var Z=bG.HB,J=0,n=0;if(m==null)m={};var q={},A={};for(var N in Z){if(u[N]==null||Z[N][1]==null)continue;
var e=Z[N][1],Q="t"+e,p=m;if(N.startsWith("exif:")){p=q;J++;if(N.startsWith("exif:GPS")){p=A;n++}}var B=u[N];
if(e==0)B=new Uint8Array(B.split(".").map(parseFloat));else if(e==2||e==4){var $=B.length;p["t"+(e-1)]=[B.slice(B.length-1)];
B=bG.afv(B.split(",").map(parseFloat))}else if(e==42034)B=bG.afv(B.split(" ").map(parseFloat));else if(e==270||e==315){var R=M.t2(B);
B=[M.Qi(R,0,R.length)]}else B=[B];p[Q]=B}if(J!=0){m.exifIFD=q;m.t34665=[0]}if(n!=0){m.gpsiIFD=A;m.t34853=[0]}var z=new Date,v=[z.getFullYear(),z.getMonth()+1,z.getDate(),z.getHours(),z.getMinutes(),z.getSeconds()];
for(var D=0;D<6;D++)v[D]=(v[D]+"").padStart(2,"0");m.t305=["Photopea Editor (www.photopea.com)"];if(C!=!0)m.t306=[v[0]+":"+v[1]+":"+v[2]+" "+v[3]+":"+v[4]+":"+v[5]];
return m};var f={};f.akC=0;f.OU=function(){f.akC++;return f.akC};f.a1e="uint8";f.am_=function(){var u=f.a99();
if(u=="")return 0;if(u!=f.$L("_TXZRPB;d7@;")){var m=f.Tc[dZ.pX][dZ.JT],C=m.indexOf(String.fromCharCode(35)),Z;
if(C==-1)return 0;try{Z=JSON.parse(f.Tc[dZ.a5h](m.slice(C+1)))}catch(jg){return 0}var q=Z[f.$L("bQ[ODL<E<M")];
if(q==null||q.length<<2!=64)return 0;var J=dZ.EM(),A=parseInt(q.slice(3*4).split("").reverse().join(""),16)<<16;
if(A<J||q!=dZ.ahM(A,u))return 0;return 2}return 1};f.a99=function(){var u=f.Tc[f.R0("}$z{2*35")][f.$L("W[\\ZQAJ?")],m=String.fromCharCode(46),C=u.split(m);
if(C.length<2)return"";var Z=C.pop();Z=C.pop()+m+Z;return Z};f.ar8=function(){if(f.Tc[dZ.a55][dZ.anl]){var u=new f.Tc[dZ.Kn];
u[dZ.I7](dZ.agC,f.$L("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+f.a99());u[dZ.YV]()}};f.VP=function(){if(window.top!=window.self)return!1;
var u=navigator.userAgent.toLowerCase();if(u.indexOf("android")!=-1)return!1;if(u.indexOf("safari")!=-1&&u.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};f.SG=function(u){this.rs=u;this.a3b=f.L("img");this.Kr=f.L("canvas");
this.AG=null;this.rp="";this.ps=null;this.iI=new dz(0,0);f.zy(this.rs,this.S0.bind(this))};f.SG.prototype.B6=function(u,m){this.AG=u;
if(m)this.rp=m;this.S0()};f.SG.prototype.S0=function(u){if(u)this.iI=f.OR(u,this.rs);var m=this.AG,C=typeof m=="string";
if(!C){var Z=f.F(),q=this.iI,J=m.yt.e,A=m.yt.n,n=typeof m.p8=="string",N=n?this.a3b:this.Kr;if(n)N.setAttribute("src",m.p8);
else{N.width=J;N.height=A;var e=N.getContext("2d"),Q=new ImageData(new Uint8ClampedArray(m.p8.buffer),J,A);
e.putImageData(Q,0,0)}N.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(q.y-m.$k.y/Z)+"px; left:"+(q.x-m.$k.x/Z)+"px; width:"+J/Z+"px; height:"+A/Z+"px");
var p=this.ps;if(p==null||p!=N){if(p)this.rs.removeChild(p);this.rs.appendChild(N);this.ps=N}}else if(this.ps){this.rs.removeChild(this.ps);
this.ps=null}this.rs.setAttribute("style","cursor:"+(C?m:"none")+"; "+this.rp)};f.sn=function(u){return u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
f.lB=function(u,m){u.YI(jg.get([12,41]).charAt(0)+":");m.YI(jg.get([12,42]).charAt(0)+":")};f.L=function(u,m){var C=document.createElement(u);
if(m!=null)C.setAttribute("class",m);return C};f.Da=function(u){while(u.firstChild)u.removeChild(u.firstChild)};
f.Ky=function(u,m){var C=u.getAttribute("class");if(C==null)C="";C=C.split(" ");if(C.indexOf(m)==-1)C.push(m);
u.setAttribute("class",C.join(" "))};f.Jq=function(u,m){var C=u.getAttribute("class");if(C==null)return;
C=C.split(" ");if(C.indexOf(m)!=-1)C.splice(C.indexOf(m),1);u.setAttribute("class",C.join(" "))};f.pZ=function(u){while(!0){if(u==document)return!0;
if(u==null)return!1;u=u.parentNode}};f.Uy=function(u){u.appendChild(f.L("br"))};f.nc=function(u){u.appendChild(f.L("hr"))};
f.WB=function(u,m,C){var Z=new iG([1,12,1],C==null?!0:C,null,!0);if(u)Z.l("click",u.uz,u);if(m)m.appendChild(Z.m);
return Z};f.Tc=document;f.IW=function(u){var m=0;for(var D=0;D<u;D++)m+=Math.random();return m/u<Math.PI/4};
f.$L=function(u){var m="";if(!f.IW(28))u+="-3";for(var D=0;D<u.length;D++){var C=u.charCodeAt(D);if(C<32||126<C)throw"e";
m+=String.fromCharCode(32+(C-32+17+3*D)%95)}return m};f.R0=function(u){var m="";if(!f.IW(28))u+="-1";
for(var D=0;D<u.length;D++){var C=u.charCodeAt(D);C-=32;C+=95e4;C-=17+3*D;C=C%95;m+=String.fromCharCode(32+C)}return m};
f.YH=function(u){var m=Math.random();f.a1e="uint"+(3+m);return new u};(function(){var u=window.PointerEvent,m=u?"pointer":"mouse",C=m+"down",Z=m+"move",q=m+"up",J=!1;
f.oI=function(A,n){A.addEventListener(C,n,J);if(!u)A.addEventListener("touchstart",n,J)};f.zy=function(A,n){A.addEventListener(Z,n,J);
if(!u)A.addEventListener("touchmove",n,J)};f.sQ=function(A,n){A.addEventListener(q,n,J);if(!u)A.addEventListener("touchend",n,J)};
f.am4=function(A,n){A.removeEventListener(C,n,J);if(!u)A.removeEventListener("touchstart",n,J)};f.bU=function(A,n){A.removeEventListener(Z,n,J);
if(!u)A.removeEventListener("touchmove",n,J)};f.YL=function(A,n){A.removeEventListener(q,n,J);if(!u)A.removeEventListener("touchend",n,J)}}());
f.ZF=function(u){u.addEventListener("touchstart",f.CT,!1);u.addEventListener("touchmove",f.CT,!1);u.addEventListener("touchend",f.CT,!1);
u.addEventListener("gesturestart",f.CT,!1);u.addEventListener("gesturechange",f.CT,!1);u.addEventListener("gestureend",f.CT,!1)};
f.hs=function(u,m,C,Z){var q=f.F();u.width=Math.floor(m*q);u.height=Math.floor(C*q);if(Z)Z.scale(q,q);
f.a9a(u)};f.a9a=function(u){var m=f.F();u.style.width=u.width/m+"px";u.style.height=u.height/m+"px"};
f.iz=function(u,m,C){u.setAttribute("style","width:"+m/f.F()+"px; height:"+C/f.F()+"px")};f.OR=function(u,m){if(m==null)m=u.currentTarget;
var C=m.getBoundingClientRect();if(u.touches)u=u.touches.item(0);return{x:u.clientX-C.left,y:u.clientY-C.top}};
f.F=function(){return window.devicePixelRatio||1};f.xC=function(u){u.addEventListener("keydown",f.asz,!1)};
f.asz=function(u){u.stopPropagation()};f.CT=function(u){u.preventDefault()};f.Qn=function(u){u.stopPropagation();
u.preventDefault()};f.hS=function(u,m,C){C=C?C:"";if(PIMG["__"+u]==null)C+=" gsicon";return"<img src=\""+PIMG[u]+"\" alt=\""+(m?m:"")+"\" class=\""+C+"\" />"};
f.I1=function(u,m,C,Z){var q=u.dataTransfer.getData("text/uri-list");if(q!=null&&q.startsWith("http")){var J=new eY(r.E.z,!0);
J.data={d:r.J.x2,no:{url:q,u5:!0,fM:C,U8:Z}};m.c(J)}if(u.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var A=[],n=u.dataTransfer.items.length,N=u.dataTransfer.files;
for(var e of u.dataTransfer.items)e.getAsFileSystemHandle().then(function(Q){A.push(Q);if(A.length==n){var J=new eY(r.E.z,!0);
J.data={d:r.J.r8,data:N,fM:C,U8:Z,aip:A};m.c(J)}})}else{var J=new eY(r.E.z,!0);J.data={d:r.J.r8,data:u.dataTransfer.files,fM:C,U8:Z};
m.c(J)}};if(f.IW(27))f.Tc=window;else f.Tc=f.a1p;f.Tc._cwY=f.Tc[f.R0("t$&!'31")];var dF={};dF.ap$=function(D){var u=dF.Kz[D],m=document.documentElement.style,Z=1;
m.setProperty("--base","#"+j.U0(u["--base"]));m.setProperty("--bg-panel","#"+j.U0(u["--bg-panel"]));
m.setProperty("--bg-canvas","#"+j.U0(u["--bg-canvas"]));m.setProperty("--bg-input","#"+j.U0(u["--bg-input"]));
m.setProperty("--bg-bbtn","#"+j.U0(u["--bg-bbtn"]));m.setProperty("--bg-bbtnOver","#"+j.U0(u["--bg-bbtnOver"]));
m.setProperty("--brdr","#"+j.U0(u["--brdr"]));m.setProperty("--text-color","#"+j.U0(u["--text-color"]));
m.setProperty("--brdrLgt","rgba(255,255,255,"+u["--brdrLgt"]+")");m.setProperty("--brdrDrk","rgba(  0,  0,  0,"+u["--brdrDrk"]+")");
m.setProperty("--alphaDark",""+u["--alphaDark"]);m.setProperty("--gs-invert",""+u["--gs-invert"]);var C=u["--sh-clr"];
m.setProperty("--sh-clr","rgba("+(C>>16)+","+(C>>8&255)+","+(C&255)+", 0.45)");m.setProperty("--sh-dy",""+u["--sh-dy"]+"px");
if(1<f.F()&&f.F()<1.5)Z=1/f.F();m.setProperty("--img20",20*Z+"px");m.setProperty("--img18",18*Z+"px");
if(PIMG!=null){var q="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var D=0;D<q.length;D++){var J=q[D],A=J.split("/").pop(),n=PIMG["__"+J]==null?u["--gs-invert"]:"0";
m.setProperty("--icon_"+A,"url("+PIMG[J]+")");m.setProperty("--icon_"+A+"_invrt",n)}}var N=document.querySelector("meta[name=theme-color]");
if(N)N.setAttribute("content","#"+j.U0(u["--base"]))};dF.Kz=[{name:"Light Grey","--base":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Dark Grey","--base":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"White","--base":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Black","--base":3487029,"--bg-panel":2434341,"--bg-canvas":1710618,"--bg-input":2434341,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14671839,"--gs-invert":.78,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1}];
function az(){this.q0={};this.lS={}}az.prototype.a6d=function(u){var m=this.q0[u];if(m==null)return!1;
return m.length>0};az.prototype.addEventListener=function(u,m){this.l(u,m,null)};az.prototype.l=function(u,m,C){if(this.q0[u]==null){this.q0[u]=[];
this.lS[u]=[]}this.q0[u].push(m);this.lS[u].push(C)};az.prototype.removeEventListener=function(u,m){var C=this.q0[u];
if(C==null)return;var Z=C.indexOf(m);if(Z<0)return;var q=this.lS[u];C.splice(Z,1);q.splice(Z,1)};az.prototype.c=function(u){u.currentTarget=this;
if(u.target==null)u.target=this;var m=this.q0[u.type];if(m==null)return;var C=this.lS[u.type];for(var D=0;
D<m.length;D++){if(C[D]==null)m[D](u);else m[D].call(C[D],u)}};var eY=function(u,m){if(!m)m=!1;this.type=u;
this.target=null;this.currentTarget=null;this.bubbles=m;this.b=null;this.Ua=!1},r={E:{H:"0",z:"1",od:"1.5",o:"2",t3:"3",al_:"4"},J:{Ab:"10",ek:"11",tK:"12",a4:"13",q$:"14",aej:"14.1",x2:"15",zZ:"16",Dt:"17",tt:"18",lg:"19",a00:"19.5",amj:"20",ck:"21",TN:"22",Dr:"23",lO:"24",zH:"25",h9:"26",n1:"27",Go:"28",a0L:"29",r8:"30",K3:"31",WO:"32",j6:"33",zW:"34",mh:"35",a4Q:"35.5",VR:"37",aaA:"38",m4:"39",VQ:"40",En:"41",MH:"41.5",ahC:"42",KA:"43",a46:"43.5",Zi:"44",a4W:"45",Hd:"46",Re:"47",nd:"48",Wy:"49",aex:"50",QK:"51"}};
function bK(){az.call(this);this.parent=null;this.m=null;this.du=0;this.Oh=0}bK.prototype=new az;bK.prototype.ajd=function(u){var jt=this;
while(jt!=null){if(jt==u)return!0;jt=jt.parent}return!1};bK.prototype._p=function(){var u=this.m;return u.offsetWidth+u.clientLeft};
bK.prototype.a6r=function(){var u=this.m;return u.offsetHeight+u.clientTop};bK.prototype.update=function(u){};
bK.prototype.c=function(u){az.prototype.c.call(this,u);if(u.bubbles&&this.parent!=null)this.parent.c(u)};
bK.prototype._=function(){};bK.prototype.CC=function(u,m){};bK.prototype.mq=function(u){f.Ky(this.m,"disabled")};
bK.prototype.BD=function(u){f.Jq(this.m,"disabled")};bK.prototype.Oi=function(u){if(u)this.BD();else this.mq()};
function bX(u){bK.call(this);this.Yc=[];this.m$=!1;this.ag9=0;this.P0={x:0,y:0,Ct:!1};this.CR=u;this.amf=this.AT.bind(this);
this.Ah=this.rB.bind(this);this.ajv=this.kP.bind(this);f.oI(u,this.amf);f.zy(u,this.Ah);u.addEventListener("wheel",this.YU.bind(this),!1);
u.addEventListener("contextmenu",this.a3c.bind(this),!1);var m=this.aaT.bind(this);u.addEventListener("gesturestart",m,!1);
u.addEventListener("gesturechange",m,!1);u.addEventListener("gestureend",m,!1);f.ZF(u)}bX.prototype=new bK;
bX.prototype.aaT=function(u){if(u.type=="gesturestart")this.Tt=u.scale;if(u.type=="gesturechange"){var m=new eY("mouse",!0);
m.action="scroll";m.$J=!0;this.I8(u,m);var C=(this.Tt-u.scale)/this.Tt;m.TZ=new dz(0,100*C);this.Tt=u.scale;
this.c(m)}};bX.prototype.Sj=function(u){var m=-1,C=this.Yc;for(var D=0;D<C.length;D++)if(C[D].pointerId==u.pointerId)m=D;
return m};bX.u2=function(u){if(u.which==2)return!0;var m=u.pointerType,C=window.__kb;return m=="touch"&&C.j(hs.afq)};
bX.prototype.AT=function(u){if(bX.u2(u))return;var m=this.Sj(u);if(m!=-1)this.Yc[m]=u;else this.Yc.push(u);
if(this.Yc.length==1){this.ag9=Date.now();var C=u.button!=null&&u.button!=0?"rdown":"down",Z=new eY("mouse",!0);
Z.action=C;this.I8(u,Z);this.c(Z);f.bU(this.CR,this.Ah);f.zy(window,this.Ah);f.sQ(window,this.ajv)}if(this.Yc.length==2){if(Date.now()-this.ag9<100){var Z=new eY("mouse",!0);
Z.action="cancellast";this.I8(u,Z);this.c(Z)}this.a7n("multidown");this.m$=!0}};bX.prototype.rB=function(u){if(bX.u2(u))return;
var m=this.Sj(u);if(m!=-1)this.Yc[m]=u;if(this.Yc.length>1){this.a7n("multimove")}if(this.m$)return;
if(this.Yc.length==1&&m==-1)return;var C=new eY("mouse",!0);C.action="move";this.I8(u,C);this.c(C)};
bX.prototype.kP=function(u){if(bX.u2(u))return;var m=this.Yc,C=this.Sj(u);if(C!=-1)m.splice(C,1);else return;
if(m.length==0){var Z=u.button!=null&&u.button>0?"rup":"up",q=new eY("mouse",!0);q.action=Z;this.I8(u,q);
this.c(q);f.bU(window,this.Ah);f.YL(window,this.ajv);f.zy(this.CR,this.Ah);this.m$=!1}};bX.prototype.YU=function(u){u.preventDefault();
if(u.deltaX==0&&u.deltaY==0)return;var m=new eY("mouse",!0);m.action="scroll";m.$J=u.ctrlKey;this.I8(u,m);
this.c(m)};bX.prototype.a3c=function(u){f.Qn(u);var m=u.sourceCapabilities;if(m)m=m.firesTouchEvents;
if(m){var C=new eY("mouse",!0);this.I8(u,C);C.action="rdown";this.c(C);C.action="rup";this.c(C)}};bX.prototype.a7n=function(u){var m=this.Yc,C=f.F(),Z=[];
for(var D=0;D<m.length;D++){var q=Z[D]=f.OR(m[D],this.CR);q.x*=C;q.y*=C}var J=new eY("mouse",!0);J.action=u;
J.Ww=Z;if(m.length<=2)this.c(J)};bX.prototype.I8=function(u,m,C){var Z=this.Yc.length!=0;if(m.action!="up"){var q=f.F();
if(C==null)C=f.OR(u,this.CR);this.P0=m.vB={x:q*C.x,y:q*C.y,Ct:Z};var J=f.OR(u,document.body);m.vB.Mt=J.x;
m.vB.GY=J.y}else this.P0=m.vB={x:this.P0.x,y:this.P0.y,Ct:Z};m.vB.Zt=.5;if(u.pressure!=null&&u.pressure!=0)m.vB.Zt=u.pressure;
if(u.pointerType=="mouse")m.vB.Zt*=2;m.vB.as0=u.pointerType;if(u.deltaX!=null){var A=u.deltaMode==0?1:40;
m.TZ=new dz(u.deltaX*A,u.deltaY*A)}};function dk(u,m,C){bK.call(this);this.pI=null;this.ah3=this.kP.bind(this);
this.aoO=this.c9.bind(this);this.atp=this.a4I.bind(this);this.ai2=this.at4.bind(this);this.T0=[];this.be=[];
this.$D=[];this.a8U=[];this.m=f.L("div","contextpanel "+(C?"cp_dark":"cp_light"));this.m.addEventListener("contextmenu",f.CT,!1);
this.ku=null;this.uJ=0;this.aaR=u;this.E0=m;this.XP=[];for(var D=0;D<u.length;D++){var Z=f.L("div","enab");
this.be.push(Z);this.m.appendChild(Z);if(u[D].Qo){var q=f.L("img","thumb"+(C?" gsicon":""));q.setAttribute("src",PIMG[u[D].Qo]);
Z.appendChild(q)}else{var J=f.L("span","check");this.a8U.push(J);Z.appendChild(J)}var A=f.L("span","label");
A.innerHTML=jg.get(u[D].name);Z.appendChild(A);this.$D.push(A);if(u[D].ZR)this.m.appendChild(f.L("hr"));
if(u[D].B8||u[D].sub){var n=f.L("span","right");Z.appendChild(n);if(u[D].B8)n.innerHTML=hs.yY(u[D].B8);
if(u[D].sub)n.innerHTML="\u25B6"}Z.addEventListener("click",this.ah3,!1);Z.addEventListener("mouseover",this.aoO,!0);
Z.addEventListener("mouseout",this.atp,!0);if(u[D].sub){var N=new dk(u[D].sub,m?m[D].sub:null);N.parent=this;
this.XP.push(N);N.l("select",this.a0n,this)}else this.XP.push(null)}}dk.prototype=new bK;dk.prototype.agu=function(u){f.Da(this.m);
for(var D=0;D<u.length;D++)if(u[D]!=0&&u[D]!=null){this.m.appendChild(this.be[D]);if(u[D]!=1&&this.XP[D])this.XP[D].agu(u[D])}};
dk.prototype._=function(){var u=this.aaR;for(var D=0;D<u.length;D++){if(u[D].title)this.be[D].title=jg.get(u[D].title);
this.$D[D].textContent=jg.get(u[D].name)+(u[D].mG?"...":"")}for(var D=0;D<this.XP.length;D++)if(this.XP[D])this.XP[D]._()};
dk.prototype.update=function(u,m){var C=this.aaR;for(var D=0;D<C.length;D++){if(C[D].P){var Z=C[D].P(u,m,D);
if(Z.P!=null)this.be[D].setAttribute("class",Z.P?"enab":"disab");if(Z.hD!=null)this.$D[D].textContent=Z.hD;
if(Z.XH!=null)this.a8U[D].textContent=Z.XH?"\u2713":"";if(Z.R!=null)this.E0[D]=Z.R}}for(var D=0;D<this.XP.length;
D++)if(this.XP[D])this.XP[D].update(u,m)};dk.prototype.dm=function(){return this.T0};dk.prototype.kP=function(u){if(u.button!=0)return;
var D=this.be.indexOf(u.currentTarget);if(this.XP[D]){this.uJ=D;this.at4()}else{if(this.E0){var m=this.E0[D],C=new eY(m.W,!0);
C.b=m.b;C.data=m.R;this.c(C)}this.pI=null;this.T0=[D];this.c(new eY("select",!1));var C=new eY(r.E.z,!0);
C.data={d:r.J.a4};this.c(C)}};dk.prototype.c9=function(u){var D=this.be.indexOf(u.currentTarget);if(this.ku){clearTimeout(this.ku);
this.ku=null}if(this.XP[D]==null)return;this.uJ=D;this.ku=setTimeout(this.ai2,300)};dk.prototype.a4I=function(u){var D=this.be.indexOf(u.currentTarget);
if(this.ku){clearTimeout(this.ku);this.ku=null}};dk.prototype.at4=function(){if(this.ku){clearTimeout(this.ku);
this.ku=null}var D=this.uJ;if(this.pI)this.pI.a5q();this.pI=this.XP[D];var u=this.be[D].getBoundingClientRect(),m=new eY(r.E.z,!0);
m.data={d:r.J.ek,Vl:this.XP[D],x:u.left+u.width+2,y:u.top};this.c(m)};dk.prototype.a5q=function(){for(var D=0;
D<this.XP.length;D++)if(this.XP[D])this.XP[D].a5q();var u=new eY(r.E.z,!0);u.data={d:r.J.tK,Vl:this};
this.c(u)};dk.prototype.a0n=function(u){var D=this.XP.indexOf(u.target);this.T0=[D].concat(u.target.dm());
this.c(new eY("select",!1))};function aG(u,m,C){bK.call(this);this.m=f.L("span","fitem cbox");if(m==null)m=!0;
if(C==null)C="flabel";var Z="cb"+f.OU();this.L8=f.L("input","");this.L8.setAttribute("type","checkbox");
this.L8.setAttribute("id",Z);this.m.appendChild(this.L8);this.V0=u;this.zf=f.L("label",C);if(m)this.zf.setAttribute("for",Z);
this.m.appendChild(this.zf);this._();this.L8.addEventListener("change",this.ci.bind(this),!1)}aG.prototype=new bK;
aG.prototype.a0c=function(){return this.V0};aG.prototype.YI=function(u){this.zf.textContent=u};aG.prototype._=function(){var u=this.V0;
if(typeof u=="string"&&u.startsWith("<"))this.zf.innerHTML=u;else this.zf.textContent=jg.get(u)};aG.prototype.Lo=function(){this.L8.checked=!0};
aG.prototype.Ff=function(){this.L8.checked=!1};aG.prototype.Ia=function(){return this.L8.checked};aG.prototype.f=function(u){this.L8.checked=u};
aG.prototype.Y=aG.prototype.Ia;aG.prototype.ci=function(u){this.c(new eY(r.E.o,!1))};function i7(u,m){bK.call(this);
this.V0=u;this.m=f.L("span","labelitem fitem"+(m?" spread":""));this._()}i7.prototype=new bK;i7.prototype.f=function(u){this.m.textContent=u};
i7.prototype.Y=function(){return this.m.textContent};i7.prototype.BD=function(){this.m.removeAttribute("disabled")};
i7.prototype.mq=function(){this.m.setAttribute("disabled","")};i7.prototype.YI=function(u){this.m.textContent=u};
i7.prototype._=function(){this.m.textContent=jg.get(this.V0)};i7.prototype.a0c=function(){return this.V0};
function iG(u,m,C,Z,q){bK.call(this);this.m=f.L("button","fitem"+(m?" spread":"")+(Z?" bbtn":""));this.V0=u;
this.U$=C;this._();var J=q&&window.PointerEvent?"pointerup":"click";this.m.addEventListener(J,this.ve.bind(this),!1)}iG.prototype=new bK;
iG.prototype._=function(){var u=this.m,m=this.V0,C=this.U$,Z=jg.get(m);if(Z.startsWith("<img")||Z.startsWith("<svg")||Z.startsWith("<span"))u.innerHTML=Z;
else u.textContent=Z;if(Z.startsWith("<img")||Z.startsWith("<svg")||Z.startsWith("<span"))u.setAttribute("style","padding:2px");
if(C){u.setAttribute("title",jg.get(C))}};iG.prototype.ak2=function(u){this.m.setAttribute("title",u)};
iG.prototype.ve=function(u){this.c(new eY("click",!1))};iG.prototype.Lo=function(){f.Ky(this.m,"bactive")};
iG.prototype.Ff=function(){f.Jq(this.m,"bactive")};iG.prototype.YI=function(u,m){if(u)this.V0=u;if(m)this.U$=m;
this._()};iG.prototype.f=function(u){if(u)this.Lo();else this.Ff()};iG.prototype.Ia=function(){return this.m.getAttribute("class").indexOf("bactive")!=-1};
iG.prototype.Y=function(){return this.Ia()};function jC(u,m,C,Z,q){bK.call(this);var J=f.OU();this.m=f.L("span","fitem tinput");
if(u){this.V0=u;this.zf=f.L("label","flabel");this.m.appendChild(this.zf);this.zf.setAttribute("for",J);
this._()}if(q){this.L8=f.L("span")}else if(Z==null){this.L8=f.L("input");this.L8.setAttribute("type","text")}else this.L8=f.L("textarea","scrollable");
this.L8.setAttribute("id",J);if(C)this.L8.setAttribute("style","width:"+C+"em;"+(q?" display:inline-block; margin-left:6px;":""));
if(Z)this.L8.setAttribute("rows",Z);this.m.appendChild(this.L8);if(m){this.B2=f.L("span");this.B2.textContent=m;
this.m.appendChild(this.B2)}f.xC(this.L8);this.L8.addEventListener("change",this.ci.bind(this),!1);this.L8.addEventListener("input",this.acr.bind(this),!1)}jC.prototype=new bK;
jC.prototype._=function(){if(this.V0)this.zf.textContent=jg.get(this.V0)+":"};jC.prototype.YI=function(u){this.zf.textContent=u};
jC.prototype.f=function(u){var m=this.L8,C=u==null?"":u,Z=m.tagName=="SPAN";if(Z){m.textContent=" "+C;
if(this.B2)m.appendChild(this.B2)}else m.value=C};jC.prototype.Y=function(){return this.L8.value};jC.prototype.ti=function(){this.L8.select();
this.L8.focus()};jC.prototype.ci=function(u){this.c(new eY(r.E.o,!1))};jC.prototype.acr=function(u){this.c(new eY("input",!1))};
function bZ(u,m,C,Z,q,J,A,n,N){bK.call(this);if(q==null)q=0;this.m=f.L("span","fitem");var e=f.OU();
this.V0=u;this.U$=n;this.AG=0;this.ahJ=N;this.M5=m;this.Sb=C;this.lc=null;if(Z instanceof Array){this.lc=Z;
Z=Z[0]}this.OG=Z;this.kk=q;this.agw=J;this.XN=A;this.nY=0;this.zf=f.L("label","flabel");this.zf.innerHTML=u;
this.zf.setAttribute("style","cursor:col-resize;");this.Xg=f.L("input","");this.Xg.setAttribute("type","range");
if(A){this.Xg.min=0;this.Xg.max=400}else{this.Xg.min=m;this.Xg.max=C;if(q!=0)this.Xg.step=(C-m)/200}this.L8=f.L("input","");
this.L8.setAttribute("type","text");this.L8.setAttribute("id",e);this.B2=f.L("span","");this.B2.innerHTML=Z;
f.xC(this.L8);this.L8.addEventListener("change",this.ci.bind(this),!1);this.L8.addEventListener("keydown",this.Df.bind(this),!1);
this.L8.addEventListener("wheel",this.YU.bind(this),!1);this.Xg.addEventListener("input",this.ci.bind(this),!1);
if(N)this.Xg.addEventListener("change",this.ci.bind(this),!1);this.Xg.addEventListener("click",this.atB.bind(this),!1);
this.a3C=this.a5z.bind(this);this.aeO=this.apf.bind(this);this.ah6=this.ap_.bind(this);this.iQ=0;this.tC=0;
this.pd=!1;f.oI(this.zf,this.a3C);f.ZF(this.zf)}bZ.prototype=new bK;bZ.prototype.ha=function(u){this.kk=u};
bZ.prototype.YI=function(u){this.zf.textContent=u};bZ.prototype._=function(){var jt=this.V0,u=this.U$;
if(jt){if(typeof jt=="string"&&jt.startsWith("<"))this.zf.innerHTML=jt;else this.zf.textContent=jg.get(jt)+":"}if(u){u=jg.get(u);
if(jt)this.zf.setAttribute("title",u);this.L8.setAttribute("title",u)}};bZ.prototype.f=function(u,m){var C=this.M5==this.Sb;
if(!C&&this.M5>=0)u=Math.max(this.M5,u);if(this.kk==0)u=Math.round(u);var Z=this.OG;this.AG=u;this.L8.value=(this.kk!=0?u.toFixed(this.kk):u)+(this.agw&&Z?(Z.toLowerCase()==Z.toUpperCase()?"":" ")+Z:"");
var q=400*Math.pow((u-this.M5)/(this.Sb-this.M5),1/2.7);this.Xg.value=this.XN?q:u;if(m)this.o_()};bZ.prototype.Y=function(){var u=this.AG;
if(isNaN(u))u=0;return u};bZ.prototype.EV=function(){return this.OG};bZ.prototype.ci=function(u){var m=0;
if(u.currentTarget==this.L8){var C=u.target.value,Z=0;m=C==""?0:this.OG?parseFloat(C):eval(C);if(isNaN(m))m=0;
while(Z<C.length&&(C.charAt(Z)=="."||48<=C.charCodeAt(Z)&&C.charCodeAt(Z)<=57))Z++;var q=C.slice(Z).trim();
if(this.lc&&this.lc.indexOf(q)!=-1)this.OG=q}else{if(Date.now()-this.nY<10)return;m=parseFloat(u.target.value);
if(this.XN){m=this.M5+Math.pow(m/400,2.7)*(this.Sb-this.M5);m=this.akQ(m)}}this.f(m);if(u.type=="input"&&this.ahJ)return;
this.o_()};bZ.prototype.o_=function(){this.c(new eY(r.E.o))};bZ.prototype.akQ=function(u){if(this.Sb-this.M5>50&&u>10)u=Math.round(u);
return u};bZ.prototype.Df=function(u){var m=0;if(hs.bD(u.code,hs.sq))m=1;if(hs.bD(u.code,hs.bH))m=-1;
if(m!=0)this.aiq(m,u.shiftKey)};bZ.prototype.YU=function(u){this.aiq(u.deltaY>0?-1:1,u.shiftKey)};bZ.prototype.aiq=function(u,m){var C=this.Y(),Z=this.kk,q=u*(Z==null||Z==0||C>5?1:.1);
if(m)q*=10;var J=C+q;if(!this.XN&&this.Sb!=this.M5)J=Math.min(this.Sb,J);this.f(J);this.o_()};bZ.prototype.atB=function(u){var m=Date.now()-this.nY;
this.nY=Date.now();if(m>200)return;var C=this.M5,Z=this.Sb,q=(C+Z)/2;if(C<1&&Z>1&&Z<10)q=1;else if(C<90&&Z>110)q=100;
else if(C<0&&Z>0)q=0;this.f(q);this.o_()};bZ.prototype.a5z=function(u){f.zy(document,this.aeO);f.sQ(document,this.ah6);
this.iQ=f.OR(u,document.body).x;this.tC=this.Y()};bZ.prototype.apf=function(u){f.Qn(u);var m=this.M5==this.Sb,C=f.OR(u,document.body).x,Z=(C-this.iQ)*(m?1:1/120*(this.Sb-this.M5)),q=this.tC+Z;
if(m)q=Math.round(q);if(!m){if(!0){q=Math.max(this.M5,q);if(q==this.M5){this.iQ=C;this.tC=this.M5}}if(!this.XN){q=Math.min(this.Sb,q);
if(q==this.Sb){this.iQ=C;this.tC=this.Sb}}q=this.akQ(q)}this.pd=!0;this.f(q);this.o_()};bZ.prototype.ap_=function(u){if(!this.pd)this.L8.focus();
this.pd=!1;f.bU(document,this.aeO);f.YL(document,this.ah6)};bZ.prototype.ti=function(){this.L8.select();
this.L8.focus()};function fc(u,m,C,Z,q,J,A,n,N){bZ.call(this,u,m,C,Z,q,!0,J,N);f.Ky(this.m,"rangedropinput");
this.m.appendChild(this.zf);this.L8.setAttribute("style","width:"+(n?n:3.3)+"em");this.m.appendChild(this.L8);
this.ass=f.L("span","rangecont");this.ass.appendChild(this.Xg);this.nw=f.L("button");this.nw.innerHTML="\u25BC";
f.oI(this.nw,this.alM.bind(this));if(A!=!0)this.m.appendChild(this.nw);this.qH=new bK;this.qH.m=this.ass}fc.prototype=new bZ;
fc.prototype.alM=function(u){if(f.pZ(this.qH.m))return;u.stopPropagation();var m=this.m.getBoundingClientRect();
this.Xg.setAttribute("style","width:"+m.width+"px;");var C=new eY(r.E.z,!0);C.data={d:r.J.ek,Vl:this.qH,x:m.left,y:m.top+m.height};
this.c(C)};function fF(u,m,C,Z,q,J){bZ.call(this,u,m,C,Z,q,!1,J);this.m.appendChild(this.zf);var A=f.L("span","rangecont");
this.m.appendChild(A);A.appendChild(this.Xg);this.m.appendChild(this.L8);this.L8.setAttribute("style","width:3.3em");
if(this.OG)this.m.appendChild(this.B2)}fF.prototype=new bZ;function hA(u,m,C,Z,q,J,A,n){bZ.call(this,u,m,C,Z,q,!0,J,null,A);
f.Ky(this.m,"trangeinput");this.m.appendChild(this.zf);this.m.appendChild(this.L8);var N=f.L("span","rangecont");
if(n!=!0)this.m.appendChild(N);N.appendChild(this.Xg);this.Xg.setAttribute("style","width:97%;")}hA.prototype=new bZ;
function fq(u,m,C,Z){bK.call(this);if(!m)return;if(C==null)C=!1;this._q=0;this.ao$=C;this.V0=u;this.T5=null;
this.ajU=Z;this.tu=[];var q="dd"+f.OU();this.m=f.L("span","fitem ddmenu");if(u&&!C){this.zf=f.L("label","flabel");
this.m.appendChild(this.zf);this.zf.setAttribute("for",q)}this.Ok=f.L("select","bbtn");this.Ok.setAttribute("id",q);
this.m.appendChild(this.Ok);this.Ok.addEventListener("change",this.ci.bind(this),!1);function J(A){var n=0;
if(hs.bD(A.code,hs.sq))n=1;if(hs.bD(A.code,hs.bH))n=-1;if(n!=0)A.stopPropagation()}this.Ok.addEventListener("keydown",J,!1);
this.Ok.addEventListener("keyup",J,!1);this.pa=[];this.BA=null;this.D5(m,Z);this._()}fq.prototype=new bK;
fq.prototype.YI=function(u){this.V0=u;this._()};fq.prototype._=function(){if(this.V0!=null){var u=jg.get(this.V0);
if(this.ao$)this.Ok.setAttribute("title",u);else this.zf.textContent=u+":"}if(this.BA)this.D5(this.BA,this.ajU);
this.f(this._q)};fq.prototype.Y=function(){return this._q};fq.prototype.D5=function(u,m){f.Da(this.Ok);
var C=[],Z=0;if(m){C.push(m[0]);for(var D=1;D<m.length;D++)C.push(C[D-1]+m[D])}this.BA=u;this.T5=[];
this.ajU=m;for(var D=0;D<u.length;D++){var q=f.L("option");if(this.tu.indexOf(D)!=-1)q.setAttribute("disabled","");
q.textContent=jg.get(u[D]);q.setAttribute("value",D);this.Ok.appendChild(q);this.pa.push(q);this.T5.push(D+Z);
if(C.indexOf(D+1)!=-1&&D!=u.length-1){var J=f.L("option");J.setAttribute("disabled","");J.textContent="";
this.Ok.appendChild(J);Z++}}};fq.prototype.acs=function(D){var u=this.tu,m=u.indexOf(D);if(m==-1)u.push(D);
this._()};fq.prototype.aph=function(D){var u=this.tu,m=u.indexOf(D);if(m!=-1)u.splice(m,1);this._()};
fq.prototype.f=function(u){this._q=u;this.Ok.selectedIndex=this.T5[u]};fq.prototype.ci=function(u){this._q=this.T5.indexOf(this.Ok.selectedIndex);
this.c(new eY(r.E.o,!1))};function ja(u,m,C,Z){bK.call(this);if(!m)return;this._q=0;this.anf=Z;this.m=f.L("span","fitem bbmenu");
if(u){this.V0=u;this.zf=f.L("label","flabel");this.zf.textContent=u+":";this.m.appendChild(this.zf)}this.pa=[];
this.BA=null;this.D5(m,C);this.f(0)}ja.prototype=new bK;ja.prototype.YI=function(u){this.V0=u;this._()};
ja.prototype._=function(){if(this.V0!=null){this.zf.textContent=jg.get(this.V0)+": "}for(var D=0;D<this.pa.length;
D++)this.pa[D]._()};ja.prototype.Y=function(){return this._q};ja.prototype.D5=function(u,m){while(this.pa.length>0)this.m.removeChild(this.pa.pop().m);
this.BA=u;for(var D=0;D<u.length;D++){var C=new iG(u[D],!1,m?m[D]:null,this.anf);C.l("click",this.ci,this);
this.m.appendChild(C.m);this.pa.push(C)}this._()};ja.prototype.f=function(u){this._q=u;for(var D=0;D<this.pa.length;
D++)this.pa[D].Ff();this.pa[u].Lo()};ja.prototype.ci=function(u){var D=this.pa.indexOf(u.target);this.f(D);
this.c(new eY(r.E.o,!1))};ja.vu=function(u,m){if(m==null)m=16;var C=ja.Kr,Z=C.getContext("2d"),q=m>>>1;
C.width=C.height=m;var J=[];for(var D=0;D<u.length;D++){if(u[D][0]=="-")J.push(u[D].slice(1));else if(u[D]=="checker"||u[D].startsWith("#")){if(u[D]=="checker"){Z.fillStyle="white";
Z.fillRect(0,0,m,m);Z.fillStyle="#bbbbbb";Z.fillRect(q,0,q,q);Z.fillRect(0,q,q,q)}else if(u[D].startsWith("#")){Z.fillStyle=u[D];
Z.fillRect(0,0,m,m)}J.push("<img src=\""+C.toDataURL()+"\" />")}else J.push(f.hS(u[D],null,"autoscale"))}return J};
ja.Kr=f.L("canvas");function jI(u,m,C,Z,q,J){bK.call(this);this.m=f.L("span","fitem mbox");this.aom=C;
this.acW=q;if(u){this.V0=u;this.zf=f.L("label","flabel");this.m.appendChild(this.zf)}this.lI=m;this.Eg=[];
for(var D=0;D<m.length;D++){var A=C?new iG(m[D],!1,Z?Z[D]:null,!1,J):new aG(m[D],!0,"");A.l(C?"click":r.E.o,this.ci,this);
this.Eg.push(A);this.m.appendChild(A.m)}this._()}jI.prototype=new bK;jI.prototype.f=function(u){for(var m=0;
m<this.lI.length;m++)this.Eg[m].f(u[m])};jI.prototype.Y=function(){var u=[];for(var m=0;m<this.lI.length;
m++)u[m]=this.Eg[m].Y();return u};jI.prototype._=function(){if(this.V0)this.zf.innerHTML=jg.get(this.V0)+": ";
var u=this.Eg;for(var m=0;m<u.length;m++){u[m]._();if(m==u.length-1)u[m].m.style.marginRight="0px"}};
jI.prototype.ci=function(u){var D=this.Eg.indexOf(u.currentTarget),m=this.Eg[D];if(this.aom)m.f(!m.Y());
if(this.acW){var C=m.Y();for(var D=0;D<this.Eg.length;D++)this.Eg[D].f(!1);m.f(C)}this.c(new eY(r.E.o,!1))};
function dc(u,m){bK.call(this);this.EN=[];this.w=[];this.asp=u;this.bJ=m;this.Xt=0;this.b$=null;this.iI=new dz(0,0);
if(m!=null){this.M9=new dk([{name:[6,37]},{name:[5,4]}]);this.M9.parent=this;this.M9.l("select",this.D3,this)}this.m=f.L("div","imageset scrollable");
this.m.addEventListener("contextmenu",f.CT,!1)}dc.prototype=new bK;dc.prototype._=function(){if(this.M9)this.M9._()};
dc.prototype.D3=function(u){var D=this.M9.dm()[0],m=new eY(r.E.z,!0),C={d:r.J.mh,no:this.bJ,Qa:this.w.slice(0)};
if(D==0){var Z=this.b$[1][this.w[0]];C.lC="rnm";m.data={d:r.J.zH,E$:"namewindow",qf:Z,Na:{W:r.E.z,R:C}}}else{m.data=C;
C.lC="del"}this.c(m)};dc.prototype.aoK=function(){return this.Xt};dc.prototype.$R=function(u){this.Xt=u;
if(this.b$)this.L9()};dc.prototype.JM=function(u,m,C,Z){this.b$=[u,m,C,Z];this.L9()};dc.prototype.L9=function(){var u=this.b$,m=u[0],C=u[1],Z=u[2],q=u[3];
this.EN=[];this.m.innerHTML="";var J=this.ve.bind(this),A=this.Xt;if(A==0)f.Ky(this.m,"imageset");else f.Jq(this.m,"imageset");
for(var D=0;D<m.length;D++){var n=m[D],N=null;if(n==null){this.EN.push(null);continue}if(typeof n=="string"){N=f.L("img","image");
N.setAttribute("src",n)}else N=n;if(Z)f.iz(N,Z,q);if(this.asp)f.Ky(N,"gsicon");if(A==0){}else{var e=f.L("div","listitem");
e.appendChild(N);var Q=f.L("span");Q.textContent=C?C[D]:"Item "+(D+1);Q.setAttribute("style","margin-left:4px;");
e.appendChild(Q);N=e}if(C)N.setAttribute("title",C[D]);N.addEventListener("mousedown",J,!1);this.EN.push(N);
this.m.appendChild(N)}};dc.prototype.ve=function(u){if(this.bJ==null)u.preventDefault();var m=this.EN.indexOf(u.currentTarget),C=window.__kb,Z=this.w,q=Z.length;
if(C.j(hs.KP)){var J=Math.min(Z[0],Z[Z.length-1],m),A=Math.max(Z[0],Z[Z.length-1],m);Z=[];for(var D=J;
D<=A;D++)Z.push(D)}else if(C.j(hs.Vw)){var n=Z.indexOf(m);if(n==-1)Z.push(m);else Z.splice(n,1)}else Z=[m];
Z.sort(function(p,B){return p-B});if(u.button==0||q==1)this.f(Z);this.iI=f.OR(u,u.currentTarget);if(u.button==0)this.c(new eY(r.E.o));
if(u.button==2&&this.M9){var N=this.M9;N.update(null);var e=f.OR(u,document.body),Q=new eY(r.E.z,!0);
Q.data={d:r.J.ek,Vl:N,x:e.x,y:e.y+2};this.c(Q)}};dc.prototype.Y=function(){return this.w.slice(0)};dc.prototype.a05=function(){var u=this.iI;
return new dz(u.x,u.y)};dc.prototype.f=function(u){this.w=u.slice(0);for(var D=0;D<this.EN.length;D++){var m=this.EN[D];
if(m==null)continue;if(u.indexOf(D)!=-1)f.Ky(m,"selected");else f.Jq(m,"selected")}};function eh(u,m,C,Z,q,J,A){bK.call(this);
this.m=f.L("span","fitem "+C);this.J1=new bK;this.J1.m=f.L("div","floatcont");this.J1.m.setAttribute("style","width: "+(Z+1.5)+"em;");
this.J1.parent=this;this.apM=f.L("div");this.J1.m.appendChild(this.apM);this.mW=f.L("div");this.J1.m.appendChild(this.mW);
if(u){this.V0=u;this.zf=f.L("label","flabel");this.m.appendChild(this.zf)}this.d=f.L("button",A?"nopadding":"");
this.d.setAttribute("style","position:relative;");var n=this.LF.bind(this),N=this.EC.bind(this);f.oI(this.d,m?N:n);
this.m.appendChild(this.d);this.Ee=f.L("img",A?"gsicon":"");this.d.appendChild(this.Ee);if(m){var e=f.L("button");
e.textContent="\u25BC";f.oI(e,n);this.m.appendChild(e)}else{var Q=f.L("span");Q.textContent="\u25BC";
Q.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(Q)}var p=f.L("span");
this.mW.appendChild(p);p.setAttribute("style","display:inline-block;  vertical-align:top; width:"+Z+"em;");
this.Mb=new dc(A,J);p.appendChild(this.Mb.m);this.Mb.parent=this.J1;this.Mb.l(r.E.o,this.LA,this);this.Mb.m.style.height=q+"em";
this.iE=f.L("button");this.iE.textContent="\u25BC";this.iE.setAttribute("style","padding:3px");f.oI(this.iE,this.amP.bind(this));
this.mW.appendChild(this.iE);var B=this.eB(),$=J!=jO.c$&&J!=jO.Jb?J:null,R=J==null?"":jO.rZ[J][0].toUpperCase(),z=$?[{name:[12,87]}]:[];
z=z.concat([{name:["VAR0 / VAR1",[25,3,0],[25,3,1]],ZR:!0},{name:[[23,6],"."+(R=="ICC"?"icc .cube .look .3dl":R)]},{name:["VAR0 ."+R,[1,8]]},{name:[6,37]},{name:[5,4],ZR:B.length!=0}]);
for(var D=0;D<B.length;D++)z.push({name:B[D].split("/").pop()});this.M9=new dk(z);this.M9.parent=this.J1;
this.M9.l("select",this.D3,this);this.bJ=J;this.a15=$;this.ng=null;this.lT=!0;this.ZA=null}eh.prototype=new bK;
eh.prototype.eB=function(){return[]};eh.prototype.EC=function(){};eh.prototype._=function(){this.M9._();
this.Mb._();var u=this.V0;if(u)this.zf.textContent=jg.get(u)+":"};eh.prototype.YI=function(u){this.zf.textContent=u};
eh.prototype.Ie=function(u){var m=this.bJ,C=0;if(m==jO.t4){C=this.ng?this.ng.length:0;u=u.slice(0)}this.ng=u;
this.lT=!0;if(f.pZ(this.Mb.m)||m==jO.O_)this.FT();if(m==jO.t4&&u.length-C==1&&f.pZ(this.m)){this.f(u[C]);
this.lT=!0;this.FT();this.Mb.f([C]);this.c(new eY(r.E.o))}};eh.prototype.D3=function(u){var m=u.target.dm()[0];
if(this.a15==null)m++;var C=new eY(r.E.z,!0);if(m==0){var Z=this.hx();if(this.bJ==jO.t4&&Z[0].profile==null)return;
C.data={d:r.J.mh,lC:"add",no:this.a15,Ax:Z}}else if(m==1)this.Mb.$R(1-this.Mb.aoK());else if(m<=5)this.W1(m-2);
else{var q=this.eB();C.data={d:r.J.x2,no:{url:"rsrc/"+q[m-6]}}}if(C.data)this.c(C)};eh.prototype.W1=function(u){var m=new eY(r.E.z,!0),C=this.Mb.Y(),Z={d:r.J.mh,no:this.bJ,Qa:C};
if(u>1&&C.length==0){alert("No items selected");return}if(u==0)m.data={d:r.J.zZ};else if(u==1)m.data={d:r.J.Hd,abm:this.bJ,Qa:C.length==0?null:C};
else if(u==2){var q=this.Mb.b$[1][C[0]];Z.lC="rnm";m.data={d:r.J.zH,E$:"namewindow",qf:q,Na:{W:r.E.z,R:Z}}}else if(u==3){m.data=Z;
Z.lC="del"}this.c(m)};eh.prototype.hx=function(){return[this.Y()]};eh.prototype.amP=function(u){if(f.pZ(this.M9.m))return;
u.stopPropagation();var m=this.M9;m._();m.update(null);var C=u.currentTarget.getBoundingClientRect(),Z=new eY(r.E.z,!0);
Z.data={d:r.J.ek,Vl:m,x:C.left,y:C.top+C.height};this.c(Z)};eh.prototype.LF=function(u,m,C){if(f.pZ(this.J1.m))return;
if(u)u.stopPropagation();this.FT();if(m==null){var Z=this.d.getBoundingClientRect(),m=Z.left,C=Z.top+Z.height}var q=new eY(r.E.z,!0);
q.data={d:r.J.ek,Vl:this.J1,x:m,y:C,sb:!0};this.c(q)};eh.prototype.alT=function(u,m){this.LF(null,u,m)};
function fJ(){bK.call(this);this.m=f.L("div");this.AG=!1;this.tJ=[new fq([12,19,1],[[13,1,7]].concat(b1.ql)),new eR([17,1]),new eR([12,46])];
for(var D=0;D<3;D++){var u=this.tJ[D];this.m.appendChild(u.m);u.l(r.E.o,this.g6,this)}this._()}fJ.prototype=new bK;
fJ.prototype._=function(){for(var D=0;D<3;D++)this.tJ[D]._()};fJ.prototype.Y=function(){return this.AG.slice(0)};
fJ.prototype.f=function(u){this.AG=u.slice(0);var m=this.tJ,C=m[0].Y();m[1].f(u.slice(C*8,C*8+4),C);
m[2].f(u.slice(C*8+4,C*8+8),C)};fJ.prototype.g6=function(u){var m=this.tJ,C=m.indexOf(u.currentTarget);
if(C==0)this.f(this.AG);else{var Z=m[0].Y()*8+(C==1?0:4),q=m[C].Y();for(var D=0;D<4;D++)this.AG[Z+D]=q[D];
this.c(new eY(r.E.o,!1))}};function eR(u){bK.call(this);this.m=f.L("div");this.O=f.L("canvas");this.TY=u;
this.AG=[0,20,200,255];this.ba=0;this.xS=-1;this.aqb=[];for(var D=0;D<5;D++){var m=f.L("span");m.setAttribute("style","display:inline-block;width:"+(D==0?8:D==2?7:2)+"em");
this.aqb.push(m);this.m.appendChild(m)}this.Wq=this.AT.bind(this);this.sH=this.rB.bind(this);this.Bz=this.kP.bind(this);
f.ZF(this.O);f.oI(this.O,this.Wq);this.m.appendChild(this.O);this.L9()}eR.prototype=new bK;eR.prototype._=function(){this.L9()};
eR.prototype.f=function(u,m){this.AG=u;this.ba=m;this.L9()};eR.prototype.Y=function(){return this.AG.slice(0)};
eR.prototype.AT=function(u){var m=this.AG,C=f.OR(u,this.O),Z=C.x-8,q=-1,J=1e9;for(var D=0;D<4;D++){var A=Z-m[D],n=Math.abs(A);
if(n<8&&n<J&&((D&1)==0&&A<0||(D&1)==1&&A>0)){J=A;q=D}}if(q==-1)return;this.xS=q;this.Oa=window.__kb.j(hs.mD)||m[(q>>>1)*2]!=m[(q>>>1)*2+1];
f.zy(window,this.sH);f.sQ(window,this.Bz)};eR.prototype.rB=function(u){var m=this.AG,C=this.xS,Z=(C>>>1)*2,q=Z+1,J=f.OR(u,this.O),A=Math.round(Math.max(0,Math.min(255,J.x-8)));
m[C]=A;if(this.Oa&&m[Z]>=m[q])this.Oa=!1;if(!this.Oa)m[Z]=m[q]=A;this.L9();this.c(new eY(r.E.o,!1))};
eR.prototype.kP=function(u){f.bU(window,this.sH);f.YL(window,this.Bz)};eR.prototype.L9=function(){var u=this.O;
f.hs(u,255+16,16);var m=u.getContext("2d"),C=u.width,Z=u.height,q=Math.round(255*f.F()),J=Math.round(8*f.F());
m.translate(J,0);var A=m.createLinearGradient(0,0,q,0);A.addColorStop(0,"black");A.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.ba]);
m.fillStyle=A;m.fillRect(0,0,q,J);var n=this.aqb,N=jg.get(this.TY)+":";n[0].textContent=N;for(var D=0;
D<4;D++){var e=this.AG[D];n[1+D].textContent=e;var Q=Math.round(e*f.F());m.beginPath();m.moveTo(Q,J);
m.lineTo(Q,J+J);m.lineTo(Q+((D&1)==0?-1:1)*J,J+J);m.closePath();m.fillStyle=D<2?"#666666":"#cccccc";
m.fill();m.strokeStyle="black";m.stroke()}};function h7(u,m,C){bK.call(this);if(C==null)C=!1;this.k=[0,0,1];
this.asA=m;this.akR=C;this.a2U=0;var Z="ai"+f.OU();this.m=f.L("span","fitem angleinput");if(u){this.zf=f.L("label","flabel");
this.V0=u;this.m.appendChild(this.zf);this.zf.setAttribute("for",Z)}this.AW=C?44:20;this.O=f.L("canvas","gsicon");
this.O2=this.O.getContext("2d");f.ZF(this.O);f.hs(this.O,this.AW*2+1,this.AW*2+1);this.O2.scale(f.F(),f.F());
this.m.appendChild(this.O);f.oI(this.O,this.kV.bind(this));this.u7=this.Mw.bind(this);this.wB=this.Zn.bind(this);
var q=this.ci.bind(this),J=f.L("div");J.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!C)this.m.appendChild(J);this.Tr=[];for(var D=0;D<2;D++){var A=f.L("input");this.Tr.push(A);A.setAttribute("type","text");
f.xC(A);if(D==0)A.setAttribute("id",Z);A.addEventListener("change",q,!1);var n=f.L("span");n.textContent="\xB0";
if(D==0||m){J.appendChild(A);J.appendChild(n);f.Uy(J)}}this.f(this.k)}h7.prototype=new bK;h7.prototype._=function(){if(this.V0)this.zf.textContent=jg.get(this.V0)+":"};
h7.prototype.YI=function(u){this.zf.textContent=u};h7.prototype.Y=function(){return this.k.slice(0)};
h7.prototype.f=function(u,m){var C=this.k;u=u.slice(0);if(u[0]==null)u[0]=C[0];if(u[1]==null)u[1]=C[1];
if(u[2]==null)u[2]=C[2];this.k=u;var Z=u[0],q=u[1],J=u[2],A=this.asA,n=this.akR,N=this.AW*.85;if(!A)q=0;
this.Tr[0].value=Z;this.Tr[1].value=q;var e=this.O2;e.clearRect(0,0,100,100);Z=Math.PI*Z/180;q=N*(90-q)/90;
var Q=this.AW+.5;e.save();e.translate(Q,Q);e.rotate(-Z);e.strokeStyle="rgba(0,0,0,0.5)";e.beginPath();
e.ellipse(0,0,N,N*J,0,0,2*Math.PI);if(n){e.moveTo(0,-N*J);e.lineTo(0,N*J);e.moveTo(-q,0)}else e.moveTo(0,0);
e.lineTo(q,0);e.stroke();var p=this.AW*.15;e.fillStyle="black";e.beginPath();if(n){e.arc(0,-N*J,p*.66,0,2*Math.PI);
e.arc(0,N*J,p*.66,0,2*Math.PI)}if(A){e.arc(q,0,p*.4,0,2*Math.PI)}else{e.moveTo(Q-p,-p*.66);e.lineTo(Q,0);
e.lineTo(Q-p,p*.66)}e.fill();e.restore();if(m)this.ci()};h7.prototype.ci=function(u){var m=parseInt(this.Tr[0].value);
if(isNaN(m))m=0;var C=parseInt(this.Tr[1].value);if(isNaN(C))C=0;m=m%360;C=C%360;this.f([m,C]);this.c(new eY(r.E.o,!1))};
h7.prototype.kV=function(u){f.zy(window,this.u7);f.sQ(window,this.wB);var m=f.OR(u,this.O),Q=0,p=1e9;
m.x-=this.AW;m.y-=this.AW;var C=this.k,Z=C[0]*Math.PI/180,q=(90-C[1])/90,J=C[2],A=this.AW*.85,n=Math.sin(-Z),N=Math.cos(-Z),e=[new dz(N*A,n*A)];
if(this.akR)e.push(new dz(-n*A*J,N*A*J),new dz(n*A*J,-N*A*J));for(var D=0;D<e.length;D++){var B=dz.th(m,e[D]);
if(B<p){p=B;Q=D}}this.a2U=Q;if(Q==0)this.Mw(u)};h7.prototype.Mw=function(u){var m=f.OR(u,this.O),C=this.a2U,Z=[],q=m.x-this.AW,J=m.y-this.AW,A=this.AW*.85;
if(C==0){var n=180*Math.atan2(-J,q)/Math.PI,N=90-90*Math.min(1,Math.sqrt(q*q+J*J)/A);if(u.shiftKey)n=Math.round(n/15)*15;
Z=[Math.round(n),Math.round(N)]}else Z=[null,null,Math.max(.01,Math.min(1,Math.sqrt(q*q+J*J)/A))];this.f(Z);
this.c(new eY(r.E.o,!1))};h7.prototype.Zn=function(u){this.c(new eY(r.E.o,!1));f.bU(window,this.u7);
f.YL(window,this.wB)};function iR(u,m){bK.call(this);this.AG=0;this.KB=m;this.m=f.L("span","fitem angleinput");
if(u){this.zf=f.L("label","flabel");this.V0=u;this.m.appendChild(this.zf)}this.O=f.L("canvas","gsicon");
this.O2=this.O.getContext("2d");f.hs(this.O,m,m);this.m.appendChild(this.O);f.oI(this.O,this.kV.bind(this));
this.u7=this.Mw.bind(this);this.wB=this.Zn.bind(this);this.f(0)}iR.prototype=new bK;iR.prototype._=function(){if(this.V0)this.zf.textContent=jg.get(this.V0)+":"};
iR.prototype.YI=function(u){this.zf.textContent=u};iR.prototype.Y=function(){return this.AG};iR.prototype.auh=function(u){var m=this.AG,C=Math.floor(m/3),Z=m-C*3;
Z=Math.max(0,Math.min(2,Z+u.x));C=Math.max(0,Math.min(2,C+u.y));this.f(C*3+Z)};iR.prototype.f=function(u){this.AG=u;
var m=this.O.width,C=Math.floor(u/3),Z=u-3*C,q=(Z+.5)*m/3,J=(C+.5)*m/3,A=this.O2,n=[.5,Math.round(m/3)+.5,Math.round(2*m/3)+.5,m-.5];
A.clearRect(0,0,m,m);var N=this.KB<30;A.setLineDash([]);A.strokeStyle=N?"rgba(0,0,0,0.5)":"#000000";
A.beginPath();for(var D=0;D<4;D++){var e=n[D];A.moveTo(e,0);A.lineTo(e,m);A.moveTo(0,e);A.lineTo(m,e)}A.stroke();
if(u==9)return;if(!N){A.setLineDash([1,2]);var Q=m*.53,p=Math.max(0,Math.min(m-Q,q-Q/2)),B=Math.max(0,Math.min(m-Q,J-Q/2));
A.strokeRect(Math.round(p)+.5,Math.round(B)+.5,Math.round(Q),Math.round(Q))}A.fillStyle="#000000";A.beginPath();
A.arc(q,J,m/8,0,Math.PI*2);A.fill()};iR.prototype.kV=function(u){f.zy(window,this.u7);f.sQ(window,this.wB);
this.Mw(u)};iR.prototype.Mw=function(u){var m=f.OR(u,this.O),C=Math.max(0,Math.min(2,Math.floor(m.x/(this.KB/3)))),Z=Math.max(0,Math.min(2,Math.floor(m.y/(this.KB/3))));
this.f(Z*3+C)};iR.prototype.Zn=function(u){this.c(new eY(r.E.o,!1));f.bU(window,this.u7);f.YL(window,this.wB)};
function bU(jt){bK.call(this);this.m=f.L("span","fitem cswatch");this.a5c=0;this.m2=[];this.tL=[];var u=this.a3$.bind(this);
for(var D=0;D<jt;D++){this.m2.push(0);var m=f.L("span","colorsample");m.addEventListener("click",u,!1);
this.tL.push(m);this.m.appendChild(m)}var C=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],Z=Math.min(jt,C.length);
for(var D=0;D<Z;D++)this.m2[D]=C[D];this.iS()}bU.prototype=new bK;bU.prototype.a3$=function(u){this.a5c=this.tL.indexOf(u.currentTarget);
this.c(new eY(r.E.o))};bU.prototype.Y=function(){return this.m2[this.a5c]};bU.prototype.f=function(u){var m=this.m2,C=m.indexOf(u);
if(C!=-1)m.splice(C,1);else m.pop();m.unshift(u);this.iS()};bU.prototype.iS=function(){for(var D=0;D<this.m2.length;
D++){this.tL[D].setAttribute("style","background-color:#"+j.U0(this.m2[D]))}};function df(u){bK.call(this);
this.Z4={p:0,T:0,S:0};this.vC=u;this.m=f.L("span","fitem colorsample");this.m.addEventListener("click",this.eO.bind(this),!1)}df.prototype=new bK;
df.prototype._=function(){};df.prototype.eO=function(u){var m=this.Z4;this.c(new eY("click"));var C=new eY(r.E.z,!0);
C.data={d:r.J.zH,E$:"colorpicker",fB:m.p<<16|m.T<<8|m.S,ry:this.C0.bind(this),yK:this.vC};this.c(C)};
df.prototype.C0=function(u){this.HN(u);this.c(new eY(r.E.o))};df.prototype.adr=function(){this.eO(null)};
df.prototype.abz=function(){var u=this.Z4;return u.p<<16|u.T<<8|u.S};df.prototype.Y=function(){return j.C.sG(this.Z4)};
df.prototype.HN=function(u){this.Z4={p:u>>16&255,T:u>>8&255,S:u&255};this.a7o()};df.prototype.f=function(u){this.Z4=j.C.o5(u);
this.a7o()};df.prototype.a7o=function(){var u=this.Z4,m=u.p,C=u.T,Z=u.S,q=m<<16|C<<8|Z;this.m.setAttribute("style","background-color:#"+j.U0(q))};
function i9(){bK.call(this);this.sN=!1;this.E9=20;this.a6g=10;this.ad=0;this.sN=!1;this.gA={p:255,T:0,S:0};
this.ZQ={p:0,T:0,S:0};this.m=f.L("canvas");this.L9();f.ZF(this.m);f.oI(this.m,this.Wq.bind(this))}i9.prototype=new bK;
i9.prototype.anL=function(u){if(this.sN==u)return;this.sN=u;this.L9()};i9.prototype._=function(){};i9.prototype.agr=function(u,m){function C(Z){return{p:Z>>16&255,T:Z>>8&255,S:Z&255}}if(u!=null)this.gA=C(u);
if(m!=null)this.ZQ=C(m);this.L9()};i9.prototype.Wq=function(u){var m=f.OR(u,this.m),C=m.x*f.F(),Z=m.y*f.F(),q=this.E9,J=this.a6g,A=0;
if(C<J&&Z<J){A=0}else if(C>q-J&&Z>q-J){A=1}else if(C<J){A=2}else{A=3}var n=new eY(r.E.z,!0);if(A>1)n.data={d:r.J.mh,no:jO.e0,OY:A};
else{this.ad=A;var N=A==0?this.gA:this.ZQ;n.data={d:r.J.zH,E$:"colorpicker",fB:N.p<<16|N.T<<8|N.S,ry:this.C0.bind(this)}}this.c(n)};
i9.prototype.C0=function(u){var m=new eY(r.E.z,!0);m.data={d:r.J.mh,no:jO.e0,OY:this.ad,k:u};this.c(m)};
i9.prototype.L9=function(){var u=this.m,m=u.getContext("2d"),C=f.F(),q="#aaaaaa",J=.62;f.hs(u,34,34);
u.setAttribute("style",u.getAttribute("style")+";cursor:pointer");var Z=this.E9=u.width,A=this.a6g=Math.round(Z*J);
function n($,R){var z=$.p,v=$.T,a=$.S;if(R)z=v=a=Math.round(j.KY(z,v,a));var X=z<<16|v<<8|a;return"#"+j.U0(X)}function N($,R,A,z,v){m.fillStyle=v?v:"black";
m.fillRect($,R,A,A);m.fillStyle=z;m.fillRect($+1,R+1,A-2,A-2)}N(Z-A,Z-A,A,n(this.ZQ,this.sN));N(0,0,A,n(this.gA,this.sN));
var e=Z-A,Q=Math.round(e*J);N(Z-Q,e-Q,Q,"white",q);N(Z-e,0,Q,"black",q);m.save();m.fillStyle=q;m.translate(0,Z);
m.rotate(-Math.PI/2);e=Z-A;var p=Math.round(e*.28),B=Math.round(e*.25);for(var D=0;D<2;D++){m.fillRect(p,p,e-p,1);
m.beginPath();m.moveTo(e-B,p+.5-B);m.lineTo(e,p+.5);m.lineTo(e-B,p+.5+B);m.closePath();m.fill();m.transform(0,1,1,0,0,0)}m.restore()};
function hk(u){eh.call(this,u,!1,"brushbutton nopadding",19,10,jO.el,!0);var m=this.apM;f.Ky(m,"flexrow");
var C=f.L("div");m.appendChild(C);var Z=f.L("div");m.appendChild(Z);Z.setAttribute("style","margin-left:8px");
this.kz=new h7(null,null,!0);this.kz.l(r.E.o,this.j3,this);C.appendChild(this.kz.m);this.D2=new hA([12,14,0],1,1e3," px",0,!0);
this.D2.l(r.E.o,this.j3,this);Z.appendChild(this.D2.m);this.vd=new hA([12,17],0,100,"%");this.vd.l(r.E.o,this.j3,this);
Z.appendChild(this.vd.m)}hk.prototype=new eh;hk.prototype.eB=function(){var u=["pencil","trees"];for(var D=0;
D<u.length;D++)u[D]="brushes/"+u[D]+".abr";return u};hk.prototype.f=function(u,m,C){this.ZA=JSON.parse(JSON.stringify(u));
var Z=Math.floor(20*f.F()),q=Math.floor(36*f.F()),J=Math.floor(24*f.F()),A=eD.Dq(u,m,C,Z,J,q);this.Ee.setAttribute("src",A);
f.iz(this.Ee,q,J);var n=u.Brsh.v;this.D2.f(n.Dmtr.v.val);if(n.Hrdn!=null){this.vd.BD();this.vd.f(n.Hrdn.v.val)}else this.vd.mq();
if(n.Angl!=null)this.kz.f([n.Angl.v.val]);if(n.Rndn!=null)this.kz.f([null,null,n.Rndn.v.val/100])};hk.prototype.hx=function(){return{list:[{t:"Objc",v:this.Y()}],Ub:[],MS:[]}};
hk.prototype.Y=function(){return this.ZA};hk.prototype.FT=function(){if(!this.lT)return;var u=[],m=[],C=this.ng,Z=Math.floor(33*f.F()),q=Math.floor(40*f.F());
for(var D=0;D<C.list.length;D++){var J=C.list[D].v,A=eD.Dq(J,C.Ub,C.MS,Z,q);u.push(A);m.push(J.Nm.v.split("=").pop())}this.Mb.JM(u,m,Z,q);
this.lT=!1};hk.prototype.LA=function(u){var m=this.ng;this.f(m.list[this.Mb.Y()[0]].v,m.Ub,m.MS);this.c(new eY(r.E.o))};
hk.prototype._=function(){eh.prototype._.call(this);this.kz._();this.D2._();this.vd._()};hk.prototype.j3=function(u){var m=this.ng,C=this.ZA,Z=C.Brsh.v;
Z.Dmtr.v.val=this.D2.Y();if(Z.Hrdn!=null)Z.Hrdn.v.val=this.vd.Y();if(Z.Angl!=null)Z.Angl.v.val=this.kz.Y()[0];
if(Z.Rndn!=null)Z.Rndn.v.val=Math.round(this.kz.Y()[2]*100);this.f(C,m.Ub,m.MS);this.c(new eY(r.E.o))};
function fV(u){eh.call(this,u,!0,"contourbutton",17,10.5,jO.f2)}fV.prototype=new eh;fV.prototype.LA=function(u){this.f(this.ng[u.target.Y()]);
this.c(new eY(r.E.o))};fV.prototype.EC=function(u){var m=new eY(r.E.z,!0);m.data={d:r.J.zH,E$:"contoureditor",pQ:this.ZA,response:this.am8.bind(this)};
this.c(m)};fV.prototype.am8=function(u){this.f(u);this.c(new eY(r.E.o))};fV.prototype.FT=function(){if(!this.lT)return;
var u=Math.floor(38*f.F()),m=Math.floor(38*f.F()),C=[],Z=[],q=this.ng;for(var D=0;D<q.length;D++){Z.push(q[D].Nm?q[D].Nm.v:"");
C.push(j.AE.Dq(q[D].Crv.v,u,m))}this.Mb.JM(C,Z,u,m);this.lT=!1};fV.prototype.f=function(u){this.ZA=JSON.parse(JSON.stringify(u));
var m=this.ZA.Crv.v;for(var D=0;D<m.length;D++)if(m[D].v.Cnty==null)m[D].v.Cnty={t:"bool",v:!0};this.kH()};
fV.prototype.kH=function(){var u=Math.floor(30*f.F()),m=Math.floor(30*f.F()),C=j.AE.Dq(this.ZA.Crv.v,u,m);
this.Ee.setAttribute("src",C);f.iz(this.Ee,u,m)};fV.prototype.Y=function(){return JSON.parse(JSON.stringify(this.ZA))};
function bx(u){bK.call(this);this.Zc=null;this.sU=null;this.Wh=null;this.qD=null;this.a5_=[];this.agJ=[];
this.m=f.L("span","fitem fillbutton");this.J1=new bK;this.J1.m=f.L("div","floatcont form");this.J1.m.setAttribute("style","width: 21em;");
this.J1.parent=this;this.SW=u;this.zf=this.zf=f.L("label","flabel");this.m.appendChild(this.zf);this.O=f.L("canvas");
this.O2=this.O.getContext("2d");this.a6b=null;this.m.appendChild(this.O);f.oI(this.O,this.LF.bind(this));
this.Nn=new ja([12,66],["","Color","Grad","Patt"]);this.J1.m.appendChild(this.Nn.m);this.Nn.l(r.E.o,this.g6,this);
this.J1.m.appendChild(f.L("hr"));this.arT=f.L("span");this.YO=new df(!0);this.YO.parent=this.J1;this.YO.l(r.E.o,this.g6,this);
this.tz=new bU(10);this.tz.l(r.E.o,this.g6,this);this.q3=f.L("div","marged hiline");this.q3.appendChild(this.YO.m);
f.Uy(this.q3);this.q3.appendChild(this.tz.m);this.lL=new dn("GrFl",!0);this.lL.parent=this.J1;this.lL.l(r.E.o,this.g6,this);
this.I3=f.L("div","marged hiline");var m="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var D=0;
D<m.length;D++){var C=this.lL.ZY[m[D]].m;this.I3.appendChild(C)}this.eX=new dn("patternFill",!0);this.eX.parent=this.J1;
this.eX.l(r.E.o,this.g6,this);this.I6=f.L("div","marged hiline");var m=["Ptrn","Angl","Scl","Algn","phase"];
for(var D=0;D<m.length;D++){var C=this.eX.ZY[m[D]].m;this.I6.appendChild(C)}}bx.prototype=new bK;bx.prototype.vZ=function(u,m){if(m==jO.ZM){this.a5_=[];
this.agJ=[];if(this.Zc)this.f(this.Wh,this.Y(),this.Zc)}this.sU=u;this.lL.vZ(u,m);this.eX.vZ(u,m)};bx.prototype._=function(){this.zf.textContent=jg.get(this.SW)+": ";
this.Nn._();this.YO._();this.lL._();this.eX._()};bx.prototype.g6=function(u){var m=u.currentTarget;if(m==this.Nn){var C=this.Nn.Y(),Z={Er:C,am:this.Zc[C]};
if(C>0&&Z.am==null)Z.am=JSON.parse(JSON.stringify(c0.g0[C-1]));if(this.Zc)this.f(this.Wh,Z,this.Zc)}if(m==this.tz)this.YO.HN(m.Y());
this.c(new eY(r.E.o,!1))};bx.prototype.LF=function(u){if(f.pZ(this.J1.m))return;u.stopPropagation();
var m=this.O.getBoundingClientRect(),C=new eY(r.E.z,!0);C.data={d:r.J.ek,Vl:this.J1,x:m.left,y:m.top+m.height+4};
this.c(C);this.tz.f(this.YO.abz())};bx.prototype.f=function(u,m,C){this.Zc=C;this.Wh=u;var Z=[[13,1,0],[13,0],[12,37],[12,62]],q=this.a5_,J=this.agJ,A=!1,Q;
for(var D=0;D<4;D++){var n={Er:D,am:C[D]},N=bx.agy(n);if(J[D]==N)continue;A=!0;var e=bx.a1a(null,n,this.sU,this.Wh,22,22,!1);
q[D]="<img width=\"22\" height=\"22\" src=\""+e+"\" />";J[D]=N}if(A)this.Nn.D5(q,Z);this.Nn.f(m.Er);
var N=bx.agy(m);if(N!=this.a6b)bx.a1a(this.O2,m,this.sU,this.Wh,30,23,!0);this.a6b=N;var p=m.Er;if(p==0){Q=this.arT}if(p==1){this.YO.f(m.am.Clr.v);
Q=this.q3}if(p==2){this.lL.update(u,m.am);Q=this.I3}if(p==3){this.eX.update(u,m.am);Q=this.I6}if(Q!=this.qD){if(this.qD!=null){this.J1.m.removeChild(this.qD)}this.J1.m.appendChild(Q);
this.qD=Q}};bx.prototype.Y=function(){var u={Er:this.Nn.Y()};if(u.Er==1){u.am=JSON.parse(JSON.stringify(c0.g0[0]));
u.am.Clr.v=this.YO.Y()}if(u.Er==2){u.am=this.lL.Y()}if(u.Er==3){u.am=this.eX.Y()}return u};bx.agy=function(u){var m=u.Er,C=u.am,Z="empty";
if(m==1){Z=j.C.o5(C.Clr.v);Z=Z.p+","+Z.T+","+Z.S}if(m==2)Z=JSON.stringify(C.Grad.v);if(m==3)Z=C.Ptrn.v.Idnt.v;
return Z};bx.a1a=function(u,m,C,Z,q,J,A){if(u==null)u=bx.O2;var n=Math.floor(q*f.F()),N=Math.floor(J*f.F()),e=u.canvas,Q;
e.width=n;e.height=N;f.iz(e,n,N);var p=m.Er;if(p==0){u.fillStyle="#ffffff";u.fillRect(0,0,n,N);u.strokeStyle="#ff0000";
u.lineWidth=2;u.moveTo(0,0);u.lineTo(n,N);u.moveTo(0,N);u.lineTo(n,0);u.stroke()}if(p==1){var B=m.am.Clr.v;
B=j.C.o5(B);u.fillStyle="#"+j.U0(B.p<<16|B.T<<8|B.S);u.fillRect(0,0,n,N)}if(p==2){b.Ho.Dq(m.am.Grad.v,n,N,0,C.jM,C.z0,e)}if(p==3){var $=m.am.Ptrn.v,R;
if(Z!=null)R=dU.G$($,Z.add.Patt);if(R==null)R=dU.G$($,C.Q1);gR.Dq(R,n,N,e)}if(A){u.beginPath();u.strokeStyle="#000000";
u.fillStyle="#ffffff";u.lineWidth=2;var z=n*.7,v=Math.floor(N*.7),a=7*f.F();u.moveTo(z,v);u.lineTo(z+a,v);
u.lineTo(z+a/2,v+a/2);u.closePath();u.stroke();u.fill()}if(u==bx.O2)return e.toDataURL()};bx.O2=f.L("canvas").getContext("2d");
function gR(u){eh.call(this,u,!1,"patternbutton",18,10,jO.ZM);this.rh=null}gR.prototype=new eh;gR.prototype.LA=function(u){var m=this.ng[this.Mb.Y()];
this.ZA={classID:"Ptrn",Nm:{t:"TEXT",v:m.name},Idnt:{t:"TEXT",v:m.id}};this.c(new eY(r.E.o));this.kH()};
gR.O4=!1;gR.prototype.FT=function(){if(!this.lT)return;var u=this.ng;if(u==null||!gR.O4){var m=new eY(r.E.z,!0);
m.data={d:r.J.x2,no:{url:"rsrc/basic/basic.pat"}};this.c(m);gR.O4=!0;return}var C=Math.floor(34*f.F()),Z=Math.floor(34*f.F()),q=[],J=[];
for(var D=0;D<u.length;D++){q.push(gR.Dq(u[D],C,Z));J.push(u[D].name)}this.Mb.JM(q,J,C,Z);this.lT=!1};
gR.prototype.f=function(u,m){if(this.ZA&&u.Idnt.v==this.ZA.Idnt.v)return;this.ZA=JSON.parse(JSON.stringify(u));
this.kH(m)};gR.prototype.Y=function(){return JSON.parse(JSON.stringify(this.ZA))};gR.prototype.hx=function(){return this.rh?[this.rh]:[]};
gR.prototype.kH=function(u){var m=Math.floor(50*f.F()),C=Math.floor(50*f.F()),Z;if(u!=null)Z=dU.G$(this.ZA,u.add.Patt);
if(Z==null)Z=dU.G$(this.ZA,this.ng);this.rh=Z;var q=gR.Dq(Z,m,C);this.Ee.setAttribute("src",q);f.iz(this.Ee,m,C)};
gR.O=f.L("canvas","");gR.Dq=function(u,m,C,Z){if(Z==null)Z=gR.O;var q=Z.getContext("2d");Z.width=m;Z.height=C;
if(u){var J=u.k9[1],A=J.e,n=J.n,N=u.k9[0],e=Math.min(m/A,C/n),Q=e;if(Q*A<2)Q=2/A;var p=e;if(p*n<2)p=2/n;
var B=b.Q.Ta([N,J],new ix(Q,0,0,p,0,0),Q>2),$=B.rect.e,R=B.rect.n,z=q.createImageData($,R);j.Uj(B.buffer,z.data);
q.putImageData(z,Math.floor((m-$)/2),Math.floor((C-R)/2))}return Z.toDataURL()};function bk(u,m,C){if(m==null)m=24.2;
if(C==null)C=17;eh.call(this,u,!1,"patternbutton",m,C,jO.c$);this.lU=""}bk.prototype=new eh;bk.prototype.LA=function(u){this.ZA=JSON.parse(JSON.stringify(this.ng[0][this.Mb.Y()[0]]));
this.c(new eY(r.E.o))};bk.prototype.FT=function(){var u=this.ng;if(u==null||!this.lT)return;var m=Math.floor(50*f.F()),C=Math.floor(50*f.F()),Z=[],q=[];
for(var D=0;D<u[0].length;D++){Z.push(bk.Dq(this.ng[0][D].lr,m,C,this.ng[1]));q.push(u[0][D].J4.Nm.v.split("=").pop())}this.Mb.JM(Z,q,m,C);
this.lT=!1};bk.prototype.f=function(u,m,C,Z){var q=JSON.stringify(u.lr)+","+C+","+Z;if(this.lU!=q){this.lU=q;
this.ZA=JSON.parse(JSON.stringify(u));this.kH(m,C,Z)}};bk.prototype.Y=function(){return JSON.parse(JSON.stringify(this.ZA))};
bk.prototype.kH=function(u,m,C){var Z=Math.floor(68*f.F()),q=Math.floor(68*f.F()),J=bk.Dq(this.ZA.lr,Z,q,u?u:this.ng[1],m,C);
this.Ee.setAttribute("src",J);f.iz(this.Ee,Z,q)};bk.Dq=function(u,m,C,Z,q,J){var A=new gj;A.e=m;A.n=C;
A.buffer=j.U(m*C*4);A.add.Patt=Z;A.hL(q==null?90:q);A.eK(J==null?30:J);var n=new bl(0,0,Math.round(m*.5),Math.round(C*.5));
n.x=Math.round((m-n.e)/2);n.y=Math.round((C-n.n)/2);var N=A.Rp();N.rect=n;N.buffer=j.U(n.Z()*4);j.gs(N.buffer,4284045657);
dU.aro(u,N,.5*100);A.g.push(N);A.gO();A.G();var e=H.GL;H.GL=!1;A.Qp();var Q=A.K9();H.GL=e;var p=d4.rO(Q.buffer,A.e,A.n);
return p};function jx(u){eh.call(this,null,!1,"tpresetbutton",18,24,jO.HW,!0);f.Jq(this.m,"fitem");this.Mb.$R(1);
this.id=u;this.kH();this.d.style.overflow="hidden";this.SX=new aG([15,7,9]);this.SX.f(!0);this.SX.l(r.E.o,this.a6c,this);
this.mW.appendChild(this.SX.m)}jx.prototype=new eh;jx.prototype.aqf=function(u){if(this.id==u)return;
this.id=u;this.Ie(this.ng)};jx.prototype.LA=function(u){var m=this.ng[this.Mb.Y()],C=new eY(r.E.z,!0);
C.data={d:r.J.mh,lC:"set",no:jO.HW,Ax:m};this.c(C)};jx.prototype._=function(){eh.prototype._.call(this);
this.SX._()};jx.prototype.a6c=function(){this.lT=!0;this.FT()};jx.prototype.FT=function(){if(!this.lT)return;
var u=Math.floor(16*f.F()),m=Math.floor(16*f.F()),C=[],Z=[],q=this.ng,J=this.SX.Y();for(var D=0;D<q.length;
D++){var A=b.HD(q[D]);if(!J||A==this.id){Z.push(q[D][0]?q[D][0].split("=").pop():"");C.push(A==-1?"":PIMG[b.Aq[A][0]])}else{C.push(null);
Z.push(null)}}this.Mb.JM(C,Z,u,m);this.lT=!1};jx.prototype.kH=function(){var u=this.Ee;u.setAttribute("src",PIMG[b.Aq[this.id][0]]);
f.Ky(u,"toolicon")};jx.prototype.hx=function(){return null};jx.vI={};jx.Dq=function(u,m,C){var Z=jx.O2,q=jx.vI,J=j.U0(u.p<<16|u.T<<8|u.S);
if(q[J])return q[J];if(Z==null){var A=f.L("canvas");Z=jx.O2=A.getContext("2d")}var A=Z.canvas;A.width=m;
A.height=C;Z.fillStyle="#"+J;Z.fillRect(0,0,m,C);var n=q[J]=A.toDataURL();return n};function gt(u,m,C){bK.call(this);
this.m=f.L("span","fitem curveeditor");this.VT=null;this.ahz=0;this.ba="";this.mode=0;this.LJ=u;this.akL=m;
this.atw=C;this.Dw=null;this.KJ=null;this.agG=0;this.a3R=0;this.VX=new dz;this.k0=this.Mw.bind(this);
this.RC=this.Zn.bind(this);this.KB=256;this.O=f.L("canvas");this.O2=this.O.getContext("2d");f.ZF(this.O);
this.m.appendChild(this.O);this.CC(256,256);f.oI(this.O,this.kV.bind(this));this.coords=f.L("div","");
this.coords.setAttribute("style","width:250px");this.m.appendChild(this.coords);var Z=this.Sb=C?100:255,q=null;
this.qw=new fc("X (in):",0,Z,q,0,!1,!0);this.Dy=new fc("Y (out):",0,Z,q,0,!1,!0);this.Qz=new aG([19,3,0]);
this.qw.l(r.E.o,this.XZ,this);this.Dy.l(r.E.o,this.XZ,this);this.Qz.l(r.E.o,this.XZ,this);this.coords.appendChild(this.qw.m);
if(C)this.coords.appendChild(this.Qz.m);this.coords.appendChild(this.Dy.m)}gt.prototype=new bK;gt.prototype._=function(){this.Qz._()};
gt.prototype.CC=function(u,m){this.KB=Math.round(u);this.O2.resetTransform();f.hs(this.O,this.KB,this.KB,this.O2);
this.O2.scale(this.KB/256,this.KB/256);if(this.Dw)this.yc()};gt.prototype.XZ=function(u){var D=this.aaf(),m=this.Dw[D],C=255/this.Sb;
m.v.Hrzn.v=this.qw.Y()*C;m.v.Vrtc.v=this.Dy.Y()*C;if(this.atw)m.v.Cnty.v=this.Qz.Y();this.Dw.sort(function(Z,q){return Z.v.Hrzn.v-q.v.Hrzn.v});
this.yc();this.c(new eY(r.E.o))};gt.prototype.f=function(u,D){var m=JSON.stringify(u);if(m==JSON.stringify(this.Dw))return;
this.mode=u.length==256?1:0;this.Dw=JSON.parse(m);if(D!=null)this.KJ=this.Dw[D];this.yc()};gt.prototype.Ll=function(u,m,C){this.VT=u;
this.ahz=m;this.ba=C;this.yc()};gt.prototype.Y=function(){return JSON.parse(JSON.stringify(this.Dw))};
gt.prototype.aaf=function(){return this.Dw.indexOf(this.KJ)};gt.prototype.kV=function(u){var m=256/this.KB,C=f.OR(u,this.O);
C.x*=m;C.y*=m;var Z=C.x,q=256-C.y;if(this.LJ){var J=Z;Z=256-q;q=J}this.VX.qX(Z,q);if(this.mode==0){var A=0,n=1e9,B;
for(var D=0;D<this.Dw.length;D++){var N=this.Dw[D].v,e=N.Hrzn.v-Z,Q=N.Vrtc.v-q,p=Math.sqrt(e*e+Q*Q);
if(p<n){n=p;A=D}}if(n<15)B=this.Dw[A];else{B=j.AE.Ft(Z,q,!0);this.Dw.push(B);this.Dw.sort(function($,R){return $.v.Hrzn.v-R.v.Hrzn.v})}this.KJ=B;
this.a3R=this.Dw.slice(0)}f.zy(document.body,this.k0);f.sQ(document.body,this.RC);this.Mw(u)};gt.prototype.Mw=function(u){var m=256/this.KB,C=f.OR(u,this.O);
C.x*=m;C.y*=m;var Z=C.x,q=256-C.y;if(this.LJ){var J=Z;Z=256-q;q=J}if(this.mode==0){var A=this.Dw,n=this.KJ,N=this.a3R,e=N.indexOf(n),Q=A.indexOf(n)!=-1,p=N.length-1,B=Z;
if(e==0){B=Math.max(0,Math.min(N[1].v.Hrzn.v-1,Z))}else if(e==p){B=Math.min(255,Math.max(N[p-1].v.Hrzn.v+1,Z))}else{var $=Z<0||Z>255||q<0||q>255;
if(Z<=N[e-1].v.Hrzn.v||Z>=N[e+1].v.Hrzn.v)$=!0;if(!$&&!Q)A.splice(e,0,n);if($&&Q)A.splice(e,1)}if(this.akL&&(e==0||e==N.length-1)){}else n.v.Hrzn.v=Math.round(B);
n.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(q)))}else{Z=Math.round(Z);q=Math.round(q);Z=Math.max(0,Math.min(255,Z));
q=Math.max(0,Math.min(255,q));var R=this.VX.x,z=Z,v=this.VX.y,a=q;if(Z<this.VX.x){z=R;R=Z;a=v;v=q}this.Dw[Z]=q;
if(R!=z)for(var X=R;X<=z;X++)this.Dw[X]=Math.round(v+(X-R)*(a-v)/(z-R))}this.VX.qX(Z,q);this.yc();this.c(new eY(r.E.o))};
gt.prototype.Zn=function(u){f.bU(document.body,this.k0);f.YL(document.body,this.RC);this.c(new eY(r.E.o))};
gt.prototype.yc=function(){var u=this.O2,m=this.O;u.fillStyle="#ffffff";u.fillRect(0,0,256,256);var C=256/m.width;
if(this.VT){u.save();u.translate(0,256);u.scale(1,-1);dq.a1v(u,this.VT,5700/this.ahz,this.ba);u.restore()}u.strokeStyle="#aaaaaa";
u.lineWidth=1*C;u.beginPath();for(var D=1;D<4;D++){var Z=(Math.floor(64*D/C)+.5)*C;u.moveTo(0,Z);u.lineTo(255,Z);
u.moveTo(Z,0);u.lineTo(Z,255)}u.stroke();if(this.LJ){u.save();u.transform(0,1,-1,0,256,0)}if(this.mode==0){var q=this.Dw,J=j.AE.bm(q,256);
u.strokeStyle="#000000";u.beginPath();u.moveTo(0,255.5-J[0]);for(var D=0;D<256;D++)u.lineTo(D,255.5-J[D]);
u.stroke();u.lineWidth=2*C;for(var D=0;D<q.length;D++){var A=q[D].v;u.fillStyle=this.KJ==q[D]?"#333":"#fff";
u.beginPath();u.moveTo(A.Hrzn.v,255.5-A.Vrtc.v);u.arc(A.Hrzn.v,255.5-A.Vrtc.v,5*C,0,2*Math.PI);u.stroke();
u.fill()}}else{var J=this.Dw;u.strokeStyle="#000000";u.beginPath();u.moveTo(0,255.5-J[0]);for(var D=0;
D<256;D++)u.lineTo(D,255.5-J[D]);u.stroke()}if(this.LJ)u.restore();var D=this.aaf();this.coords.setAttribute("class",D==-1?"disabled":"");
if(D==-1)return;var A=this.Dw[D].v,n=255/this.Sb;this.qw.f(Math.round(A.Hrzn.v/n));this.Dy.f(Math.round(A.Vrtc.v/n));
if(A.Cnty)this.Qz.f(A.Cnty.v)};function dq(u,m){bK.call(this);this.m=f.L("span","");this.JY=new fq([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.JY.l(r.E.o,this.L9,this);this.m.appendChild(this.JY.m);f.Uy(this.m);this.O=f.L("canvas");var C=this.O;
this.m.appendChild(C);C.width=Math.round(u*f.F());C.height=Math.round(100*f.F());f.iz(C,C.width,C.height);
this.O2=C.getContext("2d");this.VT=null;this.iw=0;this.a7$=null;this.aek=[];this.dL=[];var Z=["Mean:","Pixels:"],q=this.m;
for(var D=0;D<Z.length;D++){var J=new i7(Z[D]);this.aek.push(J);if(m)q.appendChild(J.m);var A=new i7("hi");
this.dL.push(A);if(m)q.appendChild(A.m);f.Uy(q)}}dq.prototype=new bK;dq.prototype._=function(){this.JY._()};
dq.prototype.$R=function(u){this.JY.f(u);this.L9()};dq.prototype.f=function(u,m){this.VT=u;this.a7$=m;
this.L9()};dq.prototype.HN=function(u){if(u==this.iw)return;this.iw=u;this.L9()};dq.prototype.L9=function(){if(this.VT==null)return;
var u=this.O,m=this.O2,C=this.VT,Z=this.a7$,q=this.JY.Y(),J=6e3/C[4],A="#"+j.U0(this.iw),n=dq.a1v;u.width=u.width;
m.setTransform(u.width/256,0,0,-u.height/100,0,u.height);m.globalCompositeOperation="lighter";if(q==0)n(m,C[0],J/3,A);
else if(q<4)n(m,C[q],J,A);else{n(m,C[1],J,"#ff0000");n(m,C[2],J,"#00ff00");n(m,C[3],J,"#0000ff")}m.setTransform(1,0,0,1,0,0);
if(Z!=null){var N=0;for(var D=0;D<256;D++)N+=D*C[q][D];if(q==0)N/=3;this.dL[0].f((N/Z).toFixed(1)+"");
this.dL[1].f(Z+"")}};dq.a1v=function(u,m,C,Z){u.beginPath();u.moveTo(0,0);for(var q=0;q<256;q++)u.lineTo(q,m[q]*C);
u.lineTo(256,0);u.closePath();u.fillStyle=Z;u.fill()};function hr(u){bK.call(this);this.HX={p:0,T:0,S:0};
if(Math.abs(u-256/f.F())<10)u=256/f.F();var m=this.m=f.L("div","flexrow");this.sO=new dz;this.Ey=new dz;
this.u7=this.atV.bind(this);this.wB=this.aq0.bind(this);this.O=f.L("canvas","");this.O2=this.O.getContext("2d");
this.O.width=this.O.height=256;this.a69=this.O2.getImageData(0,0,256,256);this.an$=-1;f.ZF(this.O);f.oI(this.O,this.aor.bind(this));
m.appendChild(this.O);this.a8E=this.a6X.bind(this);this.a28=this.a5t.bind(this);this.RW=f.L("canvas","");
this.gd=this.RW.getContext("2d");this.RW.width=20;this.RW.height=256;this.a1b=this.gd.getImageData(0,0,20,256);
hr.adh(this.a1b.data,20,256);f.ZF(this.RW);f.oI(this.RW,this.a1n.bind(this));m.appendChild(this.RW);
this.O.setAttribute("style","width:"+u+"px; height:"+u+"px");this.RW.setAttribute("style","width:16px; height:"+u+"px")}hr.prototype=new bK;
hr.prototype.CC=function(u,m){this.O.style.width=u-16+"px"};hr.prototype.f=function(u){this.HX=u;this.update()};
hr.prototype.Y=function(){return JSON.parse(JSON.stringify(this.HX))};hr.prototype.update=function(){var u=this.HX,m=j.Kv(u.p,u.T,u.S);
if(m.yg==0)m.jL=this.sO.x/255;if(m.jL==0||m.yg==0)m.Oh=(255-this.E4(this.Ey.y))/255;if(m.yg!=0)this.sO.x=m.jL*255;
this.sO.y=(1-m.yg)*255;this.Ey.y=(1-m.Oh)*255;var C=this.a69;if(Math.abs(m.Oh-this.an$)>.002){this.a6m(C.data,256,256,m.Oh);
this.an$=m.Oh}var Z=this.O2;Z.putImageData(C,0,0);Z.strokeStyle="#000000";Z.beginPath();Z.arc(this.sO.x+1,this.sO.y+1,5,0,2*Math.PI);
Z.stroke();Z.strokeStyle="#ffffff";Z.beginPath();Z.arc(this.sO.x,this.sO.y,5,0,2*Math.PI);Z.stroke();
C=this.a1b;Z=this.gd;Z.putImageData(C,0,0);Z.strokeStyle="#ffffff";Z.beginPath();Z.moveTo(0,this.Ey.y);
Z.lineTo(20,this.Ey.y);Z.lineWidth=2;Z.stroke()};hr.prototype.a6m=function(u,m,C,Z){var q=1/m,J=1/C;
for(var A=0;A<C;A++)for(var n=0;n<m;n++){var N=j.$t(Z,n*q,(C-A-1)*J),D=A*m+n<<2;u[D+0]=~~(N.p*255);u[D+1]=~~(N.T*255);
u[D+2]=~~(N.S*255);u[D+3]=255}};hr.adh=function(u,m,C,Z,q){if(Z==null)Z=1;if(q==null)q=0;var J=new Uint32Array(u.buffer);
for(var A=0;A<C;A++){var n=j.$t((1+Z*(1-A/C)+q)%1,1,1),N=255<<24|n.S*255<<16|n.T*255<<8|n.p*255;for(var e=0;
e<m;e++)J[A*m+e]=N}};hr.prototype.aor=function(u){f.zy(window,this.u7);f.sQ(window,this.wB);this.atV(u)};
hr.prototype.aq0=function(u){f.bU(window,this.u7);f.YL(window,this.wB)};hr.prototype.atV=function(u){var m=f.OR(u,this.O);
m.x=m.x*(256/parseFloat(this.O.style.width));m.y=m.y*(256/parseFloat(this.O.style.height));this.sO.qX(this.E4(m.x),this.E4(m.y));
this.o_()};hr.prototype.o_=function(){this.HX=this.abK();this.c(new eY(r.E.o))};hr.prototype.abK=function(){var u=j.$t((255-this.E4(this.Ey.y))/255,this.fi(this.sO.x/255),this.fi(1-this.sO.y/255));
return{p:u.p,T:u.T,S:u.S}};hr.prototype.a1n=function(u){f.zy(window,this.a8E);f.sQ(window,this.a28);
this.a6X(u)};hr.prototype.a5t=function(u){f.bU(window,this.a8E);f.YL(window,this.a28)};hr.prototype.a6X=function(u){var m=f.OR(u,this.RW);
m.y=m.y*(256/parseFloat(this.RW.style.height));this.Ey.qX(this.E4(m.x),this.E4(m.y));this.o_()};hr.prototype.E4=function(u){return Math.max(0,Math.min(255,u))};
hr.prototype.fi=function(u){return Math.max(0,Math.min(1,u))};function g8(u,m,C,Z){var q=ja.vu(m,Z);
ja.call(this,u,q,C)}g8.prototype=new ja;function a3(){bK.call(this);this.C1=null;this.Z7=new ch;this.Z7.l(r.E.o,this.a4w,this);
this.Z7.parent=this;this.L1=new fc([12,14,0],1,150,"px",0,!0);this.L1.l(r.E.o,this.It,this);this.L1.parent=this;
this.bI=new fc([16,0],.01,100,"px",2,!0,null,5);this.bI.l(r.E.o,this.It,this);this.bI.parent=this;this.Nq=new aG("Auto");
this.Nq.l(r.E.o,this.It,this);this.Ti=new fc([16,1],-500,5e3,"%",0,!0);this.Ti.l(r.E.o,this.It,this);
this.Ti.parent=this;this.fT=new fc("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.fT.l(r.E.o,this.It,this);
this.fT.parent=this;this.Z_=new fc("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.Z_.l(r.E.o,this.It,this);
this.Z_.parent=this;this.Kj=new fc([16,2],-10,10,"px");this.Kj.l(r.E.o,this.It,this);this.Kj.parent=this;
this.KI=new df(!0);this.KI.l(r.E.o,this.fW,this);this.KI.parent=this;this.l4=new df(!0);this.l4.l(r.E.o,this.fW,this);
this.l4.parent=this;this.po=new df(!0);this.po.l(r.E.o,this.fW,this);this.po.parent=this;this.I_=new df(!0);
this.I_.l(r.E.o,this.fW,this);this.I_.parent=this;this.RP=new aG([2,3]);this.RP.l(r.E.o,this.It,this);
this.pE=new aG([14,9]);this.pE.l(r.E.o,this.It,this);this.WD=new aG([12,46]);this.WD.l(r.E.o,this.It,this);
this.jP=new iG("...",null,null,!0);this.jP.m.style.marginLeft="-8px";f.oI(this.jP.m,this.a0h.bind(this));
this.J1=new bK;var u=this.J1.m=f.L("div","floatcont form");this.J1.parent=this;this.H4=new fc([12,41],1,20,"px",0,!0,!0);
this.H4.m.style.marginLeft="16px";this.H4.l(r.E.o,this.It,this);this.H4.parent=this.J1;u.appendChild(this.l4.m);
u.appendChild(this.RP.m);f.Uy(this.J1.m);u.appendChild(this.po.m);u.appendChild(this.pE.m);u.appendChild(this.H4.m);
f.Uy(this.J1.m);u.appendChild(this.I_.m);u.appendChild(this.WD.m);this.q2=new iG("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.gK=new iG("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.pm=new iG("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.Ov=new iG("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.VJ=new iG("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.RY=new iG("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.Cy=new iG("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.bi=new iG("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var m=[this.q2,this.gK,this.pm,this.Ov,this.VJ,this.RY,this.Cy,this.bi];
for(var D=0;D<m.length;D++)m[D].l("click",this.auG,this);this.w3=new iG("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.OM=new iG("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.LS=new iG("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.aaM=new iG("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.a20=new iG("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.a0r=new iG("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.a76=new iG("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.YP=[this.w3,this.OM,this.LS,this.aaM,this.a20,this.a0r,this.a76];for(var D=0;D<this.YP.length;D++)this.YP[D].l("click",this.It,this);
var C=["lind","rind","flind","bind","aind"],Z=[];for(var D=0;D<5;D++)Z.push("<img src=\""+PIMG["par/"+C[D]]+"\" class=\"autoscale gsicon\" /> ");
this.Vt=new fc(Z[0],-20,20,"px");this.Vt.l(r.E.o,this.It,this);this.Vt.parent=this;this.x$=new fc(Z[1],-20,20,"px");
this.x$.l(r.E.o,this.It,this);this.x$.parent=this;this.ux=new fc(Z[2],-20,20,"px");this.ux.l(r.E.o,this.It,this);
this.ux.parent=this;this.hG=new fc(Z[3],-20,20,"px");this.hG.l(r.E.o,this.It,this);this.hG.parent=this;
this._4=new fc(Z[4],-20,20,"px");this._4.l(r.E.o,this.It,this);this._4.parent=this;this.jS=new ja([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.jS.l(r.E.o,this.It,this);this.jS.parent=this;this.Xb=new fc(["Auto VAR0",[16,0]],0,500,"%");this.Xb.l(r.E.o,this.It,this);
this.Xb.parent=this}a3.prototype=new bK;a3.prototype.a0h=function(u){if(f.pZ(this.J1.m))return;u.stopPropagation();
var m=this.jP.m.getBoundingClientRect(),C=new eY(r.E.z,!0);C.data={d:r.J.ek,Vl:this.J1,x:m.left,y:m.top+m.height+4};
this.c(C)};a3.prototype._=function(){this.Z7._();this.L1._();this.bI._();this.Ti._();this.Kj._();this.fT._();
this.Z_._();this.RP._();this.pE._();this.WD._();this.H4._();this.jS._();this.Xb._()};a3.prototype.f=function(u,m,C){this.yU=JSON.parse(JSON.stringify(u));
var Z=this.yU,q=Z.L4,J=Z.n9;this.q2.f(q.FauxBold!=null?q.FauxBold:!1);this.gK.f(q.FauxItalic!=null?q.FauxItalic:!1);
this.pm.f(q.FontCaps==2);this.Ov.f(q.FontCaps==1);this.RY.f(q.FontBaseline==1);this.VJ.f(q.FontBaseline==2);
this.Cy.f(q.Underline);this.bi.f(q.Strikethrough);this.Z7.f(q.Font==null?null:Z.nS[q.Font].Name,m,C);
var A=q.FontSize==null?20:q.FontSize;this.L1.f(A);var n=q.Tracking;this.Ti.f(n==null?0:n);this.H4.f(q._LineWidth!=null?q._LineWidth:1);
this.bI.f(q.Leading!=null&&q.Leading!=0?q.Leading:A);this.Nq.f(q.AutoLeading);this.fT.f((q.VerticalScale!=null?q.VerticalScale:0)*100);
this.Z_.f((q.HorizontalScale!=null?q.HorizontalScale:0)*100);this.Kj.f(q.BaselineShift!=null?q.BaselineShift:0);
this.RP.f(q.FillFlag!=null?q.FillFlag:!1);this.pE.f(q.StrokeFlag!=null?q.StrokeFlag:!1);this.WD.f(q._FillBackgroundFlag!=null?q._FillBackgroundFlag:!1);
this.dO(q.FillColor,this.KI);this.dO(q.FillColor,this.l4);this.dO(q.StrokeColor,this.po);this.dO(q._FillBackgroundColor,this.I_);
var N=J._Direction!=null?J._Direction:0,e=ad.p5(J);for(var D=0;D<this.YP.length;D++)this.YP[D].f(e==D);
this.jS.f(N);this.Xb.f((J.AutoLeading!=null?J.AutoLeading:1.2)*100);this.Vt.f(J.StartIndent!=null?J.StartIndent:0);
this.x$.f(J.EndIndent!=null?J.EndIndent:0);this.ux.f(J.FirstLineIndent!=null?J.FirstLineIndent:0);this.hG.f(J.SpaceBefore!=null?J.SpaceBefore:0);
this._4.f(J.SpaceAfter!=null?J.SpaceAfter:0)};a3.prototype.dO=function(u,m){if(u){var C=ad.o5(u);m.HN(Math.round(C.p)<<16|Math.round(C.T)<<8|Math.round(C.S))}else m.HN(0)};
a3.prototype._g=function(){var u=new eY(r.E.z,!0);u.data={d:r.J.mh,no:jO.Cd,yU:this.yU};this.c(u);var u=new eY(r.E.H,!0);
u.b=b.IR;u.data={d:"updateStyles"};this.c(u)};a3.prototype.auG=function(u){var m=this.yU.L4,C=u.target,Z=!C.Ia();
if(C==this.q2)m.FauxBold=Z;if(C==this.gK)m.FauxItalic=Z;if(C==this.pm)m.FontCaps=Z?2:0;if(C==this.Ov)m.FontCaps=Z?1:0;
if(C==this.RY)m.FontBaseline=Z?1:0;if(C==this.VJ)m.FontBaseline=Z?2:0;if(C==this.Cy)m.Underline=Z;if(C==this.bi)m.Strikethrough=Z;
this._g()};a3.prototype.It=function(u){var m=this.yU.L4,C=this.yU.n9,Z=u.target;if(Z==this.Ti){var q=this.Ti.Y();
m.Tracking=q}if(Z==this.bI){m.AutoLeading=!1;m.Leading=this.bI.Y()}if(Z==this.Nq){m.AutoLeading=this.Nq.Y()}if(Z==this.H4)m._LineWidth=Z.Y();
if(Z==this.L1)m.FontSize=Z.Y();if(Z==this.fT)m.VerticalScale=Z.Y()/100;if(Z==this.Z_)m.HorizontalScale=Z.Y()/100;
if(Z==this.Kj)m.BaselineShift=Z.Y();if(Z==this.RP)m.FillFlag=Z.Y();if(Z==this.pE)m.StrokeFlag=Z.Y();
if(Z==this.WD)m._FillBackgroundFlag=Z.Y();if(this.YP.indexOf(Z)!=-1){C.Justification=ad.p5(C,this.YP.indexOf(Z))}if(Z==this.Vt)C.StartIndent=Z.Y();
if(Z==this.x$)C.EndIndent=Z.Y();if(Z==this.ux)C.FirstLineIndent=Z.Y();if(Z==this.hG)C.SpaceBefore=Z.Y();
if(Z==this._4)C.SpaceAfter=Z.Y();if(Z==this.jS)C._Direction=Z.Y();if(Z==this.Xb)C.AutoLeading=Z.Y()/100;
this._g()};a3.prototype.a4w=function(u){var m=this.yU,C=this.Z7.Y(),Z=-1;for(var D=0;D<m.nS.length;D++)if(m.nS[D].Name==C)Z=D;
if(Z==-1){Z=m.nS.length;var q=JSON.parse(JSON.stringify(m.nS[0]));q.Name=C;m.nS.splice(Z,0,q)}m.L4.Font=Z;
this._g()};a3.prototype.fW=function(u){var m=u.target,C=m.abz(),Z={Type:1,Values:[1,(C>>16&255)/255,(C>>8&255)/255,(C>>0&255)/255]};
for(var D=0;D<4;D++)Z.Values[D]=Math.round(Z.Values[D]*1e3)/1e3;var q=m==this.KI||m==this.l4?0:m==this.po?1:2;
this.yU.L4[["FillColor","StrokeColor","_FillBackgroundColor"][q]]=Z;this._g()};function ch(){bK.call(this);
this.m=f.L("span","fontinput");this.i4=null;this.yF=null;this.ex=null;this.RI="";this.EN={};this.c7=[];
this.adp={};this.Tn=!1;this.N7=f.L("button","fitem");this.N7.setAttribute("style","width:9em;");this.N7.textContent="Family Name \u25BC";
this.m.appendChild(this.N7);f.oI(this.N7,this.anG.bind(this));this.dd=new bK;this.dd.parent=this;this.dd.m=f.L("div","floatcont");
this.dd.m.addEventListener("keyup",this.api.bind(this),!1);this.mI=new jz(6.8);this.dd.m.appendChild(this.mI.aq1());
this.mI.parent=this.dd;this.mI.l(r.E.o,this.Nj,this);var u=f.L("div","form");this.dd.m.appendChild(u);
this.xT=new iG(f.hS("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.xT.l("click",this.a6B,this);
u.appendChild(this.xT.m);this.Cx=new jC([12,86],null,8.4);this.Cx.l("input",this.N_,this);u.appendChild(this.Cx.m);
var m=this.aqI=new iG([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);m.l("click",this.akV,this);
m.m.style.marginLeft="1.5em";m.m.style.marginRight="0";u.appendChild(m.m);this.cM=f.L("span","fitem imageset scrollable");
this.cM.style.height="30em";this.dd.m.appendChild(this.cM);this.EF=f.L("button","fitem");this.EF.setAttribute("style","width:7em;");
this.EF.textContent="SubFamily Name \u25BC";this.m.appendChild(this.EF);f.oI(this.EF,this.anG.bind(this));
this.sW=new bK;this.sW.parent=this;this.sW.m=f.L("div","floatcont");this.p4=f.L("span","fitem imageset scrollable marged");
this.sW.m.appendChild(this.p4)}ch.prototype=new bK;ch.prototype.api=function(u){var m=0;if(hs.bD(u.code,hs.sq))m=-1;
if(hs.bD(u.code,hs.bH))m=1;if(m!=0){var C=this.c7,Z=C.length,q=this.i4.aQ()[this.ex];if(q==null&&Z==0)return;
var J=C.indexOf(q[0]);if(J==-1)return;J=(J+m+Z)%Z;this.Qb(C[J],null)}};ch.prototype.akV=function(){var u=new eY(r.E.z,!0);
u.data={d:r.J.zZ,acv:".otf,.ttf,.ttc"};this.c(u)};ch.prototype._=function(){this.mI._();this.aqI._();
this.xT.YI(f.hS("tools/cshape",null,"autoscale"))};ch.prototype.a6B=function(u){this.xT.f(!this.xT.Ia());
this.Nj()};ch.prototype.N_=function(u){this.RI=this.Cx.Y().toLowerCase();this.Nj()};ch.prototype.anG=function(u){f.Qn(u);
var m=u.currentTarget,C=m.getBoundingClientRect(),Z=m==this.N7,q=Z?this.dd:this.sW;if(f.pZ(q.m)){this.asR(q);
return}if(!Z&&this.i4.aQ()[this.ex]==null)return;var J=new eY(r.E.z,!0);J.data={d:r.J.ek,Vl:q,x:C.left,y:C.top+C.height};
this.c(J);if(Z){this.Nj()}};ch.prototype.ajO=function(u){var m=u.currentTarget.firstChild.nextSibling.textContent;
if(u.target.tagName.toLowerCase()=="button"){var C=this.yF.slice(0),Z=C.indexOf(m);if(Z==-1){C=C.slice(Math.max(0,C.length-29));
C.push(m)}else C.splice(Z,1);var q=new eY(r.E.z,!0);q.data={d:r.J.mh,no:jO.qA,Qc:C};this.c(q);this.Tn=!0;
this.Nj()}else{this.Qb(m,null)}};ch.prototype.a8y=function(u){this.Qb(null,u.currentTarget.firstChild.textContent)};
ch.prototype.Qb=function(u,m){var C=u==null?this.sW:this.dd,Z=this.i4;if(u==null)u=Z.aQ()[this.ex][0];
else{var q=Z.hU(u),J=Z.aQ()[this.ex];m=hT.Z5(q,J?J[1]:"regular")}var A=Z.zu(u,m)[2];this.f(A,Z);this.c(new eY(r.E.o,!1));
this.asR(C);this.Nj()};ch.prototype.asR=function(u){var m=new eY(r.E.z,!0);m.data={d:r.J.tK,Vl:u};this.c(m)};
ch.prototype.Y=function(){return this.ex};ch.prototype.f=function(u,m,C){var Z=this.i4;if(u!=null)this.ex=u;
else u=this.ex;this.i4=m;this.yF=C;if(u!=null){var q=m.aQ()[u],J,A;if(q==null){J="- "+u;A="-------"}else{J=q[0];
A=q[1];var n=m.hU(J);n.sort(hT.ajS);var N=n.indexOf(A),e=this.a8y.bind(this);this.p4.textContent="";
for(var D=0;D<n.length;D++){var q=m.zu(J,n[D]);if(!this.mI.I5(q))continue;var Q=this.asH(q,q[1],e,!1);
this.p4.appendChild(Q)}}this.N7.textContent=J.substring(0,15)+" \u25BC";this.N7.setAttribute("title",J+", \""+u+"\"");
this.EF.textContent=A.substring(0,10)+" \u25BC";this.EF.setAttribute("title",A)}};ch.prototype.Nj=function(){var u=this.i4.aQ()[this.ex],m=this.yF,C=null,Z=this.i4.a4l(),q=this.ajO.bind(this);
this.c7=[];for(var J in Z){var A=hT.Z5(Z[J],"regular"),n=this.i4.zu(J,A),N=m.indexOf(J)!=-1,e=!0;if(this.RI.length>0&&n[0].toLowerCase().indexOf(this.RI)==-1)e=!1;
else if(!this.mI.I5(n))e=!1;else if(this.xT.Ia()&&!N)e=!1;var Q=this.EN[J];if(Q==null){var Q=this.asH(n,J,q,!0);
this.EN[J]=Q;this.cM.appendChild(Q)}if(e)this.c7.push(J);var p=e?"":"display:none; ",B="opacity: "+(N?"1":"0.2");
if(u&&u[0]==J){p+="background-color:rgba(0,0,0,0.13);";C=Q}if(this.adp[J]!=p+B){Q.setAttribute("style",p);
Q.firstChild.setAttribute("style",B);this.adp[J]=p+B}}if(C&&!this.Tn)this.cM.scrollTop=C.offsetTop-210;
this.Tn=!1};ch.prototype.asH=function(u,m,C,Z){var q=f.L("div","fontitem"),N="";q.addEventListener("click",C,!1);
if(Z)q.appendChild(f.L("button","star"));var J=f.L("span","label");J.setAttribute("title",m);J.textContent=m;
q.appendChild(J);var A=f.F(),n=1/A,e=hT.i7*n,Q=hT.iK*n;if(1<A&&A<1.5)N="width:"+e+"px; height:"+Q+"px;";
var p=f.L("span","thumb gsicon");if(u.aab){N+="background: url("+u.aab+");";if(1<A&&A<1.5)N+="background-size: "+e+"px "+Q+"px;"}else{var B=Math.ceil(FNTS.list.length/hT.cols),$=Math.floor(u.NR/B),R=u.NR%B,z=$*hT.i7,v=R*hT.iK;
if(1<A&&A<1.5){N+="background-size: "+hT.cols*e+"px "+B*Q+"px;";z*=n;v*=n}N+="background-position:-"+z+"px -"+v+"px;"}p.setAttribute("style",N);
q.appendChild(p);return q};function jz(u){bK.call(this);this.m=f.L("button","fitem bbtn");this.m.addEventListener("click",this.a1y.bind(this),!1);
this.J1=new bK;this.J1.m=f.L("div","floatcont");this.J1.parent=this;this.tk=f.L("div","flexrow");this.J1.m.appendChild(this.tk);
this.L7=[];this.PE=[];var m=this.tk,C=f.L("div",""),Z=f.L("div","");m.appendChild(C);m.appendChild(Z);
this.Bc=[];for(var D=0;D<FNTS.cats.length;D++)this.Bc.push({name:FNTS.cats[D],index:D,uW:0});this.u8=new aG([7,0]);
this.u8.f(!0);this.u8.l(r.E.o,this.arW,this);C.appendChild(this.u8.m);this.Hz=f.L("div","vlist marged scrollable");
this.Hz.setAttribute("style","width:10.3em; height:"+u+"em; ");C.appendChild(this.Hz);this.QJ=[];for(var D=0;
D<this.Bc.length;D++){var q=this.Bc[D],J=new aG(q.name);this.QJ.push(J);J.l(r.E.o,this.a1j,this);J.f(!0);
this.Hz.appendChild(J.m);this.L7.push(1)}this.ajR=new aG([7,0]);this.ajR.l(r.E.o,this.abq,this);this.$I=f.L("div","vlist marged scrollable");
this.$I.setAttribute("style","width:8.6em; height:"+(u+1.5)+"em; ");Z.appendChild(this.$I);this.zF=[];
for(var D=0;D<FNTS.subsetNames.length;D++){var J=new aG(FNTS.subsetNames[D]);this.zF.push(J);J.l(r.E.o,this.aoF,this);
J.f(!1);this.$I.appendChild(J.m);this.PE.push(0)}}jz.prototype=new bK;jz.prototype.a68=function(u){var m=this.zF;
for(var D=0;D<m.length;D++){var C=(u>>>D&1)==1;this.PE[D]=C;m[D].f(C)}};jz.prototype.aq1=function(){return this.tk};
jz.prototype._=function(){this.m.textContent=jg.get([25,1,0])+" \u25BC";this.u8._();this.ajR._()};jz.prototype.a1y=function(u){var m=this.m.getBoundingClientRect(),C=new eY(r.E.z,!0);
C.data={d:r.J.ek,Vl:this.J1,x:m.left,y:m.top+m.height,sb:!1};this.c(C)};jz.prototype.I5=function(u){if(this.L7[u[4]]==0)return!1;
else for(var m=0;m<this.PE.length;m++)if(this.PE[m]==1&&(u[3]>>>m&1)==0)return!1;return!0};jz.prototype.arW=function(u){var m=u.target.Y(),C=this.QJ,Z=this.L7;
for(var D=0;D<C.length;D++){C[D].f(m);Z[D]=m?1:0}this.c(new eY(r.E.o,!1))};jz.prototype.abq=function(u){var m=u.target.Y(),C=this.zF,Z=this.PE;
for(var D=0;D<C.length;D++){C[D].f(m);Z[D]=m?1:0}this.c(new eY(r.E.o,!1))};jz.prototype.a1j=function(u){var D=this.QJ.indexOf(u.target),m=this.Bc[D].index;
this.L7[m]=1-this.L7[m];this.c(new eY(r.E.o,!1))};jz.prototype.aoF=function(u){var D=this.zF.indexOf(u.target);
this.PE[D]=1-this.PE[D];this.c(new eY(r.E.o,!1))};function is(u,m,C){eh.call(this,m,!0,"gradientbutton",18,10,jO.__);
this.jM=-1;this.z0=-1;this.a9n=null;this.aa2=u;this.vC=C}is.prototype=new eh;is.prototype.LA=function(u){var m=this.ng;
this.f(m[this.Mb.Y()]);this.c(new eY(r.E.o))};is.prototype.EC=function(u){var m=new eY(r.E.z,!0);m.data={d:r.J.zH,E$:"gradienteditor",C:this.ZA,ry:this.afL.bind(this),yK:this.vC};
this.c(m)};is.prototype.afL=function(u){this.f(u);this.c(new eY(r.E.o))};is.prototype.FT=function(){if(!this.lT)return;
var u=Math.floor(36*f.F()),m=Math.floor(36*f.F()),C=[],Z=[],q=this.ng;for(var D=0;D<q.length;D++){var J=q[D];
Z.push(J.Nm?J.Nm.v.split("=").pop():"");var A=b.Ho.Dq(J,u,m,Math.PI/4,this.jM,this.z0);C.push(A)}this.Mb.JM(C,Z,u,m);
this.lT=!1};is.prototype.dW=function(u,m){this.aql(this.ZA,u,m)};is.prototype.f=function(u){this.aql(u,this.jM,this.z0)};
is.prototype.aql=function(u,m,C){this.jM=m;this.z0=C;if(u==null)return;var Z=JSON.stringify(u),q=Z+m+","+C;
if(q==this.a9n)return;this.a9n=q;this.ZA=JSON.parse(Z);var J=Math.floor(80*f.F()),A=Math.floor(16*f.F()),n=b.Ho.Dq(this.ZA,J,A,0,this.jM,this.z0);
this.Ee.setAttribute("src",n);f.iz(this.Ee,J,A)};is.prototype.Y=function(){var u;if(this.aa2)u=b.Ho.a9y(this.ZA,this.jM,this.z0);
else u=JSON.parse(JSON.stringify(this.ZA));return u};function hq(u){eh.call(this,u,!1,"swatchbutton",16,8.75,jO.O_)}hq.prototype=new eh;
hq.prototype.LA=function(u){this.f(this.ng[u.target.Y()]);this.c(new eY(r.E.o))};hq.prototype.FT=function(){if(!this.lT)return;
var u=Date.now(),m=Math.floor(10*f.F()),C=Math.floor(10*f.F()),Z=[],q=[],J=this.ng;for(var D=0;D<J.length;
D++){q.push(J[D].TB?J[D].TB.split("=").pop():"");Z.push(hq.Dq(J[D],m,C))}this.Mb.JM(Z,q,m,C);this.lT=!1};
hq.prototype.f=function(u){this.ZA=JSON.parse(JSON.stringify(u));this.kH()};hq.prototype.kH=function(){var u=Math.floor(24*f.F()),m=Math.floor(20*f.F()),C=hq.Dq(this.ZA,u,m);
this.Ee.setAttribute("src",C);f.iz(this.Ee,u,m)};hq.prototype.Y=function(){return JSON.parse(JSON.stringify(this.ZA))};
hq.vI={};hq.Dq=function(u,m,C){var Z=hq.O2,q=hq.vI,J=j.U0(u.p<<16|u.T<<8|u.S);if(q[J])return q[J];if(Z==null){var A=f.L("canvas");
Z=hq.O2=A.getContext("2d")}var A=Z.canvas;A.width=m;A.height=C;Z.fillStyle="#"+J;Z.fillRect(0,0,m,C);
var n=q[J]=A.toDataURL();return n};function aP(u,m,C,Z,q){if(u==null)u=!1;if(m==null)m=!1;if(C==null)C=!1;
bK.call(this);this.Jf=new dz;this.aL=new dz;this.rm=72;this.gC=72;this.s8=!0;this.m=f.L("span");this.GV=new fc([12,41],0,0,null,0,!1,!0);
this.m.appendChild(this.GV.m);this.GV.l(r.E.o,this.g6,this);var J=["px","%"];if(u)J=J.concat(["mm","in"]);
if(q){J=[[12,76,2],[12,76,6]];if(u)J=J.concat([[12,76,5],[12,76,3]])}this.tl=new fq(null,J);this.m.appendChild(this.tl.m);
f.Uy(this.m);this.tl.l(r.E.o,this.g6,this);this.st=new fc([12,42],0,0,null,0,!1,!0);this.m.appendChild(this.st.m);
this.st.l(r.E.o,this.g6,this);var A=new iG("\u21F5",!1,null,!0);A.l("click",this.a0G,this);this.oA=new iG("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.oA.l("click",this.g6,this);this.auf=new i7("");if(m){this.m.appendChild(this.oA.m);this.m.appendChild(this.auf.m);
this.oA.Lo()}else this.m.appendChild(A.m);this.vH=new fc("DPI",0,0,null,3,!1,!0,4);if(u&&Z==null){f.Uy(this.m);
this.m.appendChild(this.vH.m)}this.vH.l(r.E.o,this.g6,this);this.Vj=new aG([12,23,1]);this.Vj.l(r.E.o,this.g6,this);
if(C){f.Uy(this.m);this.m.appendChild(this.Vj.m)}f.Uy(this.m)}aP.prototype=new bK;aP.prototype.ti=function(){this.GV.ti()};
aP.prototype.auM=function(){this.s8=!1;if(this.tl.Y()==0){this.tl.f(3);this.eg()}};aP.prototype.asZ=function(){this.s8=!0};
aP.prototype.aqt=function(u){this.oA.f(u)};aP.prototype._=function(){this.GV._();this.st._();this.vH._();
this.oA._();this.Vj._();this.tl._()};aP.prototype.a0G=function(u){var m=this.aL.x;this.aL.x=this.aL.y;
this.aL.y=m;this.eg();this.c(new eY(r.E.o,!1))};aP.prototype.g6=function(u){if(u.target==this.tl&&!this.s8&&this.tl.Y()==0)this.tl.f(3);
if(u.target==this.tl||u.target==this.Vj){this.eg();return}if(u.target==this.oA)u.target.f(!u.target.Y());
var m=this.Jf,C=parseFloat(this.GV.Y());if(isNaN(C))C=1;var Z=parseFloat(this.st.Y());if(isNaN(Z))Z=1;
var q=this.tl.Y();if(this.s8){var J=this.gC;if(q==1){C=this.Jf.x*(C/100);Z=this.Jf.y*(Z/100)}var A=[1,1,25.4/J,1/J][q];
C/=A;Z/=A;if(this.Vj.Y()){C+=this.Jf.x;Z+=this.Jf.y}if(u.target==this.vH){var n=this.vH.Y();if(!0){var N=n/J;
C*=N;Z*=N}J=n}if(this.oA.Y()){if(u.target==this.GV)Z=C*(m.y/m.x);else C=Z*(m.x/m.y)}C=Math.max(Math.abs(C),1);
Z=Math.max(Math.abs(Z),1)}else{var J=this.rm;if(u.target==this.vH)J=this.vH.Y();else{if(this.oA.Y()){if(u.target==this.GV)Z=C*(m.y/m.x);
else C=Z*(m.x/m.y)}var A=[1,1,25.4/J,1/J][q],e=C/(q==1?100:m.x*A);J=J/e}C=m.x;Z=m.y}this.aL=new dz(Math.round(C),Math.round(Z));
this.gC=J;this.eg();this.c(new eY(r.E.o,!1))};aP.prototype.a1A=function(D){this.tl.f(D);this.eg()};aP.prototype.f=function(u,m,C){if(C!=!0)this.Jf=u.clone();
this.aL=u.clone();if(m!=null){this.rm=m;this.gC=m}this.eg()};aP.prototype.eg=function(){var u=this.aL.x,m=this.aL.y,C=this.gC,Z=(u/m).toFixed(3);
while(Z.charAt(Z.length-1)=="0")Z=Z.substring(0,Z.length-1);if(Z.charAt(Z.length-1)==".")Z=Z.substring(0,Z.length-1);
var q="  "+Z+" : 1",J=function(Q,p){while(p!=0){var B=p;p=Q%p;Q=B}return Q},A=J(u,m);if(Math.min(u,m)/A<10)q="  "+Math.round(u/A)+" : "+Math.round(m/A);
this.auf.f(q);if(this.Vj.Y()){u-=this.Jf.x;m-=this.Jf.y}var n=this.tl.Y();if(n==1){if(this.s8){u=100*u/this.Jf.x;
m=100*m/this.Jf.y}else{u=m=100*this.rm/this.gC}}else{u=Math.round(u);m=Math.round(m)}var N=[1,1,25.4/C,1/C][n];
u*=N;m*=N;var e=n==1||n==3?2:0;this.GV.ha(e);this.st.ha(e);this.GV.f(u);this.st.f(m);this.vH.f(C)};aP.prototype.Y=function(){return this.aL.clone()};
aP.prototype.zq=function(){return this.gC};function dx(u,m){bK.call(this);var C=u==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.kq=u;this.auj=m;this.nh=1;this.uo=[1,1,0];var Z=this.m=f.L("div","numlist"),q=this.Gh=[];for(var D=0;
D<4;D++){var J=new fc(C[D],0,0,null,2,!1,!0,4);J.l(r.E.o,this.g6,this);Z.appendChild(J.m);q[D]=J;if(D==1||D==3)f.Uy(Z)}q[4]=new aG(u==0?[12,51]:[12,91,2]);
q[4].f(!0);Z.appendChild(q[4].m)}dx.prototype=new bK;dx.prototype._=function(){var u=this.Gh;for(var D=0;
D<5;D++)u[D]._();if(this.kq==0)f.lB(u[0],u[2])};dx.prototype.f=function(u,m,C){if(m)this.uo=m;m=this.uo;
var Z=C?u:this.kq==0?[u[2],u[0],u[3],u[1]]:[u[0],u[1],u[3],u[2]];this.nh=Z[0]/Z[2];for(var D=0;D<4;D++){var q=this.Gh[D];
q.ha(m[2]==0&&this.auj?0:2);q.f(j.KX.acZ(Z[D],m[0],m[1],m[2]))}};dx.prototype.Y=function(u){var m=[],C=this.uo;
for(var D=0;D<4;D++){var Z=j.KX.k4(this.Gh[D].Y(),C[0],C[1],C[2]);m[D]=this.auj?Math.round(Z):Z}return u?m:this.kq==0?[m[1],m[3],m[0],m[2]]:[m[0],m[1],m[3],m[2]]};
dx.prototype.g6=function(u){var m=this.kq,C=this.Gh.indexOf(u.currentTarget),Z=this.Y(!0),q=this.Gh[4].Y();
if(m==0){Z[0]=Math.max(1,Z[0]);Z[2]=Math.max(1,Z[2]);if(q&&C==0)Z[2]=Z[0]/this.nh;if(q&&C==2)Z[0]=Z[2]*this.nh}if(m==1){Z[C]=Math.max(0,Z[C]);
if(q)for(var D=0;D<4;D++)Z[D]=Z[C]}this.f(Z,null,!0);this.c(new eY(r.E.o,!1))};function fQ(){bK.call(this);
this.L6=0;this.dL=[0,0,1,1,100,100];this.m=f.L("span","fitem");this.sg=new fq(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.m.appendChild(this.sg.m);this.sg.l(r.E.o,this.g6,this);this.GV=new fc("W",0,0,null,0,!1,!0);this.m.appendChild(this.GV.m);
this.GV.l(r.E.o,this.g6,this);this.st=new fc("H",0,0,null,0,!1,!0);this.m.appendChild(this.st.m);this.st.l(r.E.o,this.g6,this);
this.f({WI:0,x:0,y:0})}fQ.prototype=new bK;fQ.prototype._=function(){f.lB(this.GV,this.st);this.sg._()};
fQ.prototype.g6=function(u){if(u.target==this.sg){var m=this.Y(),C=this.dL;C[this.L6*2]=m.x;C[this.L6*2+1]=m.y;
this.L6=m.WI;this.f({WI:m.WI,x:C[m.WI*2],y:C[m.WI*2+1]})}if(this.GV.Y()<1)this.GV.f(1);if(this.st.Y()<1)this.st.f(1);
this.c(new eY(r.E.o,!1))};fQ.prototype.f=function(u){this.sg.f(u.WI);this.GV.f(u.x);this.st.f(u.y);if(u.WI==0){this.GV.mq();
this.st.mq()}else{this.GV.BD();this.st.BD()}};fQ.prototype.Y=function(){return{WI:this.sg.Y(),x:this.GV.Y(),y:this.st.Y()}};
function iF(u){bK.call(this);this.m=f.L("span","");this.ap8=u;this.C8=new fF("Off X",-100,100,u?"%":"px",0,!1);
this.gR=new fF("Off Y",-100,100,u?"%":"px",0,!1);this.C8.l(r.E.o,this.g6,this);this.gR.l(r.E.o,this.g6,this);
this.m.appendChild(this.C8.m);this.m.appendChild(this.gR.m)}iF.prototype=new bK;iF.prototype._=function(){this.C8._();
this.gR._()};iF.prototype.g6=function(u){this.c(new eY(r.E.o,!1))};iF.prototype.ar6=function(u){this.C8.f(u.x);
this.gR.f(u.y)};iF.prototype.a6M=function(){return new dz(this.C8.Y(),this.gR.Y())};iF.prototype.f=function(u,m){var C=u.Hrzn.v,Z=u.Vrtc.v;
if(this.ap8){C=C.val;Z=Z.val}this.C8.f(C);this.gR.f(Z);if(m==!0)this.g6()};iF.prototype.Y=function(){var u=this.C8.Y(),m=this.gR.Y();
if(this.ap8)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:u}},Vrtc:{t:"UntF",v:{type:"#Prc",val:m}}};
else return{classID:"Pnt",Hrzn:{v:u,t:"doub"},Vrtc:{v:m,t:"doub"}}};function gl(){bK.call(this);this.m=f.L("span","fitem strokebutton");
this.fd=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.ST=JSON.parse(JSON.stringify(c0.K_.default));
this.Y1=f.L("button");this.m.appendChild(this.Y1);f.oI(this.m,this.LF.bind(this));var u=f.L("canvas","gsicon");
this.O2=u.getContext("2d");this.Y1.appendChild(u);var m=f.L("span");m.textContent=" \u25BC";this.Y1.appendChild(m);
this.J1=new bK;this.J1.parent=this;this.J1.m=f.L("div","floatcont form");var C=this.J1.m;C.setAttribute("style","width: 14em;");
this.EN=[new fq([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new ja([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new ja([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new jC([19,9,2])];
for(var D=0;D<this.EN.length;D++){var Z=this.EN[D];C.appendChild(Z.m);var q=D<4?r.E.o:"click";Z.l(q,this.g6,this)}f.Uy(C);
this.tL=[];var J=this.a5F.bind(this);for(var D=0;D<this.fd.length;D++){var A=f.L("button","fitem");this.tL.push(A);
C.appendChild(A);A.addEventListener("click",J,!1);var u=f.L("canvas","gsicon"),n=u.getContext("2d");
A.appendChild(u);this.aqB(n,40,20,this.fd[D])}}gl.prototype=new bK;gl.prototype.LF=function(u){if(f.pZ(this.J1.m))return;
u.stopPropagation();var m=this.Y1.getBoundingClientRect(),C=new eY(r.E.z,!0);C.data={d:r.J.ek,Vl:this.J1,x:m.left,y:m.top+m.height+4};
this.c(C)};gl.prototype.g6=function(u){var m=this.EN,C=m.indexOf(u.target),Z=[];for(var D=0;D<4;D++)Z.push(m[D].Y());
this.ST=this.aij(Z);this.c(new eY(r.E.o,!1))};gl.prototype.a5F=function(u){var m=this.tL.indexOf(u.currentTarget);
this.f(this.aij(this.fd[m]));this.c(new eY(r.E.o,!1))};gl.prototype.aij=function(u){var m=JSON.parse(JSON.stringify(this.ST)),C=u[0],Z=u[1],q=u[2],J=u[3];
if(C!=null)m.strokeStyleLineAlignment.v.strokeStyleLineAlignment=c0.K_.bt[C];if(Z!=null)m.strokeStyleLineCapType.v.strokeStyleLineCapType=c0.K_.kS[Z];
if(q!=null)m.strokeStyleLineJoinType.v.strokeStyleLineJoinType=c0.K_.join[q];var A=m.strokeStyleLineDashSet.v=[];
J=J.split(" ");while((J.length&1)!=0)J.pop();for(var D=0;D<J.length;D++)A.push({t:"UntF",v:{type:"#Nne",val:parseInt(J[D])}});
return m};gl.prototype._=function(){for(var D=0;D<this.EN.length;D++)this.EN[D]._()};gl.prototype.f=function(u){this.ST=JSON.parse(JSON.stringify(u));
var m=c0.K_.bt.indexOf(u.strokeStyleLineAlignment.v.strokeStyleLineAlignment),C=c0.K_.kS.indexOf(u.strokeStyleLineCapType.v.strokeStyleLineCapType),Z=c0.K_.join.indexOf(u.strokeStyleLineJoinType.v.strokeStyleLineJoinType),q=[],J=u.strokeStyleLineDashSet.v;
for(var A=0;A<J.length;A++)q.push(J[A].v.val);var n=this.EN;n[0].f(m);n[1].f(C);n[2].f(Z);n[3].f(q.join(" "));
var N=[];for(var D=0;D<4;D++)N.push(n[D].Y());this.aqB(this.O2,40,16,N)};gl.prototype.Y=function(){return JSON.parse(JSON.stringify(this.ST))};
gl.prototype.aqB=function(u,m,C,Z){var q=Z[0],J=Z[1],A=Z[2],n=Z[3].split(" ").map(parseFloat);f.hs(u.canvas,m,C);
var N=Math.min(5,this.ST.strokeStyleLineWidth.v.val);for(var D=0;D<n.length;D++)n[D]*=N;u.clearRect(0,0,m,C);
u.setLineDash(n);u.lineCap=["butt","round","square"][J];u.lineJoin=["miter","round","bevel"][A];u.lineWidth=N;
u.beginPath();u.moveTo(0,C/2);u.lineTo(m*2,C/2);u.stroke()};function jF(u){eh.call(this,u,!1,"contourbutton",34,16,jO.Jb,!0);
this.Cx=new jC([12,86],null,16);this.Cx.l("input",this.N_,this);this.J1.m.appendChild(this.Cx.m);this.W5=null;
this.RI="";this.Li=null;this.f(j9.Qv())}jF.prototype=new eh;jF.prototype._=function(){eh.prototype._.call(this);
this.Cx._()};jF.prototype.LA=function(u){this.f(this.W5[u.target.Y()[0]]);this.c(new eY(r.E.o))};jF.prototype.N_=function(u){this.RI=this.Cx.Y().toLowerCase();
this.a2x()};jF.O4=!1;jF.prototype.FT=function(){if(!this.lT)return;var u=this.ng;if(u==null||!jF.O4){var m=new eY(r.E.z,!0);
m.data={d:r.J.x2,no:{url:"rsrc/basic/fa_basic.csh"}};this.c(m);jF.O4=!0}else{var C=Math.floor(38*f.F()),Z=Math.floor(38*f.F());
this.Li=[];for(var D=0;D<u.length;D++)this.Li.push(jF.acS(u[D],C,Z));this.a2x();this.lT=!1}};jF.prototype.a2x=function(){var u=Math.floor(38*f.F()),m=Math.floor(38*f.F());
this.W5=[];var C=[],Z=[],q=this.ng;for(var D=0;D<q.length;D++){if(q[D].jA.toLowerCase().indexOf(this.RI)==-1)continue;
this.W5.push(q[D]);C.push(this.Li[D]);Z.push(q[D].jA)}this.Mb.JM(C,Z,u,m)};jF.prototype.f=function(u){this.ZA=jF.clone(u);
this.kH()};jF.prototype.kH=function(){var u=Math.floor(23*f.F()),m=Math.floor(23*f.F()),C=jF.acS(this.ZA,u,m);
this.Ee.setAttribute("src",C);f.iz(this.Ee,u,m)};jF.prototype.Y=function(){return jF.clone(this.ZA)};
jF.clone=function(u){return{jA:u.jA,J4:u.J4,B:F.nq.K$(u.B),hF:u.hF.clone()}};jF.O=null;jF.yV=null;jF.acS=function(u,m,C){var Z=F.nq.K$(u.B),q=u.hF,J=Math.min(m/q.e,C/q.n)*.9,A=new ix;
A.translate(-.5,-.5);A.scale(.95,.95);A.translate(.5,.5);A.scale(J*q.e,J*q.n);j.$.l0(Z,A);var n=new F.nq;
n.B=Z;var N=n.Te();N.rect.x=Math.floor((m-N.rect.e)/2);N.rect.y=Math.floor((C-N.rect.n)/2);var e=j.U(N.rect.Z()*4);
j.wC(N.channel,e,3);var Q=jF;if(Q.O==null)Q.O=f.L("canvas");var p=Q.O,B=p.getContext("2d");if(p.width!=m||p.height!=C||Q.yV==null){p.width=m;
p.height=C;Q.yV=B.createImageData(m,C)}var $=Q.yV;$.data.fill(0);j.zO(e,N.rect,$.data,new bl(0,0,m,C));
B.putImageData($,0,0);return p.toDataURL()};function gk(u){eh.call(this,u,!1,"ICCButton",16,12,jO.t4,!0);
this.Mb.$R(1)}gk.prototype=new eh;gk.prototype.eB=function(){var u="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var D=0;D<u.length;D++)u[D]="luts/"+u[D]+".CUBE";return u};gk.prototype.LA=function(u){this.f(this.ng[u.target.Y()]);
this.c(new eY(r.E.o))};gk.prototype.FT=function(){if(!this.lT)return;var u=Math.floor(1*f.F()),m=Math.floor(1*f.F()),C=[],Z=[],q=this.ng;
for(var D=0;D<q.length;D++){var J=q[D].Nm.v.split("\\").pop().split("/").pop();Z.push(J);C.push(gk.Dq(q[D],u,m))}this.Mb.JM(C,Z,u,m);
this.lT=!1};gk.prototype.f=function(u){this.ZA=JSON.parse(JSON.stringify(u));this.kH()};gk.Dq=function(u,m,C){var Z=f.L("canvas"),A="ICC / 3DL / look / cube";
Z.width=m;Z.height=C;var q=Z.getContext("2d"),J=Math.floor(14*f.F());q.font=J+"px sans-serif";if(u.Nm)A=u.Nm.v.split("\\").pop().split("/").pop();
q.fillText(A,10,J);return Z.toDataURL()};gk.prototype.kH=function(){var u=Math.floor(120*f.F()),m=Math.floor(20*f.F());
this.Ee.setAttribute("src",gk.Dq(this.ZA,u,m));f.iz(this.Ee,u,m)};gk.prototype.Y=function(){return JSON.parse(JSON.stringify(this.ZA))};
function e1(){bK.call(this);this.HX=null;this.m=f.L("span","fitem");this.Zy=new bx([14,9]);this.oD=new fc(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.y2=new gl;this.e5=[this.Zy,this.oD,this.y2];for(var D=0;D<this.e5.length;D++){var u=this.e5[D];
this.m.appendChild(u.m);u.parent=this;u.l(r.E.o,this.g6,this)}}e1.prototype=new bK;e1.prototype._=function(){for(var D=0;
D<this.e5.length;D++)this.e5[D]._()};e1.prototype.vZ=function(u,m){this.Zy.vZ(u,m)};e1.prototype.g6=function(u){var m=this.HX,C=this.Zy.Y(),Z=C.Er;
m.strokeEnabled.v=Z!=0;if(Z!=0){m.strokeStyleContent.v=C.am;C.am.classID=c0.K_.j1[Z-1]}m.strokeStyleLineWidth.v.val=this.oD.Y();
if(u.target==this.y2)m=this.y2.Y();this.HX=m;this.c(new eY(r.E.o,!1))};e1.prototype.f=function(u,m,C){this.HX=JSON.parse(JSON.stringify(m));
var Z=m.strokeEnabled.v,q=m.strokeStyleContent.v,J=Z?{Er:1+c0.K_.j1.indexOf(q.classID),am:q}:{Er:0};
this.Zy.f(u,J,C);this.oD.f(m.strokeStyleLineWidth.v.val);this.y2.f(m)};e1.prototype.Y=function(){return JSON.parse(JSON.stringify(this.HX))};
function i6(u){var m=[[18,0],[18,1],[18,2],[18,3]],C=ja.vu(["set/front","set/union","set/difference","set/intersection"]);
ja.call(this,u?[12,36]:null,C,m)}i6.prototype=new ja;function f9(){bK.call(this);this.m=f.L("button","fitem bbtn");
f.oI(this.m,this.LF.bind(this));this.J1=new bK;this.J1.m=f.L("div","floatcont form");this.J1.m.setAttribute("style","max-width: 200px;");
this.J1.parent=this;var u=hA;this.vJ=[new aG("Start"),new aG("End"),new u([12,41],0,100,"px",null,!0,null,!0),new u([12,80,0],0,100,"px",null,!0,null,!0),new u("Concavity",-50,50,"%",null,null,null,!0)];
for(var D=0;D<this.vJ.length;D++){var m=this.vJ[D];m.parent=this;m.l(r.E.o,this.o_,this);this.J1.m.appendChild(m.m)}this.aj6=f.L("div");
this.J1.m.appendChild(this.aj6)}f9.prototype=new bK;f9.prototype.f=function(u){for(var D=0;D<5;D++)this.vJ[D].f(u[D]);
this.L9()};f9.prototype.Y=function(u){var m=[];for(var D=0;D<5;D++)m[D]=this.vJ[D].Y();return m};f9.prototype._=function(){this.m.textContent=jg.get([12,93,4]);
for(var D=0;D<this.vJ.length;D++)this.vJ[D]._()};f9.prototype.o_=function(u){this.c(new eY(r.E.o,!1));
this.L9()};f9.prototype.L9=function(u){var m=this.Y(),C=200,Z=60;m[2]/=f.F();m[3]/=f.F();var q=j.$.i5.Tl(0,Z/2,C,Z/2,5,m),J=j.$.fL(q);
this.aj6.innerHTML="<svg width=\""+C+"\" height=\""+Z+"\" class=\"gsicon\">\t\t\t<path d=\""+J.TJ+"\" />\t\t\t</svg>"};
f9.prototype.LF=function(u){if(f.pZ(this.J1.m))return;u.stopPropagation();var m=this.m.getBoundingClientRect(),C=new eY(r.E.z,!0);
C.data={d:r.J.ek,Vl:this.J1,x:m.left,y:m.top+m.height,sb:!0};this.c(C)};function en(){bK.call(this);
this.b$=[16,!0,!0];this.m=f.L("span","");this.tJ=[new fc([12,24],0,255),new aG([12,25,1]),new aG([12,25,0])];
for(var D=0;D<3;D++){var u=this.tJ[D];u.parent=this;u.f(this.b$[D]);this.m.appendChild(u.m);u.l(r.E.o,this.g6,this)}}en.prototype=new bK;
en.prototype.g6=function(){for(var D=0;D<3;D++)this.b$[D]=this.tJ[D].Y();this.c(new eY(r.E.o,!1))};en.prototype.f=function(u){this.b$=u.slice(0);
for(var D=0;D<3;D++)this.tJ[D].f(u[D])};en.prototype.Y=function(){return this.b$.slice(0)};en.prototype._=function(){for(var D=0;
D<3;D++)this.tJ[D]._()};function eb(u,m){bK.call(this);if(m==null)m=!1;this.Li=[];this.VW=Math.floor(120*f.F());
this.aqA=Math.floor(23*f.F());this.ZK=0;this.pK=[];this.Pc=[];for(var C in j.x0.type){if(C=="warpCustom"&&!m)continue;
this.pK.push(C);this.Pc.push(j.x0.type[C])}this.m=f.L("span","fitem warpbutton");this.J1=new bK;this.J1.m=f.L("div","floatcont");
if(u){this.vY=u;this.zf=f.L("label","flabel");this.m.appendChild(this.zf)}this.d=f.L("button");this.m.appendChild(this.d);
f.oI(this.d,this.LF.bind(this));this._R=new dc(!0);this.J1.m.appendChild(this._R.m);this._R.l(r.E.o,this.a3I,this);
this.J1.m.setAttribute("style","width:"+Math.floor(8+this.VW/f.F())+"px;");this._()}eb.prototype=new bK;
eb.prototype.YI=function(u){this.zf.textContent=u};eb.prototype._=function(){if(this.vY)this.zf.innerHTML=jg.get(this.vY)+":";
this.kH()};eb.agF={};eb.asS=function(u,m,C){var Z=jg.get(j.x0.type[u]),q=Z+"-"+u+"-"+m+"-"+C,J=eb.agF[q];
if(J)return J;var A=eb.O2;if(n==null){var n=f.L("canvas");A=eb.O2=n.getContext("2d")}var n=A.canvas;
if(n.width!=m||n.height!=C){n.width=m;n.height=C}A.font=Math.floor(13*f.F())+"px sans-serif";A.lineWidth=1;
A.strokeStyle="#000000";var N=Math.floor(16*f.F()),e=new bl(0,0,N,N);A.clearRect(0,0,n.width,n.height);
var Q=j.x0.x0(e,u,!0,.3,0,0),p=j.u.yj(e);p.X.push("M","L","M","L");p.s.push(0,N/2,N,N/2);p.s.push(N/2,0,N/2,N);
p=j.u.Vv(p);p=j.u.JO(p,N/5);j.jk.I(Q,p.s,e);j.u.I(p.s,new ix(1,0,0,1,Math.floor(8*f.F())+.5,Math.floor(3*f.F())+.5),p.s);
A.beginPath();Typr.U.pathToContext({cmds:p.X,crds:p.s},A);A.stroke();A.fillText(Z,Math.floor(40*f.F()),Math.floor(16*f.F()));
J=eb.agF[q]=n.toDataURL();return J};eb.prototype.LF=function(u){if(f.pZ(this.J1.m))return;u.stopPropagation();
var m=this.VW,C=this.aqA;for(var D=0;D<this.pK.length;D++)this.Li[D]=eb.asS(this.pK[D],m,C);this._R.JM(this.Li,null,m,C);
var Z=this.d.getBoundingClientRect(),q=new eY(r.E.z,!0);q.data={d:r.J.ek,Vl:this.J1,x:Z.left,y:Z.top+Z.height+4};
this.c(q)};eb.prototype.a3I=function(u){var m=new eY(r.E.z,!0);m.data={d:r.J.tK,Vl:this.J1};this.c(m);
this.ZK=u.target.Y()[0];this.kH();this.c(new eY(r.E.o))};eb.prototype.kH=function(){var u=this.VW,m=this.aqA;
this._R.f([this.ZK]);this.d.innerHTML="<img src=\""+eb.asS(this.pK[this.ZK],u,m)+"\" class=\"gsicon\" />";
f.iz(this.d.firstChild,u,m)};eb.prototype.Y=function(){return this.pK[this.ZK]};eb.prototype.f=function(u){this.ZK=this.pK.indexOf(u);
this.kH()};function iu(u,m,C){bK.call(this);if(u==null)u=!1;if(m==null)m=!1;if(C==null)C=!1;this.a4$=m;
this.x0=null;this.II=new eb([12,22],C);this.II.parent=this;this.II.l(r.E.o,this._g,this);this.Bj=new fq([22,0],[[22,4,0],[22,4,1]]);
this.Bj.l(r.E.o,this._g,this);var Z=u?fc:hA;this.Qw=new Z([22,1],-100,100,"%");this.CP=new Z("Horizontal Distortion:",-100,100,"%");
this.hX=new Z("Vertical Distortion:",-100,100,"%");this.Qw.parent=this.CP.parent=this.hX.parent=this;
this.Qw.l(r.E.o,this._g,this);this.CP.l(r.E.o,this._g,this);this.hX.l(r.E.o,this._g,this)}iu.prototype=new bK;
iu.prototype._=function(){this.II._();this.Bj._();this.Qw._();var u=this.a4$?1:100;this.CP.YI(jg.get([22,2]).substring(0,u)+":");
this.hX.YI(jg.get([22,3]).substring(0,u)+":")};iu.prototype._g=function(){var u=this.x0,m=this.II.Y(),C=u.warpStyle.v.warpStyle;
if(m=="warpCustom")j.x0.M0(j.x0.Xw(u),u);else delete u.customEnvelopeWarp;u.warpStyle.v.warpStyle=this.II.Y();
u.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.Bj.Y()];u.warpValue.v=this.Qw.Y();u.warpPerspective.v=this.CP.Y();
u.warpPerspectiveOther.v=this.hX.Y();if(m=="warpNone"||m=="warpCustom"){u.warpValue.v=0;u.warpPerspective.v=0;
u.warpPerspectiveOther.v=0}else if(C=="warpNone"||C=="warpCustom")u.warpValue.v=50;this.c(new eY(r.E.o,!1));
this.f(u)};iu.prototype.Y=function(u){return JSON.parse(JSON.stringify(this.x0))};iu.prototype.f=function(u){this.x0=JSON.parse(JSON.stringify(u));
this.II.f(u.warpStyle.v.warpStyle);this.Bj.f(u.warpRotate.v.Ornt=="Hrzn"?0:1);this.Qw.f(u.warpValue.v);
this.CP.f(u.warpPerspective.v);this.hX.f(u.warpPerspectiveOther.v);var m=u.warpStyle.v.warpStyle,C=m=="warpNone"||m=="warpCustom",Z=[this.Bj,this.Qw,this.CP,this.hX];
for(var D=0;D<Z.length;D++)if(C)Z[D].mq();else Z[D].BD()};function cv(u,m){bK.call(this);this.m=f.L("div");
this.Hl=u;this.z_=null;this.iI=new dz(0,0);this.rp="position:relative;overflow:hidden;";this.nb=null;
this.SB=new f.SG(this.m);this.a9T=m;this.Y6("grab");this.O=f.L("canvas","canv");this.m.appendChild(this.O);
this.O2=this.O.getContext("2d");this.a17=null;this.IG=null;this.je=null;this.MP=0;this.ak=0;this.iM=0;
this.aeH=this.a7P.bind(this);this.aoY=null;this.t=new bY({e:1,n:1});this.DI=null;this.bh=null;this.Yc=[];
this.afl=0;this.tB=0;this.afE=this.AT.bind(this);this.ali=this.rB.bind(this);this.aoB=this.kP.bind(this);
this.a4z=this.YU.bind(this);this.a0Z=0;this.i8=null;this.atq(this.O);this.Fp(this)}cv.prototype=new bK;
cv.aoC=function(u){var m=new hs(!0);if(u>=0)m.U1("Space");if(u>=1){m.U1("ControlLeft");if(u==2)m.U1("AltLeft")}return m};
cv.prototype.St=function(u){var m=this.nb,C=null;if(u.j(hs.tH)){C="grab";if(u.j(hs.Vw)){C="zoom-in";
if(u.j(hs.mD))C="zoom-out"}}this.z_=C;if(C)m=C;this.SB.B6(m,this.rp);if(u.j(hs.Vw)){var Z=0;if(u.j(hs.IA))Z=1;
if(u.j(hs.Tw))Z=-1;if(Z!=0){this.N8(new dz(this.O.width/2,this.O.height/2),Z==1)}}};cv.prototype.Y6=function(u){this.nb=u;
if(this.z_)return;this.SB.B6(u,this.rp)};cv.prototype.atq=function(u){f.oI(u,this.afE);f.ZF(u);u.addEventListener("wheel",this.a4z,!1)};
cv.prototype.Fp=function(u){u.l("viewchange",this.a3Q,this)};cv.prototype.a3Q=function(u){var m=this.t.V,C=u.currentTarget.r5();
this.t.V=C.V;this.t.r=C.r.clone();if(m!=C.V)this.cJ();this.yc()};cv.prototype.r5=function(){return{V:this.t.V,r:this.t.r}};
cv.prototype.f=function(u,m){var C=u[0].WL;if(this.IG!=null&&this.IG[0].WL.QV(C)){}else{this.t.Uk={e:C.e,n:C.n};
this.t.r=new dz(0,0);this.t.V=1}this.IG=u;this.cJ();this.mH();this.MP=0;this.ak=0;this.iM=m==null?0:m;
this.a7P()};cv.prototype.YU=function(u){u.preventDefault();if(u.deltaY==0||Date.now()-this.a0Z<100)return;
var m=f.OR(u);m.x=f.F()*m.x;m.y=f.F()*m.y;this.a0Z=Date.now();this.N8(m,u.deltaY<0)};cv.prototype.N8=function(u,m){b.Yq.S6(this.t,u,m);
this.as7()};cv.prototype.FN=function(){var u=this.t,m=u.Uk;this.t.V=b.Yq.gE(m.e,m.n,u.pQ.e,u.pQ.n);this.as7()};
cv.prototype.as7=function(){this.cJ();this.c(new eY("viewchange"));this.c(new eY("zoom"))};cv.prototype.cJ=function(){this.je=[];
var u=this.t.V;if(this.IG==null)return;for(var D=0;D<this.IG.length;D++){var m=this.IG[D],C=new Uint8Array(m.data),Z;
if(u>=1)Z={bf:C,rect:m.WL};else Z=j.a52(C,m.WL,u);this.je.push(Z)}};cv.prototype.mH=function(){clearTimeout(this.aoY)};
cv.prototype.yc=function(){if(this.IG==null||!f.pZ(this.O))return;var u=this.a17,m=this.O.width,C=this.O.height,R,z;
if(u==null||u.width!=m||u.height!=C){u=this.a17=this.O2.createImageData(m,C);console.log("creating image data")}var Z=this.IG[this.MP],q=this.je[this.MP],J=this.t,A=J.Uk,n=J.pQ,N=n.e,e=n.n,Q=A.e*J.V,p=A.n*J.V,B=Math.round((N-Q)/2+J.r.x),$=Math.round((e-p)/2+J.r.y);
if(J.V<=1){z=q.rect.clone();z.x=B;z.y=$;Q=z.e;p=z.n;R=q.bf}else{var v=1/J.V,a=new bl(Math.floor((n.x-B)*v),Math.floor((n.y-$)*v),Math.ceil(n.e*v)+1,Math.ceil(n.n*v)+1),X=new bl(0,0,a.e*J.V,a.n*J.V);
X.x=a.x*J.V+B;X.y=a.y*J.V+$;if(J._F==null||J._F.length!=a.Z()*4){J._F=j.U(a.Z()*4)}if(J.CO==null||J.CO.length!=X.Z()*4){J.CO=j.U(X.Z()*4)}j.gs(J._F,0);
j.zO(q.bf,q.rect,J._F,a);j.scale.Sr(J._F,a.e,a.n,J.CO,X.e,X.n,J.V);R=J.CO;z=X}var V=new Uint8Array(u.data.buffer);
j.Iu(V,N,e,8,-B,-$);j.a.q5("norm",R,z,V,n,n,1);var o=this.O2;o.setTransform(1,0,0,1,0,0);o.putImageData(u,0,0);
o.clearRect(B-1e3,$,1e3,p);o.clearRect(B+Q,$,1e3,p);o.clearRect(B-1e3,$-1e3,Q+2e3,1e3);o.clearRect(B-1e3,$+p,Q+2e3,1e3);
var h=cv.abZ(J.V,"#ffffff",this.a9T);o.putImageData(h,0,J.pQ.n-h.height)};cv.a4h={};cv.abZ=function(u,m,C){if(C==null)C=!1;
var Z="z"+u+","+m+","+C,q=cv.a4h[Z];if(q)return q;var J=Math.round(50*f.F()),A=Math.round(18*f.F()),n=C?2*A:0,N=f.L("canvas"),e=N.getContext("2d");
N.width=J+n;N.height=A;e.fillStyle="rgba(1,1,1,1)";e.fillRect(0,0,J+n,A);e.font=Math.round(11*f.F())+"px monospace";
e.fillStyle=m;var Q=u*100;if(Q<100)Q=Q.toFixed(2);else Q=Math.round(Q);Q=Q+"%";var p=e.measureText(Q).width;
e.fillText(Q,n+(J-p)/2,Math.round(A*.7));q=cv.a4h[Z]=e.getImageData(0,0,J+n,A);return q};cv.prototype.a7P=function(){var u=this.IG,m=u.length,C=this.MP,Z=this.IG[C],q=(C+1)%m;
this.yc();if(m!=1&&u[q].WL.QV(Z.WL)){var J=Z.gp?parseInt(Z.gp.split(",").pop()):30;if(J==0)J=16;if(q==0)this.ak++;
if(this.iM==0||this.ak<this.iM)this.aoY=setTimeout(this.aeH,J)}this.MP=q};cv.prototype.CC=function(u,m){if(u<=0||m<=0)return;
var C=Math.floor(u*f.F()),Z=Math.floor(m*f.F());this.t.pQ=new bl(0,0,C,Z);this.O.width=C;this.O.height=Z;
this.O.setAttribute("style","width:"+C/f.F()+"px; height:"+Z/f.F()+"px; display:block;");this.yc()};
cv.prototype.Sj=function(u){var m=-1,C=this.Yc;for(var D=0;D<C.length;D++)if(C[D].pointerId==u.pointerId)m=D;
return m};cv.prototype.AT=function(u){var m=this.Sj(u),C=this.Yc;if(m!=-1)C[m]=u;else C.push(u);if(C.length==1){this.i8=u.target;
f.zy(window,this.ali);f.sQ(window,this.aoB);this.DI=f.OR(u,this.O);this.DI.x*=f.F();this.DI.y*=f.F();
this.iI=this.DI;this.bh=this.t.r.clone();if(this.Hl&&this.i8==this.O&&!this.z_)this.c(new eY("mousedown"))}else this.afl=this.tB=dz.th(f.OR(C[0],this.O),f.OR(C[1],this.O))};
cv.prototype.rB=function(u){var m=this.Sj(u),C=this.Yc;if(m!=-1)C[m]=u;var Z=this.t,q=this.z_,J=this.IG[this.MP].WL.clone();
J.e*=Z.V;J.n*=Z.V;var A=f.OR(u,this.O);A.x*=f.F();A.y*=f.F();this.iI=A;if(this.Hl&&this.i8==this.O&&!q)this.c(new eY("mousemove"));
else if((q=="grab"||q==null)&&(C.length>1||!Z.pQ.hd(J))){if(C.length>1){var n=f.OR(C[0],this.O),N=f.OR(C[1],this.O),e=new dz(f.F()*(n.x+N.x)/2,f.F()*(n.y+N.y)/2),Q=dz.th(n,N),p=null;
if(Q>this.tB+50){this.tB+=50;p=!0}if(Q<this.tB-50){this.tB-=50;p=!1}if(p!=null)this.N8(e,p);return}else{var B=A.x-this.DI.x,$=A.y-this.DI.y;
Z.r.x=this.bh.x+Math.round(B);Z.r.y=this.bh.y+Math.round($)}this.c(new eY("viewchange"))}};cv.prototype.kP=function(u){var m=this.Sj(u),C=this.Yc;
C.splice(m,1);if(C.length==0){f.bU(window,this.ali);f.YL(window,this.aoB);var Z=this.z_;if(u.detail>1){this.t.V=1;
this.t.r.qX(0,0);this.yc()}if(this.Hl&&this.i8==this.O&&!this.z_)this.c(new eY("mouseup"));else{if(Z=="zoom-in"||Z=="zoom-out")this.N8(this.iI,Z=="zoom-in")}}else{var q=this.DI=f.OR(C[0],this.O);
q.x*=f.F();q.y*=f.F()}};cv.prototype.mS=function(){return this.t.Iv(this.iI.x,this.iI.y)};function cH(){bK.call(this);
this.YZ=null;this.E9=null;this.vX=null;this.Gq=null;this.a7i="";this.Y3=[];this.FA=0;this.Xi=[];this.$u=0;
this.sU=null;var u=this.m=f.L("div",""),m=this.acT=f.L("div","form");m.setAttribute("style","line-height:0; margin-bottom:0.5em;");
u.appendChild(m);var C=this.vY=f.L("span");m.appendChild(C);C.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var Z=this.aqy=new aG([25,2,0]);Z.f(!0);m.appendChild(Z.m);Z.l(r.E.o,this.iS,this);var q=this.wD=new aG([25,2,1]);
q.f(!0);m.appendChild(q.m);q.l(r.E.o,this.iS,this);var J=new i7(" ");m.appendChild(J.m);var A=this._Q=new jC([25,1,1]);
m.appendChild(A.m);A.l(r.E.o,this.iS,this);this.mI=new jz(14);this.mI.a68(3);m.appendChild(this.mI.m);
this.mI.parent=this;this.mI.l(r.E.o,this.abi,this);var n=this.aqP=new iG([25,1,2],null,null,!0);m.appendChild(n.m);
n.l("click",this.V5,this);this.a2Q=this.apK.bind(this);this.qe=f.L("div","svggallery scrollable");u.appendChild(this.qe);
this.qe.addEventListener("scroll",this.afj.bind(this))}cH.prototype=new bK;cH.prototype.vZ=function(u){this.a4p=u};
cH.prototype._=function(){this.vY.textContent=jg.get([25,0]);this.mI._();this.aqy._();this.wD._();this._Q._();
this.aqP._()};cH.prototype.CC=function(u,m){this.YZ=new dz(u,m);this.acT.setAttribute("style","width:"+u+"px");
var C=this.acT.getBoundingClientRect();m-=C.height;this.qe.setAttribute("style","width:"+u+"px; height:"+m+"px");
if(f.pZ(this.m))this.iS()};cH.prototype.f=function(u){this.E9=u;this.iS()};cH.prototype.afj=function(u){var m=this.qe;
if(m.scrollTop+m.clientHeight+10>=m.scrollHeight){this.iS(!0)}};cH.prototype.abi=function(u){this.vX=null;
this.iS()};cH.prototype.apK=function(u){if(Date.now()-this.$u<2e3)return;this.$u=Date.now();this.FA=this.Xi.indexOf(u.currentTarget);
var m=this.kc(this.E9.x,this.E9.y);if(m[1]){var C=m[1].largeImageURL,Z=new XMLHttpRequest;Z.responseType="arraybuffer";
Z.open("GET",C,!0);Z.onload=this.anz.bind(this);Z.send();return}this.ar5(m)};cH.prototype.anz=function(u){var m=u.target.response,C=d4.BM(m),Z=d4.X5(C),q=Z.Pl(m),J=this.kc(this.E9.x,this.E9.y,[m,q[0].WL.e,q[0].WL.n]);
this.ar5(J)};cH.prototype.ar5=function(u){var m=u[0],C=d4.BM(m),Z=d4.X5(C),q=new gj("template.psd");
Z.Pl(m,q);var J=new eY("tempready",!0);J.data={Uk:q};this.c(J)};cH.prototype.V5=function(u){var m=u.target;
this.Y3=[];this.iS()};cH.prototype.aa9=function(u){var m=JSON.parse(u.target.response);this.Gq=m.hits;
this.iS()};cH.prototype.iS=function(u){if(this.E9==null||this.YZ==null||this.a4p==null)return;if(this.YZ.x<=0)return;
var m=this.E9.x,C=this.E9.y;if(Math.min(m,C)<50)return;if(u!=!0){this.Xi=[];f.Da(this.qe);this.qe.scrollTop=0}if(this.Xi.length>300)return;
var Z=Math.min(1,300/Math.max(m,C)),q=this.YZ.clone();q.x-=20;var J=Math.max(1,Math.floor(q.x/(m*Z))),A=Math.max(1,Math.ceil(q.y/(C*Z)));
Z=q.x/J/m;var n=J*A;if(this.vX==null){var N=this.a4p.u6.aQ();this.vX=[];for(var e in N){var Q=N[e],p=Q[3];
if(!this.mI.I5(Q))continue;if(Q[5]==null||Q[5].slice(0,2)=="gf")continue;this.vX.push(Q)}if(this.vX.length==0)this.vX.push(N.DejaVuSans)}var B=this.wD.Y(),$=this._Q.Y().trim();
this._Q.Oi(B);if(B&&(this.Gq==null||$!=this.a7i)){var R=new XMLHttpRequest,z="https://pixabay.com/api/?image_type=photo"+($==""?"":"&q="+encodeURIComponent($))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
if($=="")z+="&safesearch=true";if($=="")z="plugins/gallery.json";R.open("GET",z,!0);R.onload=this.aa9.bind(this);
R.onerror=function(h){console.log(h.target.response)};R.send();this.a7i=$;return}Z*=(m*Z-5)/(m*Z);var v=this.Xi.length;
for(var D=0;D<n;D++){var a=this.FA=v+D;if(this.Y3[a]==null)this.Y3[a]=Math.floor(Math.random()*4294967295);
var X=this.kc(Math.round(m*Z),Math.round(C*Z)),V=X[0];V=M.V6(new Uint8Array(V));var o=f.L("span");o.innerHTML=V;
this.Xi.push(o);this.qe.appendChild(o);o.addEventListener("click",this.a2Q,!1)}};cH.prototype.kc=function(u,m,C){var Z=this.wD.Y(),q=this.aqy.Y(),J=Z&&this.Gq.length!=0?this.Gq:null;
if(q&&!Z)J=null;if(q&&Z&&(this.FA&1)==0)J=null;return gp.i5(u,m,this.Y3[this.FA],this.vX,C?C:J)};function e8(){bK.call(this);
this.m=f.L("div");this.m9=null;this.a7L=null;this.BN=-1;this.Kt={JPG:[{ao:new hA([12,52,0],0,100,"%",null,null,!0),nT:70},{ao:new aG("attach metadata"),nT:!1}],TIFF:[{ao:new aG("attach metadata"),nT:!1}],WEBP:[{ao:new hA([12,52,0],0,100,"%",null,null,!0),nT:70}],GIF:[{ao:new hA([12,52,0],0,100,"%",null,null,!0),nT:100},{ao:new aG([12,23,3]),nT:!1}],PNG:[{ao:new hA([12,52,0],0,100,"%",null,null,!0),nT:100},{ao:new aG("don't use palettes"),nT:!1}],PDF:[{ao:new jC([12,52,1]),nT:""},{ao:new hA([12,52,0],0,100,"%",null,null,!0),nT:100},{ao:new aG("rasterize all"),nT:!1},{ao:new aG("rasterize text"),nT:!1},{ao:new aG("vectorize text"),nT:!1},{ao:new hA("Add Margin",0,5,"in",2),nT:0}],EMF:[{ao:new jC([12,52,1]),nT:""},{ao:new aG("rasterize all"),nT:!1},{ao:new aG("rasterize text"),nT:!1},{ao:new aG("vectorize text"),nT:!1}],SVG:[{ao:new aG("add raster graphics"),nT:!0},{ao:new aG("add hidden layers"),nT:!1},{ao:new aG("vectorize text"),nT:!1},{ao:new aG("rasterize text"),nT:!1},{ao:new aG("add layer names"),nT:!0},{ao:new aG("pretty-print"),nT:!0}],RAW:[{ao:new ja([12,72],["1","3","4"]),nT:2},{ao:new ja([12,34],["8 Bits","16 Bits"]),nT:0},{ao:new ja("Byte Order",["12-34","34-12"]),nT:0}],DDS:[{ao:new aG("Add Mipmaps"),nT:!0},{ao:new aG("Compression"),nT:!0}],anim:[{ao:new hA("Speed",10,800,"%",null,!0,!0),nT:100},{ao:new fc("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),nT:0},{ao:new aG("reverse frames"),nT:!1},{ao:new aG("boomerang"),nT:!1}],slcs:[{ao:new aG("As Slices"),nT:!0}],artb:[{ao:new aG("As Artboards"),nT:!0}]};
for(var u in this.Kt){var m=this.Kt[u];for(var D=0;D<m.length;D++){m[D].ao.f(m[D].nT);m[D].ao.l(r.E.o,this.vm,this)}}}e8.prototype=new bK;
e8.prototype.a9m=function(){this.BN=-1};e8.prototype._=function(){for(var u in this.Kt)for(var D=0;D<this.Kt[u].length;
D++)this.Kt[u][D].ao._()};e8.prototype.vm=function(){this.iS();this.c(new eY(r.E.o,!1))};e8.prototype.iS=function(){var u=this.m9,m=u[0],C=u[1],Z=u[2],q=u[3],J=this.Kt[m];
if(J==null)J=[];else J=J.slice(0);if(C)J=J.concat(this.Kt.anim);if(["GIF","PNG","JPG"].indexOf(m)!=-1&&Z)J=J.concat(this.Kt.slcs);
else if(["GIF","PNG","JPG"].indexOf(m)!=-1&&q)J=J.concat(this.Kt.artb);if(m+" "+C+" "+q!=this.BN){this.BN=m+" "+C+" "+q;
f.Da(this.m);for(var D=0;D<J.length;D++){if(m=="PDF"&&!q&&D==0)continue;this.m.appendChild(J[D].ao.m);
f.Uy(this.m)}}var A=this.a7L=[];for(var D=0;D<J.length;D++)A.push(J[D].ao.Y())};e8.prototype.alV=function(u,m,C,Z){this.m9=[u,m,C,Z];
this.iS()};e8.prototype.Y=function(){return this.a7L.slice(0)};function f0(){bK.call(this);this.m=f.L("span","fitem");
this.AG=!1;this.bV=new iG("No",!1,"Cancel");this.dG=new iG("Yes",!1,"Confirm");this.m.appendChild(this.bV.m);
this.m.appendChild(this.dG.m);this.bV.l("click",this.bP,this);this.dG.l("click",this.bP,this);this._()}f0.prototype=new bK;
f0.prototype._=function(){this.bV.YI(f.hS("cross",null,"autoscale"));this.dG.YI(f.hS("checkmark",null,"autoscale"))};
f0.prototype.bP=function(u){this.AG=u.target==this.dG;this.c(new UIEvent("click"))};f0.prototype.Y=function(){return this.AG};
function cG(u){bK.call(this);this.m=f.L("span","fitem");this.SE=new iG("\u25BC",null,"Auto Options",!0);
f.oI(this.SE.m,this.au5.bind(this));this.m.appendChild(this.SE.m);this.Kb=new iG("Auto",null,null,!0);
this.Kb.l("click",this.o_,this);this.m.appendChild(this.Kb.m);this.Pa=new jI("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.Pa.l(r.E.o,this.o_,this);this.Pa.f([!1,!1,!1,!0]);this.J1=new bK;var m=this.J1.m=f.L("div","floatcont form");
m.setAttribute("style","width: 250px;");this.J1.parent=this;m.appendChild(this.Pa.m);this.SJ=[];for(var D=0;
D<2;D++){var C=new fc((D==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);C.f(.1);C.l(r.E.o,this.o_,this);
this.SJ.push(C);m.appendChild(C.m)}}cG.prototype=new bK;cG.prototype.o_=function(u){this.c(new eY(r.E.o,!1))};
cG.prototype._=function(){};cG.prototype.Y=function(){return[this.Pa.Y().indexOf(!0),this.SJ[0].Y(),this.SJ[1].Y()]};
cG.prototype.au5=function(u){if(f.pZ(this.J1.m))return;u.stopPropagation();var m=this.SE.m.getBoundingClientRect(),C=new eY(r.E.z,!0);
C.data={d:r.J.ek,Vl:this.J1,x:m.left,y:m.top+m.height+4};this.c(C)};function fh(){bK.call(this);var u=this.m=f.L("div","fitem");
this.iY=new fq([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.iY.l(r.E.o,this.g6,this);u.appendChild(this.iY.m);
this.QQ=new df(!1);this.QQ.parent=this;this.QQ.HN(16777215);this.QQ.l(r.E.o,this.g6,this);u.appendChild(this.QQ.m)}fh.prototype=new bK;
fh.prototype._=function(){this.iY._();this.QQ._()};fh.prototype.aiI=function(u){var m=[u.artboardBackgroundType.v-1];
if(u.Clr)m.push(u.Clr.v);this.f(m)};fh.prototype.ao1=function(){var u=this.Y();return{classID:"artboard",Clr:{t:"Objc",v:u[1]},artboardBackgroundType:{t:"long",v:u[0]+1}}};
fh.prototype.f=function(u){this.iY.f(u[0]);if(u[1])this.QQ.f(u[1])};fh.prototype.Y=function(){return[this.iY.Y(),this.QQ.Y()]};
fh.prototype.g6=function(u){if(u.target==this.QQ)this.iY.f(3);this.c(new eY(r.E.o,!1))};function t(u){bK.call(this);
this.dA=u;this.m=f.L("div","");this.O3=[];this.Hx=null;this.a1P=[]}t.prototype=new bK;t.prototype.sA=function(u){};
t.prototype.CH=function(){return!1};t.prototype.CC=function(u,m){};t.prototype.vZ=function(u,m){};t.prototype.Ll=function(u){};
t.prototype.f=function(u,m,C,Z,q,J){var A=[],n=this.O3,N=0,e=a7.sv["s"+this.dA];e?e(u,A,J):this.v3(u,A,J);
for(var D=0;D<n.length;D++)if(!(n[D]instanceof i7))n[D].f(A[N++]);if(u.RndS)this.Hx=u.RndS.v};t.prototype.Y=function(){var u=a7.Qv(this.dA),m=[],C=this.O3,Z=0;
for(var D=0;D<C.length;D++)if(!(C[D]instanceof i7))m[Z++]=C[D].Y();var q=a7.sv["g"+this.dA];q?q(u,m):this.zp(u,m);
if(u.RndS)u.RndS.v=this.Hx;return u};t.prototype.St=function(u){};t.prototype._g=function(u){if(u&&u.target instanceof iG){this.Hx=Math.floor(Math.random()*4294967295)}var m=this.a1P;
for(var D=0;D<m.length;D+=2){var C=this.O3[m[D]],Z=this.O3[m[D+1]],q=C.Y(),J=Z.Y();if(u.target==C)Z.f(Math.max(q,J));
else C.f(Math.min(q,J))}this.c(new eY(r.E.o))};t.prototype._=function(){for(var D=0;D<this.O3.length;
D++)this.O3[D]._();var u=this.ail;if(u)u._()};t.prototype.LC=function(u){f.Ky(this.m,"form");var m=this.O3;
for(var D=0;D<m.length;D++){var C=m[D];C.parent=this;C.l(r.E.o,this._g,this);this.m.appendChild(C.m);
if(C instanceof aG&&m[D+1]instanceof df)continue;if(u&&u.indexOf(D)!=-1)f.nc(this.m);else f.Uy(this.m)}var Z=a7.Qv(this.dA);
if(Z.RndS){var q=this.ail=new iG([25,1,2],null,null,!0);this.m.appendChild(q.m);q.l("click",this._g,this)}};
t.prototype.ul=function(){return!1};t.prototype.K4=function(u,m,C,Z,q){};t.prototype.TQ=function(u,m,C,Z,q){};
t.prototype.ec=function(u,m,C,Z,q){};t.prototype.zp=function(u,m){};t.prototype.v3=function(u,m){};t.prototype.PM=function(u){var m=u.target.Y().indexOf(!0)!=-1,C=new eY(r.E.z,!0);
C.Ua=!0;C.data={d:m?r.J.K3:r.J.WO,b:b.T8};this.c(C);C=new eY(r.E.H,!0);C.b=b.T8;C.Ua=!0;C.data={d:"supertool",b:m?this:null};
this.c(C)};t.adI=function(u){u.ul=function(){return!0};u.K4=function(m,C,Z,q,J){this.MQ=!0;this.aiM(m,J)};
u.TQ=function(m,C,Z,q,J){if(!this.MQ)return;this.aiM(m,J)};u.ec=function(m,C,Z,q,J){this.MQ=!1};u.aiM=function(m,C){var Z=m.t.Iv(C.x,C.y);
function q(J,A){return Math.round(Math.max(0,Math.min(100,100*J/A)))}this.O3[2].f(q(Z.x,m.e));this.O3[3].f(q(Z.y,m.n));
this._g()}};t.Bokh=function(){t.call(this,"Bokh");this.O3=[new fq("Depth Map",["A","b"]),new hA("Focal Distance",0,255),new aG([4,11]),new fq([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new hA([12,56],0,100),new hA([12,15],0,360),new hA([12,2],0,100),new hA([4,13],0,255),new hA([24,6],0,100),new ja([12,58],[[12,59,0],[12,59,1]]),new aG([12,60])];
this.LC([5,7])};t.Bokh.prototype=new t;t.Bokh.prototype.v3=function(u,m,C){var Z=[[22,5,0],[6,5,3],[6,2]],q=u.BkDi.v.BtDi,J=u.BkDc,A=0;
if(q=="BeIn")A=0;else if(q=="BeIt"&&J.v.BtDc=="BeCt")A=1;else if(q=="BeIt"&&J.v.BtDc=="BeCm")A=2;else A=3+J.v;
for(var D=0;D<C[1].length;D++)Z.push(C[1][D].name);this.O3[0].D5(Z,[3]);m[0]=A;m[1]=u.BkDp.v;m[2]=u.BkDs.v;
m[3]=parseInt(u.BkIs.v.BtIs.slice(3))-3;m[4]=u.BkIb.v;m[5]=u.BkIr.v;m[6]=u.BkSb.v;m[7]=u.BkSt.v;m[8]=u.BkNa.v;
m[9]=u.BkNt.v.BtNt=="BeNu"?0:1;m[10]=u.BkNm.v};t.Bokh.prototype.zp=function(u,m){var C;if(m[0]==0){C="BeIn";
delete u.BkDc}else if(m[0]<3){C="BeIt";u.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][m[0]-1]}}}else{C="BeIa";
u.BkDc={t:"long",v:m[0]-3}}u.BkDi.v.BtDi=C;u.BkDp.v=m[1];u.BkDs.v=m[2];u.BkIs.v.BtIs="BeS"+(3+m[3]);
u.BkIb.v=m[4];u.BkIr.v=m[5];u.BkSb.v=m[6];u.BkSt.v=m[7];u.BkNa.v=m[8];u.BkNt.v.BtNt=["BeNu","BeNg"][m[9]];
u.BkNm.v=m[10]};t.oilPaint=function(){t.call(this,"oilPaint");this.O3=[new hA([12,56],.1,10,"px",!0),new hA("Cleanliness",0,10,"px",!0),new hA([12,38],.1,10,null,!0),new hA("Bristle Detail",0,10,null,!0),new aG("Lighting"),new hA("Shine",0,10,null,!0),new h7([12,15])];
this.LC()};t.oilPaint.prototype=new t;t.oilPaint.prototype.v3=function(u,m){var C="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var D=0;D<C.length;D++)m[D]=u[C[D]].v;m[6]=[u.LghD.v]};t.oilPaint.prototype.zp=function(u,m){var C="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var D=0;D<C.length;D++)u[C[D]].v=m[D];u.LghD.v=m[6][0]};t.TrcC=function(){t.call(this,"TrcC");this.O3=[new hA("Level",0,255),new ja([12,69],[[19,4,1],[19,4,0]])];
this.LC()};t.TrcC.prototype=new t;t.TrcC.prototype.v3=function(u,m){m[0]=u.Lvl.v;m[1]=["Lwr","Upr"].indexOf(u.Edg.v.CntE)};
t.TrcC.prototype.zp=function(u,m){u.Lvl.v=m[0];u.Edg.v.CntE=["Lwr","Upr"][m[1]]};t["Dfs "]=function(){t.call(this,"Dfs ");
this.O3=[new ja([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];this.LC()};t["Dfs "].prototype=new t;
t["Dfs "].prototype.v3=function(u,m){m[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(u.Md.v.DfsM)};
t["Dfs "].prototype.zp=function(u,m){u.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][m[0]]};t.Embs=function(){t.call(this,"Embs");
this.O3=[new h7([12,15]),new hA([12,42],1,100,"px"),new hA([12,57],1,500,"%")];this.LC()};t.Embs.prototype=new t;
t.Embs.prototype.v3=function(u,m){m[0]=[u.Angl.v];m[1]=u.Hght.v;m[2]=u.Amnt.v};t.Embs.prototype.zp=function(u,m){u.Angl.v=m[0][0];
u.Hght.v=m[1];u.Amnt.v=m[2]};t["Wnd "]=function(){t.call(this,"Wnd ");this.O3=[new ja([12,32],["Wind","Blast","Stagger"]),new ja([12,33],["From the Right","From the Left"])];
this.LC()};t["Wnd "].prototype=new t;t["Wnd "].prototype.v3=function(u,m){m[0]=["Wnd","Blst","Stgr"].indexOf(u.WndM.v.WndM);
m[1]=["Left","Rght"].indexOf(u.Drct.v.Drct)};t["Wnd "].prototype.zp=function(u,m){u.WndM.v.WndM=["Wnd","Blst","Stgr"][m[0]];
u.Drct.v.Drct=["Left","Rght"][m[1]]};t.denoise=function(){t.call(this,"denoise");this.O3=[new hA([12,64],0,10),new hA([12,65],0,100,"%")];
this.LC()};t.denoise.prototype=new t;t.denoise.prototype.v3=function(u,m){var C=u.channelDenoise.v[0].v;
m[0]=C.Amnt.v;m[1]=C.EdgF.v};t.denoise.prototype.zp=function(u,m){var C=u.channelDenoise.v[0].v;C.Amnt.v=m[0];
C.EdgF.v=m[1]};t.lightFilterGradient=function(){t.call(this,"lightFilterGradient");this.O3=[new hA([24,3,1],0,100,"px",1,!0),new hA([12,38],0,200,"%"),new aG([4,11]),new hA("High",0,100,"%"),new hA("Medium",0,100,"%"),new hA("Low",0,100,"%")];
this.LC()};t.lightFilterGradient.prototype=new t;t.lightFilterGradient.prototype.v3=function(u,m){m[0]=u.blur.v;
m[1]=u.textureScale.v*100;m[2]=u.Scl.v==-1;var C=u.Dtl.v;m[3]=C[0].v*100;m[4]=C[1].v*100;m[5]=C[2].v*100};
t.lightFilterGradient.prototype.zp=function(u,m){u.blur.v=m[0];u.textureScale.v=m[1]/100;u.Scl.v=m[2]?-1:1;
var C=u.Dtl.v;C[0].v=m[3]/100;C[1].v=m[4]/100;C[2].v=m[5]/100};t.Fbrs=function(){t.call(this,"Fbrs");
this.O3=[new hA("Variance",1,64),new hA([12,64],1,64)];this.LC()};t.Fbrs.prototype=new t;t.Fbrs.prototype.v3=function(u,m){m[0]=u.Vrnc.v;
m[1]=u.Strg.v};t.Fbrs.prototype.zp=function(u,m){u.Vrnc.v=m[0];u.Strg.v=m[1]};t.LnsF=function(){t.call(this,"LnsF");
this.O3=[new hA([12,2],10,300,"%"),new ja([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new hA("Position X",0,100,"%"),new hA("Position Y",0,100,"%")];
this.LC()};t.LnsF.prototype=new t;t.LnsF.prototype.v3=function(u,m){m[0]=u.Brgh.v;m[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(u.Lns.v.Lns);
var C=u.FlrC.v;m[2]=Math.round(C.Hrzn.v*100);m[3]=Math.round(C.Vrtc.v*100)};t.LnsF.prototype.zp=function(u,m){u.Brgh.v=m[0];
u.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][m[1]];var C=u.FlrC.v;C.Hrzn.v=m[2]/100;C.Vrtc.v=m[3]/100};t.adI(t.LnsF.prototype);
t.blendOptions=function(){t.call(this,"blendOptions");this.O3.push(new fq([12,19,0],hR.Pc,!1,hR.gQ));
this.O3.push(new hA([12,0],0,100,"%"));this.LC()};t.blendOptions.prototype=new t;t.blendOptions.prototype.v3=function(u,m){m[0]=hR.C7.indexOf(u.Md.v.BlnM);
m[1]=u.Opct.v.val};t.blendOptions.prototype.zp=function(u,m){u.Md.v.BlnM=hR.C7[m[0]];u.Opct.v.val=m[1]};
t.LnCr=function(){t.call(this,"LnCr");this.O3=[new hA([12,57],-100,100),new hA([12,38],10,150,"%")];
this.LC()};t.LnCr.prototype=new t;t.LnCr.prototype.v3=function(u,m){m[0]=u.LnIa.v;m[1]=u.LnSi.v};t.LnCr.prototype.zp=function(u,m){u.LnIa.v=m[0];
u.LnSi.v=m[1]};t.adaptCorrect=function(){t.call(this,"adaptCorrect");var u=fF;this.O3=[new i7([19,6,0]),new u([12,57],0,100,"%"),new u("Tone",0,100,"%"),new u([12,56],0,200,"px"),new i7([19,6,2]),new u([12,57],0,100,"%"),new u("Tone",0,100,"%"),new u([12,56],0,200,"px"),new i7([3]),new u([13,0],-100,100)];
this.LC([3,7])};t.adaptCorrect.prototype=new t;t.adaptCorrect.prototype.v3=function(u,m){var C=u.sdwM.v;
m[0]=C.Amnt.v.val;m[1]=C.Wdth.v.val;m[2]=C.Rds.v;var C=u.hglM.v;m[3]=C.Amnt.v.val;m[4]=C.Wdth.v.val;
m[5]=C.Rds.v;m[6]=u.ClrC.v};t.adaptCorrect.prototype.zp=function(u,m){var C=u.sdwM.v;C.Amnt.v.val=m[0];
C.Wdth.v.val=m[1];C.Rds.v=m[2];var C=u.hglM.v;C.Amnt.v.val=m[3];C.Wdth.v.val=m[4];C.Rds.v=m[5];u.ClrC.v=m[6]};
t.Flam=function(){t.call(this,"Flam");var u=this.O3=[new fq([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new hA([12,80,0],20,1e3,"px"),new aG("Randomize Length"),new hA([12,41],5,600,"px"),new hA([12,15],0,360,"\xB0"),new hA("Interval",10,200,"px"),new aG("Adapt Interval for Loops"),new df(!1),new fq([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new hA("Turbulent",0,100),new hA("Jag",0,100),new hA([12,0],0,100),new hA("Lines",2,30),new hA("Bottom",0,100),new fq([12,22],["Normal","Violent","Flat"]),new fq([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new aG("Randomize Shape"),new hA("Random Seed",0,100)];
this.LC();var m=this.m;f.Da(m);var C=new ja(null,["Basic","Advanced"]);C.l(r.E.o,this.a3y,this);m.appendChild(C.m);
f.nc(m);var Z=f.L("div"),q=f.L("div");this.ahE=[Z,q];m.appendChild(Z);for(var D=0;D<u.length;D++){(D<9?Z:q).appendChild(u[D].m);
if(D==6)f.Uy(Z)}u[0].l(r.E.o,this.agZ,this);this.agZ()};t.Flam.prototype=new t;t.Flam.prototype.agZ=function(u){var m=this.O3,D=m[0].Y();
m[1].Oi(D!=0&&D!=5);m[2].Oi(D!=0&&D!=5);m[4].Oi(D!=0&&D!=5&&D!=1);m[5].Oi(D!=0&&D!=5);m[6].Oi(D!=0&&D!=5)};
t.Flam.prototype.a3y=function(u){var D=u.target.Y(),m=this.ahE,C=this.m;C.removeChild(m[1-D]);C.appendChild(m[D])};
t.boxblur=function(){t.call(this,"boxblur");this.O3=[new hA([12,56],1,200," px")];this.LC()};t.boxblur.prototype=new t;
t.boxblur.prototype.v3=function(u,m){m[0]=u.Rds.v.val};t.boxblur.prototype.zp=function(u,m){u.Rds.v.val=m[0]};
t.GsnB=function(){t.call(this,"GsnB");this.O3=[new hA([12,56],.1,400,"px",1,!0)];this.LC()};t.GsnB.prototype=new t;
t.MtnB=function(){t.call(this,"MtnB");this.O3=[new h7([12,15]),new hA([12,28],1,100," px")];this.LC()};
t.MtnB.prototype=new t;t.RdlB=function(){t.call(this,"RdlB");this.O3=[new hA([12,57],1,100),new ja([12,36],["Spin","Zoom"]),new hA("Position X",0,100,"%"),new hA("Position Y",0,100,"%")];
this.LC()};t.RdlB.prototype=new t;t.RdlB.prototype.v3=function(u,m){m[0]=u.Amnt.v;m[1]=["Spn","Zm"].indexOf(u.BlrM.v.BlrM);
m[2]=u.Cntr.v.Hrzn.v*100;m[3]=u.Cntr.v.Vrtc.v*100};t.RdlB.prototype.zp=function(u,m){u.Amnt.v=m[0];u.BlrM.v.BlrM=["Spn","Zm"][m[1]];
u.Cntr.v.Hrzn.v=m[2]/100;u.Cntr.v.Vrtc.v=m[3]/100};t.adI(t.RdlB.prototype);t.Dspl=function(){t.call(this,"Dspl");
this.O3=[new fq([6,36,3],["a","b"]),new hA([22,4,0],-100,100,"px"),new hA([22,4,1],-100,100,"px"),new fq([24,18,0],[[24,18,3],[24,18,2]])];
this.LC()};t.Dspl.prototype=new t;t.Dspl.prototype.v3=function(u,m,C){this.abf=[];this.zS=[];var Z=-1,q=C?C[0]:null;
if(q==null)q=this.akr;else this.akr=q;if(q)for(var D=0;D<q.length;D++){var J=q[D];this.abf.push(J.sK.trim());
this.zS.push(J.Yw);if(J.Yw==u.DspF.v.pth)Z=D}this.O3[0].D5(this.abf);m[0]=Z==-1?0:Z;m[1]=u.HrzS.v;m[2]=u.VrtS.v;
m[3]=["WrpA","RptE"].indexOf(u.UndA.v.UndA)};t.Dspl.prototype.zp=function(u,m){if(this.zS.length==0)return;
u.DspF.v.pth=this.zS[m[0]];u.HrzS.v=m[1];u.VrtS.v=m[2];u.UndA.v.UndA=["WrpA","RptE"][m[3]]};t.Pnch=function(){t.call(this,"Pnch");
this.O3=[new hA([12,57],-100,100,"%")];this.LC()};t.Pnch.prototype=new t;t["Plr "]=function(){t.call(this,"Plr ");
this.O3=[new ja(null,["Rect to Polar","Polar to Rect"])];this.LC()};t["Plr "].prototype=new t;t.Rple=function(){t.call(this,"Rple");
this.O3=[new hA([12,57],-999,999),new fq([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.LC()};t.Rple.prototype=new t;
t["Shr "]=function(){t.call(this,"Shr ");this.O3=[new gt(!0,!0),new fq([24,18,0],[[24,18,3],[24,18,2]])];
this.LC()};t["Shr "].prototype=new t;t["Shr "].prototype.v3=function(u,m){var C=new ix(0,255/127,255/127,0,-2,128),Z=JSON.parse(JSON.stringify(u.ShrP.v));
j.AE.I(Z,C);m[0]=Z;m[1]=["WrpA","RptE"].indexOf(u.UndA.v.UndA)};t["Shr "].prototype.zp=function(u,m){var C=new ix(0,255/127,255/127,0,-2,128);
C.mL();j.AE.I(m[0],C);u.ShrP.v=m[0];u.ShrE.v=m[0].length-1;u.UndA.v.UndA=["WrpA","RptE"][m[1]]};t.Sphr=function(){t.call(this,"Sphr");
this.O3=[new hA([12,57],-100,100),new fq([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.LC()};t.Sphr.prototype=new t;
t.Sphr.prototype.v3=function(u,m){m[0]=u.Amnt.v;m[1]=["Nrml","HrzO","VrtO"].indexOf(u.SphM.v.SphM)};
t.Sphr.prototype.zp=function(u,m){u.Amnt.v=m[0];u.SphM.v.SphM=["Nrml","HrzO","VrtO"][m[1]]};t.Dthr=function(){t.call(this,"Dthr");
this.O3=[new fq("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"])];this.LC()};t.Dthr.prototype=new t;
t.Dthr.prototype.v3=function(u,m){m[0]=u.Plte.v};t.Dthr.prototype.zp=function(u,m){u.Plte.v=m[0]};t.Twrl=function(){t.call(this,"Twrl");
this.O3=[new hA([12,15],-999,999)];this.LC()};t.Twrl.prototype=new t;t.Wave=function(){t.call(this,"Wave");
this.a1P=[1,2,3,4];this.O3=[new hA("Number of Generators",1,100),new fF("Min Length",1,999),new fF("Max Length",1,999),new fF("Min Ampl.",1,999),new fF("Max Ampl.",1,999),new fF("Scale X",1,100,"%"),new fF("Scale Y",1,100,"%"),new ja([12,44],["Sine","Triangle",[12,93,3]]),new fq([24,18,0],[[24,18,3],[24,18,2]]),new jC("Randomizer Seed")];
this.LC()};t.Wave.prototype=new t;t.Wave.prototype.v3=function(u,m){m[0]=u.NmbG.v;m[1]=u.WLMn.v;m[2]=u.WLMx.v;
m[3]=u.AmMn.v;m[4]=u.AmMx.v;m[5]=u.SclH.v;m[6]=u.SclV.v;m[7]=["WvSn","WvTr","WvSq"].indexOf(u.Wvtp.v.Wvtp);
m[8]=["WrpA","RptE"].indexOf(u.UndA.v.UndA);m[9]=u.RndS.v};t.Wave.prototype.zp=function(u,m){u.NmbG.v=m[0];
u.WLMn.v=m[1];u.WLMx.v=m[2];u.AmMn.v=m[3];u.AmMx.v=m[4];u.SclH.v=m[5];u.SclV.v=m[6];u.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][m[7]];
u.UndA.v.UndA=["WrpA","RptE"][m[8]];var C=parseInt(m[9]);if(isNaN(C))C=248325464;C=Math.max(0,Math.min(268435455,C));
u.RndS.v=C;this.O3[9].f(C)};t.ZgZg=function(){t.call(this,"ZgZg");this.O3=[new hA([12,57],-100,100),new hA("Ridges",0,20),new fq([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.LC()};t.ZgZg.prototype=new t;t.surfaceBlur=function(){t.call(this,"surfaceBlur");this.O3=[new hA([12,56],1,200," px"),new hA([4,13],1,255," px")];
this.LC()};t.surfaceBlur.prototype=new t;t.surfaceBlur.prototype.v3=function(u,m){m[0]=u.Rds.v.val;m[1]=u.Thsh.v};
t.surfaceBlur.prototype.zp=function(u,m){u.Rds.v.val=m[0];u.Thsh.v=m[1]};t.AdNs=function(){t.call(this,"AdNs");
this.O3=[new hA([12,57],0,200," %"),new fq([12,58],[[12,59,1],[12,59,0]]),new aG([12,60])];this.LC()};
t.AdNs.prototype=new t;t.DstS=function(){t.call(this,"DstS");this.O3=[new hA([12,56],1,200," px"),new hA([4,13],1,255," px")];
this.LC()};t.DstS.prototype=new t;t["Mdn "]=function(){t.call(this,"Mdn ");this.O3=[new hA([12,56],1,200," px")];
this.LC()};t["Mdn "].prototype=new t;t["Mdn "].prototype.v3=function(u,m){m[0]=u.Rds.v.val};t["Mdn "].prototype.zp=function(u,m){u.Rds.v.val=m[0]};
t.ClrH=function(){t.call(this,"ClrH");this.O3=[new hA([12,56],4,100," px")];for(var D=1;D<4;D++)this.O3.push(new hA("Angle "+D,0,90," \xB0"));
this.LC()};t.ClrH.prototype=new t;t.ClrH.prototype.v3=function(u,m){m[0]=u.Rds.v;for(var D=1;D<4;D++)m[D]=u["Ang"+D].v};
t.ClrH.prototype.zp=function(u,m){u.Rds.v=m[0];for(var D=1;D<4;D++)u["Ang"+D].v=m[D]};t.ClrH.prototype._=function(){var u=this.O3;
u[0]._();for(var D=1;D<4;D++)u[D].YI(jg.get([12,15])+" "+D)};t.Crst=function(){t.call(this,"Crst");this.O3=[new hA([12,61],3,100," px")];
this.LC()};t.Crst.prototype=new t;t.Crst.prototype.v3=function(u,m){m[0]=u.ClSz.v};t.Crst.prototype.zp=function(u,m){u.ClSz.v=m[0]};
t.Mztn=function(){t.call(this,"Mztn");this.O3.push(new fq([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.zS="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.LC()};t.Mztn.prototype=new t;
t.Mztn.prototype.v3=function(u,m){m[0]=this.zS.indexOf(u.MztT.v.MztT)};t.Mztn.prototype.zp=function(u,m){u.MztT.v.MztT=this.zS[m[0]]};
t["Msc "]=function(){t.call(this,"Msc ");this.O3=[new hA([12,61],2,200," px")];this.LC()};t["Msc "].prototype=new t;
t["Msc "].prototype.v3=function(u,m){m[0]=u.ClSz.v.val};t["Msc "].prototype.zp=function(u,m){u.ClSz.v.val=m[0]};
t.Pntl=function(){t.call(this,"Pntl");this.O3=[new hA([12,61],3,100," px")];this.LC()};t.Pntl.prototype=new t;
t.Pntl.prototype.v3=function(u,m){m[0]=u.ClSz.v};t.Pntl.prototype.zp=function(u,m){u.ClSz.v=m[0]};t.smartSharpen=function(){t.call(this,"smartSharpen");
this.O3=[new hA([12,57],1,200,"%"),new hA([12,56],0,200,"px",1,!0)];this.LC()};t.smartSharpen.prototype=new t;
t.smartSharpen.prototype.v3=function(u,m){m[0]=u.Amnt.v.val;m[1]=u.Rds.v.val};t.smartSharpen.prototype.zp=function(u,m){u.Amnt.v.val=m[0];
u.Rds.v.val=m[1]};t.UnsM=function(){t.call(this,"UnsM");this.O3=[new hA([12,57],1,200," %"),new hA([12,56],.1,400,"px",1,!0),new hA([4,13],0,255," ")];
this.LC()};t.UnsM.prototype=new t;t.HghP=function(){t.call(this,"HghP");this.O3=[new hA([12,56],.1,400,"px",1,!0)];
this.LC()};t.HghP.prototype=new t;t.HsbP=function(){t.call(this,"HsbP");this.O3=[new ja("Input",["RGB","HSB","HSL"]),new ja("Output",["RGB","HSB","HSL"])];
this.LC()};t.HsbP.prototype=new t;t["Mxm "]=function(){t.call(this,"Mxm ");this.O3=[new hA([12,56],.1,200," px",1,!0),new fq([12,76,1],[[12,93,3],"Circle"])];
this.LC()};t["Mxm "].prototype=new t;t["Mnm "]=function(){t.call(this,"Mnm ");this.O3=[new hA([12,56],.1,200," px",1,!0),new fq([12,76,1],[[12,93,3],"Circle"])];
this.LC()};t["Mnm "].prototype=new t;t.Ofst=function(){t.call(this,"Ofst");this.O3=[new hA([22,4,0],-1024,1024," px"),new hA([22,4,1],-1024,1024," px"),new fq([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.LC()};t.Ofst.prototype=new t;t.Rept=function(){t.call(this,"Rept");this.O3=[new fF([12,38],1,300," %"),new fF("Row Shift",-50,50," %"),new fF("Space X",-99,200," %"),new fF("Space Y",-99,200," %"),new aG([4,16,2]),new h7([12,15])];
this.LC()};t.Rept.prototype=new t;t.Rept.prototype.v3=function(u,m){m[0]=u.Scl.v.val;m[1]=u.Rsft.v.val;
m[2]=u.SpcX.v.val;m[3]=u.SpcY.v.val;m[4]=u.SpcC.v;m[5]=[u.Angl.v]};t.Rept.prototype.zp=function(u,m){u.Scl.v.val=m[0];
u.Rsft.v.val=m[1];u.SpcX.v.val=m[2];u.SpcY.v.val=m[3];u.SpcC.v=m[4];u.Angl.v=m[5][0];return u};t.Ctoa=function(){t.call(this,"Ctoa");
this.O3=[new i7([13,0]),new df(!0),new hA(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new hA(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.LC()};t.Ctoa.prototype=new t;t.Ctoa.prototype.v3=function(u,m){m[0]=u.Clr.v;m[1]=u.Trsp.v.val;m[2]=u.Opct.v.val};
t.Ctoa.prototype.zp=function(u,m){u.Clr.v=m[0];u.Trsp.v.val=m[1];u.Opct.v.val=m[2]};t.LqFy=function(){t.call(this,"LqFy");
this.GX=!1;this.HR=!1;this.P0=null;this.acz=null;this.b=0;this.K={b6:[[{b:{id:0,name:[24,1,0,1,0],Oz:"liq/smudge"}}],[{b:{id:1,name:[24,1,0,1,1],Oz:"liq/reconstruct"}}],[{b:{id:2,name:[24,1,0,1,2],Oz:"liq/smooth"}}],[{b:{id:3,name:[24,1,0,1,3],Oz:"liq/twirl"}}],[{b:{id:4,name:[24,1,0,1,4],Oz:"liq/shrink"}}],[{b:{id:5,name:[24,1,0,1,5],Oz:"liq/blow"}}],[{b:{id:6,name:[24,1,0,1,6],Oz:"liq/pleft"}}],[{b:{id:7,name:"Hand",Oz:"tools/hand"}}],[{b:{id:8,name:"Zoom In",Oz:"zoomIn"}}],[{b:{id:9,name:"Zoom Out",Oz:"zoomOut"}}]],keys:[]};
this.Jd=new gN(this.K,!1);this.Jd.UY(0);this.Jd.l(r.E.z,this.ag2,this);this.oe=c4.Im();this.vI=null;
this.Vc=[];this.Wk=-1;this.Mp=null;this.adB=null;this._n=null;this.Ji=null;this.Lb=null;var u=f.L("div","flexrow");
this.rs=u;this.m.appendChild(u);u.appendChild(this.Jd.m);this.view=new cv(!0);this.view.CC(100,100);
this.view.l("mousedown",this.AT,this);this.view.l("mousemove",this.rB,this);this.view.l("mouseup",this.kP,this);
this.view.l("zoom",this.p3,this);u.appendChild(this.view.m);var m=f.L("div","form");u.appendChild(m);
this._r=m;m.style.width="230px";this.Eg=[new hA([12,14,0],0,1e3,null,!1,!0),new hA([12,74],0,100,null,!1,!1),new hA([12,84],0,100,null,!1,!1),new aG([12,46]),new hA([12,0],0,100,null,!1,!1),new aG([24,18,5])];
var C=this.oe.Brsh.v;C.Dmtr.v.val=100;var Z=[100,50,100,!1,100,!0];for(var D=0;D<this.Eg.length;D++){var q=this.Eg[D];
q.f(Z[D]);if(D==4)q.mq();q.l(r.E.o,this.a1h,this);m.appendChild(q.m)}var J=this.a07=new iG([1,12,2],!0,null,!0);
J.l("click",this.V5,this);m.appendChild(J.m);this.ada=this.wF.bind(this);this.XX=new bK;this.XX.m=f.L("div","floatcont");
this.HV=new iG("Menu",!1,null,!0);var A=this.HV.m;A.setAttribute("style","position:absolute; right:13px; top:47px");
f.oI(A,this.aeG.bind(this))};t.LqFy.prototype=new t;t.LqFy.prototype.CH=function(){return!0};t.LqFy.prototype.sA=function(u){this._r.appendChild(u)};
t.LqFy.prototype.aeG=function(u){if(f.pZ(this.XX.m))return;u.stopPropagation();var m=this.HV.m.getBoundingClientRect();
this.XX.m.appendChild(this._r);var C=new eY(r.E.z,!0);C.data={d:r.J.ek,Vl:this.XX,x:m.right+m.width-290,y:m.top+m.height};
this.c(C)};t.LqFy.prototype.St=function(u){this.GX=u.j(hs.mD);var m=b.Zg.HY(this.oe,u);if(m!=null){this.oe=m;
this.p3();this.Eg[0].f(m.Brsh.v.Dmtr.v.val)}else if(u.j(hs.Vw)&&u.j(hs.eU)){var C=this.Vc;if(u.j(hs.KP)){if(this.Wk+1<C.length)this.Wk++}else if(this.Wk>0)this.Wk--;
this.vI.map=C[this.Wk].slice(0);this.L9(null)}else this.view.St(u)};t.LqFy.prototype.ag2=function(u){if(u.data.d==r.J.K3){var m=this.b=u.data.b;
this.Jd.UY(this.b);this.view.St(m>6?cv.aoC(m-7):new hs)}};t.LqFy.prototype.a1h=function(u){var m=u.currentTarget,D=this.Eg.indexOf(m),C=this.oe.Brsh.v;
if(D==0){C.Dmtr.v.val=m.Y();this.p3()}this.Eg[4].Oi(this.Eg[3].Y());if(D>2)this.L9(null)};t.LqFy.prototype.AF=function(){var u=this.Vc;
this.Wk++;u[this.Wk]=this.vI.map.slice(0);while(u.length>this.Wk+1)u.pop();while(u.length>50){u=u.slice(1);
this.Wk--}};t.LqFy.prototype.AT=function(u){this.P0=this.view.mS();this.acz=new dz(0,0);this.HR=!0;window.requestAnimationFrame(this.ada)};
t.LqFy.prototype.rB=function(u){var m=this.view.mS(),C=new dz(m.x-this.P0.x,m.y-this.P0.y);if(this.b==0||this.b==6)this.afh(C);
this.P0=m};t.LqFy.prototype.kP=function(u){this.AF();this.HR=!1};t.LqFy.prototype.wF=function(u){if(this.b!=0&&this.b!=6)this.afh(new dz(0,0));
if(this.HR)window.requestAnimationFrame(this.ada)};t.LqFy.prototype.afh=function(u){var m=this.vI,C=m.du/this.Mp.e,Z=this.P0,q=this.oe.Brsh.v,J=q.Dmtr.v.val,A=Date.now(),n=m.du,N=m.Oh,e=Math.sqrt(u.x*u.x+u.y*u.y),Q=Math.max(1,Math.ceil(e/2)),p=u.x/Q,B=u.y/Q,$=Z.clone(),R=this.b,z=this.Eg[1].Y()/100,v=this.Eg[2].Y()/100,a=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],X=a[R*2],V=a[R*2+1],o=(1-z)*X+z*V,h=J*C/2;
for(var D=0;D<Q;D++){var T=[];$.x+=p;$.y+=B;j.xW.arS(m.map,n,N,R,$.x*C,$.y*C,h,z,v,p*C,B*C,T,this.GX);
j.xW.ap9(n,N,m.map,T,2*o*v)}var l=new bl(0,0,n,N),w=new bl(Z.x*C,Z.y*C,0,0);w.iO(J*C*.5,J*C*.5);var W=w.clone();
W.offset(u.x*C,u.y*C);w=w.QN(W);var U=new bl(w.x/C,w.y/C,w.e/C,w.n/C);U=j.u.wu(U).aR(this.Mp);this.Eg[5].f(!0);
this.L9(U)};t.LqFy.prototype.p3=function(){var u=eD.Nv(this.oe,null,this.view.r5().V);this.view.Y6(u)};
t.LqFy.prototype.f=function(u,m,C,Z,q){C=C.clone();if(m==null)return;if(!Z.QV(C)){var J=C.QN(Z),A=j.U(J.Z()*4);
j.zO(m,C,A,J);m=A;C=J;var n=j.U(J.Z()*4);j.zO(q,Z,n,J);q=n}C.x=C.y=0;this._n=m;this.adB=q;this.Lb=m.slice(0);
this.Ji=m.slice(0);this.Mp=C;this.vI=eX.Nh(new Uint8Array(u.LqMe.v).buffer);var N=C.e,e=C.n;if(this.vI.du/N<.22){this.vI={du:Math.floor(N/4),Oh:Math.floor(e/4)};
this.vI.map=new Float32Array(this.vI.du*this.vI.Oh*2)}this.Vc=[];this.Wk=-1;this.AF();this.L9(null);
this.view.FN();this.p3()};t.LqFy.prototype.Y=function(){var u=a7.Qv("LqFy"),m=new Uint8Array(eX.Zw(this.vI)),C=[];
for(var D=0;D<m.length;D++)C.push(m[D]);u.LqMe.v=C;return u};t.LqFy.prototype.CC=function(u,m){this.Jd.CC(u,m);
var C=this.HV.m,Z=this._r;this.rs.appendChild(Z);this.rs.appendChild(C);if(u>450&&u-m>200){Z.style.marginLeft="1em";
this.rs.removeChild(C);this.view.CC(u-238-45,m)}else{Z.style.marginLeft="";this.rs.removeChild(Z);this.view.CC(u-40,m)}};
t.LqFy.prototype._=function(){this.Jd._();this.a07._();for(var D=0;D<this.Eg.length;D++)this.Eg[D]._()};
t.LqFy.prototype.V5=function(){this.vI.map.fill(0);this.AF();this.L9(null)};t.LqFy.prototype.L9=function(u){var m=this.Mp,C=this._n,Z=this.Lb,q=this.vI;
if(this.Eg[5].Y())j.xW.xZ(C,this.Ji,m.e,m.n,u,q.map,q.du,q.Oh,0);else this.Ji.set(C);if(this.Eg[3].Ia()){j.zO(this.adB,m,Z,m,u?u:m);
j.a.q5("norm",this.Ji,m,Z,m,u?u:m,this.Eg[4].Y()/100)}else j.Uj(this.Ji,Z);this.view.f([{WL:m,data:Z.buffer}])};
t.GEfc=function(){t.call(this,"GEfc");this.JB=0;this.AR=0;this._n=null;this.Lb=null;this.Mp=null;this.sU=null;
this.aL=null;this.rb=0;var u=f.L("div","flexrow");this.rs=u;this.m.appendChild(u);this.view=new cv(null);
this.view.CC(100,100);u.appendChild(this.view.m);this._8="";this.W7=270;var m=this.D6=f.L("div","form scrollable");
u.appendChild(m);m.setAttribute("style","width:"+this.W7+"px;  margin-left:10px");var C=this.yJ=f.L("div","form");
u.appendChild(C);C.setAttribute("style","width:230px;  margin-left:1em");this.dy={};for(var Z in b5.names){var q=new t.GEfc.tP(Z);
q.parent=this;this.dy[Z]=q;q.l(r.E.o,this.a04,this)}this.uS=!0;this.HV=new iG("Menu",null,null,!0);this.HV.l("click",this.aiv,this);
u.appendChild(this.HV.m);this.Dd=new iG(">>",null,null,!0);this.Dd.l("click",this.aan,this);C.appendChild(this.Dd.m);
this.T6=f.L("div");this.T6.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
C.appendChild(this.T6);this.Tj=f.L("div");this.Tj.style.minHeight="14em";this.Tj.style.marginBottom="1em";
C.appendChild(this.Tj);this.vy=f.L("div","lpbody scrollable");this.wA=f.L("div","lpfoot");C.appendChild(this.vy);
C.appendChild(this.wA);this.l("click",this.a7r,this);this.QG=[];fM.bY([[5,3],[5,4]],this.QG,this.wA,this.eJ.bind(this))};
t.GEfc.prototype=new t;t.GEfc.prototype.CH=function(){return!0};t.GEfc.prototype.sA=function(u){this.T6.appendChild(u)};
t.GEfc.prototype.vZ=function(u,m){this.sU=u};t.GEfc.prototype.aan=function(u){var m=this.D6.style.display!="none";
this.D6.style.display=m?"none":"";this.Dd.YI(m?"<<":">>");this.CC()};t.GEfc.prototype.aiv=function(u){this.uS=!this.uS;
this.CC()};t.GEfc.prototype.CC=function(u,m){var C=this.D6.style.display!="none";if(u!=null){this.JB=u;
this.AR=m;if(u<1e3&&C||u>=1e3&&!C){this.aan();C=!C}this.uS=u>600}else{u=this.JB;m=this.AR}var Z=this.uS?240+(C?this.W7+10:0):0;
if(f.pZ(this.yJ)&&!this.uS){this.rs.removeChild(this.D6);this.rs.removeChild(this.yJ)}if(!f.pZ(this.yJ)&&this.uS){this.rs.appendChild(this.D6);
this.rs.appendChild(this.yJ)}this.D6.style.height=m+"px";this.view.CC(u-Z,m);this.vy.style.height=m-this.Tj.getBoundingClientRect().height-96+"px";
this.HV.m.setAttribute("style","position:absolute; top:46px;  right:"+(Z+16)+"px")};t.GEfc.prototype.abV=function(){var u=d4.aw.get("img/beach",!0)[0],m=u.WL,C=this.D6,Z=Math.floor(f.F()*(this.W7-40)/3),q=~~(Z*.7),J=new bl(0,0,Z,q),A=j.U(Z*q*4),n=A.slice(0),N=Math.round(10*f.F()),e=new ImageData(new Uint8ClampedArray(n.buffer),Z,q);
j.zO(new Uint8Array(u.data),m,A,new bl(Math.round((m.e-Z)/2),Math.round((m.n-q)/2),Z,q));var Q=f.L("canvas"),p=Q.getContext("2d");
Q.width=Z;Q.height=q+Math.round(N*1.5);p.font=N+"px sans-serif";this.PT={};var B=this.a6F.bind(this);
for(var D=0;D<b5.Bc.length;D++){var $=b5.Bc[D],R=f.L("div");C.appendChild(R);R.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
R.textContent=jg.get($);for(var z in b5.names){var v=b5.names[z];if(v[0]!=D)continue;b5.D1(z,{rect:J,buffer:A},b5.Qv(z),{p:0,T:0,S:0},{p:255,T:255,S:255},{rect:J,buffer:n},{});
p.fillStyle="black";p.fillRect(0,0,500,500);p.putImageData(e,0,0);var a=jg.get(v[1]);p.fillStyle="white";
p.fillText(a,(Z-p.measureText(a).width)/2,q+Math.round(N*1.1));var X=f.L("div");C.appendChild(X);X.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
X.addEventListener("click",B,!1);var R=f.L("img");X.appendChild(R);R.setAttribute("src",Q.toDataURL());
R.setAttribute("style","width:"+Z/f.F()+"px; margin-bottom:0px;");this.PT[z]=X}}};t.GEfc.prototype.a6F=function(u){var m;
for(var C in this.PT)if(this.PT[C]==u.currentTarget)this._8=C;this.a04()};t.GEfc.prototype.eJ=function(u){var m=fM.az(this.QG,u),C=this.aL.GEfs.v,Z=C[this.rb].v;
if(m==0){C.push(JSON.parse(JSON.stringify(C[this.rb])));this.rb=C.length-1}else if(C.length>1){C.splice(this.rb,1);
if(this.rb==C.length)this.rb--}this.b5();this.L9()};t.GEfc.prototype.a04=function(u){var m=this._8,C;
if(u==null)C=b5.Qv(m);else C=this.dy[m].Y();this.aL.GEfs.v[this.rb].v=C;this.b5();this.L9()};t.GEfc.prototype.f=function(u,m,C,Z,q){if(this.PT==null)this.abV();
u=this.aL=JSON.parse(JSON.stringify(u));if(u.GEfs==null)u=this.aL={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:u}]}};
var J=u.GEfs.v;for(var D=0;D<J.length;D++)if(J[D].v.GELv==null)J[D].v.GELv={t:"bool",v:!0};this.rb=J.length-1;
this.b5();C=C.clone();if(m==null)return;if(!Z.QV(C)&&b5.FK(u).x!=0){var A=C.QN(Z),n=j.U(A.Z()*4);j.zO(m,C,n,A);
m=n;C=A}C.x=C.y=0;this._n=m;this.Lb=m.slice(0);this.Mp=C;this.L9();this.view.FN()};t.GEfc.prototype.a7r=function(u){var m=u.data,D=m.NR,C=this.aL.GEfs.v;
if(m.Kf){C[D].v.GELv.v=!C[D].v.GELv.v;this.L9()}else this.rb=D;this.b5()};t.GEfc.prototype.b5=function(){var u=this.aL.GEfs.v,m=u[this.rb].v,C=m.GEfk.v.GEft,Z=this.Tj;
if(b5.names[C]==null){alert("Unsupported gallery filter");f.Da(Z)}else{this._8=C;for(var q in this.PT)f.Jq(this.PT[q],"selected");
f.Ky(this.PT[C],"selected");var J=this.dy[C];J.f(m);if(Z.firstChild!=J.m){f.Da(Z);Z.appendChild(J.m)}}var A=[];
for(var D=0;D<u.length;D++){var n=u[D].v,N=b5.names[n.GEfk.v.GEft],e=new jo(D,!0,!0,null,N?N[1]:"Filter",D==this.rb,n.GELv.v);
e.parent=this;A.push(e.m)}f.Da(this.vy);A.reverse();for(var D=0;D<A.length;D++)this.vy.appendChild(A[D]);
this.CC()};t.GEfc.prototype.Y=function(){return JSON.parse(JSON.stringify(this.aL))};t.GEfc.prototype.L9=function(u){var m=this.Mp,C=this._n,Z=this.Lb,q=this._8,J=this.aL,A=this.sU;
function n(N){return{p:N>>>16,T:N>>>8&255,S:N&255}}a7.D1("GEfc",{rect:this.Mp,buffer:this._n},J,n(A.jM),n(A.z0),{rect:this.Mp,buffer:this.Lb},null);
this.view.f([{WL:m,data:Z.buffer}])};t.GEfc.prototype._=function(){for(var u in this.dy)this.dy[u]._();
fM.kg(this.QG,["lrs/newlayer","lrs/bin"])};t.GEfc.tP=function(u){bK.call(this);this.j1=u;this.m=f.L("div");
this.bM={};var m=b5.Qv(u);for(var C in m){var Z=null;if(C=="__name"||C=="classID"||C=="GEfk"||C=="GELv"||["FlRs"].indexOf(C)!=-1)continue;
else if(C=="EdgW")Z=new hA("Edge Width",1,14);else if(C=="EdgB")Z=new hA("Edge Brightness",0,u=="AccE"?50:20);
else if(C=="Smth")Z=new hA([19,3,3],1,u=="Stmp"?50:15);else if(C=="ClSz")Z=new hA([12,61],3,100);else if(C=="BrdT")Z=new hA([7,9],1,20);
else if(C=="HghS")Z=new hA([12,64],0,20);else if(C=="HlSz")Z=new hA([12,14,0],1,15);else if(C=="Cntr")Z=new hA([12,3,0],0,u=="WtrP"?100:50);
else if(C=="Shrp")Z=new hA("Sharpness",0,40);else if(C=="SprR")Z=new hA("Spray Radius",0,25);else if(C=="LgDr")Z=new hA("Light/Dark Balance",0,u=="Stmp"?50:100);
else if(C=="Drkn")Z=new hA("Darkness",1,50);else if(C=="Dstr")Z=new hA("Distortion",0,20);else if(C=="Scln")Z=new hA([12,38],50,200);
else if(C=="Rlf")Z=new hA("Relief",0,u=="Ptch"||u=="NtPr"?25:50);else if(C=="ChAm")Z=new hA("Thickness",1,7);
else if(C=="Pncl")Z=new hA([19,2,5],1,30);else if(C=="StrP")Z=new hA("Stroke Pressure",0,15);else if(C=="PprB")Z=new hA("Paper Brightness",0,50);
else if(C=="BrsS")Z=new hA("Brush Size",0,10);else if(C=="BrsD")Z=new hA("Brush Detail",0,10);else if(C=="Txtr")Z=new hA([12,67],1,3);
else if(C=="Grn")Z=new hA("Grain",0,20);else if(C=="HghA")Z=new hA("Highlight Area",0,20);else if(C=="Intn")Z=new hA("Intensity",0,10);
else if(C=="Brgh")Z=new hA("Glow Brightness",0,u=="WtrP"?100:50);else if(C=="StrS")Z=new hA("Stroke Size",1,50);
else if(C=="StDt")Z=new hA("Stroke Detail",1,3);else if(C=="Sftn")Z=new hA("Softness",0,10);else if(C=="EdgT")Z=new hA("Edge Thickness",0,10);
else if(C=="EdgI")Z=new hA("Edge Intensity",0,10);else if(C=="Pstr")Z=new hA("Posterization",0,6);else if(C=="Dfnt")Z=new hA("Definition",0,25);
else if(C=="TxtC")Z=new hA("Texture Coverage",0,50);else if(C=="ShdI")Z=new hA("Shadow Intensity",0,10);
else if(C=="DrcB")Z=new hA("Direction Balance",0,100);else if(C=="Strg")Z=new hA([12,64],1,3);else if(C=="Blnc")Z=new hA("Balance",0,10);
else if(C=="BlcI")Z=new hA("Black Intensity",0,10);else if(C=="WhtI")Z=new hA("White Intensity",0,10);
else if(C=="DrkI")Z=new hA("Dark Intensity",0,50);else if(C=="LghI")Z=new hA("Light Intensity",0,50);
else if(C=="StrW")Z=new hA("Stroke Width",3,15);else if(C=="Grns")Z=new hA("Graininess",0,u=="NtPr"?20:10);
else if(C=="GlwA")Z=new hA("Glow Amount",0,20);else if(C=="ClrA")Z=new hA("Clear Amount",0,20);else if(C=="ChrA")Z=new hA("Charcoal Area",0,20);
else if(C=="ChlA")Z=new hA("Chalk Area",0,20);else if(C=="FrgL")Z=new hA("Foreground Level",1,15);else if(C=="BckL")Z=new hA("Background Level",1,15);
else if(C=="WhtL")Z=new hA("Background Level",0,50);else if(C=="BlcL")Z=new hA("Foreground Level",0,50);
else if(C=="ImgB")Z=new hA("Image Balance",0,50);else if(C=="Dnst")Z=new hA([12,74],0,50);else if(C=="FbrL")Z=new hA("Fiber Length",3,50);
else if(C=="CrcS")Z=new hA("Crack Sapcing",2,100);else if(C=="CrcD")Z=new hA("Crack Depth",0,10);else if(C=="CrcB")Z=new hA("Crack Brightness",0,10);
else if(C=="TlSz")Z=new hA("Tile Size",2,100);else if(C=="GrtW")Z=new hA("Grout Width",1,15);else if(C=="LghG")Z=new hA("Lighten Grout",0,10);
else if(C=="SqrS")Z=new hA("Square Size",0,10);else if(C=="RplS")Z=new hA("Ripple Size",1,15);else if(C=="RplM")Z=new hA("Ripple Magnitude",0,20);
else if(C=="NmbL")Z=new hA("Number of Levels",2,8);else if(C=="EdgS")Z=new hA("Edge Simplicity",0,10);
else if(C=="EdgF")Z=new hA("Edge Fidelity",1,3);else if(C=="Sz")Z=u=="NGlw"?new hA("Glow Size",-24,24):new hA("Brush Size",1,50);
else if(C=="Dtl")Z=u=="Chrc"?new hA("Detail",0,5):new hA("Detail",1,15);else if(C=="StrL")Z=u=="InkO"?new hA("Stroke Length",1,50):new hA("Stroke Length",0,20);
else if(C=="TxtT")Z=new fq([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(C=="BrsT")Z=new fq("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(C=="Grnt")Z=new fq("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(C=="SDir")Z=new fq([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(C=="ScrT")Z=new fq([12,62],["Circle","Dot",[10,35]]);
else if(C=="LghD"||C=="LghP")Z=new fq("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(C=="Clr")Z=new df("Glow Color");else if(C=="InvT")Z=new aG([4,11]);else console.log(C);Z.l(r.E.o,this.o_,this);
Z.parent=this;this.bM[C]=Z;this.m.appendChild(Z.m)}};t.GEfc.tP.prototype=new bK;t.GEfc.tP.prototype.o_=function(u){this.c(new eY(r.E.o,!1))};
t.GEfc.asD="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
t.GEfc.tP.prototype.f=function(u){for(var m in this.bM){var C;if(t.GEfc.asD.indexOf(m)!=-1)C=u[m].v;
else if(m=="TxtT")C=b5.CK.indexOf(u[m].v[m]);else if(m=="BrsT")C=b5.r3.indexOf(u[m].v[m]);else if(m=="LghD")C=b5.jg.indexOf(u[m].v[m]);
else if(m=="LghP")C=b5.qq.indexOf(u[m].v[m]);else if(m=="Grnt")C=b5.RN.indexOf(u[m].v[m]);else if(m=="ScrT")C=b5.db.indexOf(u[m].v[m]);
else if(m=="SDir")C=b5.HM.indexOf(u[m].v.StrD);this.bM[m].f(C)}};t.GEfc.tP.prototype.Y=function(){var u=b5.Qv(this.j1);
for(var m in this.bM){var C=this.bM[m].Y();if(t.GEfc.asD.indexOf(m)!=-1)u[m].v=C;else if(m=="TxtT")u[m].v[m]=b5.CK[C];
else if(m=="BrsT")u[m].v[m]=b5.r3[C];else if(m=="LghD")u[m].v[m]=b5.jg[C];else if(m=="LghP")u[m].v[m]=b5.qq[C];
else if(m=="Grnt")u[m].v[m]=b5.RN[C];else if(m=="ScrT")u[m].v[m]=b5.db[C];else if(m=="SDir")u[m].v.StrD=b5.HM[C]}return u};
t.GEfc.tP.prototype._=function(){for(var u in this.bM)this.bM[u]._()};t.blnc=function(){t.call(this);
var u=this.m;this.AG=null;this.xM=new fq([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.xM.l(r.E.o,this.L9,this);
u.appendChild(this.xM.m);this.tZ=[];for(var D=0;D<3;D++){var m=new hA(b1.ql[D],-100,100);m.l(r.E.o,this._g,this);
this.tZ.push(m);u.appendChild(m.m)}this.BO=new aG([13,4]);this.BO.l(r.E.o,this._g,this);u.appendChild(this.BO.m)};
t.blnc.prototype=new t;t.blnc.prototype._=function(){this.xM._();for(var D=0;D<3;D++)this.tZ[D]._();
this.BO._()};t.blnc.prototype.f=function(u){this.AG=JSON.parse(JSON.stringify(u));this.L9()};t.blnc.prototype.Y=function(u){var m=["ShdL","MdtL","HghL"],C=this.AG[m[this.xM.Y()]].v;
for(var D=0;D<3;D++)C[D].v=this.tZ[D].Y();this.AG.PrsL.v=this.BO.Y();return JSON.parse(JSON.stringify(this.AG))};
t.blnc.prototype.L9=function(u){var m=["ShdL","MdtL","HghL"],C=this.AG[m[this.xM.Y()]].v;for(var D=0;
D<3;D++)this.tZ[D].f(C[D].v);this.BO.f(this.AG.PrsL.v)};t.brit=function(){t.call(this,"brit");this.O3.push(new hA([12,2],-150,150,""));
this.O3.push(new hA([12,3,0],-100,100,""));this.O3.push(new aG([12,3,1]));this.LC()};t.brit.prototype=new t;
t.brit.prototype.v3=function(u,m){m[0]=u.Brgh?u.Brgh.v:0;m[1]=u.Cntr?u.Cntr.v:0;m[2]=u.useLegacy?u.useLegacy.v:!1};
t.brit.prototype.zp=function(u,m){u.Brgh.v=m[0];u.Cntr.v=m[1];u.useLegacy.v=m[2]};t.curv=function(){t.call(this);
this.value=null;this.O6=null;var u=this.m;this.xA=new fq([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.xA.l(r.E.o,this.yc,this);u.appendChild(this.xA.m);this.sg=new fq(null,["Spline","Sketch"]);this.sg.l(r.E.o,this.a7I,this);
u.appendChild(this.sg.m);this.Kb=new cG;this.Kb.parent=this;this.Kb.l(r.E.o,this.Jc,this);u.appendChild(this.Kb.m);
f.Uy(u);this.aK=new gt;this.aK.l(r.E.o,this.E8,this);u.appendChild(this.aK.m);this.VD=null;this.aps=0;
this.w1=0;f.Uy(u);this.$c=new jI("Sample from image",ja.vu(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.$c.l(r.E.o,this.PM,this);this.$c.m.style.marginRight="0";u.appendChild(this.$c.m)};t.curv.prototype=new t;
t.curv.prototype.CC=function(u,m){this.aK.CC(u,m)};t.curv.prototype._=function(){this.xA._()};t.curv.prototype.a7I=function(u){var m=ee.kN(this.value,0),C=m.length==256?1:0,Z=this.sg.Y();
if(C==Z)return;var q=a7.Qv("curv");if(Z==1){var J=[];for(var D=0;D<256;D++)J.push(D);ee.Kq(q,0,J)}this.f(q);
this._g()};t.curv.prototype.E8=function(){ee.Kq(this.value,this.xA.Y(),this.aK.Y());this._g()};t.curv.prototype.yc=function(){var u=this.xA.Y(),m=ee.kN(this.value,u),C=m.length==256?1:0;
this.sg.f(C);if(this.O6)this.aK.Ll(this.O6[u],this.O6[4]*[1,.33,.33,.33][u],["#ccc","#fcc","#cfc","#ccf"][u]);
this.aK.f(m)};t.curv.prototype.ul=function(){return!0};t.curv.prototype.K4=function(u,m,C,Z,q){var J=this.value;
this.value=a7.Qv("curv");this._g();var A=b.tS.t6(u,q,1),n=this.VD=[A>>>16&255,A>>>8&255,A&255];this.aps=q.y;
var N=this.$c.Y().indexOf(!0);if(N==0){var e=(n[0]+n[1]+n[2])/3,Q=this.xA.Y(),p=ee.kN(J,Q),B=Q==0?e:n[Q-1],$=-1;
for(var D=0;D<p.length;D++)if(p[D].v.Hrzn.v==B)$=D;if($==-1){var R=JSON.parse(JSON.stringify(p[0]));
R.v.Hrzn.v=B;R.v.Vrtc.v=B;p.push(R);p.sort(function(z,v){return z.v.Hrzn.v-v.v.Hrzn.v});ee.Kq(J,Q,p);
this.w1=p.indexOf(R)}else this.w1=$}this.f(J);this._g()};t.curv.prototype.TQ=function(u,m,C,Z,q){if(this.VD==null)return;
if(this.$c.Y().indexOf(!0)==0){var J=this.value,A=this.xA.Y(),n=ee.kN(J,A),N=n[this.w1];N.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(N.v.Hrzn.v+(this.aps-q.y))));
ee.Kq(J,A,n);this.f(J);this._g()}};t.curv.prototype.ec=function(u,m,C,Z,q){var J=this.value,A=this.VD,n=(A[0]+A[1]+A[2])/3,N=this.$c.Y().indexOf(!0)-1;
if(N<=-1){}else for(var D=0;D<3;D++){var e=ee.kN(J,1+D);if(N==0)e[0].v.Hrzn.v=A[D];if(N==1){var Q=Math.log(A[D]/255)/Math.log(n/255),p=Math.min(999,Math.max(10,Math.round(100*Q)));
if(e.length==2)e.splice(1,0,JSON.parse(JSON.stringify(e[0])));e[1].v.Hrzn.v=127-Math.log(p/100)*127;
e[1].v.Vrtc.v=127}if(N==2)e[e.length-1].v.Hrzn.v=A[D];ee.Kq(J,1+D,e)}this.f(J);this._g();this.VD=null};
t.curv.prototype.f=function(u){this.value=u;this.yc()};t.curv.prototype.Ll=function(u){this.O6=u;this.yc()};
t.curv.prototype.Y=function(u){return JSON.parse(JSON.stringify(this.value))};t.curv.prototype.Jc=function(){var u=this.Kb.Y(),m=this.O6,C=this.value,Z=j.CN(u,m);
for(var D=0;D<4;D++){var q=Z[D][0],J=Z[D][1],A=Z[D][2],n=[j.AE.Ft(q,0,!0),j.AE.Ft(J,255,!0)];if(A!=null)n.splice(1,0,j.AE.Ft(128,A,!0));
ee.Kq(C,D,n)}this.yc();this._g()};t.expA=function(){t.call(this,"expA");this.O3.push(new hA([12,5],-20,20,null,3));
this.O3.push(new hA([12,6],-.5,.5,null,3));this.O3.push(new hA([12,7],.01,6.99,null,3));this.LC()};t.expA.prototype=new t;
t.expA.prototype.v3=function(u,m){m[0]=u.Exps.v;m[1]=u.Ofst?u.Ofst.v:0;m[2]=u.gammaCorrection?u.gammaCorrection.v:1};
t.expA.prototype.zp=function(u,m){u.Exps={t:"doub",v:m[0]};u.Ofst={t:"doub",v:m[1]};u.gammaCorrection={t:"doub",v:m[2]}};
t.grdm=function(){t.call(this,"grdm");this.O3.push(new is(!0,null,!0));this.O3.push(new aG([12,23,0]));
this.LC()};t.grdm.prototype=new t;t.grdm.prototype.v3=function(u,m){m[0]=u.Grad.v;m[1]=u.Rvrs?u.Rvrs.v:!1};
t.grdm.prototype.zp=function(u,m){u.Grad.v=m[0];u.Rvrs={t:"bool",v:m[1]}};t.grdm.prototype.vZ=function(u,m){this.O3[0].dW(u.jM,u.z0);
if(m==jO.LY||m==jO.e0||m==jO.__)this.O3[0].Ie(u.yZ)};t.selc=function(){t.call(this);var u=this.m;this.ok=[];
this.bQ=null;this.xM=new fq([12,82],b1.oc.concat([[13,1,8],[13,1,13],[13,1,10]]));this.xM.l(r.E.o,this.o_,this);
u.appendChild(this.xM.m);f.Uy(u);for(var D=0;D<4;D++){var m=new hA(b1.abn[D],-100,100,"%");m.l(r.E.o,this.o_,this);
this.ok.push(m);u.appendChild(m.m)}this.t0=new aG([13,3]);u.appendChild(this.t0.m);this.t0.l(r.E.o,this.o_,this)};
t.selc.prototype=new t;t.selc.prototype._=function(){this.xM._();this.t0._();for(var D=0;D<4;D++)this.ok[D]._()};
t.selc.prototype.f=function(u){this.bQ=JSON.parse(JSON.stringify(u));this.L9()};t.selc.prototype.Y=function(u){return JSON.parse(JSON.stringify(this.bQ))};
t.selc.prototype.o_=function(u){if(u.target!=this.xM){var m=this.bQ,C=[];for(var D=0;D<4;D++)C[D]=this.ok[D].Y();
iw.Kq(m,this.xM.Y(),C);m.Mthd={t:"enum",v:{CrcM:this.t0.Y()?"Absl":"Rltv"}}}this.L9();this._g()};t.selc.prototype.L9=function(){var u=this.bQ,m=iw.kN(u,this.xM.Y());
for(var D=0;D<4;D++)this.ok[D].f(m[D]);this.t0.f(u.Mthd?u.Mthd.v.CrcM=="Absl":!1)};t.blwh=function(){t.call(this,"blwh");
this.O3.push(new aG([12,11]));this.O3.push(new df(!0));for(var D=0;D<6;D++)this.O3.push(new hA(b1.oc[D],-200,300));
this.LC()};t.blwh.prototype=new t;t.blwh.prototype.v3=function(u,m){m[0]=u.useTint.v;m[1]=u.tintColor.v;
var C="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var D=0;D<6;D++)m[2+D]=u[C[D]].v};t.blwh.prototype.zp=function(u,m){u.useTint.v=m[0];
u.tintColor.v=m[1];var C="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var D=0;D<6;D++)u[C[D]].v=m[2+D]};
t.hue2=function(){t.call(this);this.value=null;this.C8=null;this.acg=null;this.kf=[[0,0,0],[0,50,0]];
var u=this.m;this.$c=new jI(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.$c.l(r.E.o,this.aeE,this);this.$c.l(r.E.o,this.PM,this);u.appendChild(this.$c.m);this.xM=new fq([12,12],["Master"].concat(b1.oc));
this.xM.l(r.E.o,this.yc,this);u.appendChild(this.xM.m);this.xy=new hA([12,8],-180,180);this.xy.l(r.E.o,this.im,this);
u.appendChild(this.xy.m);this._s=new hA([12,9],-100,100);this._s.l(r.E.o,this.im,this);u.appendChild(this._s.m);
this.Av=new hA([12,10],-100,100);this.Av.l(r.E.o,this.im,this);u.appendChild(this.Av.m);this._7=new aG([12,11]);
this._7.l(r.E.o,this.im,this);u.appendChild(this._7.m);this.pJ=new jI("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.pJ.l(r.E.o,this.aeE,this);this.pJ.l(r.E.o,this.PM,this);this.pJ.m.style.marginLeft="20px";u.appendChild(this.pJ.m);
this.Q9=f.L("div");u.appendChild(this.Q9);this.k0=this.Mw.bind(this);this.RC=this.Zn.bind(this);this.O=f.L("canvas");
this.O2=this.O.getContext("2d");this.xS=null;f.ZF(this.O);f.hs(this.O,282,18);u.appendChild(this.O);
f.oI(this.O,this.kV.bind(this))};t.hue2.prototype=new t;t.hue2.prototype.CC=function(u,m){f.hs(this.O,Math.round(u),18);
if(this.value)this.yc()};t.hue2.prototype.aeE=function(u){var m=u.target.Y().indexOf(!0);if(m==-1)return;
if(u.target==this.$c)this.pJ.f([!1,!1,!1]);else this.$c.f([!1,!1,!1])};t.hue2.prototype.kV=function(u){if(this.xM.Y()==0||this._7.Y())return;
var m=f.OR(u,this.O).x/(this.O.width/f.F()),J=1e6;function C(p,B,$){return p<B&&B<$||$<p&&(p<B||B<$)}var Z=this.nA(),q=-1;
for(var D=0;D<4;D++){var A=Math.abs(m-(Z[D]+D*1e-5));if(A<J){J=A;q=D}}if(J>.025){q=-1;var n=Z[0],N=Z[1],e=Z[2],Q=Z[3];
if(C(n,m,N))q=4;if(C(N,m,e))q=5;if(C(e,m,Q))q=6}if(q==-1)return;this.xS=q;f.zy(document.body,this.k0);
f.sQ(document.body,this.RC)};t.hue2.prototype.Mw=function(u){var m=f.OR(u,this.O).x/(this.O.width/f.F()),C=this.nA(),Z=this.xS;
for(var D=1;D<4;D++)if(C[D]<C[D-1]){C[D]+=1}if(Z<4){var q=1e6,J=0;for(var D=-20;D<20;D++){var A=Math.abs(C[Z]-(m+D));
if(A<q){q=A;J=D}}m+=J;C[Z]=m;for(var D=Z+1;D<4;D++)if(C[D]<C[D-1]){C[D]=C[D-1]}for(var D=Z-1;D>=0;D--)if(C[D]>C[D+1]){C[D]=C[D+1]}}else{var n=m-(C[Z-4]+C[Z-3])/2;
if(n<-.5)n+=1;if(Z==4){C[0]+=n;C[1]+=n;C[2]=Math.max(C[1],C[2]);C[3]=Math.max(C[1],C[3])}if(Z==5)for(var D=0;
D<4;D++)C[D]+=n;if(Z==6){C[2]+=n;C[3]+=n;C[0]=Math.min(C[0],C[2]);C[1]=Math.min(C[1],C[2])}}for(var D=1;
D<4;D++)if(C[D]<C[D-1])throw"e";this.an0(C);this.yc();this._g()};t.hue2.prototype.Zn=function(u){f.bU(document.body,this.k0);
f.YL(document.body,this.RC)};t.hue2.prototype._=function(){this.xy._();this._s._();this.Av._();this._7._();
this.xM._()};t.hue2.prototype.im=function(u){var m=this.value.Clrz.v=this._7.Y();if(m)this.xM.f(0);if(u&&u.target==this._7){var C=m?1:0;
this.kf[1-C]=je.kN(this.value,0);var Z=this.kf[C];je.Kq(this.value,0,Z);if(this.xM.Y()==0){this.xy.f(Z[0]);
this._s.f(Z[1]);this.Av.f(Z[2])}}var q=this.xM.Y(),J=je.kN(this.value,q),Z=q==0?J:J.tZ;Z[0]=this.xy.Y();
var A=this._s.Y();Z[1]=m?Math.max(0,A):A;Z[2]=this.Av.Y();je.Kq(this.value,q,J);this.yc();this._g()};
t.hue2.prototype.yc=function(){var u=this.xM.Y(),m=this.value.Clrz?this.value.Clrz.v:!1;this._7.f(m);
this.xM.Oi(!m);this.pJ.Oi(!m&&u!=0);var C=je.kN(this.value,u),Z=u==0?C:C.tZ;this.xy.f(Z[0]);this._s.f(Z[1]);
this.Av.f(Z[2]);var q=this.O.width,J=this.O.height,A=this.O2;A.clearRect(0,0,q,J);if(m||u==0){this.Q9.innerHTML="";
return}var n=C.w8;this.Q9.innerHTML=n[0]+"\xB0 / "+n[1]+"\xB0<span style=\"float:right\">"+n[2]+"\xB0 \\ "+n[3]+"\xB0</span>";
var N=j.U(q*4);hr.adh(N,1,q,-1,.5);var e=new ImageData(new Uint8ClampedArray(N.buffer),q,1),Q=Math.round(J/4);
for(var D=0;D<Q;D++)A.putImageData(e,0,D);function p(a,X,V){A.fillStyle=V;var o=Q*2;if(a<=X)A.fillRect(a*q,o,(X-a)*q,Q);
else{A.fillRect(0,o,X*q,Q);A.fillRect(a*q,o,(1-a)*q,Q)}}var B=this.nA();p(B[0],B[1],"#888888");p(B[1],B[2],"#cccccc");
p(B[2],B[3],"#888888");A.fillStyle="#ffffff";A.lineWidth=1;A.beginPath();var $=Q+.5,R=4*Q+.5;for(var D=0;
D<4;D++){var z=Math.floor(q*B[D])+.5,v=(D<2?-1:1)*Q*(D==1||D==2?1:2);A.moveTo(z,$);A.lineTo(z,R);A.lineTo(z+v,R);
A.lineTo(z+v,Q+Q+.5);A.closePath()}A.fill();A.stroke()};t.hue2.prototype.nA=function(){var u=this.xM.Y(),m=je.kN(this.value,u).w8;
for(var D=0;D<4;D++)m[D]=(1000.5+m[D]/360)%1;return m};t.hue2.prototype.an0=function(u){var m=this.xM.Y(),C=je.kN(this.value,m);
for(var D=0;D<4;D++)C.w8[D]=Math.round(36e3+(u[D]-.5)*360)%360;je.Kq(this.value,m,C)};t.hue2.prototype.ul=function(){return!0};
t.hue2.prototype.apd=function(){var u=this.$c.Y().indexOf(!0),m=this.pJ.Y().indexOf(!0);return u!=-1?u:m!=-1?m+1:-1};
t.hue2.prototype.K4=function(u,m,C,Z,q){var J=this.apd();if(J==-1)return;var A=this.value;this.value=a7.Qv("hue2");
this._g();var n=b.tS.t6(u,q,1);this.f(A);var N=[n>>>16&255,n>>>8&255,n&255],e=j.Kv(N[0]/255,N[1]/255,N[2]/255);
if(J==0){this.xM.f(1+Math.round(e.Oh*6)%6)}else{var Q=this.nA(),p=.5+e.Oh,B=1/12,$=Q[1],R=Q[2];if(R<$){R++;
if(p<$&&p+1-R<$-p)p++}var z=$<=p&&p<=R;if(J==1){$=p-B/2;R=p+B/2}else if(J==2&&!z){$=Math.min(p,$);R=Math.max(p,R)}else if(J==3&&z){if(p-$<R-p)$=p;
else R=p}Q=[$-B,$,R,R+B];this.an0(Q)}this._g();this.C8=q.x;this.acg=this._s.Y()};t.hue2.prototype.TQ=function(u,m,C,Z,q){var J=this.apd();
if(J==-1)return;if(J==0){if(this.C8!=null){var A=q.x-this.C8;A=Math.max(-100,Math.min(100,this.acg+.5*A));
this._s.f(A);this.im()}}};t.hue2.prototype.ec=function(u,m,C,Z,q){this.C8=null};t.hue2.prototype.f=function(u){this.value=JSON.parse(JSON.stringify(u));
var m=this.value.Clrz?this.value.Clrz.v:!1;this.kf[m?1:0]=je.kN(this.value,0);this.yc()};t.hue2.prototype.Y=function(u){return JSON.parse(JSON.stringify(this.value))};
t.levl=function(){function u(){t.call(this);this.value=null;this.O6=null;this.iP=[new dz(0,0),new dz(0,0),new dz(0,0),new dz(0,0),new dz(0,0)];
this._x=-1;this.k0=this.Mw.bind(this);this.RC=this.Zn.bind(this);var m=this.m;this.xA=new fq([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.xA.l(r.E.o,this.yc,this);m.appendChild(this.xA.m);this.Kb=new cG;this.Kb.parent=this;this.Kb.l(r.E.o,this.Jc,this);
m.appendChild(this.Kb.m);var C=f.L("div","");m.appendChild(C);var Z=f.L("div","");m.appendChild(Z);this.O=f.L("canvas");
C.appendChild(this.O);this.O2=this.O.getContext("2d");this._U=new dz(256,120);this.O.setAttribute("style","display:block");
f.ZF(this.O);f.oI(this.O,this.kV.bind(this));this.RW=f.L("canvas","");Z.appendChild(this.RW);this.gd=this.RW.getContext("2d");
this.jo=new dz(this._U.x,40);this.RW.setAttribute("style","display:block");f.ZF(this.RW);f.oI(this.RW,this.adl.bind(this));
var q=this.jF=[];for(var D=0;D<5;D++){var J=new jC(null,null,3);q.push(J);J.l(r.E.o,this.adv,this);(D<2||D==4?C:Z).appendChild(J.m)}C.appendChild(q[1].m);
this.$c=new jI("Sample from image",ja.vu(["#000000","#888888","#ffffff"]),!0,null,!0);this.$c.l(r.E.o,this.PM,this);
m.appendChild(this.$c.m);this.CC(250,100)}u.prototype=new t;u.prototype.Jc=function(){var m=this.Kb.Y(),C=this.O6,Z=this.value,q=j.CN(m,C);
for(var D=0;D<4;D++){var J=q[D][0],A=q[D][1],n=q[D][2],N=[j.AE.Ft(J,0,!0),j.AE.Ft(A,255,!0)];if(n!=null)N.splice(1,0,j.AE.Ft(128,n,!0));
var e=[~~J,~~A,0,255,n==null?100:~~(100+.75*100*(n-128)/128)];ii.Kq(Z,D,e)}this.yc();this._g()};u.prototype.CC=function(m,C){m+=6;
this._U.x=this.jo.x=m;f.hs(this.O,m,this._U.y,this.O2);f.hs(this.RW,m,this.jo.y,this.gd);var Z=this.jF;
Z[3].m.setAttribute("style","margin-left: "+(m-104)+"px");Z[4].m.setAttribute("style","margin: 0 "+(m/2-74)+"px");
if(this.value)this.yc()};u.prototype._=function(){this.xA._()};u.prototype.adv=function(m){var C=[];
for(var D=0;D<5;D++){var Z=255,q=1;if(D==4){Z=999;q=100}var J=parseFloat(this.jF[D].Y());C[D]=Math.max(0,Math.min(Z,J*q))}ii.Kq(this.value,this.xA.Y(),C);
this.yc();this._g()};u.prototype.yc=function(m){var C=this._U.x,Z=this._U.y,q=this.xA.Y(),J=this.O2;
J.clearRect(0,0,C,Z);J.fillStyle="#cccccc";J.fillRect(8,8,C-16,Z-16-8);if(this.O6){var A=this.O6[0].slice(0),R=0;
if(q==0){A.fill(0);var n=JSON.parse(JSON.stringify(this.value));ii.Kq(n,0,[0,255,0,255,100]);var N=b1.z$("levl",n),e=[N.S8,N.Qm,N.h3];
for(var Q=0;Q<3;Q++){var p=this.O6[1+Q],B=e[Q];for(var D=0;D<256;D++)A[B[D]]+=p[D]}}var $=q==0?A:this.O6[q];
for(var D=0;D<$.length;D++)R+=$[D];J.fillStyle="#333333";J.beginPath();J.moveTo(8,Z-16);for(var D=0;
D<256;D++){var z=55*$[D]/R;J.lineTo(8+D/256*(C-16),Math.max(8,Z-16-Z*z))}J.lineTo(C-8,Z-16);J.closePath();
J.fill()}var v=ii.kN(this.value,q);for(var D=0;D<5;D++)this.jF[D].f(v[D]/(D==4?100:1));this.iP[0].qX(8+v[0]/255*(C-16),Z-14);
this.iP[1].qX(8+v[1]/255*(C-16),Z-14);var a=Math.log(v[4]/100)/Math.log(9.99);a=.5-a/2;this.iP[4].qX(this.iP[0].x+a*(this.iP[1].x-this.iP[0].x),Z-14);
this.eV(J,this.iP[0],"#000000");this.eV(J,this.iP[1],"#ffffff");this.eV(J,this.iP[4],"#777777");var C=this.jo.x,Z=this.jo.y;
J=this.gd;J.clearRect(0,0,C,Z);var X=J.createLinearGradient(0,0,C-16,0);X.addColorStop(0,"black");X.addColorStop(1,"white");
J.fillStyle=X;J.fillRect(8,8,C-16,16);this.iP[2].qX(8+v[2]/255*(C-16),Z-14);this.iP[3].qX(8+v[3]/255*(C-16),Z-14);
this.eV(J,this.iP[2],"#000000");this.eV(J,this.iP[3],"#ffffff")};u.prototype.eV=function(m,C,Z){m.fillStyle=Z;
m.fillRect(C.x-5,C.y,10,10)};u.prototype.kV=function(m){var C=f.OR(m,this.O),Z=this.acH([0,1,4],C);if(Z!=-1)this._x=Z;
this.a7N()};u.prototype.adl=function(m){var C=f.OR(m,this.RW),Z=this.acH([2,3],C);if(Z!=-1)this._x=Z;
this.a7N()};u.prototype.acH=function(m,C){var Z=-1,q=1e9;for(var D=0;D<m.length;D++){var J=Math.abs(this.iP[m[D]].x-C.x);
if(J<q){q=J;Z=m[D]}}return q<16?Z:-1};u.prototype.a7N=function(m){if(this._x==-1)return;f.zy(document.body,this.k0);
f.sQ(document.body,this.RC)};u.prototype.Mw=function(m){var C=ii.kN(this.value,this.xA.Y()),Z=f.OR(m,this._x==2&&this._x==3?this.RW:this.O),q=255*(Z.x-8)/(this._U.x-16);
q=Math.max(0,Math.min(255,q));if(this._x==0)q=Math.min(q,C[1]-2);if(this._x==1)q=Math.max(q,C[0]+2);
if(this._x!=4)C[this._x]=Math.round(q);else{var J=(q-C[0])/(C[1]-C[0]);J=1-2*J;J=Math.pow(9.99,J);C[4]=Math.min(999,Math.max(10,Math.round(J*100)))}ii.Kq(this.value,this.xA.Y(),C);
this.yc();this._g()};u.prototype.Zn=function(m){f.bU(document.body,this.k0);f.YL(document.body,this.RC);
this._x=-1};u.prototype.ul=function(){return!0};u.prototype.ec=function(m,C,Z,q,J){var A=this.value,n=this.$c.Y().indexOf(!0);
if(n==-1)return;this.value=a7.Qv("levl");this._g();var N=b.tS.t6(m,J,1),e=[N>>>16&255,N>>>8&255,N&255];
for(var D=0;D<3;D++){var Q=ii.kN(A,1+D);if(n==0)Q[0]=e[D];if(n==1){var p=Math.log(e[D]/255)/Math.log((e[0]+e[1]+e[2])*.333/255);
Q[4]=Math.min(999,Math.max(10,Math.round(100*p)))}if(n==2)Q[1]=e[D];ii.Kq(A,1+D,Q)}this.f(A);this._g()};
u.prototype.f=function(m){this.value=m;this.yc()};u.prototype.Ll=function(m){this.O6=m;this.yc()};u.prototype.Y=function(m){return JSON.parse(JSON.stringify(this.value))};
return u}();t.phfl=function(){t.call(this,"phfl");this.O3.push(new df);this.O3.push(new hA([12,74],0,100,"%"));
this.O3.push(new aG([13,4]));this.LC()};t.phfl.prototype=new t;t.phfl.prototype.v3=function(u,m){m[0]=u.Clr.v;
m[1]=u.Dnst.v;m[2]=u.PrsL.v};t.phfl.prototype.zp=function(u,m){var C=j.C.o5(m[0]),Z=u.Clr.v,q=j.OI(C.p,C.T,C.S);
Z.Lmnc.v=q.nI;Z.A.v=q.w7;Z.B.v=q.S;u.Dnst.v=m[1];u.PrsL.v=m[2]};t.vibA=function(){t.call(this,"vibA");
this.O3.push(new hA([12,13],-100,100,null));this.O3.push(new hA([12,9],-100,100,null));this.LC()};t.vibA.prototype=new t;
t.vibA.prototype.v3=function(u,m){m[0]=u.vibrance?u.vibrance.v:0;m[1]=u.Strt?u.Strt.v:0};t.vibA.prototype.zp=function(u,m){u.vibrance.v=m[0];
u.Strt.v=m[1]};t.thrs=function(){t.call(this,"thrs");this.O3.push(new hA([4,13],1,255,null));this.LC()};
t.thrs.prototype=new t;t.thrs.prototype.v3=function(u,m){m[0]=u.Lvl.v};t.thrs.prototype.zp=function(u,m){u.Lvl.v=m[0]};
t.mixr=function(){t.call(this);var u=this.m;this.ok=[];this.bQ=null;this.xM=new fq([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.xM.l(r.E.o,this.o_,this);u.appendChild(this.xM.m);f.Uy(u);this.ct=new aG([12,60]);u.appendChild(this.ct.m);
this.ct.l(r.E.o,this.o_,this);for(var D=0;D<4;D++){var m=new hA([[13,1,1],[13,1,4],[13,1,5],[13,2]][D],-200,200,"%");
m.l(r.E.o,this.o_,this);this.ok.push(m);u.appendChild(m.m)}};t.mixr.prototype=new t;t.mixr.prototype._=function(){this.xM._();
this.ct._();for(var D=0;D<4;D++)this.ok[D]._()};t.mixr.prototype.f=function(u){this.bQ=JSON.parse(JSON.stringify(u));
this.L9()};t.mixr.prototype.Y=function(u){return JSON.parse(JSON.stringify(this.bQ))};t.mixr.prototype.o_=function(u){if(u.target!=this.xM){var m=b1.yP(this.bQ);
if(u.target==this.ct){m.ct=this.ct.Y();if(m.ct)m.k=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else m.k=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var C=(m.ct?0:this.xM.Y())*5,D=this.ok.indexOf(u.target);
m.k[C+(D<3?D:4)]=u.target.Y()}this.bQ=b1.vp(m)}this.L9();this._g()};t.mixr.prototype.L9=function(){var u=b1.yP(this.bQ);
this.ct.f(u.ct);var m=(u.ct?0:this.xM.Y())*5;for(var D=0;D<4;D++)this.ok[D].f(u.k[m+(D<3?D:4)])};t.post=function(){t.call(this,"post");
this.O3.push(new hA([4,1],2,255,null));this.LC()};t.post.prototype=new t;t.post.prototype.v3=function(u,m){m[0]=u.Lvls.v};
t.post.prototype.zp=function(u,m){u.Lvls.v=m[0]};t.clrL=function(){t.call(this,"clrL");this.O3.push(new gk("LUTs"));
this.LC()};t.clrL.prototype=new t;t.clrL.prototype.v3=function(u,m){m[0]=u};t.clrL.prototype.zp=function(u,m){var C=m[0];
for(var Z in C)u[Z]=C[Z]};t.clrL.prototype.vZ=function(u,m){if(m==jO.LY||m==jO.t4)this.O3[0].Ie(u.ad3)};
t.rplc=function(){t.call(this,"rplc");this.O3.push(new hA([12,92],0,200));this.O3.push(new df);this.O3.push(new hA([12,8],-180,180));
this.O3.push(new hA([12,9],-100,100));this.O3.push(new hA([12,10],-100,100));this.LC()};t.rplc.prototype=new t;
t.rplc.prototype.v3=function(u,m){m[0]=u.Fzns.v;m[1]=u.Mxm.v;m[2]=u.H.v;m[3]=u.Strt.v;m[4]=u.Lght.v};
t.rplc.prototype.zp=function(u,m){function C(q,J){J.Lmnc.v=q.nI;J.A.v=q.w7;J.B.v=q.S}u.Fzns.v=m[0];u.H.v=m[2];
u.Strt.v=m[3];u.Lght.v=m[4];var Z=j.C.o5(m[1]),q=j.OI(Z.p,Z.T,Z.S);C(q,u.Mnm.v);C(q,u.Mxm.v)};t.fade=function(){t.call(this,"fade");
this.O3.push(new hA([12,0],0,100,"%"));this.O3.push(new fq([12,19,0],hR.Pc,!1,hR.gQ));this.LC()};t.fade.prototype=new t;
t.fade.prototype.v3=function(u,m){m[0]=u.Opct.v.val;m[1]=hR.C7.indexOf(u.Md.v.BlnM)};t.fade.prototype.zp=function(u,m){u.Opct.v.val=m[0];
u.Md.v.BlnM=hR.C7[m[1]]};t.aply=function(){var u=hR.C7.concat(["Add","Sbtr"]);u.splice(21,1);var m=hR.Pc.concat([[15,10,28],[15,10,21]]);
m.splice(21,1);var C=hR.gQ.slice(0);C[4]--;function Z(){t.call(this,"aply");this.O3.push(new fq([0,3],[]));
this.O3.push(new fq([12,4],["RGB"].concat(b1.ql).concat(["Transparency"])));this.O3.push(new aG([4,11]));
this.O3.push(new fq([12,19,0],m,!1,C));this.O3.push(new hA([12,0],0,100,"%"));this.O3.push(new fc([12,38],1,2,null,2));
this.O3.push(new fc([12,6],-255,255));this.O3.push(new aG([13,5]));this.LC([2]);this.Os=null}Z.prototype=new t;
Z.prototype.v3=function(q,J,A){if(A){var n=A[2].g,N=this.Os=[];for(var D=0;D<n.length;D++){var e=n[D].getName();
N.push(e.length<30?e:e.slice(0,27)+"...")}N.reverse();this.O3[0].D5([[5,7]].concat(N),[1,N.length])}else var N=this.Os;
q=q.With.v;var Q=q.T.v;J[0]=Q[1].t=="name"?1+N.indexOf(Q[1].v.val):0;J[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(Q[0].v.enum);
J[2]=q.Invr.v;var p=q.Clcl.v.Clcn;J[3]=u.indexOf(p);J[4]=q.Opct.v.val;J[5]=q.Scl.v;J[6]=q.Ofst.v;J[7]=q.PrsT.v};
Z.prototype.zp=function(q,J){q=q.With.v;var A=q.T.v;if(J[0]==0)A[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else A[1]={t:"name",v:{classID:"Lyr",val:this.Os[J[0]-1]}};A[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][J[1]];
q.Invr.v=J[2];var n=q.Clcl.v.Clcn=u[J[3]];q.Opct.v.val=J[4];q.Scl.v=J[5];q.Ofst.v=J[6];q.PrsT.v=J[7];
var N=n=="Add"||n=="Sbtr";this.O3[5].Oi(N);this.O3[6].Oi(N)};return Z}();t.matc=function(){var u,m,C=0;
function Z(){t.call(this,"matc");this.O3.push(new hA("Luminance",1,200));this.O3.push(new hA("Color Intensity",1,200));
this.O3.push(new hA([2,11],0,100,"%"));this.O3.push(new aG("Neutralize"));this.O3.push(new fq([12,70],[]));
this.O3.push(new fq([0,3],[]));this.LC([2])}function q(J,A){J.O3[5].D5([[5,7]].concat(A),[1,A.length])}Z.prototype=new t;
Z.prototype.v3=function(J,A,n){C=0;A[0]=J.Lght.v;A[1]=J.ClrR.v;A[2]=J.Fade.v;A[3]=J.neutralizeColor?J.neutralizeColor.v:!1;
A[4]=A[5]=0;var N=J.Srce;if(N)N=N.v;if(n){u=[];m=[];var e=n[2],Q=n[3];for(var D=0;D<Q.length;D++){var p=Q[D];
u.push(p.name);var B=p.g,$=[];m.push($);for(var R=0;R<B.length;R++)$.push(B[R].getName());$.reverse()}this.O3[4].D5([[13,1,0]].concat(u),[1,u.length]);
var z=Q.indexOf(e);if(N)z=u.indexOf(N[1].v.val);q(this,m[z])}if(N){var v=u.indexOf(N[1].v.val);A[3]=C=1+v;
if(N[0].t=="name")A[4]=1+m[v].indexOf(N[0].v.val)}};Z.prototype.zp=function(J,A){J.Lght.v=A[0];J.ClrR.v=A[1];
J.Fade.v=A[2];J.neutralizeColor.v=A[3];if(A[4]==0){J.noReference={t:"bool",v:!0};delete J.Srce}else{if(A[4]!=C){C=A[4];
q(this,m[A[4]-1])}delete J.noReference;var n={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},N=m[A[4]-1];
if(A[5]!=0)n={t:"name",v:{classID:"Lyr",val:N[A[5]-1]}};J.Srce={t:"obj ",v:[n,{t:"name",v:{classID:"Dcmn",val:u[A[5]-1]}}]}}};
return Z}();function bi(u,m){bK.call(this);if(u==null)return;this.id=m;this.OK=u;this.E7=null;this.m=f.L("div","window "+m);
this.aif=null;this.c8=f.L("div","whead");this.a2v=f.L("span","wname");this.c8.appendChild(this.a2v);
this.m.appendChild(this.c8);this.Wq=this.a2M.bind(this);this.sH=this.ahK.bind(this);this.Bz=this.aju.bind(this);
f.ZF(this.c8);f.oI(this.c8,this.Wq);this.rd=f.L("span","cross");this.c8.appendChild(this.rd);bi.prototype._.call(this);
f.sQ(this.rd,this.a1s.bind(this));this.body=f.L("div","body");this.m.appendChild(this.body)}bi.prototype=new bK;
bi.prototype.sZ=function(){return!1};bi.prototype.ul=function(){return!1};bi.prototype._=function(){if(this.OK==null)return;
this.a2v.textContent=jg.get(this.OK);var u=PIMG.__cross==null?"filter:invert(1);":"";this.rd.setAttribute("style","background-image:url("+PIMG.cross+");"+u)};
bi.prototype.K4=function(u,m,C,Z,q){};bi.prototype.cl=function(u,m,C,Z,q){};bi.prototype.TQ=function(u,m,C,Z,q){};
bi.prototype.ec=function(u,m,C,Z,q){};bi.prototype.tX=function(u,m,C,Z,q){};bi.prototype.St=function(u,m,C,Z){if(Z.j(hs.tb)&&this.uz)this.uz();
if(Z.j(hs.Vw)){var q=new eY(r.E.H);q.Ua=!0;b.Yq.Fe(Z,q);if(q.data)m.c(q)}};bi.prototype.$d=function(u){return!1};
bi.prototype.dK=function(u,m){return!0};bi.prototype.B6=function(u,m,C,Z){};bi.prototype.vZ=function(u,m){};
bi.prototype.Gb=function(u,m){return null};bi.prototype.aqY=function(u){return this.aif};bi.prototype.CC=function(){};
bi.prototype.close=function(){this.c(new eY(r.E.t3))};bi.prototype.a2M=function(u){this.E7=f.OR(u,this.m);
f.zy(window,this.sH);f.sQ(window,this.Bz)};bi.prototype.ahK=function(u){var m=this.m.parentNode,C=f.OR(u,m),Z=Math.round(C.x-this.E7.x),q=m.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(C.y-this.E7.y)));
this.aif=new dz(Z,q);this.m.style.left=Z+"px";this.m.style.top=q+"px"};bi.prototype.aju=function(u){f.bU(window,this.sH);
f.YL(window,this.Bz)};bi.prototype.a1s=function(u){this.c(new eY("closebtn"));this.close()};function iz(){bi.call(this,"About Photopea","aboutpp");
var u=f.L("div","flexrow");this.body.appendChild(u);var m=this.a3x=f.L("img");u.appendChild(m);this.body.setAttribute("style","margin:0; padding:0");
var C=this.a9P=f.L("div");C.innerHTML=iz.zR;u.appendChild(C);var Z=this.TY=f.L("span");Z.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(Z)}iz.prototype=new bi;iz.prototype.Gb=function(u,m){return new dz(0,0)};iz.prototype.CC=function(u,m){var C=this.a3x,Z=this.a9P,q=this.TY,J=(u+m-42-42)/110;
J=Math.sqrt((u-42)*(m-42))/50;C.setAttribute("style","width:"+u/2+"px; height:"+m+"px; display:block; object-fit:cover;");
Z.setAttribute("style","width:"+(u/2-42)+"px; height:"+(m-42)+"px; padding:20px; font-size:"+J+"px;");
q.setAttribute("style","position:absolute;  bottom:10px; right:"+(u/2+10)+"px")};iz.prototype._=function(){};
iz.prototype.B6=function(u,m,C,Z){this.a3x.setAttribute("src","promo/ivan_pp.webp")};iz.zR="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function ew(){bi.call(this,[0,13,0],"account");this.zJ=f.L("div","form scrollable");this.body.appendChild(this.zJ);
this.body.style.padding="0";this.Z6=[new ew.pG,new ew.pw("::privacy.html"),new ew.pw(ew.a1C)];for(var D=0;
D<this.Z6.length;D++)this.Z6[D].parent=this;this.l("showpage",this.aiZ,this)}ew.prototype=new bi;ew.prototype.CC=function(u,m){this.zJ.setAttribute("style","width:"+Math.min(u-40,740)+"px;  height:"+(m-38)+"px;  padding:1.5em;");
this.Z6[0].CC(u,m)};ew.prototype.Gb=function(u,m){return new dz(Math.max(0,Math.min(150,(u-740)/2)),Math.max(0,Math.min(100,(m-500)/2)))};
ew.prototype.aiZ=function(u){f.Da(this.zJ);this.zJ.scrollTop=0;this.zJ.appendChild(this.Z6[u.data.NR].m)};
ew.prototype._=function(){bi.prototype._.call(this);for(var D=0;D<this.Z6.length;D++)this.Z6[D]._()};
ew.prototype.B6=function(u,m,C){f.Da(this.zJ);var Z=this.Z6[0];this.zJ.appendChild(Z.m);Z.B6();this._()};
ew.prototype.vZ=function(u,m){this.B6(null,null,null)};ew.pG=function(){bK.call(this);this.m=f.L("div");
var u=this.m,n,N,Q="font-size:1.25em;",p="text-align:center;",$="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",R="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",z="style=\"width:50%; vertical-align:top; padding:10px 20px;\"";
this.S2=f.L("div");u.appendChild(this.S2);this.DX=new iG([0,11],!1,null,!0);this.DX.m.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.DX.l("click",this.eq,this);u.appendChild(this.DX.m);this.Wr=new iG([0,13,1],!1,null,!0);this.Wr.l("click",this.a3U,this);
u.appendChild(this.Wr.m);this.dM=new iG("Business Terms",!1,null,!0);this.dM.l("click",this.ad6,this);
u.appendChild(this.dM.m);var m=f.L("div");m.style.margin="20px 0";u.appendChild(m);var C=["Account Types","Go Premium","Distributors"],Z=this.be=[],q=this.a3G=[],J=this.pQ=f.L("div");
u.appendChild(J);for(var D=0;D<C.length;D++){var A=f.L("span");A.textContent=C[D];m.appendChild(A);Z.push(A);
A.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
A.addEventListener("click",this.Wc.bind(this));q.push(f.L("div"))}this.Wc(0);var e=this.a6s="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
u=q[0];var N=f.L("table"),B="style=\" "+p+Q+" padding-bottom:20px;\"";N.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+z+">\t\t\t\t\t<div "+B+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+R+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+z+">\t\t\t\t\t<div "+B+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+R+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+R+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+R+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
u.appendChild(N);var A=new iG("Go Premium");A.m.setAttribute("style",e+"padding:10px 0;");A.l("click",function(h){this.Wc(1)},this);
N.children[0].children[1].children[1].appendChild(A.m);this.LB=f.L("div");u.appendChild(this.LB);u=q[1];
var v=this.alY=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.Ks=[];for(var D=0;D<v.length;D++)this.Ks.push(new iG("Buy: $"+v[D][0],!1,null,!0));for(var D=0;
D<this.Ks.length;D++){this.Ks[D].l("click",this.alm,this)}this.v6=new iG("...",!0);this.v6.m.setAttribute("style",e);
u.appendChild(this.v6.m);N=this.amA(3,["Single user",this.Ks[0],this.Ks[1],this.Ks[2],"Team of 5",this.Ks[3],this.Ks[4],this.Ks[5],"Team of 20",this.Ks[6],this.Ks[7],this.Ks[8]]);
u.appendChild(N);this.af1=new aG("I accept",!0,"");u.appendChild(this.af1.m);this.ZN=new iG([0,13,1],!1,null,!0);
this.ZN.l("click",this.a3U,this);u.appendChild(this.ZN.m);this.YF=new iG("I have a key",!1,null,!0);
this.YF.m.setAttribute("style",e+" float:right; width:inherit;");this.YF.l("click",this.alm,this);u.appendChild(this.YF.m);
n=f.L("h2");n.textContent="Team Settings";u.appendChild(n);n.style.marginTop="40px";this.zY=new aG("Join a team");
u.appendChild(this.zY.m);this.zY.l(r.E.o,this.aoQ,this);this.sh=new jC("Email of a leader",null,14);
u.appendChild(this.sh.m);f.Uy(u);this.sS=new aG("Start a team");u.appendChild(this.sS.m);this.sS.l(r.E.o,this.aoQ,this);
var a=new i7("Emails of other members:");u.appendChild(a.m);f.Uy(u);this.bw=f.L("textarea");f.xC(this.bw);
this.bw.setAttribute("rows",3);this.bw.setAttribute("style","display:block;tab-size:4; width:100%");
u.appendChild(this.bw);var X=new iG("Save Team Settings",!1,null,!0);u.appendChild(X.m);X.l("click",this.a5a,this);
var V=this.aqx=new iG("More about Teams",!1,null,!0);u.appendChild(V.m);V.l("click",this.a32,this);u=q[2];
this.lm=new iG("...",!0);this.lm.m.setAttribute("style",e);u.appendChild(this.lm.m);N=this.amA(3,["1000 views/mo",this.Ks[9],this.Ks[10],this.Ks[11],"5000 views/mo",this.Ks[12],this.Ks[13],this.Ks[14],"20000 views/mo",this.Ks[15],this.Ks[16],this.Ks[17]]);
u.appendChild(N);var o=f.L("p");o.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
u.appendChild(o);this.kR=new jC("Domain name (e.g. domain.com)",null,14);u.appendChild(this.kR.m);var X=new iG("Save Domain Settings",!1,null,!0);
X.Lo();u.appendChild(X.m);X.l("click",this.aqE,this)};ew.pG.prototype=new bK;ew.pG.prototype.Wc=function(u){var m=typeof u=="number"?u:this.be.indexOf(u.target);
for(var D=0;D<3;D++)this.be[D].style.opacity=.6;this.be[m].style.opacity=1;f.Da(this.pQ);this.pQ.appendChild(this.a3G[m])};
ew.pG.prototype.CC=function(u,m){var C=u<600?"d":" days",Z=this.alY;for(var D=0;D<Z.length;D++){this.Ks[D].YI("<span>"+[30,90,365][D%3]+C+": <sup>$</sup><big><b>"+Z[D][0]+"</b></big>"+"</span>");
this.Ks[D].m.setAttribute("style",this.a6s)}};ew.pG.prototype.a3U=function(u){var m=new eY("showpage",!0);
m.data={NR:1};this.c(m)};ew.pG.prototype.ad6=function(u){var m=new eY("showpage",!0);m.data={NR:2};this.c(m)};
ew.pG.prototype._=function(){this.DX.YI(iP.DY()?jg.get([0,11]):jg.get([0,10]));this.ZN._();this.Wr._();
this.dM._()};ew.pG.prototype.a32=function(u){var m=new eY(r.E.z,!0);m.data={d:r.J.VR,link:"https://www.photopea.com/api/accounts#"+(u.target==this.aqx?"teams":"distributors")};
this.c(m)};ew.pG.prototype.aoQ=function(u){var m=u.currentTarget==this.zY;this.zY.f(m);this.sS.f(!m)};
ew.pG.prototype.a5a=function(u){var m=this.zY.Y(),C=this.sh.Y().trim().toLowerCase(),Z=this.bw.value.trim().toLowerCase();
if(C.length>60){alert("Too long email address");return}if(Z.length>600){alert("Too many team members");
return}Z=Z.split(",").join(" ").trim();Z=Z.replace(/\s+/g," ");if(Z=="")Z=[];else Z=Z.split(" ");var q=iP.uq();
if(q==null)q={};if(q.acc==null)q.acc={};q.acc.team={jin:m,ldr:C,mmb:Z};iP.b3(q,this.qC.bind(this));alert("Saved!");
this.B6()};ew.pG.prototype.aqE=function(u){var m=this.kR.Y().trim();if(!iP.DY()){alert("You have to log in first.");
return}if(iP.T_().distrib=="0"){alert("Order a distributor account first.");return}var C=iP.uq();if(C==null)C={};
if(C.acc==null)C.acc={};if(m=="")delete C.acc.dname;else C.acc.dname=m;iP.b3(C,this.qC.bind(this));alert("Saved!");
this.B6()};ew.pG.prototype.ahq=function(u){var m=iP.T_(),D=this.fM,C=iP.uq();C.acc.bto=u;iP.b3(C,function(){});
var Z=ew.a9F(u.split("\n"),m.pmnts[D]);h9.save(Z,"photopea_invoice.pdf")};ew.pG.prototype.a22=function(u){var m=iP.T_(),C=iP.uq(),Z=C.acc.bto;
if(Z==null)Z=m.name+"\n"+m.email;var D=-1,q=u.target.m.parentNode;while((q=q.previousSibling)!=null)D++;
this.fM=D;var J=new eY(r.E.z,!0);J.data={d:r.J.zH,E$:"billto",qf:Z,LQ:this.ahq.bind(this)};this.c(J)};
ew.pG.prototype.B6=function(){if(iP.DY()){var u=iP.T_(),m=u.pmnts;if(u==null)return;this.S2.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+u.name+"</span> "+u.email+" <br/>";
f.Da(this.LB);if(m){var C="<h2>Payments</h2>";for(var D=0;D<m.length;D++){var Z=m[D],q=new Date(Z[0]*1e3);
C+="<div style=\"font-size:1.2em\">"+q.getDate()+". "+(q.getMonth()+1)+". "+q.getFullYear()+" - "+ew.a3P(Z)+"</div>"}this.LB.innerHTML=C;
for(var D=0;D<m.length;D++){var J=new iG("Get Invoice",!1,null,!0);J.m.setAttribute("style","float:right");
J.l("click",this.a22,this);this.LB.children[D+1].appendChild(J.m)}}}else{}var A=iP.DY()&&iP.Bi();this.v6.m.style.display=A?"block":"none";
if(A){var n=parseInt(u[f.$L("_^NSLUJ")])-Date.now()*(1/1e3),N=parseInt(u.ptype),e;if(N==-1)e="member of a team";
else if(N==1)e="Single user";else e="Team of "+N;this.v6.YI("Premium active for "+Math.round(n/(60*60*24))+" more days! ("+e+")")}var Q=iP.DY()&&u.distrib*1e3>Date.now();
this.lm.m.style.display=Q?"block":"none";if(Q){var n=parseInt(u.distrib)-Date.now()/1e3,N=parseInt(u.ptype);
this.lm.YI("Distributor active for "+Math.round(n/(60*60*24))+" more days! ("+N+" visitos)")}var p=iP.uq();
if(p&&p.acc&&p.acc.team){var B=p.acc.team;this.zY.f(B.jin);this.sS.f(!B.jin);this.sh.f(B.ldr);this.bw.value=B.mmb.join(", ")}else{this.zY.f(!0);
this.sS.f(!1);this.sh.f("");this.bw.value=""}if(p&&p.acc&&p.acc.dname)this.kR.f(p.acc.dname);else this.kR.f("")};
ew.pG.prototype.amA=function(u,m){var C=f.L("table");if(!1){C.innerHTML="\t\t\t\t\t<table>\t\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> <th>365 days</th> </tr>\t\t\t\t\t</table>\t\t\t\t";
for(var D=0;D<m.length;D+=u+1){var Z=f.L("tr"),q;C.appendChild(Z);q=f.L("td","left");Z.appendChild(q);
q.innerHTML=m[D]+":";for(var J=0;J<u;J++){q=f.L("td");Z.appendChild(q);q.appendChild(m[D+1+J].m)}}}else{C.innerHTML="\t\t\t\t\t<table>\t\t\t\t\t\t<tr>   <th>"+m[0]+"</th><th>"+m[4]+"</th> <th>"+m[8]+"</th> </tr>\t\t\t\t\t</table>\t\t\t\t";
for(var D=0;D<3;D++){var Z=f.L("tr"),q;C.appendChild(Z);for(var J=0;J<u;J++){q=f.L("td");q.style.width="33%";
Z.appendChild(q);q.appendChild(m[J*4+1+D].m)}}}return C};ew.pG.prototype.alm=function(u){var m=this.Ks.indexOf(u.currentTarget),Z=30,q=1;
if(!iP.DY()){alert("You must log in before buying Premium");return}if(this.af1.Y()==!1&&m<9){alert("You must accept Terms of Service");
return}var C=iP.DY()&&iP.Bi();if(m!=-1){var J=this.alY[m];Z=J[1];q=J[2]}if(C&&q<1e3){alert("You already have premium.");
return}if(m==-1){var A=prompt("Please enter your key");if(A!=null){iP.a9k(A,this.qC.bind(this));this.Jn()}return}if(Z==30&&q==1){var n=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!n)return}iP.order(Z,q,this.qC.bind(this));this.Jn()};ew.pG.prototype.qC=function(u){if(iP.DY()&&iP.T_().msg)alert(iP.T_().msg);
this.B6();this.Jn()};ew.pG.prototype.eq=function(u){if(iP.DY()){iP.m1();this.Jn();this.B6(null,null,null)}else iP.eq(this.ahn.bind(this))};
ew.pG.prototype.ahn=function(){var u=new eY(r.E.z,!0);u.data={d:r.J.a8n};this.c(u)};ew.pG.prototype.Jn=function(){var u=new eY(r.E.z,!0);
u.data={d:r.J.aaA};this.c(u)};ew.pw=function(u){bK.call(this);this.m=f.L("div");var m=this.m,C=this.agn=new iG([0,13,2],!1,null,!0),Z;
C.l("click",this.au6,this);m.appendChild(C.m);if(u.startsWith("::")){Z=f.L("iframe");Z.setAttribute("style","width:100%;height:1700px; background-color:white;");
Z.setAttribute("src",u.slice(2))}else{Z=f.L("div");Z.innerHTML=u}m.appendChild(Z)};ew.pw.prototype=new bK;
ew.pw.prototype.au6=function(u){var m=new eY("showpage",!0);m.data={NR:0};this.c(m)};ew.pw.prototype._=function(){this.agn._()};
ew.a1C="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
ew.a3P=function(u){return"Photopea "+(u[1]<1e3?"Premium":"Distributor")+" ("+u[1]+" days, "+u[2]+" user"+(u[2]==1?"":"s")+")"};
ew.a9F=function(u,m){u=["Bill To:"].concat(u);var C=new ToPDF,Z=595,q=842,J=40,A=18,n=12,N=500,e=100,Q=400,z=0;
function p(U,s,S,x,P){$.font.Tf=P?"Helvetica-Bold":"Helvetica";$.ctm=[1,0,0,1,s,S];$.font.Tfs=x?x:n;
C.PutText($,U,0)}function B(U,s,S,x){for(var D=0;D<U.length;D++){p(U[D],s,S-D*x,null,D==0)}}var $=UDOC.getState();
C.StartPage(0,0,Z,q);p("INVOICE",Z-J-140,q-J-30,30,!0);B(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],J,q-J-40,A);
var R=new Date(m[0]*1e3);B(["Date: "+R.getDate()+". "+(R.getMonth()+1)+". "+R.getFullYear(),"Transaction ID: "+m[4]],Z-J-140,q-J-40-A*2,A);
var v=u.join("");for(var D=0;D<v.length;D++)z=Math.max(z,v.charCodeAt(D));if(z>256){var a=4,X=f.L("canvas"),V=X.getContext("2d"),o=0;
V.font=n*a+"px sans-serif";for(var D=0;D<u.length;D++)o=Math.max(o,V.measureText(u[D]).width);var h=Math.round(o)+20,T=u.length*a*A+20;
X.width=h;X.height=T;V.font=n*a+"px sans-serif";for(var D=0;D<u.length;D++){V.font=(D==0?"bold ":"")+n*a+"px sans-serif";
V.fillText(u[D],10,(D+1)*a*A)}document.body.appendChild(X);var l=new Uint8Array(V.getImageData(0,0,h,T).data.buffer);
$.ctm=[h/a,0,0,T/a,J-10/a,q-J-40-100-T/a];C.PutImage($,l,h,T);$.ctm=[1,0,0,1,0,0]}else B(u,J,q-J-40-100,A);
$.colr=[.8,.8,.8];$.pth={cmds:["M","L","L","L","Z"],crds:[J,N,Z-J,N,Z-J,N-A,J,N-A]};C.Fill($);$.colr=[0,0,0];
var w=[J,N,Z-J,N,J,N-A,Z-J,N-A,J,N-e,Z-J,N-e,J,N,J,N-e,Z-J,N,Z-J,N-e,Q,N,Q,N-e],W=[];for(var D=0;D<w.length;
D+=4)W.push("M","L");$.pth={cmds:W,crds:w};C.Stroke($);p("Order details",J+4,N-14);p(ew.a3P(m),J+4,N-A-14);
p("TOTAL:",J+4,N-e-14,null,!0);p("Price",Z-J-50,N-14);p(m[3]+" USD",Z-J-60,N-A-14);p(m[3]+" USD",Z-J-60,N-e-14,null,!0);
p("www.Photopea.com",J,J);p("support@photopea.com",Z-J-130,J);C.ShowPage();C.Done();return C.buffer};
function ab(){bi.call(this,[11,14],"addguides");this.Jp;this.sU={SM:{Pb:0}};this.ah=null;var u=f.L("div","form");
this.body.appendChild(u);this.st=new jC([22,4,0],null,16);this.st.l(r.E.o,this.Pp,this);this.kC=new jC([22,4,1],null,16);
this.kC.l(r.E.o,this.Pp,this);this.zb=new fq(null,j.KX.Qx);this.zb.l(r.E.o,this.Pp,this);u.appendChild(this.st.m);
u.appendChild(this.zb.m);f.Uy(u);u.appendChild(this.kC.m);this.dG=f.WB(this,u);this.l("closebtn",this.a8L,this)}ab.prototype=new bi;
ab.prototype.dK=function(u,m){return u!=null};ab.prototype.sZ=function(){return!0};ab.prototype._=function(){bi.prototype._.call(this);
this.st._();this.kC._();this.zb._();this.dG._()};ab.prototype.vZ=function(u,m){var C=u.SM.Pb;this.sU.SM.Pb=C;
this.zb.f(C)};ab.prototype.B6=function(u,m){this.Jp=u;this.ah=JSON.stringify(u.OD());this.iS()};ab.prototype.iS=function(){var u=this.Jp,m=u.lZ,C=function(Z,q,u,J,A){var n=[];
for(var D=0;D<Z.length;D++)if(Z[D][0]==q)n.push(j.KX.XJ(Z[D][1],u.JJ,J,A));n.sort(function(N,e){return N-e});
return n.join(", ")};this.st.f(C(m,0,u,this.sU,u.e));this.kC.f(C(m,1,u,this.sU,u.n))};ab.prototype.Pp=function(u){if(u&&u.currentTarget==this.zb)this.sU.SM.Pb=this.zb.Y();
else{var m=this.a3j(),C=this.Jp;C.sP(m);C.qz=!0}this.iS()};ab.prototype.a3j=function(){var u=[],m=[];
for(var C=0;C<2;C++){var Z=C==0?this.st:this.kC,q=C==0?this.Jp.e:this.Jp.n,J=Z.Y().replace(/,/g," ").replace(/  +/g," ").trim(),A=J==""?[]:J.split(" ");
for(var D=0;D<A.length;D++){u.push([C,j.KX.ajE(A[D],this.Jp.JJ,this.sU,q)]);m.push(-1)}}return[u,m]};
ab.prototype.a8L=function(u){var m=this.Jp;m.sP(JSON.parse(this.ah));m.qz=!0;this.Jp=null};ab.prototype.uz=function(u){this.Pp(u);
var m=new eY(r.E.H,!0);m.b=b.Iw;m.data={d:"gids",JX:JSON.parse(this.ah),Sw:this.Jp.OD()};this.Jp=null;
this.close();this.c(m)};function eq(u){var m=a7.names[u];if(m==null)m=b1.names[u];if(u=="aply")m=[2,12];
if(u=="fade")m=[2,11];if(u=="matc")m=[4,18];if(u=="blendOptions")m=[14,10];bi.call(this,m,"afw_"+u);
this.Bp=u;this.jO=null;this.NW=null;this.aK=new t[u];this.aK.l(r.E.o,this._g,this);this.aK.parent=this;
this.body.appendChild(this.aK.m);this.V7=new aG([24,18,5]);this.V7.f(!0);this.V7.l(r.E.o,this._g,this);
this.cq=new iG([1,12,2],!0,null,!0);this.cq.l("click",this.V5,this);this.dG=f.WB(this);if(this.jI())this.aK.sA(this.dG.m);
else{f.Ky(this.aK.m,"form");f.Ky(this.body,"flexrow");this.aK.m.setAttribute("style","width:312px");
var C=f.L("div");this.body.appendChild(C);C.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
C.appendChild(this.dG.m);C.appendChild(this.cq.m);C.appendChild(this.V7.m)}this.l("closebtn",this.rA,this)}eq.prototype=new bi;
eq.prototype.sZ=function(){return!0};eq.prototype.jI=function(){return this.aK!=null&&this.aK.CH()};
eq.prototype.Gb=function(){return this.jI()?new dz(0,0):bi.prototype.Gb()};eq.prototype.ul=function(){return this.aK.ul()};
eq.prototype.K4=function(u,m,C,Z,q){this.aK.K4(u,m,C,Z,q)};eq.prototype.TQ=function(u,m,C,Z,q){this.aK.TQ(u,m,C,Z,q)};
eq.prototype.ec=function(u,m,C,Z,q){this.aK.ec(u,m,C,Z,q)};eq.prototype.dK=function(u,m){if(this.Bp=="fade")return eq.a6D(u);
return!0};eq.prototype.V5=function(u){this.aK.f(a7.Qv(this.Bp));this._g()};eq.prototype._g=function(u){this.cc({d:"edit",yg:this.aK.Y(),e3:!this.V7.Y()})};
eq.prototype.rA=function(u){this.cc({d:"cancel"})};eq.prototype.uz=function(u){if(!this.V7.Y()){this.V7.f(!0);
this._g()}this.NW=this.aK.Y();if(this.jI())this._g();this.cc({d:"confirm"});this.close()};eq.prototype._=function(){bi.prototype._.call(this);
this.V7._();if(this.aK)this.aK._();this.dG._()};eq.prototype.vZ=function(u,m){if(this.aK)this.aK.vZ(u,m)};
eq.prototype.St=function(u,m,C,Z){if(this.jI())this.aK.St(Z);else bi.prototype.St.call(this,u,m,C,Z)};
eq.prototype.B6=function(u,m,C,Z){this.jO=m.jO;var q=u.add.lnk2?u.add.lnk2:[],J,A,n=new bl(0,0,u.e,u.n),N=u.g[u.w[0]],e=null;
J=N.buffer;A=N.rect;if(this.jI())e=u.K9(u.w[0]-1);var Q=a7.Qv(this.Bp),p=[q,u.YG,u,C];if(m.jO==null){this.aK.f(Q,J,A,n,e,p);
if(b1.names[this.Bp]){if(Z.j(hs.mD)&&this.NW)this.aK.f(this.NW);var B=b.JF.getData(u),$=j.hW(B[0]._y);
this.aK.Ll($)}}else{var R=!1,N=u.g[this.jO.i];if(N.Bv()){var z=N.Ha(u);J=z.buffer;A=z.rect;var v=N.add.SoLd.filterFX.v.filterFXList.v;
if(v[this.jO.index]){var a=v[this.jO.index].v;this.aK.f(this.Bp=="blendOptions"?a.blendOptions.v:a.Fltr.v,J,A,n,e,p);
this.aK.Ll(j.hW(J));R=!0}}if(!R){this.aK.f(Q,J,A,n,e,p);this.aK.Ll(j.hW(J))}}if(!this.jI())this._g()};
eq.prototype.cc=function(u){var m=new eY(r.E.H,!0);u.Bp=this.Bp;u.jO=this.jO;m.data=u;m.b=a7.names[this.Bp]||this.jO?b.zz:b.ks;
m.Ua=!0;this.c(m)};eq.prototype.CC=function(u,m){if(!this.aK.CH()){}else{this.body.style.padding="0";
this.aK.CC(u,m)}};eq.a6D=function(u){if(u==null)return!1;var m=u.QX();if(m==null||!(m.data instanceof Array)||m.data.length!=u.w.length)return!1;
for(var D=0;D<m.data.length;D++){var C=m.data[D];if(C.i<0&&u.YG[-1-C.i])return!0;if(C.i==null||u.g[C.i]==null||u.g[C.i].$v!=C.Jl)return!1;
if(u.w.indexOf(C.i)==-1)return!1}return!0};function ed(){bi.call(this,[11,0],"camera");this.data=null;
this.tU=new dz(1,1);this.adM=[];var u=f.L("div","form hbar");this.body.appendChild(u);this.ady=new fq(null,[]);
this.uw=new fq([21,0],[[21,2],[21,1]]);u.appendChild(this.uw.m);this.VZ=new fq(null,[]);this.VZ.l(r.E.o,this.aut,this);
u.appendChild(this.VZ.m);this.pD=new iG([11,0],!1,null,!0);this.pD.l("click",this.a8h,this);u.appendChild(this.pD.m);
this.uV=new i7("");u.appendChild(this.uV.m);this.stream=null;this.vb=f.L("video","");this.vb.setAttribute("autoplay","true");
this.body.appendChild(this.vb);this.a8D=this.anQ.bind(this);this.a1g=this.aoy.bind(this);this.a1I=this.alx.bind(this);
this.l("closebtn",this.agz,this)}ed.prototype=new bi;ed.prototype._=function(){bi.prototype._.call(this);
this.uw._();this.pD._();this.CC(this.du,this.Oh)};ed.prototype.K9=function(){var u=this.vb.videoWidth,m=this.vb.videoHeight,C=f.L("canvas","");
C.width=u;C.height=m;var Z=C.getContext("2d");Z.drawImage(this.vb,0,0,u,m);var q=Z.getImageData(0,0,u,m);
return{WL:new bl(0,0,u,m),data:q.data.buffer}};ed.prototype.a8h=function(u){if(this.uw.Y()==0)this.a8z();
else this.a63()};ed.prototype.a63=function(){var u=this.K9(),m={buffer:new Uint8Array(u.data),rect:u.WL},C=new eY(r.E.H,!0);
C.Ua=!0;C.b=b.IZ;C.data={d:F.Bt,iy:m};this.c(C);alert(jg.get([21,4]))};ed.prototype.a8z=function(){var u=this.K9(),m=d4._6("camera",[u]),C=new eY(r.E.z,!0);
C.data={d:r.J.n1,Uk:m};this.c(C);alert(jg.get([21,5]))};ed.prototype.B6=function(u,m,C){navigator.mediaDevices.enumerateDevices().then(this.agh.bind(this))};
ed.prototype.agh=function(u){var m=this.adM=[],C=[];for(var D=0;D<u.length;D++)if(u[D].kind=="videoinput"){m.push(u[D]);
C.push("Camera "+m.length)}this.VZ.D5(C);this.VZ.f(0);this.aut()};ed.prototype.aut=function(u){this.agz();
var m={video:{deviceId:this.adM[this.VZ.Y()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(m).then(this.a8D).catch(this.a1g);
else navigator.webkitGetUserMedia(m,this.a8D,this.a1g)};ed.prototype.anQ=function(u){this.stream=u;this.vb.srcObject=u;
this.vb.addEventListener("loadedmetadata",this.a1I,!1)};ed.prototype.alx=function(u){this.vb.play();
this.CC(this.du,this.Oh)};ed.prototype.Gb=function(u,m){return new dz(0,0)};ed.prototype.CC=function(u,m){var C=this.vb.videoWidth,Z=this.vb.videoHeight;
this.uV.f(C+" x "+Z+" px");this.uV.m.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.tU.qX(C,Z);this.du=u;this.Oh=m;var q=u-28,J=m-28-30,A=this.tU.x/this.tU.y;if(q/J>A)q=J*A;else J=q/A;
this.vb.setAttribute("style","display: block; width: "+Math.round(q)+"px; height:"+Math.round(J)+"px;")};
ed.prototype.aoy=function(u){console.log("error",u);alert(jg.get([21,6]));this.close()};ed.prototype.agz=function(u){if(this.stream!=null){var m=this.stream.getTracks();
for(var D=0;D<m.length;D++)m[D].stop();this.stream=null}};function gg(){bi.call(this,[7,8],"crange");
this.Jp=null;this.ro={nI:73,w7:4.45,S:4};this.mt={nI:73,w7:4.45,S:4};this.body.style.width="20em";this.kq=new fq([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.kq.l(r.E.o,this.a5I,this);this.body.appendChild(this.kq.m);this.zR=f.L("div","form");this.body.appendChild(this.zR);
var u=this.akb=2,m=this.tJ=[new hA([12,92],0,200),new ja([12,36],[[18,0],"\uFF0B","\u2014"]),new hA([12,92],0,100,"%"),new fc("Min",0,255),new fc("Max",0,255)];
m[0].f(40);m[u].f(40);for(var D=0;D<m.length;D++){m[D].l(r.E.o,this.L9,this);m[D].parent=this}this.O=f.L("canvas");
this.body.appendChild(this.O);this.dG=f.WB(this,this.body)}gg.prototype=new bi;gg.prototype.dK=function(u,m){return u!=null};
gg.prototype.ul=function(){return!0};gg.prototype.sZ=function(){return!0};gg.prototype.a5I=function(u){var m=this.kq.Y(),C=this.tJ,Z=this.zR,q=0,J=C.length,A=this.akb;
if(m==0)J=A;else{q=A;C[q+1].f([0,100,190][m-1]);C[q+1].Oi(m!=1);C[q+2].f([60,150,255][m-1]);C[q+2].Oi(m!=3)}f.Da(Z);
for(var D=q;D<J;D++){Z.appendChild(C[D].m)}this.L9()};gg.prototype._=function(){bi.prototype._.call(this);
this.dG._();this.kq._();for(var D=0;D<this.tJ.length;D++)this.tJ[D]._()};gg.prototype.K4=function(u,m,C,Z,q){var J=u.t.Iv(q.x,q.y);
this.a0v(J.x,J.y)};gg.prototype.a0v=function(u,m){var C=Math.min,Z=Math.max,q=this.Jp,J=Z(0,C(q.e-1,Math.floor(u))),A=Z(0,C(q.n-1,Math.floor(m))),n=q.K9(),N=(A*q.e+J)*4,e=n[N],Q=n[N+1],p=n[N+2],B=j.OI(e,Q,p),$=this.tJ[1].Y(),R=this.ro,z=this.mt;
if($==0){this.ro=JSON.parse(JSON.stringify(B));this.mt=B}else if($==1){R.nI=C(R.nI,B.nI);R.w7=C(R.w7,B.w7);
R.S=C(R.S,B.S);z.nI=Z(z.nI,B.nI);z.w7=Z(z.w7,B.w7);z.S=Z(z.S,B.S)}else if($==2){var v=(R.nI+z.nI)/2,a=(R.w7+z.w7)/2,X=(R.S+z.S)/2;
if(B.nI<v)R.nI=Z(R.nI,B.nI+10);else z.nI=C(z.nI,B.nI-10);if(B.w7<a)R.w7=Z(R.w7,B.w7+1);else z.w7=C(z.w7,B.w7-1);
if(B.S<X)R.S=Z(R.S,B.S+1);else z.S=C(z.S,B.S-1)}this.L9()};gg.prototype.uz=function(u){var m=this.kq.Y(),C=this.tJ,Z={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(m==0){var q=this.ro,J=this.mt;Z.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:q.nI},A:{t:"doub",v:q.w7},B:{t:"doub",v:q.S}}};
Z.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:J.nI},A:{t:"doub",v:J.w7},B:{t:"doub",v:J.S}}};Z.Fzns={t:"long",v:C[0].Y()}}else{m--;
var A=["shadows","midtones","highlights"][m];Z.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][m]}};if(0<m)Z[A+"LowerLimit"]={t:"long",v:C[3].Y()};
if(m<2)Z[A+"UpperLimit"]={t:"long",v:C[4].Y()};Z[A+"Fuzziness"]={t:"long",v:C[2].Y()}}this.close();var n=new eY(r.E.od,!0);
n.data={ZO:"colorRange",yS:Z};this.c(n)};gg.prototype.B6=function(u,m){this.Jp=u;this.a0v(0,0);this.a5I()};
gg.prototype.L9=function(){var u=this.Jp,m=this.kq.Y(),C=this.ro,Z=this.mt,q=this.tJ,J=q[0].Y()/200,A=!1;
if(m>0){C=q[3].Y();Z=q[4].Y();if(C>=Z)C=Z-1;A=!0;J=q[2].Y()/100}var n=b.No.jl(u,C,Z,J,A),N=n.rect,e=n.channel,Q=this.O,p=Q.getContext("2d"),B=Math.floor(230*f.F()),$=Math.floor(B*(N.n/N.e));
Q.width=B;Q.height=$;f.iz(Q,B,$);var R=j.U(e.length*4);j.gs(R,4294967295);for(var D=0;D<3;D++)j.wC(e,R,D);
var z=b.Q.Ta([R,N],new ix(B/N.e,0,0,$/N.n,0,0)),v=z.rect,a=new ImageData(new Uint8ClampedArray(z.buffer.buffer),v.e,v.n);
p.putImageData(a,0,0)};function js(){bi.call(this,[12,76,1],"createshape");this.b$=null;var u=f.L("div","form");
u.setAttribute("style","width:20em");this.body.appendChild(u);this.GV=new fc([12,41],0,0,null,0,!1,!0);
u.appendChild(this.GV.m);f.Uy(u);this.st=new fc([12,42],0,0,null,0,!1,!0);u.appendChild(this.st.m);f.Uy(u);
this.eR=new aG([19,5,3]);u.appendChild(this.eR.m);this.GV.f(100);this.st.f(100);this.dG=f.WB(this,u)}js.prototype=new bi;
js.prototype.uz=function(u){this.b$.atH(this.b$.alk,this.GV.Y(),this.st.Y(),this.eR.Y());this.close()};
js.prototype._=function(){if(this.b$)this.OK=jg.get([5,3])+": "+jg.get(this.b$.a0_);bi.prototype._.call(this);
this.dG._();this.GV._();this.st._();this.eR._()};js.prototype.B6=function(u,m){this.b$=m;this._();this.GV.ti()};
function b3(){bi.call(this,[11,1],"colorpicker");this.yn=null;this.HX=null;this._a=null;this.DG=!1;this.vC=!1;
var u=f.L("div","flexrow"),J,A;this.body.appendChild(u);this.kF=new hr(256);this.kF.l(r.E.o,this.Gm,this);
u.appendChild(this.kF.m);var m=f.L("div","form");m.setAttribute("style","width:14.5em; margin-left:1em;");
u.appendChild(m);this.at2=f.L("div","full");m.appendChild(this.at2);this.ahl=f.L("div","full");m.appendChild(this.ahl);
var C=f.L("div","flexrow");m.appendChild(C);var Z=f.L("div"),q=f.L("div");C.appendChild(Z);C.appendChild(q);
J=["R","G","B"];A=Z;this.b9=[];for(var D=0;D<3;D++){var n=new fc(J[D]+":",0,255,null,0,!1,!0);this.b9.push(n);
n.l(r.E.o,this.atI,this);A.appendChild(n.m)}J=["H","S","B"];A=q;this.mP=[];for(var D=0;D<3;D++){var N=0,e=360,Q="\xB0";
if(D!=0){e=100;Q="%"}var n=new fc(J[D]+":",N,e,Q,0,!1,!0);this.mP.push(n);n.l(r.E.o,this.a2b,this);A.appendChild(n.m)}this.st=new jC("Hex",null,6);
this.st.l(r.E.o,this.Fs,this);m.appendChild(this.st.m);this.FL=f.L("input","fitem");this.FL.setAttribute("type","color");
this.FL.setAttribute("style","width:50px");this.FL.addEventListener("change",this.Fs.bind(this),!1);
m.appendChild(this.FL);this.nL=new bU(9);this.nL.l(r.E.o,this.Fs,this);m.appendChild(this.nL.m);this.dG=f.WB(this,m);
this.l("closebtn",this.rA,this);this.DV=!1}b3.prototype=new bi;b3.prototype.ul=function(){return!0};
b3.prototype.Gb=function(u,m){return new dz(Math.max(0,Math.min(150,(u-484)/2)),Math.max(0,Math.min(150,(m-316)/2)))};
b3.prototype.CC=function(u,m){this.kF.CC(Math.min(256,u-226),m)};b3.prototype._=function(u,m){bi.prototype._.call(this);
this.dG._()};b3.prototype.Gm=function(u){this.HX=this.kF.Y();this.update()};b3.prototype.K4=function(u,m,C,Z,q){this.DV=!0;
this.aeb(u,q)};b3.prototype.TQ=function(u,m,C,Z,q){if(!this.DV)return;this.aeb(u,q)};b3.prototype.ec=function(u,m,C,Z,q){this.DV=!1};
b3.prototype.aeb=function(u,m){var C=b.tS.t6(u,m,1),Z=C&255,q=C>>8&255,J=C>>16&255;this.HX={p:J/255,T:q/255,S:Z/255};
this.update()};b3.prototype.atI=function(u){var m=this.b9,C=this.E4(parseInt(m[0].Y())),Z=this.E4(parseInt(m[1].Y())),q=this.E4(parseInt(m[2].Y()));
this.HX={p:C/255,T:Z/255,S:q/255};this.update()};b3.prototype.a2b=function(u){var m=this.mP,C=this.fi(parseInt(m[0].Y())/360),Z=this.fi(parseInt(m[1].Y())/100),q=this.fi(parseInt(m[2].Y())/100);
this.HX=j.$t(C,Z,q);this.update()};b3.prototype.Fs=function(u){var m;if(u.currentTarget==this.nL)m=this.nL.Y();
else{m=u.currentTarget==this.st?this.st.Y():this.FL.value;if(m.charAt(0)=="#")m=m.slice(1);if(m.length==3)m=m[0]+m[0]+m[1]+m[1]+m[2]+m[2];
m=j.C2(m)}this.HX={p:(m>>16&255)/255,T:(m>>8&255)/255,S:(m&255)/255};this.update()};b3.prototype.mM=function(u){var m=u.p,C=u.T,Z=u.S;
return Math.round(m*255)<<16|Math.round(C*255)<<8|Math.round(Z*255)};b3.prototype.uz=function(u){this.apN();
var m=this.mM(this.HX);this._a(m);this.close();this.vC=!1;this.HX=null};b3.prototype.rA=function(u){this.apN();
if(this.DG)this._a(this.mM(this.yn));this.vC=!1;this.HX=null};b3.prototype.apN=function(u){var m=new eY(r.E.z,!0);
m.data={d:r.J.aej};this.c(m)};b3.prototype.vZ=function(u,m){if(m!=jO.e0)return;var C=u.jM;this.nL.f(C);
if(this.HX!=null){this.HX={p:(C>>16&255)/255,T:(C>>8&255)/255,S:(C>>0&255)/255};this.update()}};b3.prototype.B6=function(u,m){var C=m.fB,Z={p:(C>>16&255)/255,T:(C>>8&255)/255,S:(C>>0&255)/255};
if(this.HX==null){var q=new eY(r.E.z,!0);q.data={d:r.J.q$,U7:"crosshair",push:!0};this.c(q);this.DV=!1;
this._a=m.ry;this.DG=!1;this.vC=m.yK;this.yn=JSON.parse(JSON.stringify(Z));this.ahl.setAttribute("style","height:3em;background-color:#"+j.U0(C)+";")}this.HX=Z;
this.update()};b3.prototype.update=function(){var u=this.HX,m=this.mM(u),C=this.b9;C[0].f(Math.round(u.p*255));
C[1].f(Math.round(u.T*255));C[2].f(Math.round(u.S*255));this.st.f(j.U0(m));this.FL.value="#"+j.U0(m);
this.at2.setAttribute("style","height:3em;background-color:#"+j.U0(m)+";");var Z=j.Kv(u.p,u.T,u.S);C=this.mP;
C[0].f(Math.round(Z.Oh*360));C[1].f(Math.round(Z.jL*100));C[2].f(Math.round(Z.yg*100));this.kF.f(u);
if(this.vC){this._a(this.mM(this.HX));this.DG=!0}};b3.prototype.E4=function(u){return Math.max(0,Math.min(255,u))};
b3.prototype.fi=function(u){return Math.max(0,Math.min(1,u))};function aD(){bi.call(this,[11,2],"contoureditor");
this.ajW=null;this.J_=null;this.response=null;this.tD=f.L("div","cell");this.body.appendChild(this.tD);
this.sV=f.L("div","cell padded");this.body.appendChild(this.sV);var u=f.L("div","bordered padded vmargin");
this.tD.appendChild(u);this.aK=new gt(null,null,!0);this.aK.l(r.E.o,this.E8,this);u.appendChild(this.aK.m);
this.dG=f.WB(this,this.sV);this.l("closebtn",this.Qn,this)}aD.prototype=new bi;aD.prototype.uz=function(){this.close()};
aD.prototype._=function(){bi.prototype._.call(this);this.dG._();this.aK._()};aD.prototype.E8=function(u){this.J_.Crv.v=this.aK.Y();
this.response(this.J_)};aD.prototype.Qn=function(u){this.response(this.ajW)};aD.prototype.B6=function(u,m){this.ajW=JSON.parse(JSON.stringify(m.pQ));
this.J_=m.pQ;this.response=m.response;this.aK.f(this.J_.Crv.v)};function cO(){bi.call(this,[11,3],"csize");
this.XM=0;this.zJ=f.L("div","form");this.zJ.setAttribute("style","width:22em");this.body.appendChild(this.zJ);
this.pF=new aP(!0,!0,!0,!0,!0);this.pF.aqt(!1);this.zJ.appendChild(this.pF.m);this.XQ=new ja("Align with",[[8,7],[12,6]]);
this.XQ.l(r.E.o,this.apk,this);this.Jz=new iR([12,23,2],41);this.zJ.appendChild(this.Jz.m);this.Jz.f(4);
this.Sf=new iF(!1);this.Sf.ar6(new dz(0,0));this.dG=f.WB(this,this.body)}cO.prototype=new bi;cO.prototype.dK=function(u,m){return u!=null};
cO.prototype.sZ=function(){return!0};cO.prototype.$d=function(u){return[hs.v0,hs.gz,hs.sq,hs.bH].indexOf(u)!=-1};
cO.prototype.St=function(u,m,C,Z){this.Jz.auh(Z.gq())};cO.prototype.apk=function(){var u=[this.Jz.m,this.Sf.m];
this.zJ.removeChild(u[this.XM]);this.XM=this.XQ.Y();this.zJ.appendChild(u[this.XM])};cO.prototype._=function(){bi.prototype._.call(this);
this.pF._();this.XQ._();this.Jz._();this.Sf._();this.dG._()};cO.prototype.uz=function(u){var m=this.pF.Y(),C=m.x,Z=m.y,q=new eY(r.E.od,!0);
q.data=b.pB.jH(C,Z,this.Jz.Y());this.close();this.c(q)};cO.prototype.B6=function(u,m){this.pF.f(new dz(u.e,u.n),u.JJ);
this.pF.ti()};function gf(){bi.call(this,[11,4],"duplinto");this.Zq=null;this.IB=null;this.gx=null;var u=f.L("div","form");
u.setAttribute("style","max-width:26em");this.body.appendChild(u);this.va=new fq([12,43],["abc","def"]);
this.va.l(r.E.o,this.o_,this);u.appendChild(this.va.m);f.Uy(u);this.Hi=new fq("Artboard",["abc","def"]);
this.Hi.l(r.E.o,this.o_,this);u.appendChild(this.Hi.m);f.Uy(u);this.Zr=new jC([12,48],null,14);u.appendChild(this.Zr.m);
this.dG=f.WB(this,u)}gf.prototype=new bi;gf.prototype.sZ=function(){return!0};gf.prototype._=function(){bi.prototype._.call(this);
this.dG._();this.va._();this.Zr._()};gf.prototype.o_=function(u){if(u&&u.target==this.Hi)return;var m=this.va.Y(),C=this.IB[m],Z=this.Zq,q=C!=null&&C.add.artd!=null;
for(var D=0;D<Z.w.length;D++)if(Z.g[Z.w[D]].add.artb)q=!1;this.Zr.Oi(m==this.IB.length);this.Hi.Oi(q);
if(q){var J=C.root.children,A=[],n=this.gx=[];for(var D=0;D<J.length;D++){var N=J[D].i;if(N.add.artb)A.push(N.getName());
n.push(J[D].index)}this.Hi.D5(A);this.Hi.f(0)}else this.gx=null};gf.prototype.B6=function(u,m,C){this.Zq=u;
this.IB=C;this.Zr.f(u.w.length==0?"Layer":u.g[u.w[0]].getName());var Z=[];for(var D=0;D<C.length;D++){var q=C[D].name;
Z.push(q.length<30?q:q.slice(0,27)+"...")}Z.push([11,7]);this.va.D5(Z);this.va.f(C.indexOf(u));this.o_(null)};
gf.prototype.uz=function(u){var m=this.va.Y();if(m==this.IB.length){var C=new gj(this.Zr.Y()+".psd"),Z=this.Zq.e,q=this.Zq.n,J=this.Zq.sx();
if(J!=-1){var A=this.Zq.g[J].M_();Z=A.e;q=A.n}C.e=Z;C.n=q;C.buffer=j.U(C.e*C.n*4);var n=C.Rp();n.RS("Background");
C.os([n]);var N=new eY(r.E.z,!0);N.Ua=!0;N.data={d:r.J.n1,Uk:C};this.c(N)}var e=this.Zq.uH(null,this.Zq!=this.IB[m]),N=new eY(r.E.H,!0);
N.data={d:F.Ix,g:e,EY:this.Zq,Y0:this.IB[m]};if(this.gx)N.data.a7=this.gx[this.Hi.Y()];N.b=b.IZ;N.Ua=!0;
this.c(N);this.close()};function gF(){bi.call(this,[1,9],"eassets");this.sU=null;this.nJ=null;var u=f.L("div","form");
u.setAttribute("style","width:32em");this.body.appendChild(u);this.$O=f.L("span");u.appendChild(this.$O);
f.Uy(u);this.tx=[new aG("Only layers / folders, whose name starts with \"-e-\""),new aG("Remove parts outside the canvas"),new aG("Trim transparent parts")];
for(var D=0;D<3;D++){var m=this.tx[D];m.f(!0);m.l(r.E.o,this.iS,this);u.appendChild(m.m);f.Uy(u)}this.xY=new jI([12,14,0],["1x","2x","3x","4x"]);
this.xY.f([!0,!1,!1,!1]);u.appendChild(this.xY.m);f.nc(u);this.XI=["PNG","JPG","SVG"];this.la=new fq([12,50],this.XI);
this.la.l(r.E.o,this.a5D,this);u.appendChild(this.la.m);this.ut=new e8;u.appendChild(this.ut.m);this.dG=new iG([1,9],!0,null,!0);
this.dG.l("click",this.uz,this);u.appendChild(this.dG.m);this.l("closebtn",this.x6,this)}gF.prototype=new bi;
gF.prototype.a5D=function(u){this.ut.alV(this.XI[this.la.Y()])};gF.prototype.x6=function(u){this.nJ=null};
gF.prototype._=function(){bi.prototype._.call(this);this.la._();this.xY._();this.dG._();this.ut._()};
gF.prototype.B6=function(u,m,C){this.nJ=u;this.iS()};gF.prototype.iS=function(u){var m=this.aic(),C="- - - "+m.length+" exportable layers";
this.$O.textContent=C;this.a5D(null)};gF.prototype.aic=function(){var u=this.tx[0].Y(),m=[],C=this.nJ;
for(var D=0;D<C.g.length;D++){var Z=C.g[D],q=Z.getName();if(!u&&!Z.ld()&&!Z.rect.qR()||q.startsWith("-e"))m.push(D)}return m};
gF.prototype.vZ=function(u,m){this.sU=u};gF.prototype.uz=function(u){var m=this.nJ,C=[this.XI[this.la.Y()]],Z=[this.ut.Y()],q=this.xY.Y(),J={},A={},n=this.aic();
if(n.length==0){alert("No layers to export.");return}var N=[this.tx[1].Y(),this.tx[2].Y()];for(var D=0;
D<n.length;D++){var e=n[D],Q=m.g[e],p=Q.getName();if(A[p]!=null){A[p]++;p+=" "+A[p]}else A[p]=1;var B=Q.cG();
Q.$S(!0);for(var $=0;$<q.length;$++){if(!q[$])continue;var R=$+1,z=b.eG.TU(m,C,R,this.sU,e,Z,N);for(var v=0;
v<C.length;v++){var a=C[v],X=p.slice(p.startsWith("-e-")?3:0)+(R==1?"":"-"+R+"x")+"."+a.toLowerCase();
if(z[v])J[X]=new Uint8Array(z[v])}}Q.$S(B)}var V=UZIP.encode(J),o=new eY(r.E.z,!0);o.data={d:r.J.h9,data:V,name:"assets.zip"};
this.c(o)};function cL(){bi.call(this,"Export Color Lookup Tables","exlut");this.sU=null;this.nJ=null;
var u=f.L("div","form");u.setAttribute("style","width:20em");this.body.appendChild(u);this.tx=[new fc("Grid Points",1,256),new ja([12,50],[".CUBE"])];
var m=[16,0];for(var D=0;D<this.tx.length;D++){var C=this.tx[D];C.f(m[D]);C.parent=this;C.l(r.E.o,this.iS,this);
u.appendChild(C.m);f.Uy(u)}this.dG=f.WB(this,u);this.l("closebtn",this.x6,this)}cL.prototype=new bi;
cL.prototype.dK=function(u,m){if(Math.min(u.e,u.n)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(u.g.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};cL.prototype.x6=function(u){this.nJ=null};cL.prototype.vZ=function(u,m){this.sU=u};
cL.prototype.B6=function(u,m,C){this.nJ=u};cL.prototype.uz=function(){var u=this.nJ,m=this.tx[0].Y(),C=[],Z=new bl(0,0,u.e,u.n),q=j.U(m*m*4),J=q.slice(0),A=new bl(u.e-m>>>1,u.n-m>>>1,m,m),n=u.g[0],N=n.buffer,e=n.rect;
n.rect=A;n.buffer=q;for(var Q=0;Q<m;Q++){this.a3g(m,Q,q);n.G(A);u.G(A);var p=u.K9();j.zO(p,Z,J,A);for(var B=0;
B<m;B++)for(var $=0;$<m;$++){var R=B*m+$<<2;C.push(J[R]/255,J[R+1]/255,J[R+2]/255)}}var z=ir.amt(C,m,u.name);
h9.save(z,u.name.split(".")[0]+".CUBE");n.buffer=N;n.rect=e;n.G();u.G()};cL.prototype.a3g=function(u,m,C){var Z=255/(u-1),q=Math.round(m*Z);
for(var J=0;J<u;J++)for(var A=0;A<u;A++){var n=J*u+A<<2;C[n]=Math.round(A*Z);C[n+1]=Math.round(J*Z);
C[n+2]=q;C[n+3]=255}};cL.prototype._=function(){bi.prototype._.call(this);for(var D=0;D<this.tx.length;
D++)this.tx[D]._();this.dG._()};function j2(){bi.call(this,[1,14],"finfo");this.gc=null;this.vI=null;
this.cX=null;this.zJ=f.L("div","form scrollable label12");this.zJ.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.zJ);var u=f.L("div","form");this.body.appendChild(u);this.b7=new fq(null,["Hello"]);
u.appendChild(this.b7.m);this.acm=new iG("Add Parameter",!1,null,!0);u.appendChild(this.acm.m);this.acm.l("click",this.iY,this);
this.Pd=new iG("=== S A V E ===",!1,null,!0);u.appendChild(this.Pd.m);this.Pd.l("click",this.wb,this);
this.ap2=""}j2.prototype=new bi;j2.prototype.Gb=function(u,m){return u<450||m<450?new dz(0,0):new dz(150,100)};
j2.prototype.iY=function(u){if(this.cX.length==0)return;var m=this.cX[this.b7.Y()],C=this._T();C[m]=bG.HB[m][0];
this.rT(C);this.vI[m].m.scrollIntoView();this.vI[m].ti()};j2.prototype.vP=function(u){var m=this._T();
delete m[u.currentTarget.a3k];this.rT(m)};j2.prototype.wb=function(u){var m=this._T(),C=this.gc,Z=!0;
for(var q in C)if(JSON.stringify(C[q])!=JSON.stringify(m[q]))Z=!1;for(var q in m)if(JSON.stringify(C[q])!=JSON.stringify(m[q]))Z=!1;
if(Z)return;var J=new eY(r.E.H,!0);J.b=b.IZ;J.data={d:F.Is,zT:m};this.c(J);this.gc=m;this.rT(m)};j2.amQ=function(u){function m(q){var J=q.toLowerCase();
return q==J}var C=u.split(":").pop();for(var Z=1;Z<C.length-1;Z++){if(C[Z]==C[Z].toUpperCase()&&(m(C[Z+1])||m(C[Z-1]))){C=C.slice(0,Z)+" "+C.slice(Z);
Z++}}return C};j2.prototype.B6=function(u,m){this.gc=u.wn;this.rT(u.wn)};j2.prototype.rT=function(u){var m=this.zJ,q=0;
f.Da(m);var C=this.vI={},Z=["tiff","exif","exif:GPS"],J=this.cX=[],A=[];for(var n in bG.HB){var N=j2.amQ(n),e=0,Q=15,p=null;
if(u[n]==null){if(bG.HB[n].length!=1||n=="photoshop:Credit"||n=="photoshop:Source"){J.push(n);A.push(N)}continue}for(var D=0;
D<Z.length;D++)if(n.startsWith(Z[D]))e=D;if(e!=q){f.nc(m);q=e}if(n=="tiff:ImageDescription"||n=="dc:Keywords"){Q=18.5;
p=3}var B=new jC(N,null,Q,p);C[n]=B;var $=u[n];if($ instanceof Array)$=$[1]==0?"---":$[0]+"/"+$[1];var R=new iG("\u2716",null,jg.get([5,4]));
m.appendChild(R.m);R.l("click",this.vP,this);R.a3k=n;B.f($);m.appendChild(B.m);f.Uy(m);if(n=="exif:GPSLongitude"&&u["exif:GPSLatitude"]){this.ap2=j2.alK(u["exif:GPSLatitude"])+","+j2.alK(u["exif:GPSLongitude"]);
var z=new iG("Show on map",!1,null,!0);m.appendChild(z.m);f.Uy(m);z.l("click",this.a6J,this)}}this.b7.D5(A);
this.b7.f(0)};j2.prototype._T=function(){var u=this.vI,m=bG.HB,C={};for(var Z in m){var q=m[Z][0],J=typeof q;
if(q==null||u[Z]==null)continue;var A=u[Z].Y(),n="The value of \""+j2.amQ(Z)+"\" must ";if(J=="number"){A=parseFloat(A);
if(isNaN(A)){alert(n+"be a number.");A=q}}else if(q instanceof Array&&q.length==2){if(A.indexOf("/")==-1){alert(n+"be a fraction.");
A=q.slice(0)}else{A=A.split("/").map(parseFloat);if(isNaN(A[0])||isNaN(A[1])){A=q.slice(0)}}}C[Z]=A}return C};
j2.alK=function(u){var m=u.length,C=u.slice(0,m-1).split(",").map(parseFloat),Z=u.slice(m-1),q=C[0]+C[1]/60+C[2]/3600;
if(Z!="N"&&Z!="E")q=-q;return q};j2.prototype.a6J=function(u){window.open("https://maps.google.com?q="+this.ap2,"Map")};
function gv(){bi.call(this,[11,5],"gradienteditor");this.yn=null;this.HX=null;this.Fa=null;this._a=null;
this.DG=!1;this.vC=!1;this.Lp=null;this.aH=null;this.br=-1;this.yi=-1;this.nY=0;this.k0=this.Mw.bind(this);
this.RC=this.Zn.bind(this);this.O=f.L("canvas");this.O2=this.O.getContext("2d");this.O.setAttribute("style","display:block");
this.g7=null;f.ZF(this.O);f.oI(this.O,this.kV.bind(this));this.zI=f.L("div","form");this.a5O=f.L("div");
this.IX=f.L("div","form");this.alb=f.L("div");this.Wb=new fq([12,44],[[15,10,0],[24,6]]);this.Wb.l(r.E.o,this._1,this);
this.body.appendChild(this.Wb.m);f.nc(this.body);var u=this.zI;this.ua=new fc([19,3,3],0,100,"%");this.ua.l(r.E.o,this._1,this);
this.ua.parent=this;u.appendChild(this.ua.m);f.Uy(u);this.YR=new i7([12,0]);u.appendChild(this.YR.m);
this.QF=f.L("div","bordered padded noalign");u.appendChild(this.QF);this.Hf=new fc([12,0],0,100,"%");
this.Hf.parent=this;this.Hf.l(r.E.o,this._1,this);this.QF.appendChild(this.Hf.m);this.gG=new fc([12,40],0,100,"%");
this.gG.parent=this;this.gG.l(r.E.o,this._1,this);this.QF.appendChild(this.gG.m);this.gV=new iG([5,4],!1,null,!0);
this.gV.l("click",this.ad0,this);this.QF.appendChild(this.gV.m);u.appendChild(this.a5O);this.ac3=new i7([13,0]);
u.appendChild(this.ac3.m);this.vq=f.L("div","bordered padded noalign");u.appendChild(this.vq);this.VY=new fq([12,44],[[12,45],[12,46],[12,47]]);
this.VY.l(r.E.o,this._1,this);this.vq.appendChild(this.VY.m);this.Ki=new df(!0);this.Ki.parent=this;
this.Ki.l(r.E.o,this._1,this);this.vq.appendChild(this.Ki.m);this.PD=new fc([12,40],0,100,"%");this.PD.parent=this;
this.PD.l(r.E.o,this._1,this);this.vq.appendChild(this.PD.m);this.Sn=new iG([5,4],!1,null,!0);this.Sn.l("click",this.a77,this);
this.vq.appendChild(this.Sn.m);var u=this.IX;this.uQ=new fc("Roughness",0,100,"%");this.uQ.l(r.E.o,this._1,this);
this.uQ.parent=this;u.appendChild(this.uQ.m);u.appendChild(this.alb);this.S5=new iG([25,1,2],!1,null,!0);
this.S5.l("click",this._1,this);u.appendChild(this.S5.m);this.dG=f.WB(this);this.l("closebtn",this.rA,this)}gv.prototype=new bi;
gv.prototype.rA=function(u){if(this.DG)this._a(this.yn)};gv.prototype._=function(){bi.prototype._.call(this);
this.dG._();this.ua._();this.YR._();this.ac3._();this.gV._();this.Sn._();this.Hf._();this.gG._();this.VY._();
this.PD._();this.S5._()};gv.prototype.vZ=function(u,m){this.Fa=u};gv.prototype.B6=function(u,m){this.HX=JSON.parse(JSON.stringify(m.C));
this.yn=JSON.parse(JSON.stringify(m.C));this.Lp=this.aH=null;this._a=m.ry;this.DG=!1;this.vC=m.yK;this.yc();
this.N0()};gv.prototype.uz=function(u){var m=this.HX;this._a(m);this.close()};gv.prototype.$d=function(u){return u==hs.Vg||u==hs.A_};
gv.prototype.St=function(u,m,C,Z){if(Z.j(hs.Vg)||Z.j(hs.A_)){if(this.aH)this.ad0();if(this.Lp)this.a77()}};
gv.prototype.ad0=function(u){var m=this.HX.Trns.v;if(this.aH==null||m.length==1)return;m.splice(m.indexOf(this.aH),1);
this.aH=null;this.yc();this.N0()};gv.prototype.a77=function(u){var m=this.HX.Clrs.v;if(this.Lp==null||m.length==1)return;
m.splice(m.indexOf(this.Lp),1);this.Lp=null;this.yc();this.N0()};gv.prototype.yc=function(){var u=this.O,m=this.O2,C=f.F();
u.width=Math.floor(410*C);u.height=Math.floor(70*C);f.iz(u,u.width,u.height);u.style.marginTop="8px";
this.g7=new bl(0,0,Math.floor(380*C),Math.floor(32*C));this.g7.x=Math.floor((u.width-this.g7.e)/2);this.g7.y=Math.floor((u.height-this.g7.n)/2);
var Z=this.g7,q=Z.e,J=Z.n,A=Z.x,n=Z.y,N=new bl(0,0,q,J),e=m.getImageData(0,0,q,J),Q=new Uint8Array(e.data.buffer);
j.Iu(Q,q,J,8);var p=j.U(q*J*4);j.C.jx(this.HX,p,N,[1/q,0,0,1/J],q/2,J/2,!1,0,this.Fa.jM,this.Fa.z0);
j.a.q5("norm",p,Z,Q,Z,Z,1);m.clearRect(0,0,u.width,u.height);m.putImageData(e,A,n);var B=this.HX;if(B.Clrs){var $=B.Trns.v,R=B.Clrs.v,z=j.C.Nm(R,this.Fa.jM,this.Fa.z0),v=Math.round(6*f.F()),a=Math.round(14*f.F()),X=this.aH?this.aH.v:null,V=this.Lp?this.Lp.v:null;
for(var D=0;D<$.length;D++){var o=$[D].v,h=Math.round(255-255*o.Opct.v.val/100);if((o==X||$[D-1]&&$[D-1].v==X||D==this.yi)&&D!=0){m.fillStyle="#000000";
m.fillRect(A-3+q*($[D-1].v.Lctn.v+(o.Lctn.v-$[D-1].v.Lctn.v)*o.Mdpn.v/100)/4096,n-6-2,6,6)}if(o==X){m.fillStyle="#ffffff";
m.fillRect(A-v+q*(o.Lctn.v/4096)-2,n-2-a-2,2*v+4,a+4)}m.fillStyle="rgb("+h+","+h+","+h+")";m.fillRect(A-v+q*(o.Lctn.v/4096),n-2-a,2*v,a)}for(var D=0;
D<R.length;D++){var T=R[D].v,l=z[D];if((T==V||R[D-1]&&R[D-1].v==V||D==this.br)&&D!=0){m.fillStyle="#000000";
m.fillRect(A-3+q*(R[D-1].v.Lctn.v+(T.Lctn.v-R[D-1].v.Lctn.v)*T.Mdpn.v/100)/4096,n+J+2,6,6)}if(T==V){m.fillStyle="#ffffff";
m.fillRect(A-v+q*(T.Lctn.v/4096)-2,n+J+2-2,2*v+4,a+4)}m.fillStyle="rgb("+Math.round(l.p)+", "+Math.round(l.T)+","+Math.round(l.S)+")";
m.fillRect(A-v+q*(T.Lctn.v/4096),n+J+2,2*v,a)}}if(this.vC){this._a(this.HX);this.DG=!0}};gv.prototype.N0=function(){var u=this.HX,m=u.Clrs?0:1;
this.Wb.f(m);if(f.pZ(this.zI))this.body.removeChild(this.zI);if(f.pZ(this.IX))this.body.removeChild(this.IX);
(m==0?this.a5O:this.alb).appendChild(this.O);if(m==0){this.body.appendChild(this.zI);this.ua.f(Math.round(100*u.Intr.v/4096));
var C=u.Trns.v,Z=u.Clrs.v,q=this.aH!=null,J=this.yi!=-1;this.Hf.Oi(q);this.gG.Oi(q||J);this.gV.Oi(q);
if(q){this.QF.setAttribute("style","");var A=this.aH.v;this.gG.f(Math.round(100*A.Lctn.v/4096));this.Hf.f(A.Opct.v.val)}if(J)this.gG.f(C[this.yi].v.Mdpn.v);
var q=this.Lp!=null,J=this.br!=-1;this.VY.Oi(q);this.Ki.Oi(q);this.PD.Oi(q||J);this.Sn.Oi(q);if(q){this.vq.setAttribute("style","");
var n=this.Lp.v;this.PD.f(Math.round(100*n.Lctn.v/4096));var N=n.Type.v.Clry;this.VY.f(["FrgC","BckC","UsrS"].indexOf(N));
if(N=="FrgC")this.Ki.HN(this.Fa.jM);if(N=="BckC")this.Ki.HN(this.Fa.z0);if(N=="UsrS")this.Ki.f(n.Clr.v)}if(J)this.PD.f(Z[this.br].v.Mdpn.v)}else{this.body.appendChild(this.IX);
this.uQ.f(Math.round(100*u.Smth.v/4096))}this.body.appendChild(this.dG.m)};gv.prototype._1=function(u){var m=this.HX,C=m.Clrs?0:1;
if(u.target==this.Wb){var Z=C==0?JSON.parse(c0.gy.aau).v:a7.Qv("grdm").Grad.v;this.HX=Z;this.N0();this.yc();
return}if(C==0){m.Intr.v=Math.round(4096*this.ua.Y()/100);var q=m.Trns.v,J=m.Clrs.v;if(this.aH!=null){var A=this.aH.v;
A.Lctn.v=Math.round(4096*(this.gG.Y()/100));A.Opct.v.val=this.Hf.Y()}if(this.Lp!=null){var n=this.Lp.v;
n.Lctn.v=Math.round(4096*(this.PD.Y()/100));if(u.target==this.Ki)this.VY.f(2);var N=this.VY.Y();n.Type.v.Clry=["FrgC","BckC","UsrS"][N];
if(N==2)n.Clr={t:"Objc",v:this.Ki.Y()};else if(n.Clr)delete n.Clr}if(this.yi!=-1)q[this.yi].v.Mdpn.v=this.gG.Y();
if(this.br!=-1)J[this.br].v.Mdpn.v=this.PD.Y()}else{m.Smth.v=Math.round(4096*this.uQ.Y()/100);if(u.target==this.S5)m.RndS.v=Math.floor(Math.random()*4294967295)}this.yc()};
gv.prototype.kV=function(u){var m=f.OR(u,this.O),C=this.g7,Z=(m.x*f.F()-C.x)/C.e,q=(m.y*f.F()-C.y)/C.n,J=this.HX.Trns.v,A=this.HX.Clrs.v,n=null,N=null,e=-1,Q=-1;
if(q<1)for(var D=0;D<J.length;D++){var p=J[D].v;if(Math.abs(p.Lctn.v/4096-Z)<.02)n=J[D];if(D>0)if(Math.abs((J[D-1].v.Lctn.v+(p.Lctn.v-J[D-1].v.Lctn.v)*p.Mdpn.v/100)/4096-Z)<.01)e=D}if(q>0)for(var D=0;
D<A.length;D++){var B=A[D].v;if(Math.abs(B.Lctn.v/4096-Z)<.02)N=A[D];if(D>0)if(Math.abs((A[D-1].v.Lctn.v+(B.Lctn.v-A[D-1].v.Lctn.v)*B.Mdpn.v/100)/4096-Z)<.01)Q=D}if(N==null&&n==null&&e==-1&&Q==-1){if(q<0){var p={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
p.v.Lctn.v=Math.round(Z*4096);J.push(p);J.sort(this.jC);n=p}if(q>1){var A=this.HX.Clrs.v,$=j.C.Nm(A,this.Fa.jM,this.Fa.z0),R=j.C.gT(this.HX,$,Z),B={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:j.C.sG({p:R&255,T:R>>8&255,S:R>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
B.v.Lctn.v=Math.round(Z*4096);A.push(B);A.sort(this.jC);N=B}}if(N!=null)Q=-1;if(n!=null)e=-1;if(N!=null||n!=null||e>-1||Q>-1){this.aH=n;
this.Lp=N;this.yi=e;this.br=Q;this.N0();this.yc();f.zy(window,this.k0);f.sQ(window,this.RC)}};gv.prototype.Mw=function(u){var m=f.OR(u,this.O),C=this.g7,Z=(m.x*f.F()-C.x)/C.e,q=(m.y*f.F()-C.y)/C.n;
Z=Math.max(0,Math.min(1,Z));var J=this.HX.Trns.v,A=this.HX.Clrs.v;if(this.aH!=null){var n=this.aH.v;
n.Lctn.v=Math.round(4096*Z);var N=J.indexOf(this.aH);if(N!=-1&&q<-1&&J.length>1)J.splice(N,1);if(N==-1&&q>-1)J.push(this.aH);
J.sort(this.jC)}if(this.Lp!=null){var e=this.Lp.v;e.Lctn.v=Math.round(4096*Z);var Q=A.indexOf(this.Lp);
if(Q!=-1&&q>2&&A.length>1)A.splice(Q,1);if(Q==-1&&q<2)A.push(this.Lp);A.sort(this.jC)}if(this.yi>-1){var n=J[this.yi].v;
n.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(Z*4096-J[this.yi-1].v.Lctn.v)/(n.Lctn.v-J[this.yi-1].v.Lctn.v))))}if(this.br>-1){var e=A[this.br].v;
e.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(Z*4096-A[this.br-1].v.Lctn.v)/(e.Lctn.v-A[this.br-1].v.Lctn.v))))}if(this.aH!=null||this.Lp!=null||this.yi>-1||this.br>-1){this.N0();
this.yc()}};gv.prototype.Zn=function(u){f.bU(window,this.k0);f.YL(window,this.RC);if(Date.now()-this.nY<300){if(this.br!=-1||this.yi!=-1){var m=(this.br!=-1?this.HX.Clrs.v[this.br]:this.HX.Trns.v[this.yi]).v;
m.Mdpn.v=50;this.N0();this.yc()}else if(this.Lp!=null)this.Ki.adr()}this.nY=Date.now()};gv.prototype.jC=function(u,m){return u.v.Lctn.v-m.v.Lctn.v};
function ez(){bi.call(this,[11,10],"isize");this.zJ=f.L("div","form");this.zJ.setAttribute("style","width:20em");
this.body.appendChild(this.zJ);this.pF=new aP(!0,!0,null,null,!0);this.zJ.appendChild(this.pF.m);this.zg=new aG([12,25,3]);
this.zg.f(!0);this.zJ.appendChild(this.zg.m);this.zg.l(r.E.o,this.aiw,this);this.sg=new fq([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.sg.f(1);this.zJ.appendChild(this.sg.m);this.dG=f.WB(this,this.body)}ez.prototype=new bi;ez.prototype.dK=function(u,m){return u!=null};
ez.prototype.sZ=function(){return!0};ez.prototype.aiw=function(u){var m=this.zg.Y(),C=this.pF,Z=this.sg;
if(m)Z.BD();else Z.mq();if(m)C.asZ();else C.auM()};ez.prototype._=function(){bi.prototype._.call(this);
this.dG._();this.sg._();this.pF._()};ez.prototype.uz=function(u){this.close();var m=this.pF.Y(),C=m.x,Z=m.y,q=this.sg.Y();
if(!this.zg.Y())q=null;var J=new eY(r.E.od,!0);J.data=b.pB.m5(C,Z,this.pF.zq(),q);this.c(J)};ez.prototype.B6=function(u,m){this.pF.f(new dz(u.e,u.n),u.JJ);
this.pF.ti()};function j5(){bi.call(this,"Import RAW","importraw");var u=f.L("div","flexrow"),m=f.L("div");
m.setAttribute("style","margin-bottom: 1em");this.body.appendChild(u);this.body.appendChild(m);var C=f.L("div","form");
C.setAttribute("style","width:18em");u.appendChild(C);var Z=f.L("div","form");Z.setAttribute("style","width:15em");
u.appendChild(Z);this.b$=null;this.aeJ=null;this.Ee=null;this.Ou=null;this.aff=[];var q=[];for(var D=0;
D<j5.HS.length;D++)q.push(j5.HS[D]+" Bits");var J=this.vJ=[new aP(!0,null,null,!0),new fc([12,72],1,8),new aG("Last one is Transparency"),new ja([12,34],q),new ja("Byte Order",["12-34","34-12"]),new fq("Guesses",[])];
for(var D=0;D<J.length;D++){var A=J[D];A.parent=this;A.l(r.E.o,D==5?this.amU:this.o_,this);var n=D==0?C:D==5?m:Z;
n.appendChild(A.m)}this.O=f.L("canvas");this.O2=this.O.getContext("2d");this.body.appendChild(this.O);
this.dG=f.WB(this,this.body)}j5.prototype=new bi;j5.prototype._=function(){bi.prototype._.call(this);
var u=this.vJ;this.dG._();for(var D=0;D<u.length;D++)u[D]._()};j5.prototype.uz=function(u){this.close();
var m=this.vJ[0].Y(),C=d4._6(this.aeJ,[{data:this.Ee,WL:new bl(0,0,m.x,m.y)}]);if(this.Ou)C.YG=this.Ou;
var Z=new eY(r.E.z,!0);Z.data={d:!0?r.J.n1:r.J.Go,Uk:C};this.c(Z)};j5.HS=[8,16];j5.prototype.B6=function(u,m){this.b$=new Uint8Array(m.zQ);
this.aeJ=m.sK;var C=this.b$.length,Z=[1,3,4],q=0,J=0,A=1,n=1,N=this.aff=[];for(var e=0;e<3;e++){for(var Q=0;
Q<2;Q++){var p=j5.HS[Q],B=Z[e],$=B*p,R=Math.round(C*8/$);if(R!=C*8/$)continue;for(var z=0;z<=4e3;z++)for(var v=0;
v<=4e3;v++)if(z*v==R){var a=0;if(z==v)a+=64;if(Math.round(z/100)==z/100&&Math.round(v/100)==v/100)a+=32;
if(Math.round(z/10)==z/10&&Math.round(v/10)==v/10)a+=16;if(Math.round(z/2)==z/2&&Math.round(v/2)==v/2)a+=8;
N.push([z,v,B,p,a])}}}var X=function(T,l){if(l[4]!=T[4])return l[4]-T[4];var w=Math.max(T[0],T[1])/Math.min(T[0],T[1]),W=Math.max(l[0],l[1])/Math.min(l[0],l[1]);
if(w!=W)return w-W;return l[0]-T[0]};N.sort(X);var V=this.vJ,o=[];for(var D=0;D<N.length;D++){var h=N[D];
o.push(h[0]+" x "+h[1]+", "+h[2]+"ch, "+h[3]+"-bit")}V[5].D5(o);V[5].f(0);this.amU(null)};j5.prototype.amU=function(u){var m=this.vJ,C=this.aff[this.vJ[5].Y()];
m[0].f(new dz(C[0],C[1]),72);m[1].f(C[2]);m[3].f(j5.HS.indexOf(C[3]));this.o_()};j5.prototype.o_=function(u){var m=this.vJ,C=m[0].Y(),Z=C.x,q=C.y,J=j5.HS[m[3].Y()],A=this.b$;
if(J==16&&m[4].Y()==1){A=A.slice(0);for(var D=0;D<A.length;D+=2){var n=A[D];A[D]=A[D+1];A[D+1]=n}}var N=this.Ee=this.Pl(A,Z,q,m[1].Y(),J,m[2].Y()),e=this.O,Q=this.O2,p=[N,new bl(0,0,Z,q)];
j.ML(p);for(var D=0;D<p.length;D+=2)if(p[D+1].n<300){N=p[D];Z=p[D+1].e;q=p[D+1].n;break}e.width=Z;e.height=q;
f.iz(e,Z,q);var B=new ImageData(new Uint8ClampedArray(N.buffer),Z,q);Q.putImageData(B,0,0)};j5.prototype.Pl=function(u,m,C,Z,q,J){this.Ou=null;
var A=[],n=m*C;for(var N=0;N<Z;N++){var e=j.U(n);A.push(e);if(q==8)for(var D=0;D<n;D++)e[D]=u[D*Z+N];
else if(q==16)for(var D=0;D<n;D++)e[D]=Math.round((u[(D*Z+N)*2]<<8|u[(D*Z+N)*2+1])*(255/65535))}var Q=j.U(n*4);
new Uint32Array(Q.buffer).fill(4278190080);if(J){j.wC(A.pop(),Q,3);Z--}if(Z==0){}else if(Z==1)j.Ps(A[0],Q);
else{j.wC(A[0],Q,0);j.wC(A[1],Q,1);if(Z>2){j.wC(A[2],Q,2);if(Z>3){this.Ou=[];for(var D=3;D<Z;D++){var p=new F.ol;
p.name="Alpha "+(D-2);p.rect=new bl(0,0,m,C);p.channel=A[D];this.Ou.push(p)}}}}return Q};function dn(u,m,C){bK.call(this);
this.m=f.L("div","");this.C7=u;this.ZY=null;this.zx=m==null?!1:m;this.Vi=null;this.c3=C;this.hE=[];this.QU=[];
this.RD=[];this.EN=[];this.dg=0;this.ZY=this.acw(dn.EN[u]);this.LC();this.Bx=null;this.a1X;this.ag8}dn.prototype=new bK;
dn.prototype.K4=function(u,m,C,Z,q){this.Bx=q;this.a1X=JSON.parse(JSON.stringify(this.Vi));if(this.ZY.lagl)this.ag8=this.ZY.lagl.Y()[0]};
dn.prototype.TQ=function(u,m,C,Z,q){var J=this.Bx,A=this.C7,n=this.a1X;if(J==null)return;var N=(q.x-J.x)/u.t.V,e=(q.y-J.y)/u.t.V;
if(A=="GrFl"){var Q=JSON.parse(JSON.stringify(n.Ofst.v));Q.Hrzn.v.val+=N*.5;Q.Vrtc.v.val+=e*.5;this.ZY.Ofst.f(Q,!0)}if(A=="patternFill"){var Q=JSON.parse(JSON.stringify(n.phase.v));
Q.Hrzn.v+=N;Q.Vrtc.v+=e;this.ZY.phase.f(Q,!0)}if(A=="DrSh"||A=="IrSh"||A=="ChFX"){var p=n.Dstn.v.val,B=this.ag8*Math.PI/180,$=-Math.cos(B)*p+N,R=Math.sin(B)*p+e;
this.ZY.Dstn.f(Math.sqrt($*$+R*R),!0);this.ZY.lagl.f([Math.atan2(R,-$)*180/Math.PI],!0)}};dn.prototype.ec=function(u,m,C,Z,q){this.Bx=null};
dn.prototype.a4A=function(){for(var D=0;D<this.EN.length;D++){f.Jq(this.EN[D],"selected");if(this.RD[D]instanceof aG)this.RD[D].f(!1)}};
dn.prototype.ae3=function(u){var m=this.as8.bind(this);for(var D=0;D<this.RD.length;D++){var C=f.L("div","listitem");
this.EN.push(C);if(D>0)C.textContent="\u2003";C.appendChild(this.RD[D].m);if(c0.a1x.indexOf(this.C7)!=-1){var Z=new iG("+");
Z.Lo();Z.m.style.float="right";C.appendChild(Z.m);var q=new iG("\u2B0D");q.Lo();q.m.style.float="right";
q.m.style["margin-right"]="2px";C.appendChild(q.m)}C.addEventListener("click",m,!1);u.appendChild(C)}};
dn.v8=function(u,m){var C=m.getBoundingClientRect();return(u.clientY-C.top)/C.height};dn.prototype.as8=function(u){var m=u.target.tagName.toLowerCase();
if(m=="input"){return}if(m=="button"){var C=new eY(r.E.H,!0),Z=u.target.textContent=="+",q=Z?0:dn.v8(u,u.target)<.5?-1:1;
if(Z)C.data={d:"st_dupsingle",i:this.parent.data.i,Nl:this.c3};else C.data={d:"st_movsingle",i:this.parent.data.i,Nl:this.c3,aiX:q};
C.b=b.vW;C.Ua=!0;this.c(C);C=new eY("redrawall",!0);C.data={aiX:q};this.c(C);return}f.Qn(u);this.df();
this.dg=this.EN.indexOf(u.currentTarget);this.c(new eY("showme"))};dn.prototype.df=function(){if(this.ZY.enab&&this.ZY.enab.Y()==!1)this.cc({d9:"enab",k:!0})};
dn.prototype.a8N=function(){var u=this.EN[this.dg];if(u)f.Ky(u,"selected");return this.QU[this.dg]};
dn.prototype.acw=function(u){var m={};for(var D=0;D<u.length;D++){var C=u[D],Z=null;if(C=="----")Z={m:f.L("hr")};
if(C=="\n")Z={m:f.L("br")};if(C=="blOptions")Z=new i7([14,10]);if(C=="brst")Z=new jI([12,72],["R","G","B"]);
if(C=="knko")Z=new fq("Knockout",[[13,1,0],"Shallow","Deep"]);if(C=="enab")Z=new aG(c0.names[c0.order.indexOf(this.C7)]);
if(C=="lrMd"||C=="Md")Z=new fq([12,19,0],hR.Pc,!1,hR.gQ);if(C=="Opct")Z=new fF([12,0],0,100,"%");if(C=="iOpa")Z=new fF([12,26],0,100,"%");
if(C=="blIf")Z=new fJ;if(C=="ShdN")Z=new fF([12,68],0,100,"%");if(C=="lagl"||C=="Angl")Z=new h7([12,15],this.C7=="ebbl");
if(C=="uglg")Z=new aG([12,27]);if(C=="Dstn")Z=new fF([12,28],0,200,"px");if(C=="Ckmt")Z=new fF([12,29],0,100,"%");
if(C=="blur")Z=new fF([12,14,0],0,200,"px");if(C=="TrnS"||C=="MpgS")Z=new fV([12,21]);if(C=="Nose")Z=new fF([12,30],0,100,"%");
if(C=="layerConceals")Z=new aG([12,31]);if(C=="AntA"||C=="antialiasGloss")Z=new aG([12,25,1]);if(C=="GlwT")Z=new fq([12,32],c0.Wu.names);
if(C=="glwS")Z=new fq([12,70],c0.Wu.aoV);if(C=="Inpr")Z=new fF([12,12],1,100,"%");if(C=="bvlS")Z=new fq([12,22],c0.LZ.style);
if(C=="bvlT")Z=new fq([12,32],c0.LZ.aja);if(C=="bvlD")Z=new fq(null,c0.LZ.dir);if(C=="srgR")Z=new fF([12,34],0,1e3,"%");
if(C=="Sftn")Z=new fF([12,35],0,20,"px");if(C=="Lald")Z=m.lagl;if(C=="hglM"||C=="sdwM")Z=new fq([12,36],hR.Pc,!1,hR.gQ);
if(C=="hglC"||C=="sdwC")Z=new df;if(C=="hglO"||C=="sdwO")Z=new fF([12,0],0,100,"%");if(C=="Invr"||C=="InvT")Z=new aG([4,11]);
if(C=="Sz")Z=new fF([12,14,0],1,200,"px");if(C=="Styl")Z=new fq([12,40],c0.stroke.names);if(C=="PntT")Z=new fq([12,66],c0.stroke.auP);
if(C=="Clr")Z=new df(!0);if(C=="Grad"){Z=new is(!0,[12,37],!0);Z.f(JSON.parse(c0.gy.aje).v)}if(C=="Rvrs")Z=new aG([12,23,0]);
if(C=="Dthr")Z=new aG([12,23,3]);if(C=="Type")Z=new fq([12,22],c0.C.names.slice(0,this.C7=="FrFX"?6:5));
if(C=="Ptrn")Z=new gR([12,62]);if(C=="Scl")Z=new fF([12,38],10,500,"%",0,!0);if(C=="Algn")Z=new aG([12,39]);
if(C=="Ofst")Z=new iF(!0);if(C=="phase")Z=new iF(!1);if(C=="useShape")Z=new aG([12,21]);if(C=="useTexture")Z=new aG([12,67]);
if(C=="textureDepth")Z=new fF([12,34],-300,300,"%");var q=C=="----"||C=="\n"?C+D:C;if(Z!=null)m[q]=Z}return m};
dn.prototype.aeA=function(u){var m=this.QU[this.dg];for(var D=0;D<u.length;D++){var C=this.ZY[u[D]];
if(C&&m.contains(C.m))m.removeChild(C.m)}};dn.prototype.a9Z=function(u){var m=this.QU[this.dg];for(var D=0;
D<u.length;D++){var C=this.ZY[u[D]];if(C&&!m.contains(C.m))m.appendChild(C.m)}};dn.prototype.vZ=function(u,m){if(this.ZY==null)return;
var C=m==jO.LY;if(this.ZY.Grad){this.ZY.Grad.dW(u.jM,u.z0);if(C||m==jO.e0||m==jO.__)this.ZY.Grad.Ie(u.yZ)}if(this.ZY.Ptrn){if(C||m==jO.ZM)this.ZY.Ptrn.Ie(u.Q1)}if(this.ZY.TrnS){if(C||m==jO.f2)this.ZY.TrnS.Ie(u.pV)}if(this.ZY.MpgS){if(C||m==jO.f2)this.ZY.MpgS.Ie(u.pV)}};
dn.prototype._=function(){for(var D=0;D<this.hE.length;D++)this.hE[D]._();for(var u in this.ZY)if(this.ZY[u]instanceof bK)this.ZY[u]._()};
dn.prototype.LC=function(){for(var u in this.ZY){var m=this.ZY[u];m.parent=this;if(m instanceof bK)m.l(r.E.o,this.as2,this);
if(this.QU.length==0||u=="useShape"||u=="useTexture"){var C=new i7(m.a0c()),Z=f.L("div","bordered padded");
if(this.zx==!1){Z.appendChild(C.m);Z.appendChild(f.L("hr",""))}this.hE.push(C);this.QU.push(Z);this.RD.push(m)}else this.QU[this.QU.length-1].appendChild(m.m)}};
dn.prototype.update=function(u,m){if(this.ZY==null)return;this.Vi=JSON.parse(JSON.stringify(m));for(var C in m){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(C)!=-1)this.ZY[C].f(m[C].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(C)!=-1){this.ZY[C].f(m[C].v,u)}if(["Md","hglM","sdwM"].indexOf(C)!=-1)this.ZY[C].f(hR.C7.indexOf(m[C].v.BlnM));
if(C=="lrMd"){var Z=(m.ld?[[15,10,27]]:[]).concat(hR.Pc),q=(m.ld?[1]:[]).concat(hR.gQ);this.ZY[C].D5(Z,q);
this.ZY[C].f(m[C].v)}if(C=="Angl")this.ZY[C].f([m[C].v.val]);if(C=="lagl"){var J=m.uglg&&m.uglg.v?u.lQ():m.lagl.v.val;
this.ZY[C].f([J])}if(C=="Lald"){var J=m.uglg&&m.uglg.v?u.mg():m.Lald.v.val;this.ZY[C].f([null,J])}if(C=="Type")this.ZY[C].f(c0.C.types.indexOf(m.Type.v.GrdT));
if(C=="Styl")this.ZY[C].f(c0.stroke.types.indexOf(m.Styl.v.FStl));if(C=="PntT"){var A=c0.stroke.PK.indexOf(m.PntT.v.FrFl);
this.ZY[C].f(A);if(!this.zx){this.aeA(c0.wP.concat(c0.mr.concat(c0.d0)));this.a9Z([c0.wP,c0.mr,c0.d0][A])}}if(C=="GlwT")this.ZY[C].f(c0.Wu.types.indexOf(m.GlwT.v.BETE));
if(C=="glwS")this.ZY[C].f(c0.Wu.ajm.indexOf(m.glwS.v.IGSr));if(C=="bvlS")this.ZY[C].f(c0.LZ.types.indexOf(m.bvlS.v.BESl));
if(C=="bvlT")this.ZY[C].f(c0.LZ.ajP.indexOf(m.bvlT.v.bvlT));if(C=="bvlD")this.ZY[C].f(["In","Out"].indexOf(m.bvlD.v.BESs))}};
dn.prototype.as2=function(u){for(var m in this.ZY){if(this.ZY[m]!=u.target)continue;var C=null,Z=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(m)!=-1)C={type:"#Prc",val:u.target.Y()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(m)!=-1)C={type:"#Pxl",val:u.target.Y()};if(["Angl","lagl"].indexOf(m)!=-1)C={type:"#Ang",val:u.target.Y()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(m)!=-1)C=u.target.Y();
if(["Md","hglM","sdwM"].indexOf(m)!=-1)C={BlnM:hR.C7[u.target.Y()]};if(m=="uglg"){C=u.target.Y();Z=!0}if(m=="PntT"){C={FrFl:c0.stroke.PK[u.target.Y()]};
Z=!0}if(m=="Lald")C={type:"#Ang",val:u.target.Y()[1]};if(m=="Type")C={GrdT:c0.C.types[u.target.Y()]};
if(m=="Styl")C={FStl:c0.stroke.types[u.target.Y()]};if(m=="GlwT")C={BETE:c0.Wu.types[u.target.Y()]};
if(m=="glwS")C={IGSr:c0.Wu.ajm[u.target.Y()]};if(m=="bvlS")C={BESl:c0.LZ.types[u.target.Y()]};if(m=="bvlT")C={bvlT:c0.LZ.ajP[u.target.Y()]};
if(m=="bvlD")C={BESs:["In","Out"][u.target.Y()]};this.cc({d9:m,k:C});if(Z){if(this.zx)this.update(null,this.Vi);
else{var q=this.parent,J=q.Uk,A=this.c3,n=J.g[q.data.i].add.lmfx[c0.Ca[A[0]]].v[A[1]].v;this.update(J,n)}}}};
dn.prototype.cc=function(u){if(this.Vi&&this.Vi[u.d9])this.Vi[u.d9].v=u.k;if(this.zx){this.c(new eY(r.E.o))}else{u.d="changeprop";
u.i=this.parent.data.i;u.NR=this.c3;var m=new eY(r.E.H,!0);m.data=u;m.b=b.vW;m.Ua=!0;this.c(m);this.c(new eY("afterchange",!0))}};
dn.prototype.Y=function(){return JSON.parse(JSON.stringify(this.Vi))};dn.EN={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(c0.wP),GrFl:["enab","Md","Opct"].concat(c0.mr),patternFill:["enab","Md","Opct"].concat(c0.d0),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(c0.wP.concat(c0.mr.concat(c0.d0)))};
function c$(){bi.call(this,[11,6],"layerstyle");this.ahU=-1;this.data={};this.Uk=null;this.sU=null;this.P5=[];
this.eC=[];f.Ky(this.body,"flexrow");this.tD=f.L("div","bordered");this.tD.setAttribute("style","min-width:13em;");
this.body.appendChild(this.tD);this.Xp=f.L("div","");this.Xp.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.Xp);this.sV=f.L("div","form");this.sV.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.sV);this.dG=f.WB(this,this.sV);this.$M=new iG([12,87],!0,null,!0);this.$M.l("click",this.ai6,this);
this.sV.appendChild(this.$M.m);this.My=new bk;this.My.parent=this;this.My.l(r.E.o,this.abb,this);this.sV.appendChild(this.My.m);
this.l("closebtn",this.rA,this);this.l("redrawall",this.a8C,this)}c$.prototype=new bi;c$.prototype.sZ=function(){return!0};
c$.prototype.ul=function(){return!0};c$.prototype.K4=function(u,m,C,Z,q){var J=this.Ut();if(J)J.K4(u,m,C,Z,q)};
c$.prototype.TQ=function(u,m,C,Z,q){var J=this.Ut();if(J)J.TQ(u,m,C,Z,q)};c$.prototype.ec=function(u,m,C,Z,q){var J=this.Ut();
if(J)J.ec(u,m,C,Z,q)};c$.prototype.Ut=function(u){if(u==null)u=this.data.index;return u==null?null:u==0?this.P5[0]:this.eC[u[0]][u[1]]};
c$.prototype.abb=function(u){var m=this.My.Y();this.cc({d:"setstl",k:m.lr});this.a8C(null)};c$.prototype.ai6=function(u){var m=this.Uk,C=this.data.i;
if(C==null)C=m.w[0];var Z=this.Uk.g[C],q=dU.atU(Z),J=new eY(r.E.z,!0);J.data={d:r.J.mh,lC:"add",no:jO.c$,Ax:[JSON.parse(JSON.stringify(q))]};
this.c(J)};c$.prototype.aul=function(u){this.data.index=u.currentTarget.c3;this.OA(u.currentTarget.c3)};
c$.prototype.a8C=function(u){this.B6(this.Uk,this.data)};c$.prototype.OA=function(u,m){f.Da(this.Xp);
for(var D=0;D<this.P5.length;D++)this.P5[D].a4A();var C=this.Ut(u);this.Xp.appendChild(C.a8N());if(m)C.df();
var Z=this.Uk;if(Z){var q=Z.g[this.data.i];this.P5[0].update(Z,b.Ay.uX(Z,q));var J=q.add.lmfx;if(J==null)return;
for(var D=0;D<c0.order.length;D++){var A=J[c0.Ca[D]].v;for(var n=0;n<A.length;n++)this.eC[D][n].update(Z,A[n].v)}}if(m)C.df()};
c$.prototype._=function(){bi.prototype._.call(this);this.$M._();this.My._();this.dG._();for(var D=0;
D<this.P5.length;D++)this.P5[D]._()};c$.prototype.B6=function(u,m){var C=m.i==null;this.data.i=m.i;this.data.index=m.index;
m=this.data;this.Uk=u;if(C)m.i=u.w.length==0?u.g.length-1:u.w[0];f.Da(this.tD);var Z=u.g[m.i].add.lmfx;
this.zB();this.P5=[new dn("bops",!1,0)];this.eC=[];for(var D=0;D<c0.order.length;D++){this.eC.push([]);
var q=Z==null?[]:Z[c0.Ca[D]].v;for(var J=0;J<q.length;J++){var A=new dn(c0.order[D],!1,[D,J]);this.P5.push(A);
this.eC[D].push(A)}if(q.length==0){var A=new dn(c0.order[D],!1,[D,0]);this.P5.push(A);this.eC[D].push(A)}}this._();
this.ahk(this.sU,jO.LY);for(var D=0;D<this.P5.length;D++){this.P5[D].parent=this;this.P5[D].ae3(this.tD);
this.P5[D].l("showme",this.aul,this)}if(m.index==null||m.index==0||!C&&Z[c0.Ca[m.index[0]]].v.length==0){this.OA(0)}else this.OA(m.index,C);
this.l("afterchange",this.zB,this)};c$.prototype.zB=function(u){var m=this.Uk,C=this.data.i;if(C==null)C=m.w[0];
var Z=this.Uk.g[C],q=dU.atU(Z);this.My.f(q,m.add.Patt?m.add.Patt:[],m.lQ(),m.mg())};c$.prototype.vZ=function(u,m){this.sU=u;
this.ahk(u,m);if(m==jO.c$||m==jO.LY){this.My.Ie([u.Jo,u.Q1])}if(m==jO.Jb){}};c$.prototype.ahk=function(u,m){for(var D=0;
D<this.P5.length;D++)this.P5[D].vZ(u,m)};c$.prototype.rA=function(u){this.cc({d:"cancel"})};c$.prototype.uz=function(u){this.cc({d:"confirm"});
this.close()};c$.prototype.cc=function(u){u.i=this.data.i;var m=new eY(r.E.H,!0);m.data=u;m.b=b.vW;m.Ua=!0;
this.c(m);this.zB()};c$.Yy=function(u){var m=[{name:[14,10],ZR:!0}];for(var D=0;D<c0.names.length;D++)m.push({name:c0.names[D]});
if(u){m[m.length-1].ZR=!0;m.push({name:"Scale Effects",P:function(C){return{P:C!=null&&C.w.length!=0&&C.g[C.w[0]].jt()}}});
m.push({name:["VAR0 VAR1",[12,49],[9,1]],P:function(C){return{P:C!=null&&C.w.length!=0&&C.g[C.w[0]].add.lmfx!=null}}})}return m};
c$.Kg=function(u){var m=[{W:r.E.z,R:{d:r.J.zH,E$:"layerstyle"}}];for(var D=0;D<c0.names.length;D++)m.push({W:r.E.z,R:{d:r.J.zH,E$:"layerstyle",index:[D,0]}});
if(u){m.push({W:r.E.z,R:{d:r.J.zH,E$:"scaleeffects",qf:100,Na:{W:r.E.H,b:b.vW,R:{d:"scaleeffects"}}}});
var C={classID:"Mk",null:hc.Q3("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
m.push({W:r.E.od,R:{ZO:"make",yS:C}})}return m};c$.aiK=function(u){var m=[];if(u)m.push({name:[6,48,0,0],mG:!0},{name:[6,48,0,1],mG:!0},{name:[6,48,0,2],mG:!0,ZR:!0});
for(var C in b1.names)m.push({name:b1.names[C],ZR:b1.O5.indexOf(C)!=-1,mG:t[C]!=null});return m};c$.rH=function(u){var m=[];
if(u){m.push({W:r.E.H,b:b.e9,R:{d:"newfill",X1:0}});for(var D=1;D<3;D++)m.push({W:r.E.od,R:b.kp.ij(D)})}for(var C in b1.names){var Z=a7.Qv(C);
if(Z==null)Z={};for(var q in b1.nR)if(b1.nR[q]==C)Z.classID=q;var J={ZO:"make",yS:{classID:"Mk",null:hc.Q3("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:Z}}}}};
m.push({W:r.E.od,R:J})}return m};function jc(){bi.call(this,"Merge Channels","mergechannels");this.Ox=null;
var u=f.L("div","form");this.body.appendChild(u);this.vJ=[];for(var D=0;D<3;D++){var m=new fq(b1.ql[D],[]);
this.vJ.push(m);u.appendChild(m.m);f.Uy(u)}this.dG=f.WB(this,u)}jc.prototype=new bi;jc.prototype._=function(){bi.prototype._.call(this);
this.dG._();for(var D=0;D<3;D++)this.vJ[D]._()};jc.prototype.B6=function(u,m,C,Z){this.Ox=C;var q=[];
for(var D=0;D<C.length;D++)q.push(C[D].name);for(var D=0;D<3;D++){var J=this.vJ[D];J.D5(q);J.f(Math.min(D,C.length-1))}};
jc.prototype.uz=function(u){var m=this.Ox,C=m[0],Z=new eY(r.E.od,!0);Z.data=gj.yO(C.e,C.n,C.JJ,"Merged Document","Wht",!1);
this.c(Z);var q=[];for(var D=0;D<3;D++)q.push(m[this.vJ[D].Y()].K9());var C=m[m.length-1],J=C.g[0],A=J.buffer;
for(var D=0;D<A.length;D+=4){A[D]=q[0][D];A[D+1]=q[1][D];A[D+2]=q[2][D]}J.G();C.G();this.close()};function e5(){bi.call(this,[1,10],"script");
var u=f.L("div","form");u.setAttribute("style","width:44em");this.body.appendChild(u);this.sU=null;this.tL=[];
this.IY=[];this.a4r;var m=this.Pd=new iG([1,2],!1,null,!0);m.l("click",this.wb,this);u.appendChild(m.m);
var C=new iG("JS Reference",!1,null,!0);C.l("click",this.agp,this);u.appendChild(C.m);u.appendChild(new i7("Demos:").m);
this.amG=[];var Z=e5.ki;for(var D=0;D<Z.length;D++){var q=new iG(Z[D].NQ,!1,null,!0);this.amG.push(q);
u.appendChild(q.m);q.l("click",this.aqU,this)}this.bw=f.L("textarea");f.xC(this.bw);this.bw.setAttribute("rows",16);
this.bw.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");u.appendChild(this.bw);
var J=new iG("Run",!0,null,!0);J.l("click",this.uz,this);u.appendChild(J.m);this.a4g=f.L("div");u.appendChild(this.a4g)}e5.prototype=new bi;
e5.prototype._=function(){this.Pd._()};e5.prototype.wb=function(){var u=this.a4r;if(u==null)u="script.jsx";
var m=new eY(r.E.z,!0);m.data={d:r.J.zH,E$:"namewindow",qf:u.slice(0,u.length-4),LQ:this.ah7.bind(this)};
this.c(m)};e5.prototype.ah7=function(u){var m=this.bw.value,C=M.t2(m),Z=new eY(r.E.z,!0);Z.data={d:r.J.Re,zQ:C.buffer,n2:u+".jsx",at1:!0};
this.c(Z)};e5.prototype.ao7=function(u){var D=this.tL.indexOf(u.target),m=this.a4r=this.IY[D],C=this.sU.J5.Be[m],Z=new Uint8Array(C),q=M.V6(Z,0,Z.length);
this.bw.value=q};e5.prototype.B6=function(u,m,C){this.bw.value=e5.ki[0].y7;this.agN()};e5.prototype.agN=function(){var u=this.sU.J5,m=this.a4g;
f.Da(m);this.tL=[];this.IY=[];m.textContent="Saved scripts: ";for(var C in u.Be){if(C.endsWith(".jsx")){var Z=new iG(C,!1,null,!0);
this.tL.push(Z);this.IY.push(C);Z.l("click",this.ao7,this);m.appendChild(Z.m)}}};e5.prototype.vZ=function(u,m){this.sU=u;
if(m==jO.fK)this.agN()};e5.prototype.agp=function(u){var m=new eY(r.E.z,!0);m.data={d:r.J.VR,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.c(m)};e5.prototype.uz=function(u){var m=new eY(r.E.z,!0);m.data={d:r.J.En,pP:this.bw.value};this.c(m)};
e5.prototype.aqU=function(u){var m=this.amG.indexOf(u.currentTarget);this.bw.value=e5.ki[m].y7};e5.ki=[{NQ:"Hello",y7:"\nalert(\"Hello Photopea!\");\n"},{NQ:"Process Layers",y7:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{NQ:"Clone Layers",y7:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function h8(){bi.call(this,[11,7],"newproject");this.data=null;this.Ox=null;var u=f.L("div","flexrow");
this.zR=u;this.body.appendChild(u);var m=f.L("div","form");this.zJ=m;u.appendChild(m);this.Zr=new jC([12,48],null,10);
m.appendChild(this.Zr.m);f.Uy(m);this.pF=new aP(!0,null,null,null,!0);this.pF.f(new dz(1280,720),72);
this.pF.l(r.E.o,this.oW,this);m.appendChild(this.pF.m);this.Ro=new fh;this.Ro.parent=this;m.appendChild(this.Ro.m);
this.KW=new aG("Artboards");m.appendChild(this.KW.m);this.dG=new iG([12,49],!0,null,!0);this.dG.l("click",this.uz,this);
m.appendChild(this.dG.m);var C=h8.b$,Z=[];for(var D=0;D<C.length;D++)Z.push(C[D].name);this.Qe=new ja(null,Z);
this.Qe.l(r.E.o,this.a6x,this);m.appendChild(this.Qe.m);this.Qe.m.style["margin-top"]="1em";this.tM=new dc(!0);
this.tM.l(r.E.o,this.aqO,this);m.appendChild(this.tM.m);this.a6x();this.eY=new cH;this.eY.parent=this;
this.eY.m.setAttribute("style","margin-left:1em");this.eY.l("tempready",this.a9K,this)}h8.prototype=new bi;
h8.prototype.vZ=function(u,m){this.eY.vZ(u)};h8.prototype.Gb=function(u,m){return new dz(Math.max(0,Math.min(70,(u-690)/2)),u>m?Math.max(0,Math.min(50,(m-400)/2)):0)};
h8.prototype.CC=function(u,m){this.zJ.setAttribute("style","width:"+Math.min(u-24,338)+"px");this.tM.m.style.height=m-248+"px";
var C=this.eY.m,Z=C.parentNode;if(u<500){if(Z!=null)this.zR.removeChild(C)}else{if(Z==null)this.zR.appendChild(C);
this.eY.CC(u-378,m-28)}};h8.prototype.oW=function(){this.eY.f(this.pF.Y())};h8.prototype.aqO=function(u){var m=this.tM.Y()[0],C=h8.b$[this.Qe.Y()].tZ[m],Z=C[4];
if(Z==0)Z=72;var q=C[1],J=C[2],A=["px","%","mm","in"].indexOf(C[3]),n=[1,1,25.4/Z,1/Z][A];q/=n;J/=n;
this.pF.f(new dz(Math.round(q),Math.round(J)),Z);this.pF.a1A(A);this.oW()};h8.prototype.a6x=function(u){var m=h8.b$[this.Qe.Y()].tZ,C=[],Z=[],q=Math.round(106*f.F()),J=Math.round(106*f.F()),A=0;
for(var D=0;D<m.length;D++)A=Math.max(A,m[D][1],m[D][2]);for(var D=0;D<m.length;D++){var n=m[D],N=n[1]+" x "+n[2]+" "+n[3];
if(n[3]=="in")N=(n[1]*25.4).toFixed(0)+" x "+(n[2]*25.4).toFixed(0)+" mm";if(n[3]=="mm")N=(n[1]/25.4).toFixed(1)+" x "+(n[2]/25.4).toFixed(1)+" in";
if(n[4])N=N+" @ "+n[4]+" ppi";Z.push(N);C.push(h8.Dq(n,q,J,A))}this.tM.JM(C,Z,q,J)};h8.Dq=function(u,m,C,Z){var q=f.L("canvas",""),J=q.getContext("2d");
q.width=m;q.height=C;var A=Math.round(m/8),n=Math.floor(11*f.F()),N=u[1],e=u[2];J.fillStyle="#000000";
J.font=Math.round(n*.9)+"px \"Open Sans\", Sans-Serif";var Q=N+" x "+e+" "+u[3],p=J.measureText(Q);J.fillText(Q,Math.round((m-p.width)/2),C-Math.round(A/2));
if(u[0]!=null){J.font="bold "+n+"px \"Open Sans\", Sans-Serif";var Q=u[0],p=J.measureText(Q);J.fillText(Q,Math.round((m-p.width)/2),C-Math.round(A/2)-Math.round(n*1.3))}C-=Math.round(2.5*n);
var B=Math.min((m-A)/N,(C-A)/e);B*=.5+.5*(Math.max(N,e)/Z);var $=(m-N*B)/2,R=(C-e*B)/2;J.strokeRect(Math.round($)+.5,Math.round(R)+.5,Math.round(N*B),Math.round(e*B));
return q.toDataURL()};h8.prototype._=function(){bi.prototype._.call(this);this.pF._();this.Zr._();this.Ro._();
this.dG._();this.Zr.f(jg.get([11,7]));this.Qe._();this.KW._();this.eY._()};h8.prototype.uz=function(u){var m=this.pF.Y(),C=m.x,Z=m.y;
this.close();var q=this.Ro.Y(),J=new eY(r.E.od,!0);J.data=gj.yO(C,Z,this.pF.zq(),this.Zr.Y(),["Wht","Blck","Trns","Clr"][q[0]],this.KW.Y(),q[1]);
this.c(J);this.a1S()};h8.prototype.a9K=function(u){var m=u.data.Uk;m.JJ=this.pF.zq();var C=new eY(r.E.z,!0);
C.data={d:r.J.n1,Uk:m};this.c(C);this.close();this.a1S()};h8.prototype.a1S=function(){var u=this.Ox[this.Ox.length-1],m=this.data.a8T;
if(m)hV.lP(function(){var C=new XMLHttpRequest,Z="https://www.googleapis.com/drive/v3/files?"+hV.uA();
C.open("POST",Z,!0);C.setRequestHeader("Content-Type","application/json");C.addEventListener("load",function(q){var J=JSON.parse(q.target.response);
u.iJ={file:J,fH:"psd"};alert(u.name+" created in Google Drive")});C.send(JSON.stringify({name:u.name,a3V:[m]}))})};
h8.prototype.B6=function(u,m,C,Z){this.Ox=C;if(u!=null&&u.q!=null){var q=new bl(0,0,u.e,u.n).aR(u.q.rect);
this.pF.f(new dz(q.e,q.n))}this.data=m;this.oW();if(f.VP())h9.any(this.adz.bind(this))};h8.prototype.adz=function(u){if(u=="granted")h9.lb(this,this.ao6.bind(this))};
h8.prototype.ao6=function(u,m){this.pF.f(new dz(m.e,m.n))};h8.b$=[{name:"Social",tZ:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],tZ:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],tZ:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],tZ:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],tZ:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],tZ:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",tZ:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function bt(u,m,C){bi.call(this,m,"sel_"+u);this.d=u;var Z=f.L("div","form");this.body.appendChild(Z);
this.Zr=new fc(m,0,255,null,0,!1,!0);Z.appendChild(this.Zr.m);this.Zr.f(1);var q=f.L("span");q.textContent=C;
Z.appendChild(q);f.Uy(Z);this.a8t=new aG("Apply at canvas bounds");if(u!="border")Z.appendChild(this.a8t.m);
this.dG=f.WB(this,Z)}bt.prototype=new bi;bt.prototype.dK=function(u,m){if(u==null)return;if(u.q==null)alert("No selection!");
return u.q!=null};bt.prototype.uz=function(u){var m=new eY(r.E.od,!0);m.data=b.No.amB(this.d,this.Zr.Y(),this.a8t.Y());
m.Ua=!0;this.c(m);this.close()};bt.prototype._=function(){bi.prototype._.call(this);this.dG._();if(this.Zr)this.Zr._()};
bt.prototype.B6=function(u,m){};function jU(u,m,C,Z,q,J){bi.call(this,C,m);this.akS=J;this.vC=q;this.b$=null;
this.zJ=f.L("div","form");this.body.appendChild(this.zJ);this.Zr=u==0?new jC(C,null,10):u==1?new fF(C,0,500,Z,1):new jC(C,null,24,5);
this.Zr.l(r.E.o,this.vm,this);this.zJ.appendChild(this.Zr.m);this.dG=f.WB(this,this.zJ);this.l("closebtn",this.rA,this)}jU.prototype=new bi;
jU.prototype.Gb=function(u,m){return new dz(Math.max(0,Math.min(150,(u-250)/2)),Math.max(0,Math.min(150,(m-120)/2)))};
jU.prototype.sZ=function(){return this.akS};jU.prototype.vm=function(u){var m=this.Zr.Y();if(this.vC)this.U2(m)};
jU.prototype.rA=function(u){if(this.vC)this.U2("cancel")};jU.prototype.uz=function(u){if(this.vC)this.U2("confirm");
else this.U2(this.Zr.Y());this.close()};jU.prototype.U2=function(u){if(this.b$.LQ)this.b$.LQ(u);else if(this.b$.Na){var m=this.b$.Na,C=new eY(m.W,!0);
C.b=m.b;C.data=m.R;C.data.k=u;C.Ua=!0;this.c(C)}};jU.prototype._=function(){bi.prototype._.call(this);
this.dG._();if(this.Zr)this.Zr._()};jU.prototype.B6=function(u,m){this.b$=m;this.Zr.f(m.qf);this.Zr.ti();
this.vm(null)};function c7(){bi.call(this,[1,5],"open_from_url");this.fM=null;var u=f.L("div","form");
this.body.appendChild(u);this.FG=new jC("URL",null,22);u.appendChild(this.FG.m);f.Uy(u);this.Xh=new ja([21,0],[[21,2],[21,1]]);
u.appendChild(this.Xh.m);this.dG=f.WB(this,u)}c7.prototype=new bi;c7.prototype._=function(){bi.prototype._.call(this);
this.dG._();this.Xh._()};c7.prototype.B6=function(u,m,C){this.FG.ti();this.fM=null;if(u&&C.indexOf(u)!=-1)this.fM=C.indexOf(u)};
c7.prototype.uz=function(u){var m=new eY(r.E.z,!0),C=this.FG.Y();m.data={d:r.J.x2,no:{url:C,u5:!0,fM:this.Xh.Y()==1?this.fM:null}};
this.c(m);this.close()};function dQ(){bi.call(this,[12,79],"preferences");this.sU=null;var u=f.L("div","form");
this.body.appendChild(u);this.EN=[new aG([8,2]),new aG([8,4]),new fq([12,80,3],[[12,93,3],[12,80,4]]),new fF([12,80,5],1,100,null,2),new fq(null,j.KX.Qx),new fq([12,80,6],j.KX.Qx),new aG("Remind me to save")];
for(var D=0;D<this.EN.length;D++){var m=this.EN[D];u.appendChild(m.m);if(D!=3)f.Uy(u);m.l(r.E.o,this.Pp,this)}}dQ.prototype=new bi;
dQ.prototype._=function(){bi.prototype._.call(this);for(var D=0;D<this.EN.length;D++)this.EN[D]._()};
dQ.prototype.B6=function(u,m,C){};dQ.prototype.vZ=function(u,m){this.sU=u;this.EN[0].f(u.SM.lZ);this.EN[1].f(u.SM.eT);
this.EN[2].f(u.SM.FF);this.EN[3].f(u.SM.Z3);this.EN[4].f(u.SM.GO);this.EN[5].f(u.SM.Pb);this.EN[6].f(u.V$==1)};
dQ.prototype.Pp=function(u){var m=this.EN;if(u.target==m[6])this.sU.V$=1-this.sU.V$;var C=JSON.parse(JSON.stringify(this.sU.SM));
C.lZ=m[0].Y();C.eT=m[1].Y();C.FF=m[2].Y();C.Z3=m[3].Y();C.GO=m[4].Y();C.Pb=m[5].Y();if(C.GO!=4)C.Z3=Math.round(C.Z3);
var Z=new eY(r.E.z,!0);Z.data={d:r.J.mh,no:jO.ZL,Qc:C};this.c(Z)};function iQ(){bi.call(this,[11,8],"saveforweb");
this.a6W="";this.l("closebtn",function(){this.BL.mH()},this);this.KB=new dz(512,512);this.Uk=null;this.JA=null;
this.a51=null;this.sU=null;f.Ky(this.body,"flexrow");var u=f.L("div"),m=f.L("div");this.body.appendChild(u);
this.body.appendChild(m);this.vq=f.L("div","imgcont");u.appendChild(this.vq);this.BL=new cv;this.BL.CC(this.KB.x,this.KB.y);
this.vE=f.L("span");u.appendChild(this.vE);this.zJ=f.L("div","form cell");this.zJ.setAttribute("style","width:15em; padding-left:1em;");
m.appendChild(this.zJ);this.k_=new fq([12,50],d4.bs());this.zJ.appendChild(this.k_.m);this.k_.l(r.E.o,this.iS,this);
this.pF=new aP(!0,!0,!1,!0);this.pF.l(r.E.o,this.iS,this);this.zJ.appendChild(this.pF.m);this.ut=new e8;
this.ut.l(r.E.o,this.iS,this);this.zJ.appendChild(this.ut.m);this.DZ=new iG([1,2],!0,null,!0);this.DZ.l("click",this.uz,this);
this.zJ.appendChild(this.DZ.m)}iQ.prototype=new bi;iQ.prototype.dK=function(u,m){return u!=null};iQ.prototype._=function(){bi.prototype._.call(this);
this.pF._();this.k_._();this.ut._();this.DZ._()};iQ.prototype.uz=function(u){var m=this.Uk.name,C=m.lastIndexOf("."),m=C==-1?m:m.slice(0,C),Z=d4.bs()[this.k_.Y()],q=Z=="JPG"||Z=="PNG"||Z=="GIF",J=d4.X5(Z),A="."+Z.toLowerCase(),n=this.JA,N=m+A,e=this.Uk,Q=e.$o;
if(Q.length!=0&&q&&this.ut.Y().pop()){var p="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",B=[],$={},R=new bl(0,0,e.e,e.n),z=e.K9();
for(var D=0;D<Q.length;D++)B.push(b.JN.cy(Q,D));B.reverse();var v=j.rect.Zp([0,0,e.e,e.n],B);for(var D=0;
D<v.length;D++){var a=v[D],X=new bl(a[0],a[1],a[2]-a[0],a[3]-a[1]),V=a.length==5?Q[a[4]].v:null,o=j.U(X.Z()*4);
j.zO(z,R,o,X);var h="img/img"+(D+1)+A;$[h]=new Uint8Array(J.c2([[o.buffer,0]],X.e,X.n,this.ut.Y()));
p+="<div style=\"background-image:url('"+h+"'); left:"+X.x+"px; top:"+X.y+"px; width:"+X.e+"px; height:"+X.n+"px\">";
if(V&&V.url.v!="")p+="\n\t<a href=\""+V.url.v+"\" target=\""+V.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
p+="</div>\n"}p+="</body>\n</html>\n";var T=j.U(Math.round(p.length*1.5)),l=M.ic(p,T,0);$["index.html"]=T.slice(0,l);
n=UZIP.encode($);N=m+".zip"}else if(e.add.artd&&e.add.artd.Cnt.v>1&&q&&this.ut.Y().pop()){var $={},R=new bl(0,0,e.e,e.n),z=e.K9(),w=e.root.children;
for(var D=0;D<w.length;D++){var W=w[D].i;if(W.add.artb==null||!W.cG())continue;var U=W.M_(),s=j.U(U.Z()*4);
j.zO(z,R,s,U);$[W.getName()+A]=new Uint8Array(J.c2([[s.buffer,0]],U.e,U.n,this.ut.Y()))}n=UZIP.encode($);
N=m+".zip"}if(e.Mo){var S=new XMLHttpRequest;S.open("GET","/papi/img/update.php?act=1&id="+e.Mo+"&rnd="+Math.random());
S.send()}var x=new eY(r.E.z,!0);x.data={d:r.J.h9,data:n,name:N};this.c(x);this.BL.mH();this.close()};
iQ.prototype.B6=function(u,m){if(m.uM!=null)this.k_.f(m.uM);this.Uk=u;var C=u.e+","+u.n;if(C!=this.a6W){this.a6W=C;
this.pF.f(new dz(u.e,u.n),u.JJ)}this.ut.a9m();if(m.ade){this.pF.a1A(3);this.ut.Kt.PDF[2].ao.f(!0)}this.iS(null,!0)};
iQ.prototype.Gb=function(u,m){return new dz(Math.max(0,Math.min(150,(u-770)/2)),Math.max(0,Math.min(150,(m-590)/2)))};
iQ.prototype.CC=function(u,m){this.du=u;this.Oh=m;this.KB.x=Math.min(512,u-26-214);this.KB.y=Math.min(512,m-45);
if(this.Uk==null)return;var C=this.pF.Y(),u=C.x,m=C.y,Z=d4.bs()[this.k_.Y()],q=d4.X5(Z),p="<span style=\"width:",B="display:inline-block; text-align:right;\">";
if(q.x5){var J=u,A=m,n;if(Z=="PDF"||q.e3){J=this.KB.x;A=this.KB.y}else{J=Math.min(u+20,this.KB.x);A=Math.min(m+20,this.KB.y)}this.vq.firstChild.setAttribute("style","display:block; width:"+J+"px; height:"+A+"px;")}else{if(q.e3){J=this.KB.x;
A=this.KB.y}else{var N=this.a51,e=N[0].WL,J=e.e,A=e.n;this.BL.CC(Math.max(50,Math.min(J/f.F(),this.KB.x)),Math.max(50,Math.min(A/f.F(),this.KB.y)))}}var Q=this.JA.byteLength,$=Z+":"+p+64+"px;"+B+iQ.ms(Q)+"</span>";
if(this.KB.x>200)$+=p+90+"px; opacity:"+.5+";"+B+Q.toLocaleString()+" B</span>";this.vE.innerHTML=$};
iQ.ms=function(u){var m=u.toString(2),C=0;while(C+10<m.length)C+=10;var Z=(u/Math.pow(2,C)).toFixed(1),q="B KB MB GB TB PB".split(" ")[Math.floor(C/10)];
return Z+" "+q};iQ.prototype.vZ=function(u,m){this.sU=u};iQ.prototype.iS=function(u,m){var C=this.Uk,Z=this.pF.Y(),q=Z.x,J=Z.y,A=this.k_.Y(),n=d4.bs()[A],N=d4.si(C)[0].length,e=["GIF","PNG","WEBP"].indexOf(n)!=-1&&N>1,z="";
if(e&&m&&(N>4&&q*J>1024*1024||q*J*N>800*800*50)){var Q=1;while(Math.max(q>>>Q,J>>>Q)>800)Q++;var p=window.confirm("Your animation is large ("+q+" x "+J+" px). Press \"OK\" to scale it to "+(100>>>Q)+"%. Press \"Cancel\" to keep the size.");
if(p){this.pF.f(new dz(q>>>Q,J>>>Q),null,!0);q=q>>>Q;J=J>>>Q}}var B=C.add.artd,$=B!=null&&B.Cnt.v>1;
this.ut.alV(n,e,C.$o.length!=0,$);var R=this.ut.Y();this.JA=d4.Qs(C,n,q,J,R,this.sU);if(this.JA==null){this.Uk=null;
return}f.Da(this.vq);this.BL.mH();var v=d4.X5(n);if(v.e3){this.vq.innerHTML="<div></div>";z+="width:0px"}else if(v.x5){var a=q,X=J,V;
if(n=="PDF"){V=URL.createObjectURL(new Blob([this.JA],{type:"application/pdf"}))}else{V=URL.createObjectURL(new Blob([this.JA],{type:"image/svg+xml"}))}this.vq.innerHTML="<iframe src=\""+V+"\"></iframe>"}else{var o=this.a51=v.Pl(this.JA),h=o[0].WL,a=h.e,X=h.n;
this.BL.f(o,o.length>1?R[R.length-3]:0);this.vq.appendChild(this.BL.m);z="background: rgba(0,0,0,0);"}this.vq.setAttribute("style","display:block; background-size:"+16/f.F()+"px;"+z);
this.CC(this.du,this.Oh)};function aL(){bi.call(this,[11,13],"shortcuts");var u=this.zR=f.L("div","scrollable");
u.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(u);
this.alR()}aL.prototype=new bi;aL.prototype._=function(){bi.prototype._.call(this);this.alR()};aL.prototype.alR=function(){var u="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",m="",C=hs,Z=C.Vw,q=C.KP,J=C.mD;
m+="<h2 style=\"margin-top:0;\">Main Menu</h2>";m+=u;m+=this.cj([[0,0],"---",[1,0],[Z,C.pj],[1,2],[Z,C.Jw],[1,3],[q,Z,C.Jw],[1,8],[J,q,Z,C.Jw],[0,1],"---",[2,0],[q,Z,C.eU],[2,1],[Z,C.eU],[5,0],[Z,C.xL],[5,1],[Z,C.c5],[5,2],[Z,C.IQ],[2,2],"Delete",[2,3],[J,C.A_],[10,16],[J,Z,C.zi],[12,79],[Z,C.Lt],[3],"---",[4,1],[Z,C.nI],[4,2],[Z,C.RM],[4,5],[Z,C.BB],[4,11],[Z,C.El],[0,3],"---",[6,13],[q,Z,C.M8],[6,49,0],[Z,C.aD],[6,6,0],[J,Z,C.re],[6,9],[Z,C.re],[6,10],[Z,C.E],[0,5],"---",[7,0],[Z,C.J],[7,1],[Z,C.mE],[7,2],[q,Z,C.El],[0,7],"---",[8,0],[Z,C.IA],[8,1],[Z,C.Tw],[8,3],[Z,C.Sc],[8,2],[Z,C.A2],[8,4],[Z,C.es],[11,13],"?"]);
m+="</div>";m+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";m+=u;m+=this.cj(["Vertical scroll","Wheel","Horizontal scroll",[Z,"Wheel"],"Zooming",[J,"Wheel"]]);
m+="</div>";m+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
m+=u;m+=this.cj([[10,11],[Z],[10,7],"Space",[10,17],[Z,C.tH]]);m+="</div>";m+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
m+=u;var A=aL.K,n=[];for(var D=0;D<A.length;D+=3)if(A[D+1])n.push(A[D],A[D+1]);n=n.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
m+=this.cj(n);m+="</div>";this.zR.innerHTML=m};aL.prototype.cj=function(u){var m="",C=!0;for(var D=0;
D<u.length;D+=2){var Z=u[D],q=hs.yY(u[D+1]);if(q==null){C=!1;continue}var J=f.sn(jg.get(Z));if(q=="---"){if(!C)m+="<br/>";
m+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+J+"</div>"}else m+="<div>"+J+" <span style=\"float:right; font-weight:bold;\">"+q+"</span> </div>";
C=!1}return m};aL.K=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function d5(){bi.call(this,[8,11,1],"soptions");this.aL=null;var u=f.L("div","form");u.style.width="20em";
this.body.appendChild(u);this.Q8={Nm:[12,48],url:"URL",null:[12,71]};this.EN={};for(var m in this.Q8){var C=new jC(this.Q8[m],null,15);
this.EN[m]=C;u.appendChild(C.m)}this.dG=f.WB(this,u)}d5.prototype=new bi;d5.prototype.B6=function(u,m,C){var Z=m.k;
this.aL=JSON.stringify(Z);for(var q in this.Q8){if(Z[q])this.EN[q].f(Z[q].v)}};d5.prototype.uz=function(u){var m=JSON.parse(this.aL);
for(var C in this.Q8){var Z=this.EN[C].Y();m[C]={t:"TEXT",v:Z}}var q=new eY(r.E.H,!0);q.b=b.e4;q.data=m;
q.Ua=!0;this.c(q);this.close()};d5.prototype._=function(){bi.prototype._.call(this);this.dG._()};function eB(){bi.call(this,[2,3],"fill");
this.sU=null;this.Jp=null;var u=f.L("div","form padded");u.style.width="22em";this.body.appendChild(u);
this.fq="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.Nn=new fq([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.Nn.l(r.E.o,this.a6h,this);u.appendChild(this.Nn.m);this.vq=f.L("span");u.appendChild(this.vq);this.H6=new df;
this.H6.parent=this;this.H6.HN(0);this.MS=new gR;this.MS.parent=this;this.uN=new fq([12,19,0],hR.Pc,!1,hR.gQ);
u.appendChild(this.uN.m);this.Yk=new fF([12,0],0,100,"%",0,!1);this.Yk.f(100);u.appendChild(this.Yk.m);
this.lt=new aG([13,5]);this.lt.f(!1);u.appendChild(this.lt.m);this.dG=f.WB(this,this.body)}eB.prototype=new bi;
eB.prototype.dK=function(u,m){return u!=null};eB.prototype.sZ=function(){return!0};eB.prototype.a6h=function(){var u=this.Nn.Y(),m=this.H6.m,C=this.MS.m,Z=this.vq;
if(u==2)Z.appendChild(m);else if(Z.contains(m))Z.removeChild(m);if(u==7)Z.appendChild(C);else if(Z.contains(C))Z.removeChild(C)};
eB.prototype._=function(){bi.prototype._.call(this);this.Nn._();this.uN._();this.Yk._();this.dG._()};
eB.prototype.uz=function(u){if(!this.Jp.w0())return;var m=new eY(r.E.od,!0),C=this.Nn.Y();m.data=b.Zg.ij(this.fq[C],hR.AO[this.uN.Y()],this.Yk.Y()/100,this.H6.Y(),this.lt.Y(),this.MS.Y());
this.close();this.c(m)};eB.prototype.B6=function(u,m){this.Jp=u};eB.prototype.vZ=function(u,m){this.sU=u;
if(m==jO.LY||m==jO.ZM){this.MS.Ie(u.Q1);this.MS.f({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function bq(){bi.call(this,[14,9],"stroke");this.sU=null;this.zJ=f.L("div","form");this.zJ.setAttribute("style","width:24em");
this.body.appendChild(this.zJ);this.y2=new dn("FrFX",!0);this.y2.parent=this;var u=["Sz","Styl","Md","Opct"].concat(c0.wP);
for(var D=0;D<u.length;D++){var m=this.y2.ZY[u[D]].m;this.zJ.appendChild(m)}this.me=!1;this.dG=f.WB(this,this.body)}bq.prototype=new bi;
bq.prototype.dK=function(u,m){return u!=null};bq.prototype.sZ=function(){return!0};bq.prototype._=function(){bi.prototype._.call(this);
this.dG._();this.y2._()};bq.prototype.uz=function(u){var m=new eY(r.E.H,!0);m.b=b.KR;m.data={d:"stroke",a93:this.y2.Y()};
this.close();this.c(m)};bq.prototype.B6=function(u,m){if(!this.me){var C=c0.j_[c0.order.indexOf("FrFX")];
C=JSON.parse(C);this.y2.update(u,C);this.me=!0}var C=this.y2.Y(),Z=this.sU.jM;C.Clr.v=j.C.sG({p:Z>>16&255,T:Z>>8&255,S:Z&255});
this.y2.update(u,C)};bq.prototype.vZ=function(u,m){this.sU=u};function dO(){bi.call(this,[11,9],"textwarp");
this.EN=new iu;this.EN.l(r.E.o,this._g,this);this.EN.parent=this;this.zJ=f.L("div","form");this.zJ.setAttribute("style","width:20em");
this.body.appendChild(this.zJ);this.zJ.appendChild(this.EN.II.m);this.zJ.appendChild(this.EN.Bj.m);this.zJ.appendChild(this.EN.Qw.m);
this.zJ.appendChild(this.EN.CP.m);this.zJ.appendChild(this.EN.hX.m);this.dG=f.WB(this,this.zJ);this.l("closebtn",this.rA,this)}dO.prototype=new bi;
dO.prototype.sZ=function(){return!0};dO.prototype._=function(){bi.prototype._.call(this);this.dG._();
this.EN._()};dO.prototype._g=function(u){var m=this.EN.Y();this.U2({d:"warp",x0:m})};dO.prototype.U2=function(u){var m=new eY(r.E.H,!0);
m.b=b.IR;m.data=u;m.Ua=!0;this.c(m)};dO.prototype.rA=function(u){this.U2({d:"warpCancel"})};dO.prototype.uz=function(u){this.U2({d:"warpConfirm"});
this.close()};dO.prototype.B6=function(u,m){var C=u.g[u.w[0]];this.EN.f(C.add.TySh.av)};function bo(){bi.call(this,[11,12,0],"trim");
var u=this.zJ=f.L("div","form");this.zJ.setAttribute("style","width:22em");this.body.appendChild(this.zJ);
var m=new i7("Color To Trim:");u.appendChild(m.m);this.kq=new jI(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.kq.f([!0]);this.zJ.appendChild(this.kq.m);var m=new i7("Sides:");u.appendChild(m.m);this.gw=new jI(null,["Top","Left","Bottom","Right"]);
this.gw.f([!0,!0,!0,!0]);this.zJ.appendChild(this.gw.m);this.dG=f.WB(this,this.body)}bo.prototype=new bi;
bo.prototype.dK=function(u,m){return u!=null};bo.prototype.sZ=function(){return!0};bo.prototype._=function(){bi.prototype._.call(this);
this.kq._();this.gw._();this.dG._()};bo.prototype.uz=function(u){var m=this.kq.Y().indexOf(!0),C=this.gw.Y(),Z=new eY(r.E.od,!0);
Z.data=b.pB.QP(m,C);this.close();this.c(Z)};function hY(){bi.call(this,"Raw Photopea","rawpea");this.Ee=null;
this.jU=null;this.D9=null;this.Tt=0;this.oK=null;this.A3=null;this.aqF=500;this.a6p=500;this.a9i=0;this.l("closebtn",this.Xr,this);
f.Ky(this.body,"flexrow");var u=f.L("div"),m=f.L("div"),Z="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
m.setAttribute("style","padding-left: 1em");this.body.appendChild(u);this.body.appendChild(m);this.O=f.L("canvas");
u.appendChild(this.O);this.VT=new dq(225);this.VT.$R(4);m.appendChild(this.VT.m);this.zJ=f.L("div");
this.zJ.setAttribute("style","width:18em;");m.appendChild(this.zJ);this.atA=new i7("Hi",!0);this.zJ.appendChild(this.atA.m);
this.bM=[new hA("Temperature",2e3,13e3),new hA("Tint",-150,150),new hA([4,3],-4,4,null,!0),new hA([12,3,0],-100,100)];
for(var D=0;D<this.bM.length;D++){var C=this.bM[D];C.f(0);C.l(r.E.o,this.L9,this);this.zJ.appendChild(C.m);
if(D==1)this.zJ.appendChild(f.L("hr"))}this.dG=new iG([1,0],!0,null,!0);this.dG.l("click",this.uz,this);
this.zJ.appendChild(this.dG.m);this.yI=new iG(Z+" JPG",!0,null,!0);this.yI.l("click",this.ale,this);
this.zJ.appendChild(this.yI.m);this.yI.m.style.marginTop="6px"}hY.prototype=new bi;hY.prototype.Gb=function(){return new dz(0,0)};
hY.prototype.CC=function(u,m){this.aqF=u-274;this.a6p=m-32;if(this.Ee)this.ar2()};hY.prototype._=function(){bi.prototype._.call(this);
this.dG._();for(var D=0;D<this.bM.length;D++)this.bM[D]._()};hY.prototype.ale=function(u){var m=this.Ee,C=this.jU,Z=j.U(m.width*m.height*4);
j.gs(Z,4294967295);j.raw.wO(C,Z,m,this.GG());var q=d4.X5("JPG").c2([[Z.buffer]],C.B5,C.Hg,[85]),J=new eY(r.E.z,!0);
J.data={d:r.J.h9,data:q,name:"photo.jpg"};this.c(J)};hY.prototype.uz=function(u){var m=this.Ee,C=this.jU,Z=j.U(m.width*m.height*4);
j.gs(Z,4294967295);j.raw.wO(C,Z,m,this.GG());var q=bG.XL(m),m={WL:new bl(0,0,C.B5,C.Hg),data:Z.buffer,wn:q},J=d4._6("Raw Photo",[m]),A=new eY(r.E.z,!0);
A.data={d:r.J.n1,Uk:J};this.c(A);this.Xr();this.close()};hY.prototype.Xr=function(){this.Ee=null;this.jU=null;
this.oK=null;this.A3=null};hY.prototype.B6=function(u,m,C,Z){this.Ee=m.p8;this.jU=j.raw.aa5(this.Ee);
var q=this.jU;this.atA.f(q.B5+" x "+q.Hg+", "+(q.B5*q.Hg/1e6).toFixed(1)+" MPx");var J=j.raw.ajG(m.p8);
this.D9=eQ.A7(J);this.bM[0].f(this.D9.BH);this.bM[1].f(this.D9.ep);for(var D=2;D<this.bM.length;D++)this.bM[D].f(0);
this.ar2()};hY.prototype.vZ=function(u,m){this.VT.HN(dF.Kz[u.nv]["--text-color"])};hY.prototype.ar2=function(){var u=this.jU,m=u.B5,C=u.Hg,Z=1;
while(m/Z>this.aqF*f.F()||C/Z>this.a6p*f.F())Z++;if(this.a9i==Z&&this.oK)return;this.a9i=Z;var q=Math.floor(m/Z),J=Math.floor(C/Z);
this.oK={bf:new Float32Array(q*J*3),B5:q,Hg:J};var A=this.O.getContext("2d");this.A3=j.U(q*J*4);j.gs(this.A3,4294967295);
var n=1/(Z*Z);for(var N=0;N<J;N++)for(var e=0;e<q;e++){var Q=0,p=0,B=0,$=(e+1)*Z,R=(N+1)*Z;for(var z=N*Z;
z<R;z++)for(var v=e*Z;v<$;v++){var a=(z*m+v)*3;Q+=this.jU.bf[a];p+=this.jU.bf[a+1];B+=this.jU.bf[a+2]}var X=(N*q+e)*3;
this.oK.bf[X]=Q*n;this.oK.bf[X+1]=p*n;this.oK.bf[X+2]=B*n}this.L9()};hY.prototype.L9=function(){var u=this.Ee,m=this.oK.B5,C=this.oK.Hg,Z=m*C,q=this.O,J=q.getContext("2d");
q.width=m;q.height=C;f.iz(q,m,C);j.raw.wO(this.oK,this.A3,u,this.GG());J.putImageData(new ImageData(new Uint8ClampedArray(this.A3.buffer),m,C),0,0);
var A=j.hW(this.A3);for(var D=0;D<4;D++)for(var n=1;n<256;n++)if(A[D][n]==0)A[D][n]=A[D][n-1];for(var D=0;
D<4;D++)for(var n=1;n<256;n++)if(A[D][n]==0)A[D][n]=A[D][n-1];this.VT.f(A)};hY.prototype.GG=function(){var u=[];
for(var D=0;D<this.bM.length;D++)u.push(this.bM[D].Y());return u};function aW(u){bi.call(this,u?[11,11,0]:[11,11,1],u?"vbitmap":"rcolors");
this.b$=null;this.hy=null;this.uT=null;this.sJ=null;this.fr=null;this.alU=null;this.nJ=null;this.vJ="";
this.v1=u;this._w=this.yc.bind(this);this.body.style.padding="0";this.zJ=f.L("div","form hbar padded");
this.body.appendChild(this.zJ);var m=this.Tr={cnum:new fc([12,82],2,50,null),nois:new aG([12,81]),mode:new fq(null,["Cartoon","Photo"]),segm:new aG("Segmentize"),poly:new aG("Polygon"),polE:new fc("Roughness",2,30,null),ok:f.WB(this,null,!1)},J=16;
for(var C in m){var Z=m[C];Z.parent=this;if(C!="ok")Z.l(r.E.o,this.yc,this)}var q=this.vt=f.L("div","flexrow");
this.body.appendChild(q);this.nD=new cv;this.nD.l("viewchange",this.zc,this);this.NB=new cv;this.O=f.L("canvas");
this.O.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");this.O2=this.O.getContext("2d");
var A=j.U(16*16*4);j.Iu(A,J,J,8);this.g4=j.scale.Hm(A,J,J);this.nD.atq(this.O);this.nD.Fp(this.NB);this.NB.Fp(this.nD);
q.appendChild(this.nD.m);if(u)q.appendChild(this.O);else q.appendChild(this.NB.m)}aW.prototype=new bi;
aW.prototype.Gb=function(){return new dz(0,0)};aW.prototype.sZ=function(){return!0};aW.prototype.CC=function(u,m){this.du=u;
this.Oh=m;m=m-44;if(u<600)m-=29;if(this.b$==null)return;var C=this.b$.WL,Z=bA.akx(u,m,C.e,C.n);if(Z==1)m-=3;
if(Z==0){u=Math.floor(u/2);f.Ky(this.vt,"flexrow")}else{m=Math.floor(m/2);f.Jq(this.vt,"flexrow")}f.hs(this.O,u,m);
this.nD.CC(u,m);if(this.v1)this.zc();else this.NB.CC(u,m)};aW.prototype.St=function(u,m,C,Z){this.nD.St(Z)};
aW.prototype._=function(){bi.prototype._.call(this);for(var u in this.Tr)this.Tr[u]._()};aW.prototype.B6=function(u,m){this.nJ=u;
this.fr=null;var C=u.g[u.w[0]],Z=j.xG.Az(C.buffer.buffer,C.rect.e,C.rect.n).aqp,q=Z/((C.rect.e-2)*(C.rect.n-2)),J=this.Tr;
J.cnum.f(20);J.nois.f(q<.75);J.mode.f(q<.75?1:0);J.segm.f(!1);J.poly.f(!1);J.polE.f(1);var A=C.rect.clone();
A.x=A.y=0;this.b$={WL:A,data:C.buffer.buffer.slice(0)};this.hy=null;this.CC(this.du,this.Oh);this.nD.f([this.b$]);
this.nD.FN();setTimeout(this._w,20)};aW.prototype.yc=function(){var u=!0,m=Date.now(),C=this.b$,Z=this.Tr,q=Z.cnum.Y(),J=Z.nois.Y(),A=Z.mode.Y(),n=Z.segm.Y(),N=Z.poly.Y(),e=Z.polE.Y(),l=null;
if(A==0)n=N=!1;var Q=["cnum","nois","mode"];if(A==1){Q.push("segm");if(this.v1){Q.push("poly");if(N)Q.push("polE")}}Q.push("ok");
f.Da(this.zJ);for(var D=0;D<Q.length;D++)this.zJ.appendChild(Z[Q[D]].m);if(u)console.log("---------------------------------------");
var p=J||n,B=J+","+n;if(p&&(this.hy==null||this.vJ!=B)){this.vJ=B;var $=new Uint8Array(C.data),R=C.WL.e,z=C.WL.n;
if(J){if(this.fr==null){this.fr=$.slice(0);j.ev.XU(this.fr,this.fr,R,z,15,j.ev.xq,[35]);if(u){console.log("denoise",Date.now()-m);
m=Date.now()}}$=this.fr.slice(0)}else $=$.slice(0);if(n){var v=j.xG.xb($,R,z,40,10),a=v.Lt,X=new Uint8Array(a*4);
for(var D=0;D<a;D++){var V=D*4,o=D*6,h=1/v.lj[o+5];X[V]=v.lj[o]*h;X[V+1]=v.lj[o+1]*h;X[V+2]=v.lj[o+2]*h}for(var D=0;
D<$.length;D+=4){var T=v.Qa[D>>>2]*4;$[D]=X[T];$[D+1]=X[T+1];$[D+2]=X[T+2]}if(u){console.log("segm",Date.now()-m);
m=Date.now()}}this.hy={WL:C.WL.clone(),data:$.buffer}}if(p)C=this.hy;var $=new Uint8Array(C.data),R=C.WL.e,z=C.WL.n;
for(var D=0;D<$.length;D+=4){if($[D+3]<10)$[D]=$[D+1]=$[D+2]=$[D+3]=0}if(A==0){l=j.xG.ama($,R,z,q,p?.1:2e-4);
if(u){console.log("quantize",Date.now()-m);m=Date.now()}}else{l=b5.iZ($.buffer,q,R,z)}if(this.v1){var w=l.Qa.slice(0);
for(var D=0;D<w.length;D++)w[D]++;var W=new Uint8Array((R+2)*(z+2));j.j5(w,new bl(1,1,R,z),W,new bl(0,0,R+2,z+2));
if(!N){var U=Math.round((R+2)*(z+2)/1e4),s=d1.hw(W.slice(0),R+2,z+2,Math.min(12,U)),S=d1.yG(s);if(u){console.log("trace smooth",Date.now()-m);
m=Date.now()}}else{var S=j.u.VS(W,R+2,z+2,e,u)}var x=S.length,P=new ix(1,0,0,1,-1,-1);for(var D=0;D<x;
D++)j.u.I(S[D].path.s,P,S[D].path.s);this.sJ=S;this.uT=l;for(var D=0;D<x;D++){var y=S[D];for(var _=D+1;
_<x;_++){var g=S[_];if(g.parent==D&&l.BJ[g.color-1].est.q[3]<.05){var G=g.path.X.slice(1);G.reverse();
G=["M"].concat(G);var O=[],s=g.path.s.length;for(var E=0;E<s;E+=2){O[E]=g.path.s[s-2-E];O[E+1]=g.path.s[s-2-E+1]}j.u.concat(y.path,{s:O,X:G})}}}if(u){console.log("finding holes",Date.now()-m);
m=Date.now()}for(var D=0;D<S.length;D++){var y=S[D],L=l.BJ[y.color-1].est.q;if(L[3]<=.05){S.splice(D,1);
D--;continue}}for(var D=1;D<S.length;D++){var c=S[D-1],y=S[D];if(c.color==y.color){j.u.concat(c.path,y.path);
S.splice(D,1);D--;continue}}this.zc()}else{var k=new Uint32Array(R*z),I=R*z;for(var D=0;D<I;D++){var Y=l.BJ[l.Qa[D]];
k[D]=Y.est.rgba}this.alU=new Uint8Array(k.buffer);this.NB.f([{WL:C.WL,data:k.buffer}])}};aW.prototype.zc=function(u){if(this.sJ==null)return;
var m=this.b$.WL.e,C=this.b$.WL.n,Z=this.sJ,q=this.uT.BJ,J=this.O,A=this.O2,n=this.nD.r5();A.setTransform(1,0,0,1,0,0);
A.clearRect(0,0,J.width,J.height);A.translate(J.width/2,J.height/2);A.scale(n.V,n.V);A.translate(n.r.x/n.V-m/2,n.r.y/n.V-C/2);
A.scale(1/n.V,1/n.V);A.fillStyle=this.g4;A.fillRect(0,0,m*n.V,C*n.V);A.scale(n.V,n.V);var N=[];for(var D=0;
D<q.length;D++){var e=q[D].est.q;N.push({p:Math.round(255*e[0]),T:Math.round(255*e[1]),S:Math.round(255*e[2]),w7:Math.round(255*e[3])})}for(var D=0;
D<Z.length;D++){var Q=Z[D],e=N[Q.color-1];if(e.w7==0)continue;A.fillStyle="rgba("+e.p+","+e.T+","+e.S+","+e.w7/255+")";
A.beginPath();Typr.U.pathToContext({crds:Q.path.s,cmds:Q.path.X},A);A.fill()}};aW.prototype.uz=function(u){var m=this.nJ,C=m.w[0],Z=m.g[C],q=new eY(r.E.H,!0);
q.Ua=!0;q.b=b.IZ;if(this.v1){var J=this.sJ,A=J.length==1,n=m.g.slice(0,C);if(!A)n.push(m.B$());for(var D=0;
D<J.length;D++){var N=J[D],e=this.uT.BJ[N.color-1].est.q;j.u.I(N.path.s,new ix(1,0,0,1,Z.rect.x,Z.rect.y),N.path.s);
var Q=m.Rp();Q.RS("Path "+D);n.push(Q);Q.opacity=Math.round(e[3]*255);Q.VO|=16;Q.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.C.sG({p:255*e[0],T:255*e[1],S:255*e[2]})}};
Q.add.vmsk=new F.nq;Q.add.vstk=JSON.parse(JSON.stringify(c0.K_.default));Q.add.vmsk.B=j.u.DA(N.path,!1);
Q.add.vogk=[];Q.yz();Q.uE(m)}var p=n[n.length-1];if(!A){var Q=m.Rp();Q.RS(Z.getName());Q.add.lsct=cT.G6;
Q.Um="pass";Q.VO=24;n.push(Q);p=Q}var B=Z.add.lmfx;if(B)p.add.lmfx=JSON.parse(JSON.stringify(B));for(var D=C+1;
D<m.g.length;D++)n.push(m.g[D]);q.data={d:F.Y7,$m:n,i9:[C+J.length+(A?-1:1)],wy:[11,11,0]}}else{var n=m.g.slice(0),Q=m.Rp();
Q.RS(Z.getName());n.splice(m.w[0]+1,0,Q);Q.rect=Z.rect.clone();Q.buffer=this.alU;Q.G();q.data={d:F.Y7,$m:n,i9:[m.w[0]+1],wy:[11,11,1]}}this.c(q);
this.close()};function bA(u){bi.call(this,[[7,11],[7,13]][u],["redge","magiccut"][u]);this.kq=u;this.b$={};
this.YW=null;this.C1=null;this.nJ=null;this.JV=null;this.TK=null;this.body.style.padding="0";this.Vc=[];
this.Wk=-1;this.zJ=f.L("div","form hbar padded");this.body.appendChild(this.zJ);this.DW=new hk;this.DW.parent=this;
this.DW.l(r.E.o,this.p3,this);this.zJ.appendChild(this.DW.m);var m=u==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
m=m.concat("tools/hand","zoomIn","zoomOut");var C=u==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.Lf=new g8(null,m,C,28);this.Lf.l(r.E.o,this.St,this);this.zJ.appendChild(this.Lf.m);this.fR=new fc([7,9],0,50,null);
this.fR.parent=this;this.fR.l(r.E.o,[this.a6q,this.yc][u],this);this.zJ.appendChild(this.fR.m);var Z=this.ams=new iG([2,2],!1,null,!0);
Z.l("click",this.Xr,this);this.zJ.appendChild(Z.m);var q=this.a9I=f.L("span","form");this.zJ.appendChild(q);
var J=this.aaq=new iG([12,90],!1,null,!0);J.l("click",function(N){alert(u==0?jg.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
q.appendChild(J.m);var A=new iG("Tutorial",!1,null,!0);A.l("click",this.anr,this);q.appendChild(A.m);
this.Pq=new g8([12,46],["checker","#ffffff","#000000"]);this.Pq.l(r.E.o,this.aiE,this);q.appendChild(this.Pq.m);
this.pr=new fq(null,[[6,13],[6,2],[17,2]]);q.appendChild(this.pr.m);this.dG=f.WB(this,q,!1);var n=this.vt=f.L("div","flexrow");
this.body.appendChild(n);this.QB=new cv(!0);this.BF=new cv;this.QB.Fp(this.BF);this.BF.Fp(this.QB);this.QB.l("mousedown",this.AT,this);
this.QB.l("mousemove",this.rB,this);this.QB.l("mouseup",this.kP,this);this.QB.l("zoom",this.p3,this);
this.BF.l("zoom",this.p3,this);n.appendChild(this.QB.m);n.appendChild(this.BF.m)}bA.prototype=new bi;
bA.prototype.dK=function(u,m){var C=u!=null&&!u.g[u.w[0]].rect.qR();if(!C)alert("The layer is empty.");
return C};bA.prototype.Gb=function(){return new dz(0,0)};bA.prototype.sZ=function(){return!0};bA.prototype.CC=function(u,m){this.du=u;
this.Oh=m;m=m-12-33;if(u<900){this.a9I.setAttribute("style","display:block;  text-align:right;");m-=29}else{this.a9I.setAttribute("style","position:absolute;  right:0px")}var C=this.b$.rect;
if(C){var Z=bA.akx(u,m,C.e,C.n);if(Z==0){u=Math.floor(u/2);f.Ky(this.vt,"flexrow")}else{m=Math.floor(m/2);
f.Jq(this.vt,"flexrow")}this.QB.CC(u,m);this.BF.CC(u,m)}};bA.akx=function(u,m,C,Z){var q=u/2,J=m/2,A=Math.min(q/C,m/Z),n=Math.min(u/C,J/Z);
return A>n?0:1};bA.prototype._=function(){bi.prototype._.call(this);this.DW._();this.fR._();this.dG._();
this.Pq._();this.pr._();this.ams._();this.aaq._()};bA.prototype.anr=function(u){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.kq],"_blank")};
bA.prototype.vZ=function(u,m){this.C1=u;if(m==jO.el||m==jO.LY){this.DW.Ie(u.HI);this.DW.f(c4.Im(),u.HI.Ub,u.HI.MS)}};
bA.prototype.St=function(u,m,C,Z){var q=this.Lf.Y();if(Z==null){this.QB.St(cv.aoC(q-3));return}this.JV=Z;
var J=b.Zg.HY(this.DW.Y(),Z);if(J!=null){this.DW.f(J);this.p3()}else if(Z.j(hs.Vw)&&Z.j(hs.eU)){var A=this.Vc,n=0;
if(Z.j(hs.KP)){if(this.Wk+1<A.length)n=1}else if(this.Wk>0)n=-1;if(n!=0){this.Wk+=n;var N=this.Wk,e=this.b$;
if(n==1)j.zO(A[N][2],A[N][0],e.fo,e.rect);else j.zO(A[N+1][1],A[N+1][0],e.fo,e.rect);e.lz=e.rect;this.yc()}}else if(q<3)this.QB.St(Z)};
bA.prototype.AF=function(u){var m=this.b$,C=this.Vc,Z=j.U(u.Z()*4);j.zO(m.VL,m.rect,Z,u);m.VL=null;var q=j.U(u.Z()*4);
j.zO(m.fo,m.rect,q,u);this.Wk++;C[this.Wk]=[u.clone(),Z,q];while(C.length>this.Wk+1)C.pop();while(C.length>50){C=C.slice(1);
this.Wk--}};bA.prototype.p3=function(){var u=this.C1,m=eD.Nv(this.DW.Y(),u.HI.Ub,this.QB.r5().V);this.QB.Y6(m)};
bA.prototype.AT=function(u){var m=this.C1,C=this.b$,Z=this.JV,q=this.DW.Y(),J=this.QB.mS(),A=[16777215,8421504,0][this.Lf.Y()];
this.YW=new eD(q,m.HI.Ub,m.HI.MS,{Hf:1,n8:!0},A,m.z0,C.rect);C.VL=C.fo.slice(0);if(Z!=null&&Z.j(hs.KP)&&this.TK){this.YW.moveTo(this.TK.x,this.TK.y);
this.YW.lineTo(J.x,J.y)}else this.YW.moveTo(J.x,J.y);this.aeU()};bA.prototype.rB=function(u){var m=this.b$,C=this.QB.mS();
this.YW.lineTo(C.x,C.y);this.aeU()};bA.prototype.kP=function(u){this.TK=this.QB.mS();this.AF(this.YW.ud());
this.yc()};bA.prototype.aeU=function(){var u=this.b$,m=this.YW,C=m.OW();if(C.qR())return;u.lz=C;j.a.q5("norm",m.g9(),m.Ci(),u.fo,u.rect,C,1);
this.aef()};bA.prototype.Xr=function(u){var m=this.b$;m.VL=m.fo.slice(0);m.lz=m.rect;j.gs(m.fo,[4278190080,4292730333][this.kq]);
this.AF(m.rect);this.yc()};bA.prototype.B6=function(u,m){this.nJ=u;var C=u.g[u.w[0]],Z=C.rect.clone(),q=Z.e,J=Z.n;
this.fR.f(this.kq==0?3:q*J<3e6?3:0);this.Lf.f(u.q==null?0:1);this.fR.mq();if(this.kq==0&&u.q!=null||this.kq==1)this.fR.BD();
var A=this.kq,n=j.U(Z.Z()),N=new Float32Array(Z.Z());if(A==0&&u.q){j.j5(u.q.channel,u.q.rect,n,Z);var e=j.U(Z.Z());
for(var Q=0;Q<J;Q++)for(var p=0;p<q;p++){var D=Q*q+p,B=n[D];if(p>0&&n[D-1]!=B||p<q-1&&n[D+1]!=B||Q>0&&n[D-q]!=B||Q<J-1&&n[D+q]!=B)e[D]=255}j.style.Pj(e,N,q,J)}else N.fill(1e9);
Z.x=Z.y=0;this.b$={rect:Z,bf:C.buffer,Ow:n,JS:N,Rm:j.U(Z.Z()*4),NX:j.U(Z.Z()*4),fo:j.U(Z.Z()*4),VL:null,kW:null,lz:Z,ae5:{}};
if(A==0)this.a6q();else{this.b$.ae5=b.sy._W(u);var $=this.b$.fo;j.gs($,4287137928);var R=j.zK.getSelection(C.buffer,q,J),z=Math.round(q/60),v=Math.round(.7*J);
for(var Q=0;Q<J;Q++)for(var p=0;p<q;p++){var a=(Q*q+p)*4,X=R[a>>>2];X=X>128?255:128;if(Q<z||Q<v&&(p<z||p>q-1-z))X=0;
$[a]=$[a+1]=$[a+2]=X}this.yc()}this.Vc=[1];this.Wk=0;var V=this.DW.Y();V.Brsh.v.Dmtr.v.val=Math.round(Z.e/(A==0?10:20));
this.DW.f(V);this.p3();this.CC(this.du,this.Oh);this.QB.FN()};bA.prototype.a6q=function(){var u=this.b$,m=u.rect.Z(),C=this.fR.Y(),Z=u.Ow.slice(0);
for(var D=0;D<m;D++)if(u.JS[D]<C)Z[D]=128;j.gs(u.fo,4294967295);j.wC(Z,u.fo,0);j.wC(Z,u.fo,1);j.wC(Z,u.fo,2);
u.lz=u.rect;this.yc()};bA.prototype.yc=function(){var u=this.b$,q,n,N=0,e=0,Q=0;this.aef();var m=u.rect,C=m.e,Z=m.n,J=j.U(m.Z()),A=u.bf;
j._H(u.fo,J,0);for(var D=0;D<J.length;D++){if(A[(D<<2)+3]!=255)continue;var p=J[D];if(p==0)N++;else if(p==255)e++;
else Q++}if(N*e*Q!=0){if(this.kq==0)n=j.DE.DE(m,A,J);else{var B=this.Lf.Y();for(var $=1;$<Z;$++)for(var R=1;
R<C;R++){var D=$*C+R,z=J[D],v=J[D-1];if(z==0&&v==255||z==255&&v==0){q="The Red and Green should never touch! Erase it with Grey.";
break}}var a=Date.now(),X=this.b$.ae5;j.Uj(J,X.aZ);b.sy.CU(X,!0);var V=Math.ceil(this.fR.Y()/2);if(V==0){n=A.slice(0);
j.wC(X.q,n,3)}else{var o=X.q.slice(0),h=X.q.slice(0);for(var T=0;T<V;T++){for(var $=1;$<Z-1;$++)for(var R=1;
R<C-1;R++){var D=$*m.e+R,l=o[D];if(o[D-C]!=l||o[D-1]!=l||o[D+1]!=l||o[D+C]!=l)h[D]=128;else h[D]=l}var w=o;
o=h;h=w}n=j.DE.DE(m,A,o,20,!1)}}}else{n=A.slice(0);j.wC(J,n,3)}for(var D=3;D<n.length;D+=4)if(n[D]>A[D])n[D]=A[D];
if(m.QV(u.rect))u.kW=n;else j.zO(n,m,u.kW,u.rect);this.aiE();if(q)alert(q,4e3)};bA.prototype.aef=function(u){var m=this.b$,C=m.lz;
j.zO(m.bf,m.rect,m.Rm,m.rect,C,!0);var Z=m.fo;if(this.kq==1){var q=new Uint32Array(256);q[0]=4278190335;
q[255]=4278255360;var J=m.rect.Z();Z=Z.slice(0);var A=new Uint32Array(Z.buffer);for(var D=0;D<J;D+=2){A[D]=q[A[D]&255];
A[D+1]=q[A[D+1]&255]}}j.a.q5("norm",Z,m.rect,m.Rm,m.rect,C,.3);this.QB.f([{WL:m.rect,data:m.Rm.buffer}])};
bA.prototype.aiE=function(u){var m=this.b$;j.gs(m.NX,[0,4294967295,4278190080][this.Pq.Y()]);j.a.q5("norm",m.kW,m.rect,m.NX,m.rect,m.rect,1);
this.BF.f([{WL:m.rect,data:m.NX.buffer}])};bA.prototype.uz=function(u){var m=this.nJ,C=this.b$,Z=this.pr.Y(),q=m.g[m.w[0]],J=new eY(r.E.H,!0);
J.Ua=!0;var A=q.rect.clone();if(Z==0&&q.cG()||Z!=0&&!q.cG()){J.b=b.IZ;J.data={d:F.LV,i:m.w[0]};this.c(J)}if(m.q!=null){J.b=b.zj;
J.data={d:"fromAction",Xc:b.No.W6()};this.c(J)}if(Z==0){var n=m.g.slice(0),N=m.Rp();N.RS(q.getName());
n.splice(m.w[0]+1,0,N);N.rect=A;N.buffer=C.kW;N.G();J.b=b.IZ;J.data={d:F.Y7,$m:n,i9:[m.w[0]+1],wy:[7,11]};
this.c(J)}if(Z==1){var e=q.Te();J.b=b.IZ;J.data={d:F.Nx,a9d:!0};this.c(J);var Q=q.Te();Q.channel=j.U(A.Z());
Q.rect=A;Q.color=0;Q.hf=!0;j._H(C.kW,Q.channel,3);if(e){var p=Q.kt(e);Q.rect=p.rect;Q.channel=p.channel;
Q.color=p.color}Q.GJ();q.uE()}if(Z==2){var B={rect:A,channel:j.U(A.Z())};j._H(C.kW,B.channel,3);J.b=b.zj;
J.data={d:"setsel",q:B,wy:this.OK};this.c(J)}this.close()};function jp(){bi.call(this,[1,13],"locstor");
this.sU=null;this.pK=[];var u=this.body,m=f.L("p");m.textContent="These files are loaded every time you start Photopea.";
u.appendChild(m);this.agX=0;this.dD=f.L("span");u.appendChild(this.dD);this.dD.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var C=f.L("span","form");u.appendChild(C);this.vP=new iG([5,4],!1,null,!0);this.vP.l("click",this.atg,this);
C.appendChild(this.vP.m);this.abY=new iG("Get all as ZIP",!1,null,!0);this.abY.l("click",this.wb,this);
C.appendChild(this.abY.m);this.w$=new dc(!0);this.w$.parent=this;this.w$.$R(1);u.appendChild(this.w$.m);
this.w$.m.setAttribute("style","width: 40em; height: 25em")}jp.prototype=new bi;jp.prototype._=function(){bi.prototype._.call(this);
this.dD.textContent=jg.get([13,2])+": "+iQ.ms(this.agX);this.vP._()};jp.prototype.vZ=function(u,m){this.sU=u;
if(m==jO.fK)this.B6()};jp.prototype.B6=function(u,m){var C=this.sU.J5.Be,N=0;this.pK=[];for(var Z in C)this.pK.push(Z);
this.pK.sort(function(Q,p){Q=Q.split(".");p=p.split(".");return Q[1]==p[1]?Q[0]<p[0]?-1:1:Q[1]<p[1]?-1:1});
var q=Math.floor(100*f.F()),J=Math.floor(16*f.F()),A=[],n=[];for(var D=0;D<this.pK.length;D++){var Z=this.pK[D],e=jp.Dq(Z,C[Z],q,J);
A.push(e);n.push(Z);N+=C[Z].byteLength}this.w$.JM(A,n,q,J);this.agX=N;this._()};jp.prototype.atg=function(u){var m=this.w$.Y();
if(m.length==0){alert("Select a file first.");return}this.w$.f([]);var C=this.sU.J5.Be;for(var D=0;D<m.length;
D++)delete C[this.pK[m[D]]];var Z=new eY(r.E.z,!0);Z.data={d:r.J.mh,no:jO.fK};this.c(Z)};jp.prototype.wb=function(u){var m=this.sU.J5.Be,C={};
for(var Z in m)C[Z]=new Uint8Array(m[Z]);var q=UZIP.encode(C);h9.save(q,"resources.zip")};jp.Dq=function(u,m,C,Z){var q=f.L("canvas"),n=0;
q.width=C;q.height=Z;var J=q.getContext("2d"),A=u.split(".").pop().toLowerCase();for(var D=0;D<A.length;
D++)n+=A.charCodeAt(D)*613<<8*D;J.fillStyle="#"+j.U0(n&16777215);J.fillRect(0,0,20,Z);var N=Math.floor(14*f.F());
J.fillStyle="#000000";J.font="bold "+N+"px sans-serif";var e=(Z-N)/2,Q=iQ.ms(m.byteLength),p=J.measureText(Q);
J.fillText(Q,C-12-p.width,Z-e);return q.toDataURL()};function cK(){bi.call(this,[1,15],"pmanager");this.sU=null;
this.JY=new fq([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.JY.l(r.E.o,this.B6,this);
this.body.appendChild(this.JY.m);var u=f.L("div","flexrow");this.body.appendChild(u);var m=this.aoe=f.L("div");
u.appendChild(m);var C=f.L("div","form");u.appendChild(C);C.setAttribute("style","width:140px; margin-left:12px");
this.aox=[jO.el,jO.__,jO.ZM,jO.c$,jO.Jb,jO.f2];this.tL=[new hk,new is,new gR,new bk,new jF,new fV];for(var D=0;
D<this.tL.length;D++)this.tL[D].parent=this;this.Nu=[];for(var D=0;D<4;D++){var Z=new iG("Hello",!0,null,!0);
Z.l("click",this.LT,this);this.Nu.push(Z);C.appendChild(Z.m)}this.B6()}cK.prototype=new bi;cK.prototype.$d=function(u){return u==hs.Vg||u==hs.A_};
cK.prototype.LT=function(u){var D=this.Nu.indexOf(u.target);this.tL[this.JY.Y()].W1(D)};cK.prototype._=function(){bi.prototype._.call(this);
this.JY._();for(var D=0;D<this.tL.length;D++)this.tL[D]._();var u=this.Nu,m=this.JY.Y(),C=jO.rZ[this.aox[m]],Z=C[0].toUpperCase();
u[0].YI([[23,6],"."+Z]);u[1].YI(["VAR0 ."+Z,[1,8]]);u[2].YI([6,37]);u[3].YI([5,4])};cK.prototype.vZ=function(u,m){this.sU=u;
this.B6()};cK.prototype.B6=function(u,m){if(!f.pZ(this.m))return;this._();f.Da(this.aoe);this.aoe.appendChild(this.tL[this.JY.Y()].mW);
var C=this.tL,Z=this.sU;if(Z==null)return;C[0].Ie(Z.HI);C[1].dW(Z.jM,Z.z0);C[1].Ie(Z.yZ);C[2].Ie(Z.Q1);
C[3].Ie([Z.Jo,Z.Q1]);C[4].Ie(Z.iL);C[5].Ie(Z.pV)};function eH(u,m,C){bi.call(this,m,"cwindow");this.anj=new dz(C[0],C[1]-33);
this.zJ=f.L("div","form");this.zJ.setAttribute("style","width:"+(C[2]-C[0])+"px; height:"+(C[3]-C[1])+"px");
this.body.appendChild(this.zJ)}eH.prototype=new bi;eH.prototype.Gb=function(u,m){return this.anj.clone()};
function aj(){bi.call(this,["PSD VAR0",[25,0]],"templates");this.ap0=null;this.qe=null;this.Qg=0;this.eb=null;
this.body.setAttribute("style","padding:0");this.dI=new iG("Add Templates",null,null,!0);this.body.appendChild(this.dI.m);
this.dI.l("click",this.aaY,this);this.dI.m.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.a7S=new iG("New Template",null,null,!0);this.a7S.l("click",this.alI,this);this.aen=new iG("Upload Current Document as a Template",null,null,!0);
this.aen.l("click",this.abp,this);this.i$=f.L("iframe","scrollable");this.i$.setAttribute("style","border:none; margin:0; padding:0;");
this.A0=f.L("div","form scrollable padded");this.aK=f.L("div","form scrollable padded label12");var u=[],m=aj.Bc;
this.P7=[];for(var C in m){var Z=parseInt(C.slice(1)),q=Z%10==0?"":"\u2800\u2800- ";u.push(q+m[C]);this.P7.push(Z)}this.dN=[new jC("Name",null,30),new jC("Description",null,30,4),new jC("File"," www.Photopea.com#i...",17),new jC("Thumbnail URL","* Use Imgur.com etc.",17),new fq("Category",u),new iG("<< Back",null,null,!0),new iG("Save",null,null,!0),new i7("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new i7("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
for(var D=0;D<this.dN.length;D++){var J=this.dN[D];this.aK.appendChild(J.m);J.parent=this;if(D!=5)f.Uy(this.aK);
if(J instanceof iG)J.l("click",this.a1T,this)}this.body.appendChild(this.i$)}aj.prototype=new bi;aj.prototype.Gb=function(u,m){return new dz(0,0)};
aj.prototype.CC=function(u,m){this.du=u;this.Oh=m;this.Jp=null;m=m-4;u=u;var C=this.A0;C.style.width=u-12+"px";
C.style.height=m-12+"px";var C=this.aK;C.style.width=u-12+"px";C.style.height=m-12+"px";var C=this.i$;
C.style.width=u+"px";C.style.height=m+"px";this.gU()};aj.prototype._=function(){bi.prototype._.call(this)};
aj.prototype.B6=function(u,m,C,Z){this.Jp=u;this.aaY(null,!1)};aj.prototype.aaY=function(u,m){var C=m!=null?m:f.pZ(this.i$);
if(C){if(!iP.DY()){alert("You need to log in first!");return}var Z=iP.uq();this.qe=Z.tpl?Z.tpl.list:[];
this.gU()}else{this.i$.setAttribute("src","");this.i$.setAttribute("src","templates")}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(C?this.A0:this.i$);this.dI.YI(C?"All Templates":"Add Templates")};aj.prototype.gU=function(){var u=this.qe,J=450;
if(u==null)return;var m=this.A0;f.Da(m);var C=f.L("h1");m.appendChild(C);C.textContent="Share your PSD templates with the world!";
var Z=f.L("ul");m.appendChild(Z);var q=f.L("li");Z.appendChild(q);q.textContent="By publishing your templates, you agree to let others use them for all kinds of purposes, even commercially.";
var q=f.L("li");Z.appendChild(q);q.textContent="Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
m.appendChild(this.a7S.m);m.appendChild(this.aen.m);f.Uy(m);J=(this.du-20)/Math.max(1,Math.floor(this.du/J))-42;
var A="display:inline-block; width:"+J+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var D=u.length-1;D>=0;D--){var n=u[D],N=f.L("div");m.appendChild(N);N.setAttribute("style",A);var e=f.L("img");
N.appendChild(e);e.setAttribute("src",n.thmb);e.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var Q=f.L("h3");N.appendChild(Q);Q.textContent=n.name;Q.setAttribute("style","margin:0 0 10px 0");var p=f.L("p");
N.appendChild(p);p.textContent=n.desc;p.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var B=0;B<2;B++){var $=new iG(B==0?"Edit":"Delete",null,null,!0);$.apv=D;$.qY=B==0;$.l("click",this.ab7,this);
N.appendChild($.m)}}};aj.prototype.abp=function(u){if(this.Jp==null){alert("No document opened.");return}var m=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!m)return;var C=new eY(r.E.z,!0);C.data={d:r.J.tt,uM:"psd",_$:this.akP.bind(this)};this.c(C)};aj.prototype.akP=function(u){this.ap0=u;
var m=new eY(r.E.z,!0);m.data={d:r.J.tt,uM:"jpg",_$:this.apY.bind(this),ae9:1400};this.c(m)};aj.prototype.apY=function(u){this.eb={catg:0,desc:"",file:this.ap0.split("#i").pop(),name:this.Jp.name.split(".")[0],thmb:u,utme:""};
this.qY()};aj.prototype.alI=function(u){this.eb={catg:0,desc:"",file:"",name:"",thmb:"",utme:""};this.qY()};
aj.prototype.ab7=function(u){this.Qg=u.target.apv;if(!u.target.qY){this.qe.splice(this.Qg,1);this.wb();
this.gU();return}this.qY()};aj.prototype.qY=function(){this.body.removeChild(this.A0);this.body.appendChild(this.aK);
var u=["name","desc","file","thmb"],m=this.eb?this.eb:this.qe[this.Qg];for(var D=0;D<4;D++){var C=m[u[D]];
if(C!=""&&D==2)C="https://photopea.com#i"+C;this.dN[D].f(C)}this.dN[4].f(this.P7.indexOf(m.catg))};aj.prototype.a1T=function(u){if(this.dN.indexOf(u.target)==6){var m=this.dN[3].Y().trim(),C=m.startsWith("http")&&(m.endsWith(".jpeg")||m.endsWith(".jpg")||m.endsWith(".png"));
if(!C){alert("Thumbnail URL is incorrect.");return}var Z=new XMLHttpRequest,q="mirror.php?url="+encodeURIComponent(m);
Z.open("GET",q);Z.responseType="arraybuffer";Z.onload=this.at_.bind(this);Z.send()}else this.Xr()};aj.prototype.at_=function(u){var m=u.target.response,C=m.byteLength;
if(C>2e5){alert("Thumbnail is too large ("+iQ.ms(C)+"). Make it under 200 kB.");return}var Z=["name","desc","file","thmb"],q=this.eb?this.eb:this.qe[this.Qg];
for(var D=0;D<4;D++){var J=this.dN[D].Y().trim();if(J.length==0){alert("One of values is empty.");return}if(D==2){var A=J.split("#i");
if(A.length!=2||A[1].length!=8){alert("File ID is incorrect.");return}J=A.pop()}q[Z[D]]=J}q.catg=this.P7[this.dN[4].Y()];
if(q.utme.length==0)q.utme=""+Math.round(Date.now()/1e3);if(this.eb)this.qe.push(this.eb);this.wb();
this.Xr()};aj.prototype.Xr=function(){this.eb=null;this.body.removeChild(this.aK);this.body.appendChild(this.A0);
this.gU()};aj.prototype.wb=function(){var u=iP.uq();if(this.qe.length==0)delete u.tpl;else u.tpl={list:JSON.parse(JSON.stringify(this.qe))};
iP.b3(u,function(){alert("Saved.")})};aj.Bc={c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"};
function jq(){bi.call(this,"Make Selection","makesel");this.sU=null;var u=f.L("div","form");this.body.appendChild(u);
this.NP=new aG([12,25,1]);this.NP.f(!0);u.appendChild(this.NP.m);f.Uy(u);this.kh=new i6(!0);u.appendChild(this.kh.m);
this.dG=f.WB(this,this.body)}jq.prototype=new bi;jq.prototype._=function(){bi.prototype._.call(this);
this.kh._();this.NP._();this.dG._()};jq.prototype.uz=function(u){var m=new eY(r.E.H,!0);m.b=b.zj;m.data={d:"frompath",_c:[null,0,this.kh.Y(),!this.NP.Y()]};
this.close();this.c(m)};function di(){bi.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.Jp=null;this.gy=null;
this.rK=null;var u=this.afF=f.L("div","form");u.setAttribute("style","width:20em");this.body.appendChild(u);
this.Ib=new ja([12,50],["PSD","PSB"]);this.Ib.l(r.E.o,this.iS,this);u.appendChild(this.Ib.m);f.nc(u);
var m=new i7("Minify the file");u.appendChild(m.m);f.Uy(u);var C=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this._f=[];for(var D=0;D<C.length;D++){var Z=new aG(C[D]);this._f.push(Z);u.appendChild(Z.m);Z.l(r.E.o,this.iS,this)}f.nc(u);
this.Un=new i7("aa.psd");this.Hu=new i7("10 kB");u.appendChild(this.Hu.m);this.amH=new i7("1000 B");
u.appendChild(this.amH.m);this.dG=new iG([1,2],!0,null,!0);this.dG.l("click",this.uz,this);u.appendChild(this.dG.m);
this.co=new iG(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.co.l("click",this.uz,this);u.appendChild(this.co.m);
this.l("closebtn",this.rA,this)}di.prototype=new bi;di.prototype.B6=function(u,m,C,Z){var q=f.pZ(this.co.m),J=u.iJ!=null&&u.iJ.fH=="psd";
if(J&&!q)this.afF.appendChild(this.co.m);if(!J&&q)this.afF.removeChild(this.co.m);for(var D=0;D<this._f.length;
D++)this._f[D].f(!1);this.Jp=u;this.iS()};di.prototype.uz=function(u){if(u.target==this.dG)h9.save(this.gy,this.rK);
else{if(this._f[3].Y()){alert("You should not save a ZIP as a PSD to Google Drive.");return}d3.alE(this.Jp,this.gy)}};
di.prototype.rA=function(){this.Jp=null;this.gy=null};di.prototype.iS=function(){var u=this.Jp,m=[!1,!1,!1,!1];
for(var D=0;D<3;D++)m[D]=this._f[D].Y();var C=this._f[3].Y(),Z=m[3]=this.Ib.Y()==1,q=u.name.slice(0,u.name.length-3),J=this.gy=d4.X5("PSD").c2(u,0,0,m),jt=this.rK=q+"ps"+(Z?"b":"d");
if(C){var A={};A[jt]=new Uint8Array(J);J=this.gy=UZIP.encode(A);jt=this.rK=q+"zip"}this.Un.f(jt);this.Hu.f(iQ.ms(J.byteLength));
this.Hu.m.style["font-size"]="2em";this.amH.f(" \u2001 "+J.byteLength+" B");this.dG.YI(jg.get([1,2])+" \""+jt+"\"")};
di.prototype._=function(){bi.prototype._.call(this);this.dG._();this.co._()};function cf(){bi.call(this,"Confirm","confirm");
this.LQ=null;var u=f.L("div","form");this.body.appendChild(u);this.Zr=f.L("div");this.Zr.textContent="Hello";
u.appendChild(this.Zr);this.dG=f.WB(this,u);u.appendChild(this.dG.m)}cf.prototype=new bi;cf.prototype.uz=function(u){this.LQ();
this.close()};cf.prototype.B6=function(u,m){this.Zr.textContent=m.k;this.LQ=m.LQ};cf.prototype.Gb=function(u,m){return new dz(Math.max(0,(u-500)/2),Math.max(0,Math.min(60,(m-100)/2)))};
cf.prototype.CC=function(u,m){this.Zr.style.width=u-30+"px"};function dy(u,m,C,Z){bK.call(this);this.name=u;
this.as3=C;this.y4=Z;this.$N=f.L("div","");this.$N.setAttribute("draggable","true");this.Ly=f.L("div","pbody");
this.Ep=new iG("",!1,"");this.Ep.parent=this;this.anI=f.L("span","cross");this.SW=f.L("span","label");
var q=this.alW.bind(this);this.$N.addEventListener("mousedown",this.a59.bind(this),!1);this.$N.addEventListener("contextmenu",q,!1);
this.Ep.m.addEventListener("contextmenu",q,!1);this.anI.addEventListener("mousedown",this.x6.bind(this),!1);
this.$N.appendChild(this.SW);if(m)this.$N.appendChild(this.anI);this._q=!1;this.JE=new dk([{name:[1,12,0]}]);
this.JE.l("select",this.x6,this);this.SW.textContent=u}dy.prototype=new bK;dy.prototype.uB=function(){return null};
dy.prototype._=function(){var u=jg.get(this.name),m=this.du==0?22:Math.round(2+this.du/50),C=u.length>m;
this.SW.textContent=C?u.slice(0,m-2):u;if(C)for(var Z=0;Z<2;Z++){var q=f.L("span");q.textContent=u.charAt(m-2+Z);
q.setAttribute("style","opacity:"+(.6-Z*.4));this.SW.appendChild(q)}var J=u.split(" "),A=J.length==2?J[0].substring(0,2)+J[1][0]:u.substring(0,3);
if(A.charCodeAt(0)>=11776)A=A.substring(0,1);var n=this.as3;if(n==null)this.Ep.YI(A,u);else{var N;if(n.startsWith("---"))N="<img src=\""+PIMG[n.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(n.indexOf("\"")==-1)N="<img src=\""+n+"\" alt=\""+u+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.Ep.YI(N,u)}};dy.prototype.enable=function(){this.Ly.setAttribute("class","pbody")};dy.prototype.disable=function(){this.Ly.setAttribute("class","pbody disabled")};
dy.prototype.vZ=function(u,m){};dy.prototype.B6=function(u,m,C){};dy.prototype.NH=function(u){};dy.prototype.CC=function(u,m){};
dy.prototype.hK=function(u){this.name=u;this._()};dy.prototype.TE=function(){};dy.prototype.a59=function(u){if(u.button==0)this.c(new eY("select",!1))};
dy.prototype.alW=function(u){f.Qn(u);if(this.y4!=null&&isNaN(this.y4))return;var m=f.OR(u,document.body),C=this.JE;
C.update(null);C._();C.parent=this;var Z=new eY(r.E.z,!0);Z.data={d:r.J.ek,Vl:C,x:m.x+1,y:m.y+1};this.c(Z)};
dy.prototype._S=function(){this.x6({})};dy.prototype.x6=function(u){if(u.stopPropagation)u.stopPropagation();
if(this.y4!=null&&!isNaN(this.y4)){var m=new eY(r.E.z,!0);m.data={d:r.J.tK,Vl:this.JE};this.c(m);m.data={d:r.J.mh,no:jO.Cn,k:parseFloat(this.y4),lC:"del"};
this.c(m)}else if(this.abg())this.c(new eY(r.E.t3,!1))};dy.prototype.abg=function(u){return!0};dy.prototype.K4=function(u,m,C,Z,q){};
dy.prototype.TQ=function(u,m,C,Z,q){};dy.prototype.ec=function(u,m,C,Z,q){};dy.ss=function(u,m){if(u.childElementCount!=0)return;
var C=u.textContent;this.TW=this.a2V.bind(this);this.anN=this.ao5.bind(this);this.yN=m;this.CR=u;this.afM=C;
var Z=f.L("input","");Z.setAttribute("type","text");Z.setAttribute("size","10");Z.setAttribute("value",C);
f.Da(u);u.appendChild(Z);Z.select();Z.focus();f.xC(u);u.addEventListener("keyup",this.TW,!1);document.body.addEventListener("mousedown",this.anN,!1)};
dy.ss.prototype.a2V=function(u){var m=hs.bD,C=m(u.code,hs.tb);if(m(u.code,hs.U_)||C)this.a5J(C)};dy.ss.prototype.ao5=function(u){var m=u.target;
if(m.tagName&&m.tagName.toLowerCase()=="input")return;this.a5J(!0)};dy.ss.prototype.a5J=function(u){var m=this.CR,C=m.firstChild.value;
m.removeEventListener("keyup",this.TW);document.body.removeEventListener("mousedown",this.anN);if(u&&C!=""){this.yN(C)}else{f.Da(m);
m.textContent=this.afM}};dy.Sc={fn:"0",acU:"1",IZ:"2",afQ:"3",a2s:"4",xH:"5",CSS:"6",el:"7",a2q:"8",a5j:"9",a9x:"10",a2o:"11",aoS:"12",e0:"13",HW:"14",a7A:"15",agt:"16",hm:"17",anp:"18",a4U:"19",aig:"20",c$:"21"};
function dm(){dy.call(this,[9,9],!1,"---panels/actions",dy.Sc.a2o);this.sU=null;this.wf=[0,0];this.m9=f.L("div","padded scrollable");
this.m9.setAttribute("style","width:260px;  height:260px");this.Ly.appendChild(this.m9);this.l(r.E.o,this.vm,this);
this.wA=f.L("div","lpfoot");this.Ly.appendChild(this.wA);this.tL=[];var u="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",m="</svg>",C=u+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+m,Z=u+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+m;
this.anZ=u+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+m;this.ajj=u+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+m;
var q=[this.anZ,Z,"lrs/folder","lrs/newlayer","lrs/bin",C],J=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var D=0;D<q.length;D++){var A=q[D];if(1<D&&D!=q.length-1)A="<img src=\""+PIMG[q[D]]+"\" class=\"gsicon\" />";
var n=new iG(A,!1,J[D]);n.l("click",this.a9h,this);this.wA.appendChild(n.m);this.tL.push(n)}}dm.prototype=new dy("");
dm.prototype._=function(){dy.prototype._.call(this);for(var D=0;D<this.tL.length;D++)this.tL[D]._()};
dm.prototype.a9h=function(u){var D=this.tL.indexOf(u.currentTarget),m=this.wf,C=this.sU,Z=C.kQ;if(D==0){var q,J=C.ax;
if(Z.length==0){alert("Create an Action Set first.");return}if(m.length<2){alert("Select a target action first.");
return}if(J==null){q=this.ajj;J=this.wf}else{q=this.anZ;J=null}this.tL[0].YI(q);C.ax=J}else if(D==1)this.auK();
else if(D==2||D==3){var A={wy:"Action Set "+Z.length,pQ:[],exp:!0};if(D==2||Z.length==0){m=[Z.length];
Z.push(A)}if(D==3){var n=Z[m[0]].pQ;m=[m[0],n.length];n.push({wy:"Action "+n.length,color:0,pQ:[],ahV:!1,shift:!1,exp:!0,NR:n.length})}this.wf=m;
this.L9()}else if(D==4){var N;if(m.length==1)N=Z;else if(m.length==2)N=Z[m[0]].pQ;else N=Z[m[0]].pQ[m[1]].pQ;
var e=m.length-1;N.splice(m[e],1);if(N.length==0)m.pop();else while(m[e]>=N.length)m[e]--;if(m.length==0)m.push(0);
this.L9()}else if(D==5){if(Z.length==0){alert("No Actions Present.");return}var Q=new eY(r.E.z,!0);Q.data={d:r.J.Hd,abm:jO.H,Nl:m[0]};
this.c(Q)}};dm.prototype.vm=function(u){var m=this.sU.kQ,C=u.data.d,Z=u.data.sj;if(C=="sel")this.wf=Z;
if(C=="fold"){if(Z.length==1)m[Z[0]].exp=!m[Z[0]].exp;else m[Z[0]].pQ[Z[1]].exp=!m[Z[0]].pQ[Z[1]].exp}if(C=="enab"){var q=m[Z[0]].pQ[Z[1]].pQ[Z[2]];
q.P=!q.P}if(C=="nchange"){if(Z.length==1)m[Z[0]].wy=u.data.RX;else m[Z[0]].pQ[Z[1]].wy=u.data.RX}this.L9()};
dm.prototype.vZ=function(u,m){this.sU=u;if(m==jO.H||m==jO.LY)this.L9()};dm.prototype.L9=function(){if(this.sU==null)return;
f.Da(this.m9);var u=this.sU.kQ;if(u.length==0)return;var m=JSON.stringify(this.wf);for(var D=0;D<u.length;
D++){var C=u[D],Z=new dm.Bb([D],m,C.exp,C.wy.split("=").pop());Z.parent=this;this.m9.appendChild(Z.m);
if(!C.exp)continue;for(var q=0;q<C.pQ.length;q++){var J=C.pQ[q],Z=new dm.Bb([D,q],m,J.exp,J.wy.split("=").pop());
Z.parent=this;this.m9.appendChild(Z.m);if(!J.exp)continue;for(var A=0;A<J.pQ.length;A++){var n=J.pQ[A],Z=new dm.Bb([D,q,A],m,null,jg.get(hc.ajN(n)),n.P);
Z.parent=this;this.m9.appendChild(Z.m)}}}};dm.prototype.auK=function(){var u=this.sU.kQ,m=this.wf;if(u.length==0){alert("No Actions Present");
return}if(m.length==1){alert("Select an Action first");return}if(this.sU.ax!=null){alert("You can not apply actions while recording actions");
return}if(m.length==1)m.push(0);var C=u[m[0]],Z=C.pQ[m[1]],q=new eY(r.E.z,!0);q.data={d:r.J.Wy,_c:[Z.wy,C.wy]};
this.c(q)};dm.Bb=function(u,m,C,Z,q){bK.call(this);this.sj=u;var J=this.sj.length-1;this.m=f.L("div","layeritem"+(JSON.stringify(u)==m?" selected":""));
this.c8=f.L("div","head");this.m.appendChild(this.c8);this.c8.setAttribute("style","height:24px");this.lH=f.L("div","headL");
this.c8.appendChild(this.lH);if(J!=0){var A=f.L("div");A.style.width=J*20+"px";this.lH.appendChild(A)}if(C!=null){var n=this.a2Y=f.L("div",C?"open":"closed");
this.lH.appendChild(n)}else{var N=this.adJ=f.L("div","cmark");N.setAttribute("style","background-size:12px 12px; opacity:"+(q?1:.3));
this.lH.appendChild(N)}if(J==0){var e=f.L("div","folder");this.lH.appendChild(e)}var Q=this.SW=f.L("div","label");
Q.textContent=Z;this.lH.appendChild(Q);this.m.addEventListener("mouseup",this.tm.bind(this),!1)};dm.Bb.prototype=new bK;
dm.Bb.prototype.tm=function(u){if(u.detail==1&&u.target.tagName.toLowerCase()!="input"){var m="sel";
if(u.target==this.a2Y)m="fold";if(u.target==this.adJ)m="enab";var C=new eY(r.E.o,!0);C.data={d:m,sj:this.sj};
this.c(C)}else if(this.sj.length<3)var Z=new dy.ss(this.SW,this.yN.bind(this))};dm.Bb.prototype.yN=function(u){var m=new eY(r.E.o,!0);
m.data={d:"nchange",RX:u,sj:this.sj};this.c(m)};function dK(){dy.call(this,[3],!1,"---lrs/adj",dy.Sc.anp);
this.Ly.setAttribute("style","text-align:center;  padding:6px; min-width:220px");this.tL=[];var D=0;
for(var u in b1.names){var m=new iG("<img src=\""+PIMG["adj/"+u]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,b1.names[u]);
m.l("click",this.a0J,this);this.tL.push(m);this.Ly.appendChild(m.m);if(D==4||D==10)f.Uy(this.Ly);D++}}dK.prototype=new dy("");
dK.prototype._=function(){dy.prototype._.call(this);for(var D=0;D<this.tL.length;D++)this.tL[D]._()};
dK.prototype.a0J=function(u){var m=this.tL.indexOf(u.target),C=c$.rH()[m],Z=new eY(C.W,!0);Z.data=C.R;
this.c(Z)};function ea(){dy.call(this,[12,22],!1,null,dy.Sc.c$);this.m9=f.L("div","padded");this.Ly.appendChild(this.m9);
this.My=new bk(null,17.7,10);this.My.parent=this;this.My.l(r.E.o,this.g6,this);this.m9.appendChild(this.My.mW)}ea.prototype=new dy("");
ea.prototype.g6=function(u){var m=this.My.Y(),C=new eY(r.E.H,!0);C.data={d:"setstl",k:m.lr};C.b=b.vW;
this.c(C);C.data={d:"confirm"};this.c(C)};ea.prototype.vZ=function(u,m){if(m==jO.c$||m==jO.LY){this.My.Ie([u.Jo,u.Q1])}};
var hI=function(){function u(){dy.call(this,[9,3],!1,"---panels/brush",dy.Sc.el);this.ng=null;this._0=null;
this.sU=null}u.prototype=new dy("");u.prototype.T1=function(){var A=f.L("div","");this.Ly.appendChild(A);
this.tD=f.L("div","bordered cell");this.tD.setAttribute("style","width:10em; height:28.5em;");A.appendChild(this.tD);
this.EN=[];this.WU=null;this.S1=[];var n=this.asM.bind(this);this.P5=[new C,new Z,new q,new J];for(var D=0;
D<this.P5.length;D++){var N=f.L("div","listitem"),e=this.P5[D].iR,Q=null;if(D==0){this.WU=new i7(e);
N.appendChild(this.WU.m)}else{Q=new aG(e,!1);Q.l(r.E.o,this.ami,this);N.appendChild(Q.m)}this.S1.push(Q);
this.tD.appendChild(N);this.EN.push(N);N.addEventListener("click",n,!1)}this.Xp=f.L("div","cell padded");
A.appendChild(this.Xp);for(var D=0;D<this.P5.length;D++)this.P5[D].l("brushchange",this.ahu,this);this.setItem(0);
this.O=f.L("canvas");this.O.height=10;A.appendChild(this.O);this.O2=this.O.getContext("2d");this.yc()};
u.prototype.CC=function(A,n){if(this.du==A)return;this.du=A;this.Oh=n;this.yc()};u.prototype.TE=function(){if(!f.pZ(this.Ly))return;
if(this.tD){this.yc();return}this.T1();this._();this.vZ(this.sU,jO.LY)};u.prototype._=function(){dy.prototype._.call(this);
if(this.tD==null)return;this.WU._();for(var D=1;D<this.S1.length;D++)this.S1[D]._();for(var D=0;D<this.P5.length;
D++)this.P5[D]._()};u.prototype.ahu=function(A){var n=this.P5.indexOf(A.currentTarget),N=JSON.parse(JSON.stringify(this.P5[n]._0)),e=new eY(r.E.z,!0);
e.data={d:r.J.mh,no:jO.Lz,_0:N};this.c(e)};u.prototype.ami=function(A){this.abw(this.S1.indexOf(A.currentTarget),A.currentTarget.Ia())};
u.prototype.asM=function(A){var D=this.EN.indexOf(A.currentTarget);if(A.target.tagName.toLowerCase()=="input")return;
if(this.S1[D]&&!this.S1[D].Ia()){this.S1[D].Lo();this.abw(D,!0)}this.setItem(D)};u.prototype.abw=function(A,n){this.P5[A].ZP(n)};
u.prototype.setItem=function(A){for(var D=0;D<this.P5.length;D++)this.EN[D].setAttribute("class","listitem");
if(this.Xp.firstChild)this.Xp.removeChild(this.Xp.firstChild);this.EN[A].setAttribute("class","listitem selected");
this.Xp.appendChild(this.P5[A].m)};u.prototype.vZ=function(A,n){this.sU=A;if(this.tD==null)return;if(n==jO.el||n==jO.LY){this.ng=A.HI;
for(var D=0;D<this.P5.length;D++)this.P5[D].Ie(this.ng)}if(n==jO.Lz||n==jO.LY){this._0=A.HI.P1;this.yc()}if(n==jO.e0)this.yc()};
u.prototype.yc=function(){if(this._0)this.enable();else{this.disable();return}if(!f.pZ(this.Ly))return;
var A=this.sU;for(var D=0;D<this.P5.length;D++){this.P5[D].f(this._0);if(this.S1[D])this.S1[D].f(this.P5[D].Ia())}var n=JSON.parse(JSON.stringify(this._0));
n.Brsh.v.Dmtr.v.val=Math.min(n.Brsh.v.Dmtr.v.val,50);f.hs(this.O,this.du,80);var N=new bl(0,0,this.O.width,this.O.height),e=new eD(n,this.ng?this.ng.Ub:null,this.ng?this.ng.MS:null,{Hf:1},A.jM,A.z0,N,null,0),Q=N.n/2,p=N.e-Q*2;
e.moveTo(Q,Q);for(var D=0;D<=p;D+=10)e.lineTo(Q+D,Q+20*Math.sin(2*Math.PI*D/p));e.finish();var B=this.O2.createImageData(N.e,N.n);
j.zO(e.g9(),e.Ci(),B.data,N);this.O2.putImageData(B,0,0)};function m(A){bK.call(this);this.iR=A;this.m=f.L("div","");
this._0=null}m.prototype=new bK;m.prototype.Ie=function(A){};m.prototype.f=function(A){this._0=JSON.parse(JSON.stringify(A));
this.m.setAttribute("class",this.Ia()?"":"disabled");this.yc()};m.prototype.ZP=function(A){};m.prototype.Ia=function(){return!1};
m.prototype._=function(){};m.prototype.yc=function(){};m.prototype.X3=function(){this.c(new eY("brushchange"))};
function C(){m.call(this,[15,0]);this.ng=null;this.a7F=null;this.ur=new dc(!0);this.m.appendChild(this.ur.m);
this.ur.l(r.E.o,this.ac5,this);this.ur.m.style.height="10.7em";this.Dk=new hA([12,14,0],1,1e3," px",0,!0);
this.Dk.l(r.E.o,this.abL,this);this.rv=new hA([12,15],0,359," \xB0");this.rv.l(r.E.o,this.agd,this);
this.jD=new hA([12,16],0,100," %");this.jD.l(r.E.o,this.auN,this);this.At=new hA([12,17],0,100," %");
this.At.l(r.E.o,this.adF,this);this.Mv=new hA([12,18],1,300," %");this.Mv.l(r.E.o,this.ae0,this);this.EN=[this.Dk,this.rv,this.jD,this.At,this.Mv]}C.prototype=new m;
C.prototype._=function(){this.Dk._();this.rv._();this.jD._();this.At._();this.Mv._()};C.prototype.Ia=function(){return!0};
C.prototype.Ie=function(A){this.ng=A;var n=[],N=Math.floor(30*f.F()),e=Math.floor(40*f.F());for(var D=0;
D<A.list.length;D++){var Q=A.list[D].v,p=eD.Dq(Q,A.Ub,A.MS,N,e);n.push(p)}this.ur.JM(n,null,N,e)};C.prototype.yc=function(){var A=this._0.Brsh.v,n=A.classID!=this.a7F;
this.a7F=A.classID;if(n)for(var D=0;D<this.EN.length;D++)if(this.m.contains(this.EN[D].m))this.m.removeChild(this.EN[D].m);
this.Dk.f(A.Dmtr.v.val);if(n)this.m.appendChild(this.Dk.m);this.rv.f(A.Angl.v.val);if(n)this.m.appendChild(this.rv.m);
if(A.classID=="computedBrush"||A.classID=="sampledBrush"){this.jD.f(A.Rndn.v.val);if(n)this.m.appendChild(this.jD.m)}if(A.classID=="computedBrush"){this.At.f(A.Hrdn.v.val);
if(n)this.m.appendChild(this.At.m)}this.Mv.f(A.Spcn.v.val);if(n)this.m.appendChild(this.Mv.m)};C.prototype.ac5=function(A){this._0=this.ng.list[this.ur.Y()[0]].v;
this.X3()};C.prototype.abL=function(A){this._0.Brsh.v.Dmtr.v.val=A.target.Y();this.X3()};C.prototype.agd=function(A){this._0.Brsh.v.Angl.v.val=A.target.Y();
this.X3()};C.prototype.auN=function(A){this._0.Brsh.v.Rndn.v.val=A.target.Y();this.X3()};C.prototype.adF=function(A){this._0.Brsh.v.Hrdn.v.val=A.target.Y();
this.X3()};C.prototype.ae0=function(A){this._0.Brsh.v.Spcn.v.val=A.target.Y();this.X3()};function Z(){m.call(this,[15,1]);
this.FW=new hA([15,4,0],0,100,"%");this.FW.l(r.E.o,this.agS,this);this.m.appendChild(this.FW.m);this.gm=new hA([15,4,1],0,100,"%");
this.gm.l(r.E.o,this.a6G,this);this.m.appendChild(this.gm.m);this.XG=new hA([15,4,2],0,100,"%");this.XG.l(r.E.o,this.aco,this);
this.m.appendChild(this.XG.m);this.BC=new fq("Control",["Off","Direction"]);this.BC.l(r.E.o,this.agR,this);
this.m.appendChild(this.BC.m);this.x8=new hA([15,4,3],0,100,"%");this.x8.l(r.E.o,this.adE,this);this.m.appendChild(this.x8.m);
this.a8=new hA([15,4,4],1,100,"%");this.a8.l(r.E.o,this.aq5,this);this.m.appendChild(this.a8.m)}Z.prototype=new m;
Z.prototype._=function(){this.FW._();this.gm._();this.XG._();this.x8._();this.a8._()};Z.prototype.Ia=function(){return this._0.useTipDynamics.v};
Z.prototype.ZP=function(A){this._0.useTipDynamics.v=A;c4.E4.qj(this._0);this.X3()};Z.prototype.yc=function(){var A=this._0;
if(A.useTipDynamics.v==!1)return;this.FW.f(A.szVr.v.jitter.v.val);this.gm.f(A.minimumDiameter.v.val);
this.XG.f(A.angleDynamics.v.jitter.v.val);this.BC.f(A.angleDynamics.v.bVTy.v==0?0:1);this.x8.f(A.roundnessDynamics.v.jitter.v.val);
this.a8.f(A.minimumRoundness.v.val)};Z.prototype.agS=function(A){this._0.szVr.v.jitter.v.val=A.target.Y();
this.X3()};Z.prototype.a6G=function(A){this._0.minimumDiameter.v.val=A.target.Y();this.X3()};Z.prototype.aco=function(A){this._0.angleDynamics.v.jitter.v.val=A.target.Y();
this.X3()};Z.prototype.agR=function(A){this._0.angleDynamics.v.bVTy.v=A.target.Y()==0?0:6;this.X3()};
Z.prototype.adE=function(A){this._0.roundnessDynamics.v.jitter.v.val=A.target.Y();this.X3()};Z.prototype.aq5=function(A){this._0.minimumRoundness.v.val=A.target.Y();
this.X3()};function q(){m.call(this,[15,2]);this.yh=new hA([15,5,0],0,1e3," %");this.yh.l(r.E.o,this.a7Q,this);
this.m.appendChild(this.yh.m);this.fj=new hA([15,5,1],1,20);this.fj.l(r.E.o,this.aaC,this);this.m.appendChild(this.fj.m);
this.Za=new hA([15,5,2],0,100," %");this.Za.l(r.E.o,this.atF,this);this.m.appendChild(this.Za.m)}q.prototype=new m;
q.prototype._=function(){this.yh._();this.fj._();this.Za._()};q.prototype.Ia=function(){return this._0.useScatter.v};
q.prototype.ZP=function(A){this._0.useScatter.v=A;c4.E4.qj(this._0);this.X3()};q.prototype.yc=function(){var A=this._0;
if(A.useScatter.v==!1)return;this.yh.f(A.scatterDynamics.v.jitter.v.val);this.fj.f(A.Cnt.v);this.Za.f(A.countDynamics.v.jitter.v.val)};
q.prototype.a7Q=function(A){this._0.scatterDynamics.v.jitter.v.val=A.target.Y();this.X3()};q.prototype.aaC=function(A){this._0.Cnt.v=A.target.Y();
this.X3()};q.prototype.atF=function(A){this._0.countDynamics.v.jitter.v.val=A.target.Y();this.X3()};
function J(){m.call(this,[15,3]);this.X4=new hA([15,6,0],0,100," %");this.X4.l(r.E.o,this.a5b,this);
this.m.appendChild(this.X4.m);this.xy=new hA([15,6,1],0,100," %");this.xy.l(r.E.o,this.aes,this);this.m.appendChild(this.xy.m);
this.AJ=new hA([15,6,2],0,100," %");this.AJ.l(r.E.o,this.a9A,this);this.m.appendChild(this.AJ.m);this.Bq=new hA([15,6,3],0,100," %");
this.Bq.l(r.E.o,this.aqJ,this);this.m.appendChild(this.Bq.m)}J.prototype=new m;J.prototype._=function(){this.X4._();
this.xy._();this.AJ._();this.Bq._()};J.prototype.Ia=function(){return this._0.useColorDynamics.v};J.prototype.ZP=function(A){this._0.useColorDynamics.v=A;
c4.E4.qj(this._0);this.X3()};J.prototype.yc=function(){var A=this._0;if(A.useColorDynamics.v==!1)return;
this.X4.f(A.clVr.v.jitter.v.val);this.xy.f(A.H.v.val);this.AJ.f(A.Strt.v.val);this.Bq.f(A.Brgh.v.val)};
J.prototype.a5b=function(A){this._0.clVr.v.jitter.v.val=A.target.Y();this.X3()};J.prototype.aes=function(A){this._0.H.v.val=A.target.Y();
this.X3()};J.prototype.a9A=function(A){this._0.Strt.v.val=A.target.Y();this.X3()};J.prototype.aqJ=function(A){this._0.Brgh.v.val=A.target.Y();
this.X3()};return u}();function gd(){dy.call(this,[9,0],!1,null,dy.Sc.fn);this.Ly.setAttribute("style","min-width:200px;");
this.rs=f.L("div","hpbody scrollable");this.rs.style.height="160px";this.Ly.appendChild(this.rs);this.apU=-1;
this.WZ=[];this.x3=""}gd.prototype=new dy("");gd.prototype.B6=function(u){if(u==null){f.Da(this.rs);
this.x3="";return}f.Da(this.rs);var m=0;for(var D=0;D<u.history.length;D++)if(D<=u.oa&&!u.history[D].SI)m=D;
for(var D=0;D<u.history.length;D++){var C=u.history[D];if(C.SI)continue;var Z=new aq(C,D,m);Z.parent=this;
this.rs.appendChild(Z.m);this.WZ.push(Z)}if(u.oa==u.history.length-1)this.TE()};gd.prototype.TE=function(){this.rs.scrollTop=this.rs.scrollHeight};
gd.prototype._=function(){dy.prototype._.call(this);for(var D=0;D<this.WZ.length;D++)this.WZ[D]._()};
function aq(u,D,m){bK.call(this);this.index=D;this.m=f.L("div",D==m?"listitem selected":"listitem");
this.V0=u.name;this._();if(D>m)this.m.style.opacity=.4;this.m.addEventListener("click",this.K4.bind(this),!1)}aq.prototype=new bK;
aq.prototype._=function(){this.m.textContent=jg.get(this.V0)};aq.prototype.K4=function(u){if(this.index==this.parent.apU)return;
this.cc({d:"h_itemchange",index:this.index})};aq.prototype.cc=function(u){var m=new eY(r.E.H,!0);m.data=u;
m.b=b.fn;this.c(m)};function j4(){dy.call(this,[9,10],!1,"---panels/histogram",dy.Sc.a2s);var u=f.L("div","padded");
this.Ly.appendChild(u);this.VT=new dq(256,!0);u.appendChild(this.VT.m);this.Jp=null}j4.prototype=new dy("");
j4.prototype.B6=function(u){this.Jp=u;this.L9()};j4.prototype.L9=function(){var u=this.Jp;if(!f.pZ(this.Ly))return;
if(u==null||u.w.length==0){this.VT.f(j.hW(j.U(4)));return}var m=u.K9(),C=new bl(0,0,u.e,u.n),Z=C.Z();
if(u.q){var q=u.q.rect,J=j.U(q.Z()*4);j.zO(m,C,J,q);j.uY(u.q.channel,J);m=J;C=q;var A=u.q.channel;Z=0;
for(var D=0;D<A.length;D++)Z+=A[D];Z=Math.round(Z/255)}var n=j.hW(m);n[0][255]+=3*(Z-n[5]);for(var D=1;
D<4;D++)n[D][255]+=Z-n[5];this.VT.f(n,Z)};j4.prototype.vZ=function(u,m){this.VT.HN(dF.Kz[u.nv]["--text-color"])};
j4.prototype._=function(){dy.prototype._.call(this);this.VT._()};j4.prototype.TE=function(){this.L9()};
function aI(){dy.call(this,[9,8],!1,null,dy.Sc.acU);this.m9=f.L("div","padded");this.Ly.appendChild(this.m9);
this.HU=new bU(10);this.m9.appendChild(this.HU.m);this.m9.appendChild(f.L("hr"));this.SK=new hq;this.SK.parent=this;
this.m9.appendChild(this.SK.mW);this.HU.l(r.E.o,this.a88,this);this.SK.l(r.E.o,this.a88,this)}aI.prototype=new dy("");
aI.prototype.a88=function(u){var m;if(u.target==this.HU)m=this.HU.Y();else{var C=this.SK.Y();m=Math.round(C.p)<<16|Math.round(C.T)<<8|Math.round(C.S)}var Z=new eY(r.E.z,!0);
Z.data={d:r.J.mh,no:jO.e0,OY:0,k:m};this.c(Z)};aI.prototype.vZ=function(u,m){var C=u.jM,Z=m==jO.LY;if(m==jO.e0||Z){this.HU.f(C);
this.SK.f({p:C>>>16&255,T:C>>>8&255,S:C>>>0&255,TB:"Color #"+j.U0(C)})}if(m==jO.O_||Z){var q=u.a6z;this.SK.Ie(q)}};
function fM(){dy.call(this,[12,72],!1,"---adj/mixr",dy.Sc.agt);this.Dl=null;this.Wh=null;this.rs=f.L("div","lpbody scrollable");
this.wA=f.L("div","lpfoot");this.Ly.appendChild(this.rs);this.Ly.appendChild(this.wA);this.zr=[];this.l("click",this.r$,this);
this.QG=[];fM.bY([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.QG,this.wA,this.eJ.bind(this),this.pf.bind(this));
this.lo=new dk([{name:"Merge Channels",mG:!0}]);this.lo.l("select",this.D3,this)}fM.prototype=new dy("");
fM.prototype.D3=function(u){if(this.Wh==null)return;var m=new eY(r.E.z,!0);m.data={d:r.J.zH,E$:"mergechannels"};
this.c(m)};fM.prototype.uB=function(){return this.lo};fM.bY=function(u,m,C,Z,q){for(var D=0;D<u.length;
D++){var J=new iG("W",!1,u[D]);m.push(J);f.oI(J.m,Z);C.appendChild(J.m);var A=J.m;A.addEventListener("drop",q,!1);
A.addEventListener("dragover",function(n){n.preventDefault()},!1);A.addEventListener("dragenter",f.Qn,!1)}};
fM.az=function(u,m){for(var D=0;D<u.length;D++)if(u[D].m==m.currentTarget)return D};fM.prototype.eJ=function(u){var m=fM.az(this.QG,u);
if(m==0)this.c(jo.sI(!0,null,u));else{m--;var C=new eY(r.E.od,!0),Z={classID:"null"};if(m==0)Z.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};
else if(m==1)Z.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else Z.null=hc.Q3("Chnl",!0);C.data={ZO:["duplicate","make","delete"][m],yS:Z};this.c(C)}};fM.prototype.pf=function(u){var m=fM.az(this.QG,u);
if(m==2){var C=new eY(r.E.od,!0),Z={classID:"null"};Z.null=hc.Q3("Chnl",!0);C.data={ZO:"duplicate",yS:Z};
this.c(C)}else this.eJ(u)};fM.prototype.Fw=function(D){var u=this.zr,m=u[D];if(m==null){var C=f.L("canvas");
m=C.getContext("2d");u.push(m)}return m};fM.prototype.r$=function(u){var m=this.Dl.slice(0),C=u.data.NR,Z=m[0]+m[1]+m[2],q=this.Wh;
if(-5<C&&C<0){var J=-C-1;if(u.data.Kf){if(J==0)m=Z==3?[0,0,0]:[1,1,1];else{if(m[J-1]==0)m[J-1]=1;else if(!0)m[J-1]=0}}else{if(J==0)m=[1,1,1];
else{m=[0,0,0];m[J-1]=1}q.Rc=[]}var A=new eY(r.E.H,!0);A.b=b.mA;A.data={d:"setcls",Np:m};this.c(A);return}if(-1<C){var n=q.g[C],N=n.$v==1?n.Te():n.Ha(q).M;
if(u.data.Kf)N.GH=!N.GH;else{for(var D=0;D<q.YG.length;D++)q.YG[D].GH=!1;q.Rc=[]}}else{var e=-C-5,N=q.YG[e];
if(u.data.Kf)N.GH=!N.GH;else{for(var D=0;D<q.YG.length;D++)q.YG[D].GH=!1;N.GH=!0;q.Rc=[e]}}q.qz=q.xi=!0};
fM.prototype.TE=function(){this.iS()};fM.prototype.B6=function(u){this.Wh=u;this.iS()};fM.prototype.iS=function(){var u=this.Wh,m=this.rs,n=34,N=34,$=4;
f.Da(m);if(u==null||!f.pZ(m))return;var C=u.e,Z=u.n,q=new bl(0,0,C,Z),J=this.Dl=u.t.Np.slice(0),A=J[0]+J[1]+J[2];
if(C>Z)N=Math.round(N*Z/C);else n=Math.round(n*C/Z);var e=["RGB"].concat(b1.ql);for(var D=0;D<4;D++){var Q=this.Fw(D);
j.Qo.SO(Q,n,N,q,u.K9(),q,!1,D==0?null:D-1);var p=D==0?A==3:J[D-1]==1,B=new jo(-1-D,!0,!0,Q,e[D],p,p);
B.parent=this;m.appendChild(B.m)}for(var D=0;D<u.w.length;D++){var R=u.g[u.w[D]],z=R.$v;if(z!=1&&z!=3)continue;
var v=z==1?R.Te():R.Ha(u).M,Q=this.Fw($+D);$++;j.Qo.qE(Q,n,N,q,v);var B=new jo(u.w[D],!0,!0,Q,R.getName()+(z==1?"":" Filter")+" Mask",!0,v.GH);
B.parent=this;m.appendChild(B.m)}for(var D=0;D<u.YG.length;D++){var v=u.YG[D],Q=this.Fw($+D);j.Qo.qE(Q,n,N,q,v);
var B=new jo(-5-D,!0,v.name=="Quick Mask",Q,v.name,u.Rc.indexOf(D)!=-1,v.GH,b.IZ,{d:F.aS,OY:"rnm",NR:D});
B.parent=this;m.appendChild(B.m)}};fM.prototype.CC=function(u,m){this.rs.style.height=m-9-26+"px";this.rs.style.width=u+"px"};
fM.prototype._=function(){dy.prototype._.call(this);this.iS();fM.kg(this.QG,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
fM.kg=function(u,m){var m=ja.vu(m);for(var D=0;D<u.length;D++)u[D].YI(m[D])};function jo(u,m,C,Z,q,J,A,n,N){bK.call(this);
this.m=f.L("div","layeritem");this.adu=u;this.a9$=m;this.O2=Z;this.apZ=n;this.a1f=N;this.c8=f.L("div",J?"head selected":"head");
this.c8.setAttribute("style","height: "+40+"px");var e=f.L("div","headL"),Q=f.L("div","headR"),p=15;
this.m.appendChild(this.c8);this.c8.appendChild(e);this.c8.appendChild(Q);this.cH=f.L("div","eye");if(1<f.F()&&f.F()<1.5)p=p/f.F();
this.cH.setAttribute("style","background-size: "+p+"px "+p+"px;");this.cH.style.opacity=A?1:.2;if(m)e.appendChild(this.cH);
this.r1=f.L("div","thumb");if(Z)this.r1.appendChild(Z.canvas);e.appendChild(this.r1);this.pk=f.L("div","label");
if(C)this.pk.style.fontStyle="italic";this.pk.textContent=jg.get(q);e.appendChild(this.pk);var B=this.c8;
B.setAttribute("draggable","true");B.addEventListener("dragstart",function($){$.dataTransfer.setData("Text","")},!1);
f.oI(this.c8,this.akp.bind(this));if(!C)this.c8.addEventListener("mouseup",this.amc.bind(this),!1)}jo.prototype=new bK;
jo.prototype.yN=function(u){var m=new eY(r.E.H,!0);m.b=this.apZ;m.data=this.a1f;m.data.name=u;this.c(m)};
jo.prototype.akp=function(u){var m=u.ctrlKey||u.metaKey,C=this.adu;if(m&&u.target==this.O2.canvas){this.c(jo.sI(this.a9$,C,u))}else{var Z=new eY("click",!0);
Z.data={NR:C,Kf:u.target==this.cH,$J:m};this.c(Z)}};jo.prototype.amc=function(u){if(u.detail==2&&u.target==this.pk){var m=new dy.ss(this.pk,this.yN.bind(this))}};
jo.sI=function(u,m,C){var Z=0;if(C.shiftKey)Z++;if(C.altKey)Z+=2;var q=new eY(r.E.H,!0);q.b=b.zj;if(u){if(-5<m&&m<0){q=new eY(r.E.od,!0);
q.data=b.No._i(Z,["RGB","Rd","Grn","Bl"][-1-m])}else q.data={d:"fromchannel",_c:[m,0,Z]}}else q.data={d:"frompath",_c:[m,0,Z]};
return q};function hf(){dy.call(this,[8,9],!1,"---panels/paths",dy.Sc.hm);this.Dl=null;this.Wh=null;
this.rs=f.L("div","lpbody scrollable");this.wA=f.L("div","lpfoot");this.Ly.appendChild(this.rs);this.Ly.appendChild(this.wA);
this.Ly.addEventListener("click",this.a3N.bind(this),!1);this.zr=[];this.l("click",this.r$,this);this.QG=[];
fM.bY(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.QG,this.wA,this.eJ.bind(this),this.pf.bind(this))}hf.prototype=new dy("");
hf.prototype.eJ=function(u,m){var C=fM.az(this.QG,u),Z;if(C<2){var q={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},J=C==0?{classID:"null",null:q,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:q,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
Z=new eY(r.E.od,!0);Z.data={ZO:C==0?"fill":"stroke",yS:J}}else if(C==2)Z=jo.sI(!1,null,u);else if(C==3){Z=new eY(r.E.od,!0);
Z.data={ZO:"make",yS:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(C>3){var Z=new eY(r.E.H,!0);
Z.b=b.UX;Z.data={d:"pathedit",OY:["new","del"][C-4],ad1:m}}this.c(Z)};hf.prototype.pf=function(u){this.eJ(u,!0)};
hf.prototype.Fw=function(D){var u=this.zr,m=u[D];if(m==null){var C=f.L("canvas");m=C.getContext("2d");
u.push(m)}return m};hf.prototype.a3N=function(u){if(u.target==this.rs){var m=this.Wh;m.h2=[];m.WC=[];
m.xi=!0;m.qz=!0}};hf.prototype.r$=function(u){var m=u.data.NR,C=this.Wh,Z=u.data.$J,q=0,J,A;if(m<0){q=-1-m;
J=C.h2;A=C.WC}else{var n=C.yG()[0];for(var D=0;D<n.length;D++){var N=n[D].NR;if(N==m)break;if(N>=0)q++}J=C.WC;
A=C.h2}if(Z){var e=J.indexOf(q);if(e==-1)J.push(q);else J.splice(e,1)}else{while(J.length!=0)J.pop();
while(A.length!=0)A.pop();J.push(q)}C.xi=!0;C.qz=!0};hf.prototype.TE=function(){this.iS()};hf.prototype.B6=function(u){this.Wh=u;
this.iS()};hf.prototype.iS=function(){var u=this.Wh,m=this.rs,n=34,N=34;f.Da(m);if(u==null||!f.pZ(m))return;
var C=u.e,Z=u.n,q=new bl(0,0,C,Z),J=this.Dl=u.t.Np.slice(0),A=J[0]+J[1]+J[2];if(C>Z)N=Math.round(N*Z/C);
else n=Math.round(n*C/Z);var e=u.yG(),Q=e[0];for(var D=0;D<Q.length;D++){var p=Q[D],B=this.Fw(D);j.Qo.ask(B,n,N,q,p.add.vmsk);
var $=new jo(p.NR,!1,p.NR>=0,B,p.name,e[1].indexOf(D)!=-1,!1,b.UX,{d:"pathedit",OY:"rnm",NR:p.NR});$.parent=this;
m.appendChild($.m)}};hf.prototype.CC=function(u,m){this.rs.style.height=m-9-26+"px";this.rs.style.width=u+"px"};
hf.prototype._=function(){dy.prototype._.call(this);this.iS();fM.kg(this.QG,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function cr(u){dy.call(this,[9,u?4:5],!1,"---panels/"+(u?"character":"paragraph"),u?dy.Sc.a5j:dy.Sc.a9x);
this.Ly.setAttribute("style","min-width:240px;");this.a8d=u;this.By=null;this.sU=null}cr.prototype=new dy("");
cr.prototype.T1=function(){this.By=new a3;var u=this.By,m=this.Ly;u.parent=this;if(this.a8d){var C=f.L("div","marged");
m.appendChild(C);C.appendChild(u.Z7.m);m.appendChild(f.L("hr"));var Z=f.L("div","marged");m.appendChild(Z);
Z.appendChild(u.L1.m);Z.appendChild(u.Ti.m);var q=f.L("div","marged");m.appendChild(q);q.appendChild(u.bI.m);
q.appendChild(u.Nq.m);m.appendChild(f.L("hr"));var J=f.L("div","marged");m.appendChild(J);J.appendChild(u.fT.m);
J.appendChild(u.Z_.m);var A=f.L("div","marged");m.appendChild(A);A.appendChild(u.Kj.m);A.appendChild(u.KI.m);
A.appendChild(u.jP.m);m.appendChild(f.L("hr"));var n=f.L("div","marged");m.appendChild(n);n.appendChild(u.q2.m);
n.appendChild(u.gK.m);n.appendChild(u.pm.m);n.appendChild(u.Ov.m);n.appendChild(u.RY.m);n.appendChild(u.VJ.m);
n.appendChild(u.Cy.m);n.appendChild(u.bi.m)}else{var C=f.L("div","marged");m.appendChild(C);C.appendChild(u.w3.m);
C.appendChild(u.LS.m);C.appendChild(u.OM.m);C.appendChild(u.aaM.m);C.appendChild(u.a0r.m);C.appendChild(u.a20.m);
C.appendChild(u.a76.m);m.appendChild(f.L("hr"));var Z=f.L("div","marged");m.appendChild(Z);Z.appendChild(u.Vt.m);
Z.appendChild(u.x$.m);Z.appendChild(u.ux.m);m.appendChild(f.L("hr"));var q=f.L("div","marged");m.appendChild(q);
q.appendChild(u.hG.m);q.appendChild(u._4.m);q.appendChild(u.Xb.m);q.appendChild(u.jS.m)}};cr.prototype.TE=function(){if(!f.pZ(this.Ly))return;
if(this.By==null){this.T1();var u=this.sU;if(u)this.By.f(u.yU,u.u6,u.bx);this.By._()}};cr.prototype._=function(){dy.prototype._.call(this);
if(this.By)this.By._()};cr.prototype.vZ=function(u,m){this.sU=u;if(m!=jO.LY&&m!=jO.Cd&&m!=jO.ht&&m!=jO.qA)return;
if(this.By)this.By.f(u.yU,u.u6,u.bx)};function gE(){dy.call(this,[9,13],!1,"---panels/glyphs",dy.Sc.a4U);
this.By=new a3;this.By.parent=this;this.sU=null;this.atc=null;this.a9z=null;this.NT=null;this.ahS=null;
this.KV=Math.round(290*f.F());this.ai=45;this.a3K=4;this.arF=this.L9.bind(this);this.a5x=0;this.nP=new fq(null,["Hi","Hello"]);
this.nP.l(r.E.o,this.L9,this);var u=this.M5=new iG("-",null,null,!0);u.l("click",this.agO,this);var m=this.ahc=new iG("+",null,null,!0);
m.l("click",this.agO,this);this.Mb=new dc(!1);this.Mb.l(r.E.o,this.eO,this);this.Mb.m.style.height=250+"px";
var C=this.zn=f.L("div","form padded");this.Ly.appendChild(C);C.appendChild(this.By.Z7.m);f.Uy(C);C.appendChild(this.nP.m);
C.appendChild(u.m);C.appendChild(m.m);this.Ly.appendChild(this.Mb.m)}gE.prototype=new dy("");gE.prototype.CC=function(u,m){if(this.du==u)return;
this.du=u;this.KV=Math.floor((u-13)*f.F());this.zn.setAttribute("style","width:"+this.KV/f.F()+"px;");
this.Mb.m.style.height=m-73+"px";this.L9()};gE.prototype.eO=function(u){var m=this.ar$(),C=Math.round(this.KV/m);
m/=f.F();var Z=this.Mb.Y()[0]*C*this.a3K,q=this.Mb.a05();Z+=Math.floor(q.y/m)*C;Z+=Math.floor(q.x/m);
var J=this.NT[this.nP.Y()];if(Z>=J.length)return;var A=J[Z],n=this.ahS[A],N=new eY(r.E.H,!0);N.b=b.IR;
if(n.dY.length==0)N.data={d:"insertGlyph",k:Z+1};else N.data={d:"insertText",k:String.fromCodePoint(n.dY[0])};
this.c(N)};gE.prototype.agO=function(u){var m=1.2;if(u.target==this.M5){if(this.ai>20)this.ai/=m}else{if(this.ai<100)this.ai*=m}this.L9()};
gE.prototype.TE=function(){this.vZ(this.sU)};gE.prototype.vZ=function(u,m){this.sU=u;if(!f.pZ(this.Ly))return;
this.By.f(u.yU,u.u6,u.bx);var C=u.yU,Z=C.L4.Font,N=0;if(Z==null)return;var q=C.nS[Z].Name;if(this.atc==q)return;
var Z=u.u6.TF(q);if(Z==null)return;var J=Z.maxp.numGlyphs,A=this.ahS=new Array(J);for(var D=0;D<J;D++)A[D]={dY:[]};
var n=Date.now(),e=new Uint8Array(1048575);for(var D=0;D<1048575;D++){var Q=Typr.U.codeToGlyph(Z,D);
if(Q!=0&&Q<J){e[D]=1;if(A[Q].dY.length==0)N++;A[Q].dY.push(D)}}var p=gE.Bc,B=[];for(var D=0;D<p.length;
D++)B.push([]);for(var Q=1;Q<J;Q++){B[0].push(Q);var $=A[Q].dY[0];if($==null){continue}for(var R=1;R<p.length;
R++){var z=p[R].lF;for(var D=0;D<z.length;D+=2)if(z[D]<=$&&$<=z[D+1]){B[R].push(Q);break}}}this.NT=B;
var v=[];for(var D=0;D<p.length;D++)v.push(p[D].NQ+" ("+B[D].length+")");var a=this.nP.Y();this.nP.D5(v);
this.nP.f(a);this.atc=q;this.a9z=Z;this.L9()};gE.prototype.ar$=function(u){var m=Math.floor(this.KV/this.ai);
return Math.floor(this.KV/m)};gE.prototype.L9=function(u){if(!f.pZ(this.Ly)||this.NT==null)return;var m=this.NT[this.nP.Y()],C=m.length,Z=this.a9z,q=Typr.U,J=this.ar$(),A=J,n=A*.8,N=A*.8/Z.head.unitsPerEm,e=[],Q=Math.floor(this.KV/J),p=Math.ceil(C/Q),B=this.a3K,$=Date.now();
for(var R=0;R<p;R+=B){var z=f.L("canvas"),v=z.getContext("2d");z.width=J*Q;z.height=A*B;v.strokeStyle="rgba(0,0,0,0.3)";
v.fillStyle="white";v.fillRect(0,0,Q*J,A*B);for(var a=0;a<B;a++){for(var X=0;X<Q;X++){var D=m[(R+a)*Q+X];
if(D==null)break;var V=q.glyphToPath(Z,D),o=j.u.Of(V.crds);if(!o.qR()){v.fillStyle="#252525";v.beginPath();
var h=X*J+(J-o.e*N)*.5-o.x*N,T=a*A+n;v.translate(h,T);v.scale(N,-N);q.pathToContext(V,v);v.scale(1/N,-1/N);
v.translate(-h,-T);v.fill()}}}v.beginPath();for(var X=0;X<Q;X++){var l=X*J+J+.5;v.moveTo(l,0);v.lineTo(l,A*B)}for(var a=0;
a<B;a++){var w=a*A+A+.5;v.moveTo(0,w);v.lineTo(Q*J,w)}v.stroke();e.push(z)}this.Mb.JM(e,null,J*Q,A*B)};
gE.Bc=[{NQ:"All Glyphs"},{NQ:"Basic Latin, Latin 1",lF:[0,127,128,143]},{NQ:"Latin Extended-A",lF:[256,383]},{NQ:"Latin Extended-B",lF:[384,591]},{NQ:"Punctuations",lF:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{NQ:"Greek",lF:[880,1023]},{NQ:"Cyrillic",lF:[1024,1279]},{NQ:"Hebrew",lF:[1424,1535]},{NQ:"Arabic",lF:[1536,1791]},{NQ:"Emoji",lF:[9728,10095,127744,129535]}];
function f4(){dy.call(this,[13,0],!1,null,dy.Sc.e0);this._A=0;this.ajp=0;this.sU=null;var u=f.L("div","flexrow padded");
this.Ly.appendChild(u);var m=f.L("div");u.appendChild(m);this.ZB=[];for(var D=0;D<2;D++){var C=new df;
this.ZB.push(C);C.l("click",this.aem,this);m.appendChild(C.m)}this.kF=new hr(192);this.kF.l(r.E.o,this.Gm,this);
u.appendChild(this.kF.m)}f4.prototype=new dy("");f4.prototype.aem=function(u){this._A=this.ZB.indexOf(u.currentTarget);
this.L9()};f4.prototype.Gm=function(u){var m=this.kF.Y();this.kF.f(m);var C=Math.round(m.p*255)<<16|Math.round(m.T*255)<<8|Math.round(m.S*255),Z=new eY(r.E.z,!0);
Z.data={d:r.J.mh,no:jO.e0,OY:this._A,k:C};this.c(Z);this.ajp=Date.now()};f4.prototype.L9=function(){var u=this.sU,m=this._A,C=[u.jM,u.z0];
for(var D=0;D<2;D++){var Z=this.ZB[D],q=Z.m.style;Z.HN(C[D]);if(D==m)q.filter="drop-shadow(0 0 1px #000000)"}var J=C[m];
if(Date.now()-this.ajp>100)this.kF.f({p:(J>>>16)/255,T:(J>>>8&255)/255,S:(J&255)/255})};f4.prototype.vZ=function(u,m){this.sU=u;
if(m==jO.LY||m==jO.e0)this.L9()};f4.prototype.TE=function(){this.L9()};function c3(){dy.call(this,"CSS",!1,"---panels/css",dy.Sc.CSS);
this.Jp=null;var u=f.L("div","padded");this.Ly.appendChild(u);this.bw=f.L("textarea");f.xC(this.bw);
u.appendChild(this.bw)}c3.prototype=new dy("");c3.prototype.CC=function(u,m){if(this.du==u)return;this.du=u;
this.bw.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(u-10)+"px; height:"+(m-10)+"px")};
c3.prototype.B6=function(u){this.Jp=u;this.L9()};c3.prototype.vZ=function(u,m){if(m==jO.ht)this.L9()};
c3.prototype.L9=function(){var u=this.Jp;if(u==null||u.w.length==0)return;if(!f.pZ(this.Ly))return;var m=u.g[u.w[0]],C=CSS.apr(m,u);
if(C.length!=0)this.bw.value=C.join(";\n")+";";else this.bw.value=""};c3.prototype.TE=function(){this.L9()};
function g5(){dy.call(this,[9,6],!1,"---panels/info",dy.Sc.afQ);this.Ly.setAttribute("style","min-width:240px;");
this.Jp=null;this.sU=null;var u=f.L("div","marged row");this.Ly.appendChild(u);var m=f.L("div","cell");
m.setAttribute("style","width:10em");u.appendChild(m);var C=f.L("div","cell");C.setAttribute("style","width:10em");
u.appendChild(C);this.a5A=[];for(var D=0;D<4;D++){var Z=new i7("");this.a5A.push(Z);m.appendChild(Z.m);
f.Uy(m)}this.Ly.appendChild(f.L("hr",""));var q=f.L("div","marged row");this.Ly.appendChild(q);var m=f.L("div","cell");
m.setAttribute("style","width:10em");var C=f.L("div","cell");C.setAttribute("style","width:10em");q.appendChild(m);
q.appendChild(C);this.qw=new i7("");m.appendChild(this.qw.m);f.Uy(m);this.Dy=new i7("");m.appendChild(this.Dy.m);
this.GV=new i7("");C.appendChild(this.GV.m);f.Uy(C);this.st=new i7("");C.appendChild(this.st.m);this.qw.f("X: 100 px");
this.Dy.f("Y: 100 px");this.GV.f("W: 0");this.st.f("H: 0")}g5.prototype=new dy("");g5.prototype.TQ=function(u,m,C,Z,q){if(!f.pZ(this.Ly)||u==null)return;
var J=u.t.Iv(q.x,q.y),A=new dz(Math.floor(J.x),Math.floor(J.y));if(!q.Ct){var n=0,N=0,e=0,Q=0,p=this.a5A;
if(!q.Ct&&!u.acP()&&new bl(0,0,u.e-1,u.n-1).PG(A)){var B=u.K9(),D=u.e*A.y+A.x<<2;n=B[D+0];N=B[D+1];e=B[D+2];
Q=B[D+3]}p[0].f("R: "+n);p[1].f("G: "+N);p[2].f("B: "+e);p[3].f("A: "+Q)}this.qw.f("X: "+j.KX.XJ(A.x,u.JJ,C,u.e));
this.Dy.f("Y: "+j.KX.XJ(A.y,u.JJ,C,u.n));this.bO()};g5.prototype.bO=function(){var u=this.Jp,m=this.sU,C=0,Z=0;
if(u&&m){if(u.t.SD){C=u.t.SD.e;Z=u.t.SD.n}else if(u.q){C=u.q.rect.e;Z=u.q.rect.n}C=j.KX.XJ(Math.abs(C),u.JJ,m,u.e);
Z=j.KX.XJ(Math.abs(Z),u.JJ,m,u.n)}this.GV.f(jg.get([12,41]).charAt(0)+": "+C);this.st.f(jg.get([12,42]).charAt(0)+": "+Z)};
g5.prototype._=function(){dy.prototype._.call(this);this.bO()};g5.prototype.B6=function(u,m,C){this.Jp=u;
this.sU=C;this.bO()};function hK(){dy.call(this,[9,1],!1,"---panels/layers",dy.Sc.IZ);this.jV=null;this.Uk=null;
this.IB=null;this.c8=f.L("div","lphead");this.rs=f.L("div","lpbody scrollable");this.wA=f.L("div","lpfoot");
this.hQ=new aG([0,6]);this.hQ.l(r.E.o,this.fG,this);this.c8.appendChild(this.hQ.m);this.pC=f.L("span","disabled");
this.pC.setAttribute("style","display:inline-block; height:26px");this.c8.appendChild(this.pC);this.vl=new fq(null,["Kind",[12,48]],!1,[]);
this.vl.l(r.E.o,this.fG,this);var u=this.d6=[new jI(null,["<img src=\""+PIMG.pix_layer+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"autoscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new jC(null,null,8)];
u[0].l(r.E.o,this.fG,this);u[1].l("input",this.fG,this);this.alz();this.ER=new fq(null,hR.Pc,!1,hR.gQ);
this.ER.l(r.E.o,this.asP,this);this.c8.appendChild(this.ER.m);this.gM=new fc([12,0],0,100,"%",0);this.gM.l(r.E.o,this.alg,this);
this.gM.parent=this;this.c8.appendChild(this.gM.m);this.ny=new jI([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.ny.l(r.E.o,this.a7w,this);this.c8.appendChild(this.ny.m);this.MG=new fc([12,26],0,100,"%",0);this.MG.l(r.E.o,this.au4,this);
this.MG.parent=this;this.c8.appendChild(this.MG.m);this.QG=[];this.bY();this.Ly.appendChild(this.c8);
this.Ly.appendChild(this.rs);this.rs.addEventListener("dragover",function(Z){Z.preventDefault()},!1);
this.rs.addEventListener("dragenter",f.Qn,!1);this.rs.addEventListener("drop",this.afu.bind(this),!1);
this.Ly.appendChild(this.wA);this.Ly.addEventListener("contextmenu",f.Qn,!1);var m=c$.Yy(!0),C=c$.Kg(!0);
this.aon=new dk(m,C);var m=[{name:[14,10]},{name:[14,11],ZR:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],ZR:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",P:function(Z){return{P:Z.g[Z.w[0]].add.SoLd!=null}},ZR:!0},{name:[6,8],P:hK.aqK},{name:[6,34],P:function(Z){var q=Z.g[Z.w[0]];
return{P:q.add.lmfx!=null&&!q.ld()}}},{name:[6,40],ZR:!0,P:function(Z){var q=Z.g[Z.w[0]];return{P:q.add.TySh!=null}}},{name:"",ZR:!0,P:function(Z){var q=Z.g[Z.w[0]],J=q.add.TySh,A=J?J.pU:null;
return{P:J!=null&&A.Curve==null,hD:jg.get(J&&ad.wH(A)==0?[16,3,1]:[16,3,0])}}},hK.a2P(!1),{name:[11,6],ZR:!0,sub:[{name:[5,1],P:function(Z){var q=Z.g[Z.w[0]];
return{P:q.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],P:function(Z){var q=Z.g[Z.w[0]];return{P:q.add.lmfx!=null}}}]},{name:[6,10],P:function(Z){return{P:Z.w.length==1&&Z.w[0]!=0&&!Z.g[Z.w[0]].ld()}}},{name:[6,12,0],P:function(Z){return{P:Z.w.length>1||Z.g[Z.w[0]].ld()}}},{name:[6,12,1],ZR:!0},{name:[13,0],sub:function(){var Z=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],q=[];
for(var D=0;D<Z.length;D++)q.push({name:Z[D]});return q}()}],C=[{W:r.E.z,R:{d:r.J.zH,E$:"layerstyle"}},{W:r.E.H,b:b.zj,R:{d:"fromlayer",_c:[null,0,0]}},{W:r.E.H,b:b.IZ,R:{d:F.Gx}},{W:r.E.z,R:{d:r.J.zH,E$:"duplinto"}},{W:r.E.H,b:b.IZ,R:{d:F.Sz}},{W:r.E.od,R:{ZO:"newPlacedLayer"}},{W:r.E.H,b:b.IZ,R:{d:F.oJ}},{W:r.E.od,R:{ZO:"rasterizeLayer",yS:{classID:"rasterizeLayer",null:hc.Q3("Lyr",!0)}}},{W:r.E.H,b:b.IZ,R:{d:F.cv}},{W:r.E.H,b:b.IZ,R:{d:F.hu}},{W:r.E.H,b:b.IR,R:{d:"switchPntPrgr"}},{W:r.E.H,b:b.IZ,R:{d:F.A8}},{sub:[{W:r.E.H,b:b.vW,R:{d:"st_copy"}},{W:r.E.H,b:b.vW,R:{d:"st_paste"}},{W:r.E.H,b:b.vW,R:{d:"st_clear"}}]},{W:r.E.H,b:b.IZ,R:{d:F.BY}},{W:r.E.H,b:b.IZ,R:{d:F.oQ}},{W:r.E.H,b:b.IZ,R:{d:F.Pt}},{sub:function(){var Z=[];
for(var D=0;D<8;D++)Z.push({W:r.E.H,b:b.IZ,R:{d:F.vz,aaS:D}});return Z}()}];this.Xp=new dk(m,C);var m=[{name:[6,45],P:function(Z){var q=Z.g[Z.w[0]];
return{P:q.Ha(Z).M==null}}},{name:[6,47]}],C=[{W:r.E.H,b:b.IZ,R:{d:F.o4}},{W:r.E.H,b:b.IZ,R:{d:F.M3}}];
this.apx=new dk(m,C);var m=[{name:"enab/disab",P:function(Z){return{hD:jg.get(Z.g[Z.w[0]].Te().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],P:function(Z){return{P:Z.w0(!1,!0)}}}],C=[{W:r.E.H,b:b.IZ,R:{d:F.vf}},{W:r.E.H,b:b.IZ,R:{d:F.bk}},{W:r.E.H,b:b.IZ,R:{d:F.eN}}];
this.a03=new dk(m,C);var m=[{name:"enab/disab",P:function(Z){return{hD:jg.get(Z.g[Z.w[0]].Ha(Z).M.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],C=[{W:r.E.H,b:b.IZ,R:{d:F.hc}},{W:r.E.H,b:b.IZ,R:{d:F.OF}}];
this.a7g=new dk(m,C);var m=[{name:"enab/disab",P:function(Z){return{hD:jg.get(Z.g[Z.w[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],C=[{W:r.E.H,b:b.IZ,R:{d:F.y5}},{W:r.E.H,b:b.IZ,R:{d:F.Ws}},{W:r.E.H,b:b.IZ,R:{d:F.vw}}];
this.al3=new dk(m,C);this.amN=new dk(c$.aiK(!0),c$.rH(!0));this.aqo=new dk(c$.Yy(),c$.Kg());this.l("rclick",this.a9J,this)}hK.prototype=new dy("");
hK.prototype.a5C=function(){if(this.hQ.Y()){var u=this.vl.Y(),m=this.d6[u].Y();if(u==0)return m.indexOf(!0)!=-1;
if(u==1)return m!=""}return!1};hK.a2P=function(u){var m=function(Z){var q=Z!=null&&Z.w.length!=0&&Z.g[Z.w[0]].G8;
return{XH:q,P:Z!=null&&Z.MK(Z.w[0]),R:{W:r.E.od,R:{ZO:q?"ungroup":"groupEvent",yS:{classID:q?"Ungr":"GrpL",null:hc.Q3("Lyr",!0)}}}}},C={name:[6,6,0],ZR:!0,P:m};
if(u)C.B8=[hs.mD,hs.Vw,hs.re];return C};hK.aqK=function(u,m){if(u)for(var D=0;D<u.w.length;D++){var C=u.g[u.w[D]];
if(C.add.TySh||C.add.SoLd||C.add.SoCo||C.add.GdFl||C.add.PtFl)return{P:!0}}return{P:!1}};hK.prototype.afu=function(u){f.Qn(u);
var m=u.dataTransfer.getData("Text"),C=1,Z=0;if(m==""){f.I1(u,this,this.IB.indexOf(this.Uk),Z+(C>.5?0:1))}else if(m!="--panel"){var m=JSON.parse(m),q=m.X1;
if(q=="l")this.cc({d:F.WQ,source:m.Nl,target:Z,cb:C})}};hK.prototype.a9J=function(u){var m=this.Uk,C=u.data,q;
if(m.w.indexOf(C.i)==-1){var Z={d:F.Ge,i:u.target.CR.index,l8:C.$v};this.cc(Z)}if(m.w.indexOf(C.i)==-1)return;
if(C.$v==1){q=this.a03}else if(C.$v==2){q=this.al3}else if(C.$v==3){q=this.a7g}else if(C.$v==4){q=this.apx}else if(C.$v==5){q=this.aon}else{q=this.Xp}q._();
q.update(m);q.parent=this;var J=new eY(r.E.z,!0);J.data={d:r.J.ek,Vl:q,x:C.FP.x+1,y:C.FP.y+1};this.c(J)};
hK.prototype._=function(){dy.prototype._.call(this);this.ER._();this.gM._();this.ny._();this.MG._();
if(this.Uk)this.B6(this.Uk);var u="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var D=0;D<this.QG.length;D++){var m=this.QG[D];m.YI(f.hS(u[D]))}};hK.prototype.B6=function(u,m){if(u&&!u.aJ)return;
if(u==null)f.Ky(this.Ly,"disabled");else f.Jq(this.Ly,"disabled");this.Uk=u;this.IB=m;if(this.jV!=null){this.rs.removeChild(this.jV.rs);
this.jV=null}if(u==null)return;var C=!1;for(var D=0;D<u.YG.length;D++)if(u.YG[D].GH)C=!0;this.jV=new be(u.root,this,u,{fB:0},{ahN:C,a2F:this.a5C()});
this.rs.appendChild(this.jV.rs);if(u.w.length==0||u.g[u.w[0]]==null)f.Ky(this.c8,"disabled");else{f.Jq(this.c8,"disabled");
if(u.w.length==1&&u.Ss)this.jV.agl(u.w);var Z=u.g[u.w[0]];if(Z.ld()){this.ER.D5([[15,10,27]].concat(hR.Pc),[1].concat(hR.gQ));
var q=hR.AO.indexOf(Z.Um);this.ER.f(q+1)}else{this.ER.D5(hR.Pc,hR.gQ);var q=hR.AO.indexOf(Z.Um);this.ER.f(q)}this.gM.f(Math.round(100*Z.opacity/255));
this.ny.f([Z.Je(0),Z.Je(1),Z.Je(2),Z.Je(31)]);this.MG.f(Math.round(100*(Z.add.iOpa!=null?Z.add.iOpa/255:1)))}};
hK.prototype.CC=function(u,m){var C=this.c8.getBoundingClientRect().height,Z=59;if(C>70)Z=84;if(C>100)Z=108;
if(C>120)Z=128;var q=m-(Z+37);this.rs.style.height=q+"px";this.rs.style.width=u+"px"};hK.prototype.asP=function(u){this.cc({d:F.EU,Qc:this.ER.Y()})};
hK.prototype.alg=function(u){this.cc({d:F.X8,Qc:Math.round(255*this.gM.Y()/100)})};hK.prototype.a7w=function(u){this.cc({d:F.nV,Qc:[this.ny.Y(),[0,1,2,31]]})};
hK.prototype.au4=function(u){this.cc({d:F.Sh,Qc:Math.round(255*this.MG.Y()/100)})};hK.prototype.fG=function(u){if(u.target==this.vl)this.alz();
var m=this.hQ.Y();if(m)f.Jq(this.pC,"disabled");else f.Ky(this.pC,"disabled");this._();this.Uk.aJ=!0;
this.B6(this.Uk);this.Uk.aJ=!1};hK.prototype.alz=function(){f.Da(this.pC);this.pC.appendChild(this.vl.m);
this.pC.appendChild(this.d6[this.vl.Y()].m)};hK.prototype.am3=function(u){this.alC(u,this.amN)};hK.prototype.a6j=function(u){this.alC(u,this.aqo)};
hK.prototype.alC=function(u,m){var C=u.currentTarget;if(f.pZ(m.m))return;u.stopPropagation();var Z=C.getBoundingClientRect();
m._();m.update(this.Uk);m.parent=this;var q=new eY(r.E.z,!0);q.data={d:r.J.ek,Vl:m,x:Z.left,y:Z.top,asr:!0};
this.c(q)};hK.prototype.abQ=function(u){this.cc({d:F.Gr})};hK.prototype.a5R=function(u){this.cc({d:this.Uk.w.length>1?F.KH:F.Zb})};
hK.prototype.afZ=function(u){this.cc({d:F.O1})};hK.prototype.aa$=function(u){var m=this.Uk;if(m.w.length==0)return;
var C=m.g[m.w[0]],Z=C.$v;this.cc({d:Z<=0?C.Xn?F.Ws:F.Sz:Z==3?F.OF:F.bk})};hK.prototype.auk=function(u){this.cc({d:F.Mj})};
hK.prototype.cc=function(u){var m=new eY(r.E.H,!0);m.data=u;m.b=b.IZ;this.c(m)};hK.prototype.bY=function(){var u=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],m=[this.auk,this.a6j,this.am3,this.abQ,this.a5R,this.afZ,this.aa$],C=this.anq.bind(this);
for(var D=0;D<u.length;D++){var Z=new iG("W",!1,u[D]);this.QG.push(Z);f.oI(Z.m,m[D].bind(this));this.wA.appendChild(Z.m);
if(D>=u.length-3){var q=Z.m;q.addEventListener("drop",C,!1);q.addEventListener("dragover",function(J){J.preventDefault()},!1);
q.addEventListener("dragenter",f.Qn,!1)}}};hK.prototype.anq=function(u){f.Qn(u);var m=0,C=this.QG;while(C[m].m!=u.currentTarget)m++;
C[m].Ff();var Z=u.dataTransfer.getData("Text");if(Z=="")return;var Z=JSON.parse(Z);if(Z.X1=="l"){var q={d:[F.KH,F.Gx,F.Sz][m-4]};
if(this.Uk.w.indexOf(Z.Nl)==-1)q.i=Z.Nl;this.cc(q)}if(m!=6)return;if(Z.X1=="sm"||Z.X1=="s"){var J=new eY(r.E.H,!0);
J.b=b.vW;J.data={d:Z.X1=="sm"?"st_clear":"st_delsingle",i:Z.Nl,Nl:Z.$h};this.c(J)}if(Z.X1=="fm"||Z.X1=="f"){this.cc({d:Z.X1=="fm"?F.M3:F.q_,src:Z.Nl,$h:Z.$h})}if(Z.X1=="m"||Z.X1=="vm"){this.cc({d:Z.X1=="m"?F.bk:F.Ws,i:Z.Nl})}};
function be(u,m,C,Z,q){bK.call(this);this.parent=m;this.CR=u;this.NV=[];this.m=f.L("div","layeritem");
var J=q.a2F&&!this.a45(),A=u.i,n=C.w.indexOf(u.index)!=-1,T=15,i=!1;this.c8=f.L("div",n?"head selected":"head");
if(u.i.add.artb!=null)f.Ky(this.c8,"artb");var N="height: "+(A.ld()?26:Math.floor(10+A.a5p/f.F()))+"px;";
if(n&&q.ahN)N+="background-color:rgba(255,50,50,0.4);";this.c8.setAttribute("style",N);var e=f.L("div","headL"),Q=f.L("div","headR"),p=f.L("div","lpineck");
this.rs=f.L("div","lpibody");this.c8.appendChild(e);this.c8.appendChild(Q);if(!J){this.m.appendChild(this.c8);
if(A.jt()||A.Bv())if(A.e8())this.m.appendChild(p)}var B=this.c8;B.setAttribute("draggable","true");B.addEventListener("dragstart",this.RQ.bind(this),!1);
B.addEventListener("drop",this.qH.bind(this),!1);B.addEventListener("dragover",this.s5.bind(this),!1);
B.addEventListener("dragenter",f.Qn,!1);B.addEventListener("dragleave",this.YT.bind(this),!1);var $=[],R=[null,null,null,null],z=f.L("div");
this.cH=f.L("div","eye");z.appendChild(this.cH);var v=f.L("div","space");this.pk=f.L("div","label");
this.pk.setAttribute("style","max-width:calc(100% - "+(96+u.depth*20)+"px)");this.pk.textContent=A.getName();
this.LH=f.L("div","lock");this.arx=f.L("div","lrfx");this.cs=f.L("div","arfx");var a=this.a4v.bind(this),X=this.a1u.bind(this);
this.c8.addEventListener("click",X,!1);this.c8.addEventListener("contextmenu",a,!1);var V=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],o=A.add.lclr==null?0:V[A.add.lclr];
if(o==0)o=Z.fB;var h=[o>>16,o>>8&255,o&255];for(var D=0;D<3;D++){h[D]=Math.round(.5*h[D]+.5*220)}if(1<f.F()&&f.F()<1.5)T=T/f.F();
z.setAttribute("style","background-color:rgba("+h.join(",")+","+(o==0?0:1)+");");this.cH.setAttribute("style","background-size: "+T+"px "+T+"px;");
var l=this.a64.bind(this);z.addEventListener("mousedown",l,!1);z.addEventListener("mouseover",l,!1);
this.cs.addEventListener("click",this.aeD.bind(this),!1);$[0]=z;$[1]=v;$[10]=this.pk;function w(fH,aC,B){var f8=aC.canvas;
f.a9a(f8);if(B)fH.setAttribute("draggable","true");fH.appendChild(f8);f8.setAttribute("style",f8.getAttribute("style")+"; pointer-events:none")}if(A.ld()){var W=f.L("div","arrow"),U=f.L("div","folder");
W.addEventListener("click",this.aik.bind(this),!1);$[2]=W;$[3]=U;if(A.add.lsct==cT.G6||q.a2F){for(var D=u.children.length-1;
D>=0;D--){var s=new be(u.children[D],m,C,{fB:o},q);this.NV.push(s);this.rs.appendChild(s.m)}this.m.appendChild(this.rs)}W.setAttribute("class",A.add.lsct==cT.G6?"open":"closed")}else{this.r1=f.L("div","thumb");
$[5]=this.r1;w(this.r1,A.h$);if(b1.get(A.add))f.Ky(A.h$.canvas,"gsicon")}var S=A.Te();if(S){this.aE=f.L("div","chain");
this.D4=f.L("div","thumb");w(this.D4,u.i.asa,!0);this.aE.style.opacity=S.ca?1:0;this.aE.addEventListener("click",this.afb.bind(this),!1)}var x=A.Y8()&&A.add.vmsk;
if(A.add.vmsk&&!x){this.sk=f.L("div","chain");this.SC=f.L("div","thumb");w(this.SC,u.i.adR,!0);this.sk.style.opacity=A.add.vmsk.ca?1:0;
this.sk.addEventListener("click",this.a66.bind(this),!1)}if(A.Bv()&&A.Ha(C).M){this.iX=f.L("div","thumb");
w(this.iX,u.i.a4B,!1);this.iX.addEventListener("click",X,!1);this.iX.addEventListener("contextmenu",a,!1)}if(A.jt()){this.ahQ=p;
p.addEventListener("contextmenu",a,!1);var P=new hK.xe(jg.get([12,1]),"sm","layerstyle",u.depth,0,null);
P.parent=this;p.appendChild(P.m);var y=A.add.lmfx,_=y.masterFXSwitch.v;P.$S(_);for(var D=0;D<c0.order.length;
D++){var g=y[c0.Ca[D]].v;if(g.length==0)continue;for(var G=0;G<g.length;G++){var P=new hK.xe(jg.get(c0.names[D]),"s","layerstyle",u.depth,1,[D,G]);
P.$S(_&&g[G].v.enab.v);P.parent=this;p.appendChild(P.m)}}}if(A.Bv()){var P=new hK.xe(jg.get([12,55]),"fm",null,u.depth,0,-1,A.Ha(C).M?this.iX:null);
P.parent=this;p.appendChild(P.m);this.ab8=P.m;this.ab8.addEventListener("contextmenu",a,!1);var y=A.add.SoLd.filterFX.v,O=y.filterFXList.v,_=y.enab.v;
P.$S(_);for(var D=O.length-1;D>=0;D--){var E=O[D].v,L=a7.OU(E);if(b1.Ku[L])L=b1.Ku[L];var c=E.Nm.v;if(a7.names[L])c=jg.get(a7.names[L]);
if(b1.names[L])c=jg.get(b1.names[L]);var k="afw_"+L,P=new hK.xe(c,"f",k,u.depth,1,D);P.$S(_&&E.enab.v);
P.parent=this;p.appendChild(P.m)}}if(u.index==C.w[0]){var I=A.$v,Y;if(I<=0)Y=this.r1;else if(I==1)Y=this.D4;
else if(I==3)Y=this.iX;if(Y)Y.setAttribute("class","thumb active");if(A.Xn&&this.SC)this.SC.setAttribute("class","thumb active")}z.style.opacity=A.cG()?1:.25;
v.setAttribute("style","width:"+Math.max(0,u.depth-1)*18+"px");var K=A.add.lspf!=null&&A.add.lspf!=0;
this.LH.style.opacity=A.Je(31)?1:.5;$[4]=A.G8?f.L("div","clipp"):null;$[6]=S?this.aE:null;$[7]=S?this.D4:null;
$[8]=A.add.vmsk&&!x?this.sk:null;$[9]=A.add.vmsk&&!x?this.SC:null;var i4=A.Aa,d7=C.w;if(i4!=0)for(var D=0;
D<d7.length;D++)if(C.g[d7[D]].Aa==i4){i=!0;break}if(i){R[0]=f.L("div",A.Hy?"link":"linkX");R[0].addEventListener("click",this.a0b.bind(this),!1)}R[1]=K?this.LH:null;
R[2]=A.jt()?this.arx:null;R[3]=A.jt()||A.Bv()?this.cs:null;this.cs.setAttribute("class",A.e8()?"arfx open  gsicon":"arfx closed  gsicon");
var d=$;for(var D=0;D<d.length;D++)if(d[D])e.appendChild(d[D]);d=R;for(var D=0;D<d.length;D++)if(d[D])Q.appendChild(d[D])}be.prototype=new bK;
be.prototype.agl=function(u){var m=this.CR.index;if(u.indexOf(m)!=-1){if(this.m.scrollIntoView)this.m.scrollIntoView({block:"nearest"})}for(var D=0;
D<this.NV.length;D++)this.NV[D].agl(u)};be.v8=function(u,m){var C=m.getBoundingClientRect();return(u.clientY-C.top)/C.height};
be.prototype.RQ=function(u){u.stopPropagation();var m=u.target==this.D4?"m":u.target==this.SC?"vm":"l";
u.dataTransfer.setData("Text",JSON.stringify({X1:m,Nl:this.CR.index}))};be.prototype.YT=function(u){f.Qn(u);
this.OC()};be.prototype.qH=function(u){f.Qn(u);this.OC();var m=u.dataTransfer.getData("Text"),C=this.parent.Uk,Z=be.v8(u,this.c8),q=this.CR.index;
if(Z>.8){var J=!0,A=C.root.jj(q);while(A.parent!=null){var n=A.parent,N=n.children;if(N.indexOf(A)!=0)J=!1;
A=A.parent}if(J){q=0;Z=1}}if(m==""){f.I1(u,this,this.parent.IB.indexOf(C),q+(Z>.5?0:1))}else if(m!="--panel"){var m=JSON.parse(m),e=m.X1;
if(e=="l")this.cc({d:F.WQ,source:m.Nl,target:q,cb:Z});else if(e=="m"||e=="vm")this.cc({d:e=="m"?F.dP:F.i2,src:m.Nl,nu:q});
else be.a1z(u,m,this)}};be.a1z=function(u,m,C,Z){var q=m.X1,J=C.CR.index,A=m.Nl;if(q=="s"||q=="sm")C.cc({d:F.k5,src:A,nu:J,$h:m.$h});
if(q=="f"||q=="fm")C.cc({d:F.z2,src:A,nu:J,$h:m.$h,RH:Z==null?0:Z})};be.prototype.s5=function(u){f.Qn(u);
var m=be.v8(u,this.c8),C=this.CR.i.ld()&&.5<m&&m<.8;this.OC();var Z="inset 0 "+(C?0:m>.5?-3:3)+"px "+(C?"5px black":"0 rgba(0,0,0,0.5)");
this.c8.style.boxShadow=Z};be.prototype.OC=function(u){this.c8.style.boxShadow=""};be.agM=-1;be.$b=!1;
be.ark=function(u){be.$b=!1;document.body.removeEventListener("mouseup",be.ark)};be.prototype.a64=function(u){if(u.button!=0)return;
if(u.type=="mousedown"){be.$b=!0;document.body.addEventListener("mouseup",be.ark,!1)}if(u.type=="mouseover"&&(!be.$b||be.agM==this.CR.index))return;
f.Qn(u);this.cc({d:F.LV,i:this.CR.index});be.agM=this.CR.index};be.prototype.aik=function(u){f.Qn(u);
this.cc({d:F.OJ,i:this.CR.index})};be.prototype.afb=function(u){this.cc({d:F.JZ,i:this.CR.index})};be.prototype.a66=function(u){this.cc({d:F.IE,i:this.CR.index})};
be.$u=0;be.prototype.yN=function(u){this.cc({d:F.W9,i:this.CR.index,name:u})};be.prototype.aeD=function(u){this.cc({d:F.pq,i:this.CR.index})};
be.prototype.a0b=function(u){this.cc({d:F.cW,i:this.CR.index})};be.prototype.a4v=function(u){var m=u.sourceCapabilities;
if(m)m=m.firesTouchEvents;if(u.button!=2&&m!=!0)return;var C=this.$v(u);if(C!=3&&u.currentTarget==this.ab8)C=4;
if(u.target==this.arx||u.currentTarget==this.ahQ)C=5;var Z=new eY("rclick",!0);Z.data={i:this.CR.index,$v:C,FP:f.OR(u,document.body)};
this.c(Z)};be.prototype.$v=function(u){var m=u.target,C=m;return C==this.SC?2:C==this.D4?1:C==this.r1?0:C==this.iX?3:-1};
be.prototype.a1u=function(u){var m=u.target,B;if(m==this.cH||m==this.cs||m==this.aE||m==this.sk||m.tagName&&m.tagName.toLowerCase()=="input")return;
var C=this.$v(u),Z=this.parent.Uk,q=this.CR.index,J=Z.g[q];if(m==this.LH){this.cc({d:F.nV,i:q,Qc:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if(m==this.pk){var A=be.$u;be.$u=Date.now();if(Date.now()-A<300){this.c8.setAttribute("draggable","false");
var n=new dy.ss(this.pk,this.yN.bind(this))}}if(u.button==0&&u.detail==2){if(m==this.pk)return;var N=new eY(r.E.H,!0),e=new eY(r.E.z,!0),Q=new eY(r.E.od,!0);
if(C==0&&J.add.SoCo){var p=j.C.o5(J.add.SoCo.Clr.v);e.data={d:r.J.zH,E$:"colorpicker",fB:p.p<<16|p.T<<8|p.S,ry:function(z){var v=j.C.sG({S:z&255,T:z>>>8&255,p:z>>16&255});
v={classID:"null",Clr:{t:"Objc",v:v}};var a=new eY(r.E.H,!0);a.b=b.IZ;a.data={d:F.cQ,Mn:[q],Ze:!0,k:{Er:1,am:v}};
this.c(a)}.bind(this),yK:!0}}else if(C==0&&(b1.get(J.add)||J.add.SoCo||J.add.GdFl||J.add.PtFl))e.data={d:r.J.lO,E$:dy.Sc.xH};
else if(C!=0&&C!=-1)e.data={d:r.J.lO,E$:dy.Sc.xH};else if(C==0&&J.add.SoLd)Q.data={ZO:"placedLayerEditContents",yS:{classID:"placedLayerEditContents"}};
else if(C==0&&J.add.TySh){N.b=b.IR;N.data={d:"editCurr",Gk:q}}else e.data={d:r.J.zH,E$:"layerstyle",i:q};
this.c(Q.data?Q:e.data?e:N);return}if(u.button!=0)return;if(C==1||C==3){var $=C==3?J.Ha(Z).M:J.Te();
B=$.GH?Z.t.Np.join("")=="111"?1:2:0}var R={d:F.Ge,i:q,l8:C,aq9:B,ab1:!0};this.cc(R)};be.prototype.cc=function(u){var m=new eY(r.E.H,!0);
m.data=u;m.b=b.IZ;this.c(m)};be.prototype.a45=function(){var u=this.CR.i,m=u.add,C=this.parent.vl.Y(),Z=this.parent.d6[C].Y();
if(C==0){if(Z[0]&&m.SoLd==null&&m.TySh==null&&u.b0())return!0;if(Z[1]&&b1.get(m)!=null)return!0;if(Z[2]&&m.TySh!=null)return!0;
if(Z[3]&&m.vstk!=null)return!0;if(Z[4]&&m.SoLd!=null)return!0;return!1}if(C==1)return u.getName().toLowerCase().indexOf(Z.toLowerCase())!=-1};
hK.xe=function(u,m,C,Z,q,J,A){bK.call(this);this.aou=m;this.Xl=C;this.index=J;this.m=f.L("div","styleitem");
this.c8=f.L("div","head");this.arO=null;if(m=="f"){var n=this.arO=f.L("div","headR");n.textContent="\u2699";
this.c8.appendChild(n)}this.u0=f.L("div","eye gsicon");this.pk=f.L("div","label");this.m.appendChild(this.c8);
this.c8.appendChild(this.u0);if(A){this.D4=A;this.c8.appendChild(this.D4);this.c8.setAttribute("style","height: "+(A.firstChild.height/f.F()+10)+"px")}this.pk.innerHTML=u;
this.m.setAttribute("style","margin-left: "+(24+Z*16+q*22)+"px");this.c8.appendChild(this.pk);this.u0.addEventListener("click",this.am$.bind(this),!1);
var N=this.m;N.setAttribute("draggable","true");N.addEventListener("dragstart",this.RQ.bind(this),!1);
if(!0){N.addEventListener("drop",this.qH.bind(this),!1);N.addEventListener("dragover",this.s5.bind(this),!1);
N.addEventListener("dragenter",f.Qn,!1);N.addEventListener("dragleave",this.YT.bind(this),!1)}this.m.addEventListener("click",this.ec.bind(this),!1)};
hK.xe.prototype=new bK;hK.xe.prototype.RQ=function(u){u.stopPropagation();u.dataTransfer.setData("Text",JSON.stringify({X1:this.aou,Nl:this.parent.CR.index,$h:this.index}))};
hK.xe.prototype.YT=function(u){f.Qn(u);this.OC()};hK.xe.prototype.qH=function(u){f.Qn(u);this.OC();var m=u.dataTransfer.getData("Text");
if(m=="")return;var m=JSON.parse(m);be.a1z(u,m,this.parent,this.index+(be.v8(u,this.c8)>.5?0:1))};hK.xe.prototype.s5=function(u){f.Qn(u);
var m=be.v8(u,this.c8)>.5;this.OC();var C="border-"+(m?"bottom":"top");this.c8.style[C]="0.2em solid rgba(0,0,0,0.5)"};
hK.xe.prototype.OC=function(u){this.c8.style.border="none"};hK.xe.prototype.$S=function(u){var m=15;
if(1<f.F()&&f.F()<1.5)m=m/f.F();this.u0.setAttribute("style","background-size: "+m+"px "+m+"px;");this.u0.style.opacity=u?1:.2};
hK.xe.prototype.ec=function(u){if(u.target==this.u0)return;var m=this.parent.CR.index;if(u.detail!=1&&this.Xl!=null){var m=this.parent.CR.index,C=new eY(r.E.z,!0);
if(this.Xl.indexOf("afw_")==0){var Z=this.Xl.slice(4),q=t[Z]||a7.K[Z],J=u.target==this.arO;if(!J&&!q)return;
C.data=b.La.A9(J?"blendOptions":Z,{i:m,index:this.index})}else C.data={d:r.J.zH,E$:this.Xl,i:m,index:this.index};
this.c(C)}else{if(u.target.getAttribute("class")!="thumb")this.parent.cc({d:F.Ge,i:m,l8:0})}};hK.xe.prototype.am$=function(u){var m={fm:F.M$,f:F.nB,sm:F.xt,s:F.Rh}[this.aou];
this.parent.cc({d:m,i:this.parent.CR.index,index:this.index})};function gP(){dy.call(this,"Guide Guy",!1,"---panels/guideguy",dy.Sc.a7A);
this.Jp=null;this.Eg=[];var u=f.L("div","form padded");this.Ly.appendChild(u);u.setAttribute("style","width:200px");
this.Ly.appendChild(u);var m=f.L("canvas"),C=m.getContext("2d");m.width=m.height=160;var Z=[32,0,16,160,0,32,160,16,0,112,160,16],q="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),J=[0,0,0,0,0,0,0,0,0,0];
for(var D=0;D<10;D++){C.clearRect(0,0,160,160);C.setTransform(1,0,0,1,80,80);C.rotate((D&3)*Math.PI/2);
C.translate(-80,-80);C.fillStyle="rgba(0,0,0,0.3)";if(D<4){for(var A=0;A<12;A+=4){C.fillStyle=A==0?"#000000":"rgba(0,0,0,0.3)";
C.fillRect(Z[A],Z[A+1],Z[A+2],Z[A+3])}}else if(D<6){var n=8*6;C.fillRect(0,0,n,160);C.fillRect(8*7,0,n,160);
C.fillStyle="#000000";C.fillRect(8*14,0,n,160)}else if(D<8){C.fillRect(0,0,16,160);C.fillRect(160-16,0,16,160);
C.fillRect(32,0,160-64,160);C.fillStyle="#000000";C.fillRect(32,80-8,160-64,8*1)}else{C.fillRect(0,0,8*7,160);
C.fillRect(8*13,0,160,160);C.fillStyle="#000000";C.fillRect(8*7,80-8,8*6,8*1)}var N="<img src=\""+m.toDataURL()+"\" class=\"autoscale gsicon\" /> ",e=new fc(N,0,200,D==4||D==5?null:"px",null,null,null,4,q[D]);
e.parent=this;e.l(r.E.o,this.ape,this);e.f(J[D]);e._();this.Eg.push(e);u.appendChild(e.m)}var Q=[[11,14],[11,15,0]];
this.tL=[];for(var D=0;D<Q.length;D++){var p=new iG(Q[D],!0,null,!0);this.tL.push(p);p.l("click",this.LT,this);
u.appendChild(p.m)}for(var D=0;D<6;D++){C.setTransform(1,0,0,1,80,80);C.rotate(Math.floor(D/3)*Math.PI/2);
C.translate(-80,-80);C.clearRect(0,0,160,160);C.fillStyle="rgba(0,0,0,0.3)";C.fillRect(0,0,160,160);
C.clearRect(16,16,128,128);C.fillStyle="#000000";var B=D%3;C.fillRect([0,9,18][B]*8,0,16,160);var N="<img src=\""+m.toDataURL()+"\" class=\"autoscale gsicon\" /> ",p=new iG(N,!1,null,!1);
this.tL.push(p);p.l("click",this.LT,this);u.appendChild(p.m)}}gP.prototype=new dy("");gP.prototype._=function(){dy.prototype._.call(this);
for(var D=0;D<this.tL.length;D++)this.tL[D]._()};gP.prototype.ape=function(u){var m=this.Eg,C=m.indexOf(u.target),Z=Math.floor(C/2),q=C&1,J=[];
for(var D=0;D<4;D++)J.push(m[2*D+q].Y());var A=-1;if(Z==2&&J[2]!=0&&J[3]!=0&&J[4]!=0)A=4;if(Z==3&&J[3]!=0&&J[2]!=0&&J[4]!=0)A=4;
if(Z==4&&J[4]!=0&&J[2]!=0&&J[3]!=0)A=3;if(A!=-1)m[2*A+q].f(0)};gP.prototype.LT=function(u){var m=this.Jp,C=this.tL.indexOf(u.target),Z=[[],[]];
if(m==null)return;var q=m.q?m.q.rect:new bl(0,0,m.e,m.n),J=q.e,A=q.n;if(C==0){var n=[[],[]];for(var D=0;
D<this.Eg.length;D++)n[D&1].push(this.Eg[D].Y());var N=[gP.abM(n[0],q.x,q.x+J),gP.abM(n[1],q.y,q.y+A)];
Z=gP.akO(N);b.eG.lk(Z,m.OD())}else if(C==1){}else{C-=2;var e=Math.floor(C/3),N=[[],[]];N[e].push([q.x,q.x+J/2,q.x+J,q.y,q.y+A/2,q.y+A][C]);
Z=gP.akO(N);b.eG.lk(Z,m.OD())}this.aib(Z)};gP.akO=function(u){var m=[],C=[];for(var Z=0;Z<2;Z++)for(var D=0;
D<u[Z].length;D++){m.push([Z,u[Z][D]]);C.push(-1)}return[m,C]};gP.prototype.a0$=function(u){var m=this.a0a.indexOf(u.target)};
gP.prototype.aib=function(u){var m=new eY(r.E.H,!0);m.b=b.Iw;m.data={d:"gids",Sw:u};this.c(m)};gP.abM=function(u,m,C){var Z=[],q=u[2],J=u[3],A=u[4],n=0;
if(q==0)n++;if(J==0)n++;if(A==0)n++;if(n>1&&q==0&&J==0){if(u[0]!=0)Z.push(m+u[0]);if(u[1]!=0)Z.push(C-u[1]);
return Z}var N=C-m-u[0]-u[1];if(q==0){if(A==0){q=Math.floor(N/J);A=(N-q*J)/(q-1)}else{q=1;while(J*q+A*(q-1)+J+A<=N)q++}}else if(q!=0&&J!=0){if(q*J>N)q=Math.floor(N/J);
A=(N-q*J)/(q-1)}Z.push(m+u[0],C-u[1]);var J=(N-A*(q-1))/q;for(var D=1;D<q;D++){if(A==0)Z.push(m+u[0]+D*J);
else Z.push(m+u[0]+D*J+(D-1)*A,m+u[0]+D*J+D*A)}return Z};gP.prototype.B6=function(u){this.Jp=u};function dW(){dy.call(this,[9,2],!1,"---panels/properties",dy.Sc.xH);
this.a2B=null;this.nJ=null;this.sU=null;this.adV=-1;this.m9=null}dW.prototype=new dy("");dW.prototype.CC=function(u,m){this.du=u;
this.Oh=m;u=u-16;m=m-12;var C=this.m9;if(C){C.style.width=u+"px";C.style.height=m+"px";for(var D=0;D<3;
D++)this.qx[D].CC(u-12,m)}};dW.prototype.T1=function(){this.m9=f.L("div","padded scrollable");this.Ly.appendChild(this.m9);
var u=f.L("span");this.m9.appendChild(u);this.M7=[new iG([0,3]),new iG([12,73]),new iG([12,91,0])];for(var D=0;
D<this.M7.length;D++){var m=this.M7[D];m.l("click",this.ab0,this);u.appendChild(m.m);if(D==2)m.m.style.marginRight="0"}this.m9.appendChild(f.L("hr"));
this.Xs=new dW.wK;this.Xs.parent=this;this.Ec=new dW.Me;this.Ec.parent=this;this.CS=new dW.iB;this.CS.parent=this;
this.qx=[this.Xs,this.Ec,this.CS];this.m9.appendChild(this.Xs.m);this.CC(this.du,this.Oh)};dW.prototype.ab0=function(u){var D=this.M7.indexOf(u.currentTarget);
this.X0(D);this.asc(D==1?this.Ec.AD:-1)};dW.prototype.X0=function(u){for(var D=0;D<3;D++){this.M7[D].Ff();
var m=this.qx[D].m;if(m.parentNode==this.m9&&D!=u)this.m9.removeChild(m);if(m.parentNode!=this.m9&&D==u)this.m9.appendChild(m)}this.M7[u].Lo()};
dW.prototype.asc=function(u){var m=this.nJ.w[0],C=this.nJ.g[m],Z=u+1;if(u==1&&C.Xn)return;var q=new eY(r.E.H,!0);
q.b=b.IZ;if(u!=1&&C.Xn){q.data={d:F.Ge,i:m,l8:2};this.c(q)}q.data={d:F.Ge,i:m,l8:Z};this.c(q)};dW.prototype._=function(){dy.prototype._.call(this);
if(this.m9==null)return;this.B6(this.nJ);for(var D=0;D<3;D++){this.M7[D]._();this.qx[D]._()}};dW.prototype.TE=function(){if(!f.pZ(this.Ly))return;
if(this.m9==null){this.T1();this.vZ(this.sU,jO.LY);this.B6(this.a2B);this._()}};dW.prototype.B6=function(u){this.a2B=u;
if(this.m9==null)return;this.Xs.B6(u);this.Ec.B6(u);this.CS.B6(u);if(u==null||u.w.length==0||u.g[u.w[0]]==null){f.Ky(this.Ly,"disabled");
this.nJ=null;return}else f.Jq(this.Ly,"disabled");var m=u.w[0],C=u.g[m],Z=u.yG(),q=Z[0],J=Z[1];if(J.length!=0){var A=q[J[0]],n=A.add.vogk,N=!1;
if(n)for(var D=0;D<n.length;D++){var e=n[D].v;if(!j.xK.f7(e))continue;N=!0;m=A.NR}}m+=","+N;if(u!=this.nJ||this.adV!=m){this.nJ=u;
this.adV=m;if(N)this.X0(2);else if(C.$v<1&&!C.Xn||b1.get(C.add))this.X0(0);else this.X0(1)}this.M7[1].Oi(this.Ec.AD!=-1);
this.M7[2].Oi(N)};dW.prototype.vZ=function(u,m){this.sU=u;if(this.Xs)this.Xs.vZ(u,m);if(this.CS)this.CS.vZ(u,m)};
dW.wK=function(){bK.call(this);this.m=f.L("div","form");this.anc=new i7("Hello");this.cq=new iG([1,12,2],null,null,!0);
this.cq.m.style.ai3="right";this.cq.l("click",this.V5,this);this.m.appendChild(this.anc.m);this.m.appendChild(this.cq.m);
this.Rk=null;this.ib=null;this.nJ=null;this.sU=null;this.a3Z=-1;this.a4C=null;this.YO=new df(!0);this.YO.parent=this;
this.YO.l(r.E.o,this.a3e,this);this.q3=f.L("div","marged hiline");this.q3.appendChild(this.YO.m);this.lL=new dn("GrFl",!0);
this.lL.parent=this;this.lL.l(r.E.o,this.a5w,this);this.I3=f.L("div","marged hiline");var u="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var D=0;D<u.length;D++){var m=this.lL.ZY[u[D]].m;this.I3.appendChild(m)}this.eX=new dn("patternFill",!0);
this.eX.parent=this;this.eX.l(r.E.o,this.alH,this);this.I6=f.L("div","marged hiline");var u=["Ptrn","Angl","Scl","Algn","phase"];
for(var D=0;D<u.length;D++){var m=this.eX.ZY[u[D]].m;this.I6.appendChild(m)}this.uR={};for(var C in b1.names){if(t[C]==null)continue;
this.uR[C]=new t[C];this.uR[C].l(r.E.o,this.amm,this);this.uR[C].parent=this}var Z=this.aca=f.L("div","marged hiline");
this.L5=new dx(0,!0);Z.appendChild(this.L5.m);this.L5.l(r.E.o,this.R6,this);this.adU=null;this.QQ=new fh;
this.QQ.parent=this;this.QQ.l(r.E.o,this.R6,this);Z.appendChild(this.QQ.m)};dW.wK.prototype=new bK;dW.wK.prototype.CC=function(u,m){var C=this.uR;
for(var Z in C)C[Z].CC(u,m)};dW.wK.prototype.V5=function(u){var m=this.nJ,C=m.g[m.w[0]],Z=b1.get(C.add);
this.ib.f(a7.Qv(Z));this.amm()};dW.wK.prototype._=function(){for(var u in this.uR)this.uR[u]._();this.lL._();
this.eX._();this.QQ._();this.L5._();this.cq._()};dW.wK.prototype.R6=function(u){var m=new eY(r.E.H,!0),C=this.L5.Y(),Z=this.adU;
if(u.target==this.L5&&C[2]==Z[2]&&C[3]==Z[3]){m.b=b.Iw;m.data={d:"trsl",io:C[0]-Z[0],Kp:C[1]-Z[1]}}else{var q=F.w6(new bl(C[0],C[1],C[2],C[3])),J=this.QQ.ao1();
J.artboardRect={t:"Objc",v:q};m.b=b.IZ;m.data={d:F.zw,Pm:J}}this.c(m)};dW.wK.prototype.a3e=function(u){var m=this.nJ,C=m.w[0];
if(m.g[C].add.SoCo==null)return;var Z=JSON.parse(JSON.stringify(m.g[C].add.SoCo));Z.Clr.v=this.YO.Y();
this.EP({Er:1,am:Z})};dW.wK.prototype.a5w=function(u){var m=this.nJ,C=m.w[0];if(m.g[C].add.GdFl==null)return;
this.EP({Er:2,am:this.lL.Y()})};dW.wK.prototype.alH=function(u){this.EP({Er:3,am:this.eX.Y()})};dW.wK.prototype.EP=function(u){this.abt(b.IZ,{d:F.cQ,Mn:[this.nJ.w[0]],Ze:!0,k:u})};
dW.wK.prototype.amm=function(u){this.abt(b.ks,{d:"edit_layer",k:this.ib.Y()})};dW.wK.prototype.abt=function(u,m){var C=new eY(r.E.H,!0);
C.b=u;C.data=m;this.c(C)};dW.wK.prototype.B6=function(u,m){var C=jg.get([0,3]),Z=!1,q=null;this.nJ=u;
if(u&&u.g.length>0&&u.w.length!=0&&u.g[u.w[0]]){var J=u.g[u.w[0]],A=b1.get(J.add);if(A!=null&&this.uR[A]!=null){q=this.uR[A].m;
this.ib=this.uR[A];this.uR[A].f(JSON.parse(JSON.stringify(J.add[A])));if(u.w[0]!=this.a3Z){var n=u.K9(u.w[0]-1);
this.a4C=j.hW(n)}this.uR[A].Ll(this.a4C);C=jg.get(b1.names[A]);Z=!0}if(J.add.SoCo){q=this.q3;this.YO.f(J.add.SoCo.Clr.v);
C=jg.get([6,48,0,0])}if(J.add.GdFl){q=this.I3;this.lL.update(u,J.add.GdFl);C=jg.get([6,48,0,1])}if(J.add.PtFl){q=this.I6;
this.eX.update(u,J.add.PtFl);C=jg.get([6,48,0,2])}if(J.add.artb){var N=J.add.artb,e=J.M_();q=this.aca;
this.QQ.aiI(N);var Q=this.adU=[e.x,e.y,e.e,e.n];this.L5.f(Q,[u.JJ,u.e,this.sU.SM.Pb]);C="Artboard"}this.a3Z=u.w[0]}if(q!=this.Rk){if(this.Rk)this.m.removeChild(this.Rk);
if(q!=null)this.m.appendChild(q);this.Rk=q}this.anc.f(C);this.cq.m.style.display=Z?"":"none"};dW.wK.prototype.vZ=function(u,m){this.sU=u;
this.lL.vZ(u,m);this.eX.vZ(u,m);if(m==jO.ZL)this.B6(this.nJ,u);for(var C in this.uR)this.uR[C].vZ(u,m)};
dW.Me=function(){bK.call(this);this.m=f.L("div","form");this.nJ=null;this.AD=0;var u=f.L("span","fitem");
this.m.appendChild(u);this.M7=[new iG([6,2]),new iG([6,3]),new iG([6,50])];for(var D=0;D<this.M7.length;
D++){var m=this.M7[D];m.l("click",this.afV,this);u.appendChild(m.m)}this.s2=new hA([12,74],0,255);this.s2.l(r.E.o,this.o_,this);
this.m.appendChild(this.s2.m);this.yb=new hA([7,6],0,500,"px",2,!0);this.yb.l(r.E.o,this.o_,this);this.m.appendChild(this.yb.m);
this.LI=new iG([4,11],null,null,!0);this.LI.l("click",this.a3d,this)};dW.Me.prototype=new bK;dW.Me.prototype.a3d=function(){var u=new eY(r.E.H,!0);
u.b=b.ks;u.data={d:"start",gD:"nvrt"};this.c(u)};dW.Me.prototype.o_=function(u){var m=this.s2.Y(),C=this.yb.Y(),Z=new eY(r.E.H,!0);
Z.b=b.IZ;Z.data={d:F.Hw,eI:this.nJ.w[0],aL:{WE:this.AD,s2:m,yb:C}};this.c(Z)};dW.Me.prototype._=function(){for(var D=0;
D<this.M7.length;D++)this.M7[D]._();this.s2._();this.yb._();this.LI._()};dW.Me.prototype.B6=function(u){this.nJ=u;
this.iS()};dW.Me.prototype.afV=function(u){this.iS(this.M7.indexOf(u.currentTarget));this.parent.asc(this.AD)};
dW.Me.prototype.iS=function(u){var m=this.nJ,C=this.M7;for(var D=0;D<3;D++){var Z=C[D];Z.Ff();Z.mq()}if(m==null||m.g.length==0||m.w.length==0||m.g[m.w[0]]==null)return;
var q=-1,J=m.g[m.w[0]];if(J.Bv()&&J.Ha(m).M!=null){C[2].BD();q=2}if(J.add.vmsk){C[1].BD();q=1}if(J.Te()){C[0].BD();
q=0}if(u!=null)q=u;else if(J.Xn)q=1;else if(J.$v==3)q=2;else if(J.$v==1)q=0;this.AD=q;if(q==-1){this.s2.mq();
this.yb.mq();return}var A=J.tr(q);this.s2.BD();this.yb.BD();this.s2.f(A.s2);this.yb.f(A.yb);C[q].Lo();
var n=this.LI.m;if(q==0)this.m.appendChild(n);else if(n.parentNode==this.m)this.m.removeChild(n)};dW.iB=function(){bK.call(this);
this.m=f.L("div","form");this.Jp=null;this.sU=null;this.HU=-1;this.DW=new dx(0,!1);this.oR=new hA([12,15],-180,180,"\xB0",2);
this.P2=new dx(1,!0);this.Tf=new hA([12,94,0],0,100,null,2);this.M4=new hA([12,78],3,30);this.DW.l(r.E.o,this.XV,this);
this.oR.l(r.E.o,this.XV,this);this.P2.l(r.E.o,this.XV,this);this.Tf.l(r.E.o,this.XV,this);this.M4.l(r.E.o,this.XV,this)};
dW.iB.prototype=new bK;dW.iB.prototype._=function(){this.DW._();this.oR._();this.P2._();this.Tf._();
this.M4._()};dW.iB.prototype.XV=function(u){var m=this.Jp,C=j.xK.GG(m),Z=u.target.Y(),q=[this.DW,this.oR,this.P2,this.Tf,this.M4].indexOf(u.target);
if(q==0){var J=[];J[0]=Z[0];J[1]=Z[1];J[2]=J[0]+Z[2];J[3]=J[1]+Z[3];Z=J}if(q==1)Z=Z*Math.PI/180;var A={0:1,1:2,2:3,3:3,4:4}[q];
C[A]=Z;var n=new eY(r.E.H,!0);n.b=b.IZ;n.data={d:F._3,k:C};this.c(n)};dW.iB.prototype.B6=function(u){var m=this.m;
this.Jp=u;if(u==null)return;var C=this.sU,Z=[u.JJ,u.e,C.SM.Pb],q=j.xK.GG(u),J=q[0],A=q[1];if(A==null)return;
var n=J!=this.HU;this.HU=J;if(n)f.Da(m);if(n)m.appendChild(this.DW.m);if(n)m.appendChild(this.oR.m);
this.DW.f([A[0],A[1],A[2]-A[0],A[3]-A[1]],Z);this.oR.f(q[2]*180/Math.PI);if(J==2){if(n)m.appendChild(this.P2.m);
var N=q[3];this.P2.f(N,Z)}if(J==7||J==8){if(n)m.appendChild(this.Tf.m);this.Tf.f(q[3])}if(J==8){if(n)m.appendChild(this.M4.m);
this.M4.f(q[4])}};dW.iB.prototype.vZ=function(u,m){this.sU=u;this.B6(this.Jp)};function cy(u){dy.call(this,u.name,!0);
this.Uk=u;this.C1=null;this.nE=document.createElement("canvas");this.Mx=this.nE.getContext("2d");this.YQ=document.createElement("canvas");
this.pQ=this.YQ.getContext("2d");var m=16,C=j.U(16*16*4);j.Iu(C,m,m,8);this.g4=j.scale.Hm(C,m,m);this.Et=new bX(this.Ly);
this.Et.parent=this;this.fv=0;this.aeR="";this.R3=4}cy.prototype=new dy;cy.prototype.abg=function(){if(this.Uk.xB())return window.confirm(jg.get([22,6,3])+" "+this.Uk.name+". "+jg.get([22,6,4]));
return!0};cy.prototype.vZ=function(u,m){this.C1=u};cy.prototype.B6=function(u){this.TE();this.L9()};
cy.prototype.CC=function(u,m){if(u<=0||m<=0)return;this.du=u;this.Oh=m;var C=this.Uk,Z=f.F();C.t.pQ.e=Math.floor(u*Z);
C.t.pQ.n=Math.floor(m*Z);f.hs(this.YQ,u,m);f.hs(this.nE,u,m);f.hs(H.l2(),u,m);if(C.t.V==0)C.t.V=b.Yq.gE(C.e,C.n,u*Z,m*Z);
this.L9()};cy.prototype.TE=function(){var u=this.Ly.firstChild;if(!H.GL&&u==H.l2()||H.GL&&u==this.YQ)this.Ly.removeChild(u);
var m=H.GL?H.l2():this.YQ;if(!f.pZ(m))this.Ly.appendChild(m)};cy.prototype.L9=function(){if(H.GL!=this.R3){this.fv=0;
this.aeR=""}this.R3=H.GL;if(this.C1==null)return;if(H.GL)this.ahW();else this._w();var u=this.Uk;this.fv=u.t.V;
this.aeR=JSON.stringify(u.t.Np)};cy.prototype.ahW=function(){if(H.GL&&cy.alJ==null)cy.alJ=new cy.rr(!1);
if(H.GL&&cy.af_==null)cy.af_=[new cy.rr(!0,2),new cy.rr(!0,8),new cy.rr(!0,32),new cy.rr(!0,128)];var u=this.Uk,e,B=0;
if(u.I4==null)return;var m=u.t,C=m.pQ.e,Z=m.pQ.n,q=H.O2;this.pQ.clearRect(0,0,C,Z);var J=this.asq(u);
if(m.fA==null)m.fA=new H.HT(C,Z);if(J)m.fA.set(this.YQ);else{H.JU(m.fA);H.OT(1)}var A=m.qh(0,0),n=new ix;
n.scale(C,Z);n.concat(m.bR(!0));n.scale(1/u.e,1/u.n);var N=[n.w7,n.S,0,n.ZU,n.MX,0,n.GI,n.c_,1];if(cy.a84==null)cy.a84=new Float32Array(4*1024);
var Q=[0,0,0,0],p=cy.a84;if(u.add.artd){p.fill(0);Q=cy.Jt(u);var $=u.e,R=u.n,X=0;for(var D=0;D<u.g.length;
D++){var z=u.g[D],v=z.add.artb;if(v==null||!z.cG())continue;var a=z.M_();p[B]=a.x/$;p[B+1]=a.y/R;p[B+2]=a.e/$;
p[B+3]=a.n/R;B+=4;if(B==p.length)break}if(B>2*4)X++;if(B>8*4)X++;if(B>32*4)X++;e=cy.af_[X];p=new Float32Array(p.buffer,0,[2,8,32,128][X]*4)}else e=cy.alJ;
H.ZI(C,Z);H.OT(0);H.ZI(C,Z);e.v4();e.DN(m.fA.oo,u.I4.oo,new Float32Array(N),new Float32Array([C/8,Z/8,A.x/C,A.y/Z]),u.e,u.n,1/u.t.V,C,Z,new Float32Array(Q),p,new Float32Array(j.dZ.$E(j.dZ.cA(m.Np))));
q.drawArrays(q.TRIANGLES,0,6)};cy.Jt=function(u){return[0,0,0,0]};cy.a12=function(u){var m=j.C.o5(u.v),C=[m.p/255,m.T/255,m.S/255,1];
for(var D=0;D<4;D++)C[D]=Math.min(1,C[D]);return C};cy.Fh=function(u,m){var C=u[2]*255;if(H.GL)C=m?0:Math.max(1,C);
return"rgba("+u[0]*255+","+u[1]*255+","+C+","+u[3]+")"};cy.hY=function(u){if(H.GL)for(var D=0;D<u.length;
D+=4){if(u[D+2]==0)u[D+2]=3}};cy.prototype._w=function(){var u=this.Uk;if(u.buffer==null)return;var m=u.t,C=m.pQ,Z=C.e,q=C.n,J=new bl(0,0,u.e,u.n);
this.Mx.clearRect(0,0,Z,q);this.pQ.clearRect(0,0,Z,q);var A=m.bR(!0),n=A.clone();n.mL();if(u.add.artd==null){this.pQ.save();
var N=n.HL(new dz(0,0));n.translate(-N.x,-N.y);this.pQ.translate(Math.round(N.x),Math.round(N.y));this.pQ.fillStyle=this.g4;
this.Ml(j.u.yj(J),n,this.pQ);this.pQ.fill();this.pQ.restore()}else{this.pQ.fillStyle=cy.Fh(cy.Jt(u));
this.pQ.fillRect(0,0,Z,q);this.pQ.save();this.pQ.setTransform(n.w7,n.S,n.ZU,n.MX,n.GI,n.c_);var e=u.root.children;
for(var D=0;D<e.length;D++){var Q=e[D].i;if(Q.add.artb==null||!Q.cG())continue;var p=Q.M_(),B=Q.uZ();
if(B!=0)continue;this.pQ.fillStyle=this.g4;this.pQ.save();this.pQ.scale(1/m.V,1/m.V);this.pQ.fillRect(m.V*p.x,m.V*p.y,p.e*m.V,p.n*m.V);
this.pQ.restore()}this.pQ.restore()}if(m.ga.length!=C.Z()){m.ga=j.U(C.Z());m.FY=j.U(C.Z()*4)}m.FY.fill(0);
j.scale.dS(u.buffer,J,A,m.FY,C);if(m.Np[0]+m.Np[1]+m.Np[2]!=3)j.dZ.pz(m.FY,m.FY,j.dZ.cA(m.Np));this.Mx.putImageData(new ImageData(new Uint8ClampedArray(m.FY.buffer),C.e,C.n),0,0);
this.pQ.drawImage(this.nE,0,0);this.pQ.getImageData(0,0,1,1);this.asq(u)};cy.prototype.asq=function(u){var m=u.t,C=m.Np[0]+m.Np[1]+m.Np[2],Z=!1,q=[];
for(var D=0;D<u.w.length;D++){var J=u.g[u.w[D]];if(J==null)continue;var A=J.$v;if(A!=1&&A!=3)continue;
var n=A==1?J.Te():J.Ha(u).M;if(n.GH)q.push(n)}for(var D=0;D<u.YG.length;D++)if(u.YG[D].GH)q.push(u.YG[D]);
for(var D=0;D<q.length;D++){var n=q[D];this.a5L(n,m,q.length==1&&C==0?2:1,n.color,n.fB);Z=!0}var N=this.C1;
Z=this.a2y(u,this.pQ,m)||Z;if(u.q&&N.YC&&N.SM.EJ){this.a5L(u.q,m,0,0,null);Z=!0}return Z};cy.prototype.a5L=function(u,m,C,Z,q){var J=0,B,$;
if(q)J=Math.round(q.S)<<16|Math.round(q.T)<<8|Math.round(q.p);var A=m.bR(!0),n=m.pQ,N=new bl(0,0,m.Uk.e,m.Uk.n);
if(m.ga.length!=n.Z()){m.ga=j.U(n.Z());m.FY=j.U(n.Z()*4)}m.ga.fill(Z);m.FY.fill(0);var e=u.channel,Q=u.rect;
j.scale.I(e,Q,A,m.ga,n);if(C==0)j.q.apt(m.ga,m.FY,n,n);else j.q.a8M(m.ga,m.FY,n,n,C,J);cy.hY(m.FY);var p=new ImageData(new Uint8ClampedArray(m.FY.buffer),n.e,n.n);
this.Mx.putImageData(p,0,0);this.pQ.save();if(C==0){B=n.clone();B.iO(-1,-1);$=new ix}else{B=new bl(0,0,N.e,N.n);
$=A.clone();$.mL()}this.Ml(j.u.yj(B),$,this.pQ);this.pQ.clip();this.pQ.drawImage(this.nE,0,0);this.pQ.restore()};
cy.prototype.a2y=function(u,m,C){var Z=u.D.VK!=null||u.D.dz!=null||u.D.g3!=null||u.D.W3.length!=0||u.D.fb.length!=0,q=this.C1,J=q.SM,A=dF.Kz[q.nv],n=Math.round(12*f.F()),N=n/u.t.V,e=C.bR(!0);
e.mL();m.save();m.setTransform(e.w7,e.S,e.ZU,e.MX,e.GI,e.c_);if(u.add.artd){var Q=cy.Jt(u)[0];Q=Q<.5?Q+.5:Q-.5;
Q=""+Math.round(Q*255).toString(16);while(Q.length<2)Q="0"+Q;m.fillStyle="#"+Q+Q+Q;m.font=N+"px sans-serif";
for(var D=0;D<u.g.length;D++){var p=u.g[D];if(p.add.artb==null||!p.cG())continue;var B=p.M_();m.fillText(p.getName(),B.x+2,B.y-N*.7);
Z=!0}}function $(eI){return eI==1||eI==2||eI==4||eI==5}var R=cy.Fh([.1,.5,1,1]),z=cy.Fh([1,1,1,1]);if(q.YC&&J.kL){m.fillStyle=m.strokeStyle=R;
m.lineWidth=1.5/C.V;var v=u.yG(),a=v[0],X=v[1];for(var V=0;V<X.length;V++){var p=a[X[V]],o=p.add.vmsk,h=o.B,T=j.u.Hh(h);
this.Ml(T,null,m);m.stroke();Z=!0;var l=3*f.F()/C.V,w=h.length-3;for(var D=0;D<o.s4.length;D++){var W=j.$.nZ(h,o.s4[D]);
if(W==null)continue;var U=W.x,s=W.y;m.beginPath();var S=D==0;if(o.Fi)S=!S;if(S){m.moveTo(U-l,s-l);m.lineTo(U+l,s+l);
m.moveTo(U-l,s+l);m.lineTo(U+l,s-l);m.stroke()}else{m.arc(U,s,l*1,0,2*Math.PI);m.fill()}Z=!0}if(u.w.length!=1)continue;
var P=-1;for(var D=0;D<h.length;D++){if(h[D].type>5)continue;if(h[D].type==0||h[D].type==3){if(h[D].hB!=-1)P++;
continue}if(o.w.indexOf(P)!=-1){var U=h[D].A.x,s=h[D].A.y;m.fillRect(U-l*.8,s-l*.8,2*l*.8,2*l*.8)}if(o.H9.indexOf(D)!=-1){var y=h[D],_=[y.A];
m.beginPath();m.moveTo(y.Rv.x,y.Rv.y);m.lineTo(y.A.x,y.A.y);m.lineTo(y.wm.x,y.wm.y);var g=h[D-1],G=h[D+1];
if(g&&$(g.type)&&o.H9.indexOf(D-1)==-1){m.moveTo(g.A.x,g.A.y);m.lineTo(g.wm.x,g.wm.y);_.push(g.wm)}if(G&&$(G.type)&&o.H9.indexOf(D+1)==-1){m.moveTo(G.A.x,G.A.y);
m.lineTo(G.Rv.x,G.Rv.y);_.push(G.Rv)}m.stroke();if(!y.A.QV(y.Rv))_.push(y.Rv);if(!y.A.QV(y.wm))_.push(y.wm);
for(var O=0;O<_.length;O++){var W=_[O],U=W.x,s=W.y;if(O==0&&(y.type==2||y.type==5))m.fillRect(U-1.2*l,s-1.2*l,2.4*l,2.4*l);
else{m.beginPath();m.arc(U,s,l*1.2,0,2*Math.PI);m.fill();if(O!=0)m.fillStyle=z;m.beginPath();m.arc(U,s,l*.8,0,2*Math.PI);
m.fill();m.fillStyle=R}}}Z=!0}}}m.lineWidth=1/C.V;if(u.D.m_){m.fillStyle=m.strokeStyle=R;var G={s:[],X:[]},E=cy.aii;
if(E==null){E=cy.aii={s:[1,0],X:["M"]};for(var D=1;D<30;D++){var L=Math.PI*2*D/30;E.s.push(Math.cos(L),Math.sin(L));
E.X.push("L")}E.X.push("Z","M","L","M","L");E.s.push(-.5,0,.5,0,0,-.5,0,.5)}for(var D=0;D<u.D.m_.length;
D++){var g=b.FJ.A$(u.D.m_[D],C),c=new ix(g[0],0,0,g[0],g[1],g[2]);j.u.concat(G,E,c)}this.Ml(G,null,m);
m.stroke();Z=!0}m.fillStyle=m.strokeStyle=cy.Fh([0,0,0,1],!0);var k=new ix(1,0,0,1,.5/C.V,.5/C.V);if(u.D.VK){this.Ml(u.D.VK,null,m);
m.fill()}if(u.D.dz){this.Ml(u.D.dz,k,m);m.stroke()}for(var I in u.D.Ir)if(u.D.Ir[I].dz){this.Ml(u.D.Ir[I].dz,null,m);
m.stroke();Z=!0}m.beginPath();var l=(4*f.F()+.5)/C.V,Y=u.D.hN;for(var D=0;D<Y.length;D+=2){Z=!0;var U=Y[D],s=Y[D+1];
m.rect(U-l,s-l,2*l,2*l)}m.stroke();var Y=u.D.acC;m.beginPath();var l=4*f.F()/C.V;for(var D=0;D<Y.length;
D+=2){Z=!0;var U=Y[D],s=Y[D+1];m.moveTo(U+l,s);m.arc(U,s,l,0,2*Math.PI)}m.fill();var Y=u.D.oC;m.fillStyle=cy.Fh([1,1,1,1]);
m.beginPath();var l=6*f.F()/C.V;for(var D=0;D<Y.length;D+=2){Z=!0;var U=Y[D],s=Y[D+1];m.moveTo(U+l,s);
m.arc(U,s,l,0,2*Math.PI)}m.fill();var l=4*f.F()/C.V;for(var D=0;D<Y.length;D+=2){Z=!0;var U=Y[D],s=Y[D+1];
m.fillStyle=cy.Fh(u.D.SN.indexOf(D>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);m.beginPath();m.moveTo(U+l,s);m.arc(U,s,l,0,2*Math.PI);
m.fill()}if(u.D.W3.length!=0){for(var D=0;D<u.D.W3.length;D++){var K=u.D.W3[D],i=K[1];m.putImageData(new ImageData(new Uint8ClampedArray(K[0].buffer),i.e,i.n),i.x,i.y)}}var i4=.5/C.V;
m.lineWidth=1/C.V;if(u.D.JS){Z=!0;var d7=u.D.JS,d=d7.Tq,T={X:[],s:[]};for(var D=0;D<d7.MO.length;D++)j.u.concat(T,j.u.yj(d7.MO[D]));
T.s=T.s.concat(d);for(var D=0;D<d.length;D+=4){T.X.push("M","L")}for(var D=0;D<T.s.length;D++){T.s[D]+=i4}m.strokeStyle=cy.Fh([.9,.2,.2,1]);
this.Ml(T,null,m);m.stroke();var fH=f.F(),aC=2/C.V;m.font=N*.9+"px sans-serif";for(var D=0;D<d.length;
D+=4){var U=d[D],s=d[D+1],f8=d[D+2],c9=d[D+3],g1=Math.sqrt((c9-s)*(c9-s)+(f8-U)*(f8-U));g1=j.KX.XJ(g1,u.JJ,q,s==c9?u.e:u.n);
var cE=new dz((U+f8)/2,(s+c9)/2);m.fillStyle=cy.Fh([.9,.2,.2,1]);var hG=m.measureText(g1).width;m.fillRect(cE.x-hG/2-aC*fH,cE.y-3.5*aC*fH,hG+2*aC*fH,7*aC*fH);
m.fillStyle=cy.Fh([1,1,1,1]);m.save();m.translate(cE.x-hG/2,cE.y+2*aC*fH);m.scale(.1,.1);m.font=N*9+"px sans-serif";
m.fillText(g1,0,0);m.restore()}}if(q.YC){if(J.eT){var fA=j.KX.k4(J.Z3,u.JJ,u.e,J.GO),hh=fA;if(J.GO==4)hh*=u.n/u.e;
this.Iu(u,m,fA,hh,1,J.FF);Z=!0}if(J.a5&&u.t.V>7){this.Iu(u,m,1,1,.5,J.FF);Z=!0}if(J.lZ){var eE=u.OD(),dh=u.sx(),fT=Math.max(u.t.pQ.e,u.t.pQ.n)/u.t.V;
fT=Math.max(Math.max(u.e,u.n)*2,fT);m.beginPath();m.strokeStyle=cy.Fh([0,1,1,1]);for(var D=0;D<eE[0].length;
D++){var dB=eE[0][D],iN=eE[1][D];if(iN!=-1&&iN!=dh)continue;var gV=C.qh(dB[1],dB[1]),fI=C.Iv(Math.floor(gV.x)+.5,Math.floor(gV.y)+.5);
if(dB[0]==0){var gc=fI.x;m.moveTo(gc,-fT);m.lineTo(gc,fT)}else{var aF=fI.x;m.moveTo(-fT,aF);m.lineTo(fT,aF)}Z=!0}m.stroke()}var gh=u.$o;
if(J.$o&&gh.length!=0){m.font=N*.8+"px sans-serif";var gD=[],j1=[];for(var D=0;D<gh.length;D++){var dg=b.JN.cy(gh,D);
gD.push(dg);if(u.Lv.indexOf(D)!=-1)j1.push(dg)}gD.reverse();var ao=Date.now();gD=j.rect.Zp([0,0,u.e,u.n],gD);
for(var O=0;O<2;O++)for(var D=0;D<gD.length;D++){var eC=gD[D],P=eC[4],bD=P!=null?gh[P]:null;if(bD&&O==0||bD==null&&O==1)continue;
var U=Math.round(eC[0]),s=Math.round(eC[1]),f8=Math.round(eC[2]),c9=Math.round(eC[3]);m.strokeStyle=m.fillStyle=cy.Fh(bD?[0,.7,.7,1]:[.8,.8,.8,1]);
m.strokeRect(U+i4,s+i4,f8-U,c9-s);var fK=D+1,a1=m.measureText(fK),hG=a1.width;m.fillRect(U,s,hG+N/2,N);
m.fillStyle=cy.Fh([1,1,1,1]);m.fillText(fK,U+N/4,s+N*.8)}var aC=2/u.t.V,fR=2*aC;for(var D=0;D<j1.length;
D++){var eC=j1[D],U=Math.round(eC[0]),s=Math.round(eC[1]),f8=Math.round(eC[2]),c9=Math.round(eC[3]);
m.strokeStyle=m.fillStyle=cy.Fh([1,.6,0,1]);m.strokeRect(U+i4,s+i4,f8-U,c9-s);var bj=[U,s,f8,s,f8,c9,U,c9];
for(var b7=0;b7<bj.length;b7+=2){var gc=bj[b7],aF=bj[b7+1],ha=bj[b7+2&7],eJ=bj[b7+3&7];m.fillRect(gc-aC,aF-aC,fR,fR);
m.fillRect(Math.round((gc+ha)/2)-aC,Math.round((aF+eJ)/2)-aC,fR,fR)}}Z=!0}}m.strokeStyle=cy.Fh([1,0,0,1]);
if(u.D.g3){this.Ml(u.D.g3,k,m);m.stroke()}m.restore();if(q.SQ){if(u.t.Ne==null||u.t.Ne.width!=u.t.pQ.e||u.t.NN.height!=u.t.pQ.n){u.t.Ne=m.createImageData(u.t.pQ.e,j.KX.F$);
u.t.NN=m.createImageData(j.KX.F$,u.t.pQ.n)}var A=dF.Kz[q.nv],cq=0,bF=0,g4=u.e,eA=u.n;if(u.sx()!=-1){var B=u.g[u.sx()].M_();
cq=B.x;bF=B.y;g4=B.e;eA=B.n}cq*=C.V;bF*=C.V;var C=u.t,aJ=[1,u.JJ,u.JJ/2.54,u.JJ/25.4,g4/100][J.Pb],fU=C.V*u.e/2,iE=C.V*u.n/2,hQ=[C.V*aJ,new dz(C.r.x+(cq+fU*aJ-fU),C.r.y+(bF+iE*aJ-iE))];
if(J.Pb==4)aJ*=eA/g4;var bT=[C.V*aJ,new dz(C.r.x+(cq+fU*aJ-fU),C.r.y+(bF+iE*aJ-iE))],iU=this.Et.P0;j.KX.ath(C,A["--text-color"],A["--bg-input"],Math.floor(iU.x),Math.floor(iU.y),hQ,bT);
var ba=cv.abZ(C.V,cy.Fh([1,1,1,1]));cy.hY(u.t.NN.data);cy.hY(u.t.Ne.data);m.putImageData(u.t.NN,0,0);
m.putImageData(u.t.Ne,0,0);m.putImageData(ba,0,u.t.pQ.n-ba.height)}if(u.D.fb.length!=0){for(var D=0;
D<u.D.fb.length;D++){var K=u.D.fb[D],i=K[1];m.putImageData(new ImageData(new Uint8ClampedArray(K[0].buffer),i.e,i.n),i.x,i.y)}}return Z||q.SQ};
cy.prototype.Iu=function(u,m,C,Z,q,J){while(C*u.t.V<4){C*=2;Z*=2}var A=u.e,n=u.n,N=.5/u.t.V;m.strokeStyle=cy.Fh([.5,.5,.5,q],!0);
m.save();m.rect(0,0,A,n);m.clip();m.beginPath();for(var e=0;e<=A;e+=C){m.moveTo(e+N,0);m.lineTo(e+N,n)}if(J==0){for(var Q=0;
Q<=n;Q+=Z){m.moveTo(0,Q+N);m.lineTo(A,Q+N)}}else{Z*=Math.sqrt(4/3);var p=Z*Math.floor(A/Z),B=A*(Z/(2*C));
for(var Q=-p;Q<=n+p;Q+=Z){m.moveTo(0,Q);m.lineTo(A,Q-B);m.moveTo(0,Q);m.lineTo(A,Q+B)}}m.stroke();m.restore()};
cy.prototype.Ml=function(u,m,C){C.beginPath();var Z=j.u.clone(u);if(m)j.u.I(Z.s,m,Z.s);Typr.U.pathToContext({cmds:Z.X,crds:Z.s},C)};
cy.rr=function(u,m){H.ia.call(this);this.aaQ=u;var C="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(u?"uniform vec4 bgClr;  uniform vec4 ars["+m+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+H.A4._L+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(u?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+m+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",Z="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.LC(C,Z)};cy.rr.prototype=new H.ia;cy.rr.prototype.DN=function(u,m,C,Z,q,J,A,n,N,e,Q,p){this.AY("tmat gsize source target contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var B=H.O2,$=this.BB;B.uniformMatrix3fv($.tmat,!1,C);B.uniform4fv($.gsize,Z);B.uniform3f($.contSizeZoom,q,J,A);
B.uniform2f($.cnvSize,n,N);B.uniformMatrix4fv($.ctrn,!1,p);if(this.aaQ){B.uniform4fv($.ars,Q);B.uniform4fv($.bgClr,e)}B.uniform1i($.source,0);
B.uniform1i($.target,1);B.activeTexture(B.TEXTURE0);B.bindTexture(B.TEXTURE_2D,u);B.activeTexture(B.TEXTURE1);
B.bindTexture(B.TEXTURE_2D,m);B.activeTexture(B.TEXTURE0)};function dp(){dy.call(this,[9,7],!1,"---panels/layercomps",dy.Sc.a2q);
this.Ly.setAttribute("style","min-width:240px;");this.nJ=null;this.mJ=-1;this.a9g=[];this.rs=f.L("div","scrollable");
this.rs.style.height="160px";this.Ly.appendChild(this.rs);this.wA=f.L("div","lpfoot");this.Ly.appendChild(this.wA);
this.tL=[];var u=["<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],m=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var D=0;D<u.length;D++){var C=u[D];if(D>0)C="<img src=\""+PIMG[u[D]]+"\" class=\"gsicon\" />";var Z=new iG(C,!1,m[D]);
Z.l("click",this.ab3,this);this.wA.appendChild(Z.m);this.tL.push(Z)}}dp.prototype=new dy("");dp.prototype.CC=function(u,m){this.Ly.setAttribute("style","width:"+(u-2)+"px;");
this.rs.style.height=m-28+"px"};dp.prototype.cc=function(u){var m=new eY(r.E.H,!0);m.data=u;m.b=b.o6;
this.c(m)};dp.a0m="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
dp.prototype.ab3=function(u){var D=this.tL.indexOf(u.currentTarget)-1;if(D==-1){var m=new eY(r.E.z,!0);
m.data={d:r.J.En,pP:dp.a0m};this.c(m);return}if(D!=1)if(this.mJ==-1)return;this.cc({d:["updLC","addLC","delLC"][D],NR:this.mJ});
if(D==2)this.mJ=-1};dp.prototype._=function(){dy.prototype._.call(this);for(var D=0;D<this.tL.length;
D++)this.tL[D]._()};dp.prototype.B6=function(u){if(u==null)f.Ky(this.Ly,"disabled");else f.Jq(this.Ly,"disabled");
this.nJ=u;f.Da(this.rs);if(u==null)return;var m=u.CG.lastAppliedComp?u.CG.lastAppliedComp.v:0,C=u.CG.list.v.slice(0);
C.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var D=0;D<C.length;
D++){var Z=C[D].v,q=new ey(Z.Nm.v,Z.compID.v,Z.capturedInfo.v,m,this.mJ);q.l("activate",this.tm,this);
q.parent=this;this.rs.appendChild(q.m);this.a9g.push(q)}};dp.prototype.tm=function(u){this.mJ=u.currentTarget.NR;
this.B6(this.nJ)};function ey(u,D,m,C,Z){bK.call(this);this.NR=D;this.m=f.L("div","head listitem"+(D==Z?" selected":""));
var q=D==C,J=new iG(q?"\u2713":"\u2014");if(q)J.Lo();this.m.appendChild(J.m);J.l("click",this.bq,this);
var A=this.SW=f.L("span");A.textContent=u;this.m.appendChild(A);this.tL=[];if(D!=0){this.m.addEventListener("mouseup",this.tm.bind(this),!1);
this.apB=f.L("span","headR");this.m.appendChild(this.apB);var n=["lrs/eye","pos","lrs/fx"],N=["Visibility","Position","Appearance"];
for(var e=0;e<n.length;e++){var Q=new iG("<img src=\""+PIMG[n[e]]+"\" class=\"autoscale gsicon\" />",!1,N[e]);
if((m>>e&1)==0)Q.m.setAttribute("style","opacity:0.3");Q.l("click",this.a0O,this);this.apB.appendChild(Q.m);
this.tL.push(Q)}}}ey.prototype=new bK;ey.prototype.tm=function(u){if(u.target!=this.SW&&u.target!=this.m)return;
if(u.detail==1)this.c(new eY("activate",!1));else{var m=new dy.ss(this.SW,this.yN.bind(this))}};ey.prototype.a0O=function(u){var D=this.tL.indexOf(u.currentTarget);
this.cc({d:"editLC",a9E:D,NR:this.NR})};ey.prototype.yN=function(u){this.cc({d:"editLC",RX:u,NR:this.NR})};
ey.prototype.bq=function(u){this.cc({d:"setLC",NR:this.NR})};ey.prototype.cc=function(u){var m=new eY(r.E.H,!0);
m.data=u;m.b=b.o6;this.c(m)};function hD(){dy.call(this,[9,11],!1,"---panels/navigator",dy.Sc.aoS);var u=f.L("div","padded");
u.setAttribute("style","min-width:15em");this.Ly.appendChild(u);var m=f.L("div");u.appendChild(m);m.setAttribute("style","cursor:grab;");
this.O=f.L("canvas");this.O.width=100;m.appendChild(this.O);f.ZF(this.O);f.oI(this.O,this.Wq.bind(this));
this.xF=new fF(null,2,6400,"%",null,!0);this.xF.l(r.E.o,this.abA,this);u.appendChild(this.xF.m);this.aiP=this.sH.bind(this);
this.afI=this.Bz.bind(this);this.Jp=null}hD.prototype=new dy("");hD.prototype.CC=function(u,m){this.L9()};
hD.prototype.abA=function(u){var m=this.xF.Y(),C=this.Jp,Z=m/100;if(.8<Z&&Z<1.2)Z=1;else if(1.8<Z)Z=Math.round(Z);
var q=new eY(r.E.H,!0);q.b=b.Uz;q.data={d:"zoom",V:Z};this.c(q)};hD.prototype.Wq=function(u){if(this.Jp==null)return;
f.zy(window,this.aiP);f.sQ(window,this.afI)};hD.prototype.sH=function(u){var m=f.OR(u,this.O),C=this.Jp,Z=this.O.width,q=this.O.height,J=(m.x*f.F()-Z/2)/Z,A=(m.y*f.F()-q/2)/q,n=f.F()*C.t.V,N=Math.round(-C.t.V*C.e*J),e=Math.round(-C.t.V*C.n*A);
b.jp.nU(C,N,e)};hD.prototype.Bz=function(u){f.bU(window,this.aiP);f.YL(window,this.afI)};hD.prototype.B6=function(u){if(u==null&&this.Jp!=null)this.O.width=100;
this.Jp=u;this.L9()};hD.prototype.L9=function(){var u=this.Jp,Z=0;if(u==null||u.t.V==0)return;var m=u.t;
if(!f.pZ(this.Ly))return;this.xF.f(m.V*100);var C=300*f.F(),q=[u.K9(),new bl(0,0,u.e,u.n)];j.ML(q);while(Math.max(q[Z+1].e,q[Z+1].n)>C){Z+=2}var J=q[Z],A=q[Z+1],n=A.e,N=A.n,e=this.O;
e.width=n;e.height=N;f.iz(e,n,N);var Q=e.getContext("2d"),p=Q.createImageData(n,N);j.Uj(J,p.data);Q.putImageData(p,0,0);
var B=m.pQ,$=m.Iv(B.x,B.y),R=m.Iv(B.x+B.e,B.y+B.n),z=n/u.e;Q.scale(z,z);Q.lineWidth=4/z;Q.strokeStyle="#ff0000";
Q.strokeRect($.x,$.y,R.x-$.x,R.y-$.y)};hD.prototype.vZ=function(u,m){};hD.prototype.TE=function(){this.L9()};
function gT(u,m){if(u==null){dy.call(this);return}dy.call(this,u.name,!1,u.icon,m);var C=this.VU=f.L("iframe");
C.setAttribute("src",u.url);C.setAttribute("style","width:"+u.width+"px; height:"+u.height+"px");this.Ly.appendChild(C)}gT.prototype=new dy("");
gT.prototype.NH=function(u){if(f.pZ(this.VU))this.VU.contentWindow.postMessage(u,"*")};gT.prototype.CC=function(u,m){this.VU.setAttribute("style","width:"+u+"px; height:"+m+"px")};
function cb(){dy.call(this,[9,12],!1,"---panels/tpreset",dy.Sc.HW);this.sU=null;this.w9=new jx(b.el);
this.w9.parent=this;var u=f.L("div","padded");u.setAttribute("style","width:20em");this.Ly.appendChild(u);
u.appendChild(this.w9.mW)}cb.prototype=new dy("");cb.prototype.TE=function(){this.w9.Ie(this.sU.$p)};
cb.prototype.vZ=function(u,m){this.sU=u;if(m==jO.LY||m==jO.HW)this.w9.Ie(u.$p)};cb.prototype.CC=function(u,m){this.w9.aqf(this.sU.Oj)};
cb.prototype._=function(){dy.prototype._.call(this);this.w9._()};var bu=function(){var u=[],m=null,C=null,Z=null,q=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function J(){dy.call(this,"Memory",!1,null,dy.Sc.aig);var B=f.L("div","padded");this.Ly.appendChild(B);
C=new iG(["<< VAR0",[0,13,2]],!1,null,!0);C.addEventListener("click",function($){u.pop();n()});B.appendChild(C.m);
m=f.L("div","scrollable");m.setAttribute("style","width:20em;  height:26em; margin-top:8px;");B.appendChild(m)}J.prototype=new dy("");
J.prototype.B6=function(B,$,R){Z=$;this.TE()};J.prototype.TE=function(){C.Oi(!1);if(!f.pZ(m))return;
var B={n2:"Total:",cD:[]};for(var D=0;D<Z.length;D++)B.cD.push(e(Z[D]));p(B);u=[B];n()};J.prototype._=function(){dy.prototype._.call(this);
C._()};function A(B){var $=B.currentTarget,D=0;while(($=$.previousSibling)!=null)D++;u.push(u[u.length-1].cD[D-1]);
n()}function n(){C.Oi(u.length>1);var B=u[u.length-1];f.Da(m);N(B,m,0);B.cD.sort(function($,R){return R.MV[0]-$.MV[0]});
for(var D=0;D<B.cD.length;D++)N(B.cD[D],m,1)}function N(B,$,R){var z=iQ.ms,v=R!=0&&B.cD,a="margin-left:"+R*10+"px; margin-bottom:8px; padding:3px 5px;";
if(v)a+="cursor:pointer;";if(B.X1!=null)a+="background-color:rgba("+q[B.X1].join(",")+",0.2);";var X=f.L("div");
$.appendChild(X);X.setAttribute("style",a);X.innerHTML=f.sn(B.n2)+"<br />"+"RAM: <b>"+z(B.MV[0])+"</b>\u2001GPU: <b>"+z(B.MV[1])+"</b>";
if(v)X.addEventListener("click",A,!1)}function e(B){var $={n2:B.name,cD:[],X1:0},R=H.GL?1:0,z=1-R,v={n2:"Final Image",MV:[B.e*B.n*4,R*B.e*B.n*4],X1:2};
$.cD.push(v);for(var D=0;D<B.g.length;D++){var a=Q(B.g[D]);if(a.cD.length!=0)$.cD.push(a)}var X=B.add.lnk2;
if(X)for(var D=0;D<X.length;D++){var a=X[D],V={n2:a.sK,cD:[],X1:4},o=0;V.cD.push({n2:"Raw file",MV:[a.raw.length,0]});
if(a.CB)for(var h=0;h<a.CB.length;h+=2)o+=a.CB[h].length;if(o!=0)V.cD.push({n2:"Decoded pixels",MV:[o,0]});
p(V);$.cD.push(V)}p($);return $}function Q(B){var $={n2:B.getName(),cD:[],X1:1},R=H.GL?1:0,z=1-R,v=B.rect.Z();
if(v!=0)$.cD.push({n2:"Layer pixels",MV:[v*4,R*v*4]});if(B.add.lmfx&&B.zi.Jo.type){var a=B.zi.Jo.type,h=0;
for(var X in a){var V=0;for(var o=0;o<a[X].length;o++)if(X=="ebbl"){if(a[X][o]._X)V+=a[X][o]._X.Xq.Z();
if(a[X][o].yT)V+=a[X][o].yT.Xq.Z();if(a[X][o].nl)V+=a[X][o].nl.Xq.Z();if(a[X][o].Kl)V+=a[X][o].Kl.Xq.Z()}else V+=a[X][o].Xq.Z();
if(V!=0)$.cD.push({n2:jg.get(c0.names[c0.order.indexOf(X)]),MV:[z*V*4,R*V*4],X1:3})}if(B.zi.Rm)h+=v;
if(B.zi.NX)h+=v;if(B.zi.$x)h+=v;if(B.zi.$x)h+=v;if(B.zi.YK)h+=v;if(B.zi.cI)h+=v;var T=B.zi.IJ?B.zi.IJ.length:0;
if(h+T!=0)$.cD.push({n2:"Additional Blending Data",MV:[z*h*4+T,R*h*4]})}var l=B.Te(),w=l?l.rect.Z():0;
if(w!=0){$.cD.push({n2:"Raster Mask",MV:[w,0]})}var l=B.add.vmsk,w=l&&l.yR?l.yR.rect.Z():0;if(w!=0){$.cD.push({n2:"Vector Mask",MV:[w,0]})}p($);
return $}function p(B){B.MV=[0,0];for(var D=0;D<B.cD.length;D++){B.MV[0]+=B.cD[D].MV[0];B.MV[1]+=B.cD[D].MV[1]}}return J}();
function jn(){bK.call(this);this.b=0;this.Oz=null;this.m=f.L("div","toolconf");this.w9=null;this.Ns=null;
this.body=new f.L("div","body")}jn.prototype=new bK;jn.prototype.ai$=function(u,m){this.b=u;this.Oz=m;
if(b.Aq[u]){var C=this.w9=new jx(u);this.m.appendChild(C.m);C.parent=this}else{this.Ns=f.L("div");this.m.appendChild(this.Ns)}this.m.appendChild(this.body);
this._()};jn.prototype.agf=function(u,m){};jn.prototype.aj9=function(u){};jn.prototype.vZ=function(u,m){if(m==jO.LY||m==jO.HW)if(this.w9)this.w9.Ie(u.$p)};
jn.prototype.Uv=function(u){};jn.prototype._=function(){if(this.w9)this.w9._();else this.Ns.innerHTML=f.hS(this.Oz,null,"toolicon");
this.h7()};jn.prototype.h7=function(){};function bO(){jn.call(this);this.QQ=new fh;this.QQ.l(r.E.o,this.R6,this);
this.body.appendChild(this.QQ.m)}bO.prototype=new jn;bO.prototype.h7=function(){this.QQ._()};bO.prototype.R6=function(u){var m=new eY(r.E.z,!0);
m.data={d:r.J.j6,b:this.b,no:this.QQ.ao1()};this.c(m)};bO.prototype.Uv=function(u){this.QQ.aiI(u.xr)};
function gi(u){jn.call(this);if(u==null)return;this.sU=null;this.Eg={};for(var D=0;D<u.length;D++){var m=u[D],C=null;
if(m=="brush"){C=new hk}if(m=="bmode"){C=new fq([12,19,0],hR.Pc,!1,hR.gQ)}if(m=="bmode0"){C=new fq([12,19,0],hR.Pc.slice(23),!1)}if(m=="emode"){C=new fq([12,36],[[9,3],[10,38]])}if(m=="opacity"){C=new fc([12,0],0,100,"%");
C.f(100)}if(m=="flow"){C=new fc([12,63],0,100,"%");C.f(100)}if(m=="smth"){C=new fc([19,3,0],0,100,"%");
C.f(0)}if(m=="samp"){C=new fq([12,36],[[12,25,4],[12,25,5],[12,46]])}if(m=="wconf"){C=new en;C.f([40,!0,!0])}if(m=="sall"){C=new aG([12,25,2])}if(m=="strn"){C=new fc([12,64],1,100,"%");
C.f(50)}if(m=="smode"){C=new fq([12,36],[[19,7,0],[19,7,1]]);C.f(1)}if(m=="pdetail"){C=new aG([12,65]);
C.Lo()}if(m=="rng"){C=new fq([12,12],[[19,6,0],[19,6,1],[19,6,2]]);C.f(1)}if(m=="expo"){C=new fc([12,5],0,100,"%");
C.f(50)}if(m=="algnd"){C=new aG([12,75]);C.f(!1)}if(m=="sfrom"){C=new fq([12,70],[[17,1],[17,3],[17,0]])}if(m=="alt"){C=new jI(null,["Alt"],!0,["Select Source"])}if(m=="qsmode"){C=new ja([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(m=="redge"){C=new iG([7,11],!1,null,!0)}if(m=="setop"){C=new i6}if(m=="patch"){C=new ja(null,[[12,70],[12,71]])}if(m=="prsr"){C=new jI(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
C.f([!1,!1])}C.parent=this;this.body.appendChild(C.m);this.Eg[m]=C;if(m=="brush")C.l(r.E.o,this.a1H,this);
else if(m=="redge")C.l("click",this.UF,this);else C.l(r.E.o,this.bu,this)}}gi.prototype=new jn;gi.prototype.agf=function(u,m){u=u[1];
var C=this.Eg;if(u.Md)C.bmode.f(hR.C7.indexOf(u.Md.v.BlnM));if(u.Opct)C.opacity.f(u.Opct.v);if(u.flow)C.flow.f(u.flow.v);
if(u.Brsh)C.brush.f(u,m.HI.Ub,m.HI.MS);if(u.FrgC){var Z=j.C.o5(u.FrgC.v),q=new eY(r.E.z,!0);q.data={d:r.J.mh,no:jO.e0,OY:0,k:Z.p<<16|Z.T<<8|Z.S};
this.c(q)}this.a1H();this.bu()};gi.prototype.aj9=function(){if(b.Aq[this.b]==null)return null;var u=this.Eg,m=JSON.parse(JSON.stringify(u.brush.Y()));
m.classID=b.Aq[this.b][1][0];if(u.bmode)m.Md={t:"enum",v:{BlnM:hR.C7[u.bmode.Y()]}};if(u.opacity)m.Opct={t:"long",v:u.opacity.Y()};
if(u.flow)m.flow={t:"long",v:u.flow.Y()};var C=this.sU.jM;C={p:C>>>16,T:C>>>8&255,S:C&255};m.FrgC={t:"Objc",v:j.C.sG(C)};
return["Brush Preset "+m.Brsh.v.Dmtr.v.val,m]};gi.prototype.UF=function(){var u=new eY(r.E.z,!0);u.data={d:r.J.zH,E$:"redge"};
this.c(u)};gi.prototype.h7=function(){for(var u in this.Eg)this.Eg[u]._()};gi.prototype.Uv=function(u){if(u.agb=="showBrushOpts"){this.Eg.brush.alT(u.FP.x,u.FP.y)}for(var m in u.kI){var C=u.kI[m];
if(m!="qsmode")C*=100;if(this.Eg[m])this.Eg[m].f(C)}};gi.prototype.vZ=function(u,m){jn.prototype.vZ.call(this,u,m);
this.sU=u;var C=this.Eg.brush;if(C==null)return;if(m==jO.LY||m==jO.el)C.Ie(u.HI);if(m==jO.Lz){C.f(u.HI.P1,u.HI.Ub,u.HI.MS)}};
gi.prototype.a1H=function(){var u=new eY(r.E.z,!0);u.data={d:r.J.mh,no:jO.Lz,_0:this.Eg.brush.Y()};this.c(u)};
gi.prototype.bu=function(){var u=new eY(r.E.z,!0);u.data={d:r.J.j6,b:this.b};for(var m in this.Eg){if(m=="brush"||m=="redge")continue;
var C=this.Eg[m].Y();if(["opacity","flow","smth","strn","expo"].indexOf(m)!=-1)u.data[m]=C/100;else if(m=="bmode")u.data.bmode=hR.AO[C];
else if(m=="bmode0")u.data.bmode=hR.AO[23+C];else u.data[m]=C}this.c(u)};function fy(u,m){jn.call(this);
if(u)return;this.Eg={};for(var D=0;D<m.length;D++){var C=m[D],Z=null;if(C=="binop")Z=new i6;if(C=="feat"){Z=new fc([7,6],0,100,"px");
Z.f(0)}if(C=="redge")Z=new iG([7,11],!1,null,!0);if(C=="wconf")Z=new en;if(C=="cstr")Z=new fQ;if(C=="anta"){Z=new aG([12,25,1]);
Z.f(!0)}if(C=="sall")Z=new aG([12,25,2]);if(C=="redge")Z.l("click",this.UF,this);else Z.l(r.E.o,this.bu,this);
Z.parent=this;this.body.appendChild(Z.m);this.Eg[C]=Z}}fy.prototype=new jn;fy.prototype.Uv=function(u){if(u.mv!=null)this.Eg.binop.f(u.mv);
else if(u.al){for(var m in u.al)if(this.Eg[m])this.Eg[m].f(u.al[m])}else{var C=fy.Vq;if(C==null){var Z=eU.ash(!0);
C=fy.Vq=new dk(Z.items,Z.hp)}C._();C.parent=this;C.update(u.HC,u.C1);var q=new eY(r.E.z,!0);q.data={d:r.J.ek,Vl:C,x:u.tw.Mt+2,y:u.tw.GY+1};
this.c(q)}};fy.prototype.h7=function(){for(var u in this.Eg)this.Eg[u]._()};fy.prototype.UF=function(){var u=new eY(r.E.z,!0);
u.data={d:r.J.zH,E$:"redge"};this.c(u)};fy.prototype.bu=function(){var u=new eY(r.E.z,!0);u.data={d:r.J.j6,b:this.b,al:{}};
for(var m in this.Eg)u.data.al[m]=this.Eg[m].Y();this.c(u)};function e4(){gi.call(this,["brush","strn"])}e4.prototype=new gi;
function es(){gi.call(this,"brush bmode opacity flow smth prsr".split(" "))}es.prototype=new gi;function e6(){gi.call(this,["brush","bmode0","samp","wconf"])}e6.prototype=new gi;
function bV(){gi.call(this,["brush"])}bV.prototype=new gi;function ec(){gi.call(this,["brush","bmode","opacity","smth","prsr"])}ec.prototype=new gi;
function gK(){gi.call(this,["brush","rng","expo"])}gK.prototype=new gi;function h0(){gi.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}h0.prototype=new gi;
function er(u){jn.call(this);if(u==null)return;var m=f.L("span","fitem");this.body.appendChild(m);var C=[[17,0],[17,1],[11,12,0],[17,2]];
this.M7=[];for(var D=0;D<C.length;D++){var Z=new iG(C[D],!1,null,!0);this.M7.push(Z);Z.l("click",this.alA,this);
if(!u||D==1)m.appendChild(Z.m)}this.WV=new fQ;this.WV.l(r.E.o,this.a3O,this);if(!u)this.body.appendChild(this.WV.m);
this.tO=new iG([15,7,6],!1,null,!0);this.tO.l("click",this.alA,this);if(!u)this.body.appendChild(this.tO.m);
this.Iq=new aG([15,7,10]);this.Iq.l(r.E.o,this.a3O,this);if(!u)this.body.appendChild(this.Iq.m);this.ZX=new f0;
this.ZX.l("click",this.bP,this)}er.prototype=new jn;er.prototype.h7=function(){this.ZX._();for(var D=0;
D<this.M7.length;D++)this.M7[D]._();this.WV._();this.Iq._();this.tO._()};er.prototype.Uv=function(u){var m=this.ZX.m;
if(u.f5)this.body.appendChild(m);else if(this.body.contains(m))this.body.removeChild(m);if(u.WV)this.WV.f(u.WV)};
er.prototype.bP=function(u){var m={d:r.J.j6,b:this.b,mY:this.ZX.Y()?"commit":"cancel"},C=new eY(r.E.z,!0);
C.data=m;this.c(C)};er.prototype.alA=function(u){u.target.m.blur();var m={d:r.J.j6,b:this.b,mY:"cropby",a0F:this.M7.indexOf(u.target)};
if(u.target==this.tO)m.mY="straighten";var C=new eY(r.E.z,!0);C.data=m;this.c(C)};er.prototype.a3O=function(u){var m={d:r.J.j6,b:this.b,mY:"config",Zd:{lU:this.WV.Y(),gf:this.Iq.Y()},alS:u.target==this.WV},C=new eY(r.E.z,!0);
C.data=m;this.c(C)};function dG(){er.call(this,!1)}dG.prototype=new er;function ik(){er.call(this,!0)}ik.prototype=new er;
function ef(){gi.call(this,["brush","rng","expo"])}ef.prototype=new gi;function b9(){gi.call(this,"brush emode opacity flow smth prsr".split(" "))}b9.prototype=new gi;
function jS(){gi.call(this,["brush","samp","wconf"])}jS.prototype=new gi;function av(){fy.call(this,!1,["binop","feat","anta","redge","cstr"])}av.prototype=new fy(!0);
function dY(){jn.call(this);var u=this.Eg=[new fq([12,20],["1x1","3x3","5x5","11x11","31x31"]),new fq([12,70],[[17,1],[17,3],[17,0]]),new aG("Sampling Ring"),new aG("Zoom")];
u[1].f(2);u[2].f(!0);for(var D=0;D<u.length;D++){var m=u[D];m.l(r.E.o,this.bu,this);this.body.appendChild(m.m)}}dY.prototype=new jn;
dY.prototype.bu=function(u){var m=this.Eg,C=[];for(var D=0;D<m.length;D++)C[D]=m[D].Y();var Z=new eY(r.E.z,!0);
Z.data={d:r.J.j6,b:this.b,al:C};this.c(Z)};dY.prototype.h7=function(){for(var D=0;D<this.Eg.length;D++)this.Eg[D]._()};
function g3(){jn.call(this);this.E_=new is(!1);this.E_.parent=this;this.E_.l(r.E.o,this.o_,this);this.body.appendChild(this.E_.m);
this.E_.f(JSON.parse(c0.gy.aoZ).v);this.AH=new fq(null,c0.C.names.slice(0,5));this.AH.l(r.E.o,this.o_,this);
this.body.appendChild(this.AH.m);this.cL=new fq([12,19,0],hR.Pc,null,hR.gQ);this.cL.l(r.E.o,this.o_,this);
this.body.appendChild(this.cL.m);this.YR=new fc([12,0],0,100,"%");this.YR.parent=this;this.YR.l(r.E.o,this.o_,this);
this.body.appendChild(this.YR.m);this.YR.f(100);this.cP=new aG([12,23,0]);this.cP.l(r.E.o,this.o_,this);
this.body.appendChild(this.cP.m);this.wM=new aG([12,23,3]);this.wM.l(r.E.o,this.o_,this);this.body.appendChild(this.wM.m)}g3.prototype=new jn;
g3.prototype.h7=function(){this.AH._();this.cL._();this.YR._();this.cP._();this.wM._()};g3.prototype.vZ=function(u,m){jn.prototype.vZ.call(this,u,m);
var C=m==jO.e0;this.E_.dW(u.jM,u.z0);if(C||m==jO.__||m==jO.LY)this.E_.Ie(u.yZ)};g3.prototype.o_=function(){var u=new eY(r.E.z,!0);
u.data={d:r.J.j6,b:this.b};u.data.no={C:this.E_.Y(),lr:c0.C.types[this.AH.Y()],Fi:this.cP.Ia(),akt:this.wM.Ia(),adk:hR.AO[this.cL.Y()],Hf:this.YR.Y()/100};
this.c(u)};function hd(){jn.call(this)}hd.prototype=new jn;function bv(){jn.call(this);var u=f.L("span","fitem");
this.body.appendChild(u);this.qs=[new fc([12,15],-180,180,"\xB0"),new iG([1,12,2],null,null,!0)];for(var D=0;
D<this.qs.length;D++){var m=this.qs[D];m.parent=this;u.appendChild(m.m);m.l(D==1?"click":r.E.o,this.vm,this)}}bv.prototype=new jn;
bv.prototype.h7=function(){for(var D=0;D<this.qs.length;D++)this.qs[D]._()};bv.prototype.Uv=function(u){this.qs[0].f(u.VV*180/Math.PI)};
bv.prototype.vm=function(u){var m=this.qs.indexOf(u.target),C=new eY(r.E.z,!0);C.data={d:r.J.j6,b:this.b,VV:m==1?0:u.target.Y()*Math.PI/180};
this.c(C)};function aE(){gi.call(this,["brush","algnd","sfrom","alt"])}aE.prototype=new gi;function i2(){jn.call(this);
this.I$=new a3;this.I$.parent=this;this.body.appendChild(this.I$.Z7.m);this.body.appendChild(this.I$.L1.m);
this.body.appendChild(this.I$.KI.m);this.body.appendChild(this.I$.jP.m);var u=f.L("span","fitem");this.body.appendChild(u);
u.appendChild(this.I$.w3.m);u.appendChild(this.I$.LS.m);u.appendChild(this.I$.OM.m);this.s$=new fq("Aa",[[22,5,0],"Sharp","Crisp","Strong","Smooth"]);
this.s$.l(r.E.o,this.bP,this);this.body.appendChild(this.s$.m);this.N$=new iG([11,9],!1,null,!0);this.N$.l("click",this.ac6,this);
this.body.appendChild(this.N$.m);this.ZX=new f0;this.ZX.l("click",this.bP,this)}i2.prototype=new jn;
i2.prototype.h7=function(){this.ZX._();this.I$._();this.N$._()};i2.prototype.ac6=function(u){var m={d:r.J.j6,b:this.b,mY:"showwarp"},C=new eY(r.E.z,!0);
C.data=m;this.c(C)};i2.prototype.Uv=function(u){if(u.mY=="showactive")this.body.appendChild(this.ZX.m);
if(u.mY=="hideactive")this.body.removeChild(this.ZX.m);if(u.mY=="changeAA")this.s$.f(u.Qc)};i2.prototype.vZ=function(u,m){jn.prototype.vZ.call(this,u,m);
if(m!=jO.LY&&m!=jO.Cd&&m!=jO.ht&&m!=jO.qA)return;this.I$.f(u.yU,u.u6,u.bx)};i2.prototype.bP=function(u){var m={d:r.J.j6,b:this.b,mY:this.ZX.Y()?"commit":"cancel"};
if(u.target==this.s$){m.mY="changeAA";m.Qc=this.s$.Y()}var C=new eY(r.E.z,!0);C.data=m;this.c(C)};function gO(){fy.call(this,!1,["binop","feat","anta","redge"])}gO.prototype=new fy(!0);
function g7(){jn.call(this);var u=[],C="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.J0=new aG([12,85]);this.J0.l(r.E.o,this.bu,this);u.push(this.J0.m);this.Xf=new aG([20,1]);this.Xf.l(r.E.o,this.bu,this);
u.push(this.Xf.m);this.Lg=new aG([12,83]);this.Lg.l(r.E.o,this.bu,this);u.push(this.Lg.m);var m=f.L("span","fitem");
u.push(m);this.a7D=new fq("Scale for exported files",["1x","2x","3x","4x"],!0);m.appendChild(this.a7D.m);
this.rq=new iG(C+" PNG",!1,"Save selected layers as PNG",!0);m.appendChild(this.rq.m);this.rq.l("click",this.OH,this);
this.as_=new iG(C+" SVG",!1,"Save selected layers as SVG",!0);m.appendChild(this.as_.m);this.as_.l("click",this.OH,this);
var Z=f.L("span","fitem");u.push(Z);var q=f.L("span","fitem");u.push(q);this.tL=[];for(var D=0;D<8;D++){var J=D==3||D==7?[20,4,6]:[20,4,D<3?D:D-1],A=new iG("Hi",!1,J);
(D<4?Z:q).appendChild(A.m);A.l("click",this.OH,this);this.tL.push(A)}for(var D=0;D<u.length;D++)this.body.appendChild(u[D]);
this.ae2=u}g7.prototype=new jn;g7.prototype.Uv=function(u){var m=u.xr,C=u.ank;this.J0.f(m.zo);this.Xf.f(m.Ln);
this.Lg.f(m.JS);if(C){f.Da(this.body);for(var D=0;D<C.length;D++)if(C[D]==1&&this.ae2[D])this.body.appendChild(this.ae2[D])}};
g7.prototype.OH=function(u){var m=this.tL.indexOf(u.target),C;if(m==-1){C=new eY(r.E.z,!0);C.data={d:r.J.j6,b:this.b,OY:u.target==this.rq?"getPNG":"getSVG",k8:this.a7D.Y()+1}}else{C=new eY(r.E.H,!0);
C.b=b.Iw;C.data={d:"algn",k:m}}this.c(C)};g7.prototype.bu=function(u){var m=new eY(r.E.z,!0);m.data={d:r.J.j6,b:this.b,OY:"prms",zo:this.J0.Ia(),Ln:this.Xf.Ia(),JS:this.Lg.Ia()};
this.c(m)};g7.prototype.h7=function(){this.J0._();this.Xf._();this.Lg._();var u="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var D=0;D<8;D++){this.tL[D].YI(f.hS("align/"+u[D],null,"autoscale"))}};function fC(){fy.call(this,!1,["binop","feat","redge","wconf","sall"])}fC.prototype=new fy(!0);
function cW(){gi.call(this,["setop","patch"])}cW.prototype=new gi;function f1(){gi.call(this,["setop"])}f1.prototype=new gi;
function gq(){gi.call(this,["bmode","opacity","wconf","sall"])}gq.prototype=new gi;function fL(){fy.call(this,!1,["binop","feat","anta","redge"])}fL.prototype=new fy(!0);
function b6(){fy.call(this,!1,["binop","feat","anta","redge"])}b6.prototype=new fy(!0);function dH(){fy.call(this,!1,["binop","feat","redge","cstr"])}dH.prototype=new fy(!0);
function au(){jn.call(this);this.sU=null;this.T2=null;this.lI=[new jC("X",null,3.2,null,!0),new jC("Y",null,3.2,null,!0),new jC("W",null,3.2,null,!0),new jC("H",null,3.2,null,!0),new jC([12,15],"\xB0",3.7,null,!0),new jC(["VAR0 1",[12,80,0]],null,3.5,null,!0),new jC(["VAR0 2",[12,80,0]],null,3.5,null,!0),new iG([15,7,6],!1,null,!0),new iG([2,2],!1,null,!0)];
for(var D=0;D<this.lI.length;D++){var u=this.lI[D];this.body.appendChild(u.m);if(D>6)u.l("click",this.L$,this)}this.K5=0}au.prototype=new jn;
au.prototype.L$=function(u){var m=this.lI.indexOf(u.target)==7,C=new eY(r.E.H,!0);if(m){if(this.K5==0)return;
C.b=b.l7;C.data={d:"rot",wy:[2,5],k:-this.K5}}else{C.b=b.dh;for(var D=0;D<6;D++)this.lI[D].f(null)}this.c(C)};
au.prototype.Uv=function(u){function m(n,N,e){var Q=Math.sqrt(Math.pow(N.x-n.x,2)+Math.pow(N.y-n.y,2)),p=Math.sqrt(Math.pow(N.x-e.x,2)+Math.pow(N.y-e.y,2)),B=Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2));
return Math.acos((p*p+Q*Q-B*B)/(2*p*Q))}if(u==null)return;this.T2=u;var C=u.aqz,Z=u.q8,q=Z.x-C.x,J=Z.y-C.y;
this.K5=-Math.atan2(J,q);if(u.Sm)this.K5=m(Z,C,u.Sm);var A=this.lI;A[0].f(this.uD(u,C.x));A[1].f(this.uD(u,C.y));
A[2].f(this.uD(u,q));A[3].f(this.uD(u,J));A[4].f((this.K5*180/Math.PI).toFixed(2));A[5].f(this.uD(u,dz.th(C,Z)));
if(u.Sm){A[6].f(this.uD(u,dz.th(C,u.Sm)))}else A[6].f("")};au.prototype.uD=function(u,m){var C=j.KX.XJ(m,u.JJ,this.sU,u.amT,!1);
return parseFloat(C).toFixed(2)};au.prototype.vZ=function(u,m){this.sU=u;this.Uv(this.T2)};au.prototype.h7=function(){var u=this.lI;
for(var D=0;D<u.length;D++)u[D]._();f.lB(u[2],u[3])};function gu(){gi.call(this,["brush","strn","pdetail"])}gu.prototype=new gi;
function dL(){gi.call(this,["brush","sfrom"]);this.anS=[];var u=[[7,12]];for(var D=0;D<u.length;D++){var m=new iG(u[D],!1,null,!0);
this.anS.push(m);m.parent=this;this.body.appendChild(m.m);m.l("click",this.a0f,this)}}dL.prototype=new gi;
dL.prototype.a0f=function(u){var m=this.anS.indexOf(u.currentTarget),C=new eY(r.E.od,!0);C.data=b.Zg.ij("contentAware");
this.c(C)};function jj(){gi.call(this,["brush","strn"])}jj.prototype=new gi;function eZ(){gi.call(this,["brush","flow","smode"])}eZ.prototype=new gi;
function cZ(){jn.call(this);this.mL=!1;var u=f.L("span","fitem");this.body.appendChild(u);this.Ra=new ja(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
u.appendChild(this.Ra.m);this.Ra.l(r.E.o,this.bu,this);this.UK=new iG([20,2]);this.body.appendChild(this.UK.m);
this.UK.l("click",this.a7_,this);this.dw=new iG([20,3]);this.body.appendChild(this.dw.m);this.dw.l("click",this.a7_,this)}cZ.prototype=new jn;
cZ.prototype.h7=function(){this.UK._();this.dw._()};cZ.prototype.bu=function(){var u={d:r.J.j6,b:this.b,_o:this.Ra.Y()==0},m=new eY(r.E.z,!0);
m.data=u;this.c(m)};cZ.prototype.Uv=function(u){if(this.mL!=u.mL)this.Ra.f(1-this.Ra.Y());this.mL=u.mL};
cZ.prototype.a7_=function(u){var m=new eY(r.E.H,!0);m.b=b.Uz;m.data={d:"adapt",k:u.target==this.UK?"pixel":"fitscr"};
this.c(m)};function cD(u,m){jn.call(this);if(u==null)return;this.vJ=u;this.Tr={};this.agA=m;for(var D=0;
D<u.length;D++){var C=u[D],Z=null;if(C=="tmode"){Z=new fq(null,[[12,76,1],[12,76,0],[12,76,2]]);Z.f(0);
if(m)Z.acs(2)}if(C=="make"){Z=new ja("Make",[[17,2],[12,76,1]],null,!0)}if(C=="anta"){Z=new aG([12,25,1]);
Z.f(!0)}if(C=="binop"){Z=new fq(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(C=="pshape")Z=new fq(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(C=="shape")Z=new jF([12,76,1]);if(C=="crad"){Z=new fc([12,94,0],0,50,"px");Z.f(0)}if(C=="cstr"){Z=new fQ}if(C=="irad"){Z=new fc([12,94,1],0,100,"%");
Z.f(40)}if(C=="length"){Z=new fc([12,80,0],4,40);Z.f(4)}if(C=="sides"){Z=new fc([12,78],3,30);Z.f(5)}if(C=="width"){Z=new fc([12,41],1,100,"px");
Z.f(5)}if(C=="tolr"){Z=new fc([12,24],0,100);Z.f(5)}if(C=="fstyle"){Z=new bx([12,26])}if(C=="sstyle"){Z=new e1}if(C=="psnap"){Z=new aG([8,10])}if(C=="crnr"){Z=new iG("\u2312",!1,[12,94,0],!0)}if(C=="aopts"){Z=new f9;
Z.f([!1,!1,50,60,0])}Z.parent=this;this.body.appendChild(Z.m);this.Tr[C]=Z;Z.l(C=="crnr"?"click":r.E.o,this.bu,this)}}cD.prototype=new jn;
cD.prototype.Uv=function(u){if(u.mv!=null)this.Tr.binop.f(u.mv);else if(u.OY=="vals")for(var m in u.ab2)this.Tr[m].f(u.ab2[m]);
else{var C=cD.Vq;if(C==null)C=cD.Vq=new dk([{name:"Remove Anchor Point",P:function(q){var J=q?q.yG():null;
return{P:q&&J[1].length!=0&&J[0][J[1][0]].add.vmsk.H9.length!=0}}},{name:"Remove Path",P:function(q){var J=q?q.yG():null;
return{P:q&&J[1].length!=0&&J[0][J[1][0]].add.vmsk.w.length!=0}},ZR:!0},{name:"Make Selection"}],[{W:r.E.H,b:b.R$,R:{d:"remove",Em:!0}},{W:r.E.H,b:b.UX,R:{d:"remove"}},{W:r.E.z,R:{d:r.J.zH,E$:"makesel"}}]);
C.parent=this;C.update(u.HC,u.C1);var Z=new eY(r.E.z,!0);Z.data={d:r.J.ek,Vl:C,x:u.tw.Mt+2,y:u.tw.GY+1};
this.c(Z)}};cD.prototype.alP=function(D){return null};cD.prototype.h7=function(){for(var u in this.Tr){this.Tr[u]._()}};
cD.prototype.bu=function(u){var m=new eY(r.E.z,!0),C=this.Tr;if(u.target==C.crnr){m=new eY(r.E.H,!0);
m.b=b.R$;m.data={d:"crnr"}}else if(u.target==C.make){var D=u.target.Y();console.log(D);if(D==0)m.data={d:r.J.zH,E$:"makesel"};
else{m=new eY(r.E.H,!0);m.b=b.e9;m.data={d:"newfill",X1:0}}}else if(u.target==C.fstyle){m.data={d:r.J.mh,no:jO.IH,k:C.fstyle.Y()}}else if(u.target==C.sstyle){m.data={d:r.J.mh,no:jO.lY,k:C.sstyle.Y()}}else if(u.target==C.tmode){m.data={d:r.J.mh,no:jO.m6,k:C.tmode.Y()}}else{if(C.pshape)this.kd();
m.data={d:r.J.j6,b:this.b};for(var Z in C)m.data[Z]=C[Z].Y()}this.c(m)};cD.prototype.kd=function(){var u=this.Tr,m=u.tmode.Y(),C=u.pshape?this.alP(u.pshape.Y()):this.vJ,Z;
if(m==0)Z=["anta","make"];if(m==1)Z=["anta","fstyle","sstyle"];if(m==2)Z=["make","binop","fstyle","sstyle"];
var q=u.binop;if(q){var J=q.Y();if(m==0){q.aph(0)}else{q.acs(0);if(J==0){q.f(1);this.bu({target:q})}}}f.Da(this.body);
for(var D=0;D<C.length;D++){var A=C[D];if(Z.indexOf(A)!=-1)continue;this.body.appendChild(u[A].m)}};
cD.prototype.vZ=function(u,m){jn.prototype.vZ.call(this,u,m);var C=this.Tr.fstyle,Z=this.Tr.sstyle,q=this.Tr.tmode;
if(C)C.vZ(u,m);if(Z)Z.vZ(u,m);if(m==jO.LY||m==jO.Jb)if(u.iL.length!=0&&this.Tr.shape){this.Tr.shape.Ie(u.iL)}if(m==jO.LY||m==jO.IH)if(C)C.f(null,u.$_,u.apP);
if(m==jO.LY||m==jO.lY)if(Z)Z.f(null,u.dn,u.ani);if(m==jO.LY||m==jO.m6){var J=u.NS;if(this.agA&&J==2)J=0;
if(q){q.f(J);this.kd()}}};function dE(){cD.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}dE.prototype=new cD;
function cX(){cD.call(this,"tmode make anta fstyle sstyle binop tolr".split(" "))}cX.prototype=new cD;
function am(){cD.call(this,["fstyle","sstyle"]);this.apX=null;this.aoG=null;this.a0t=null;this.QR=new fq([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.MQ=new iG("\u25BC");this.MQ.Lo();this.oE=new iG("\u25B2");this.oE.Lo();this.fk=[this.QR,this.MQ,this.oE];
for(var D=0;D<this.fk.length;D++){var u=this.fk[D];this.body.appendChild(u.m);u.parent=this;u.l(D==0?r.E.o:"click",this.g6,this)}}am.prototype=new cD;
am.prototype.Uv=function(u){if(u.mY=="main"){var m=this.fk,C=u.YN;if(C&&C.w.length==1){this.aoG=C.clone();
this.a0t=JSON.stringify(u.xK);var Z=C.w[0],q=j.$.o1(C.B);this.QR.BD();if(Z>0)this.MQ.BD();else this.MQ.mq();
if(Z<q-1)this.oE.BD();else this.oE.mq();var J=j.$.I9(C.B,Z),A=C.B[J];this.QR.YI("Path "+(Z+1));this.QR.f([3,0,1,2][A.hB])}else{for(var D=0;
D<m.length;D++)m[D].mq()}}else cD.prototype.Uv.call(this,u)};am.prototype.h7=function(){cD.prototype.h7.call(this);
this.QR._()};am.prototype.g6=function(u){if(u.target==this.QR||u.target==this.MQ||u.target==this.oE){var m={},C=this.aoG,Z=C.B,q=JSON.parse(this.a0t),J=C.w[0],A=j.$.I9(Z,J),n=Z[A];
if(u.target==this.QR){var N=this.QR.Y();if(N<4)n.hB=[1,2,3,0][N];else{if(j.$.o1(Z)<=1)return;C.B=j.$.R_(Z);
C.w=C.B.length==2?[]:[0];C.H9=[];q=[j.xK.LW()]}}else{var e=u.target==this.MQ?-1:1,Q=Math.min(J,J+e),p=Math.max(J,J+e),B=j.$.I9(Z,Q),$=j.$.I9(Z,p);
if(B==-1||$==-1)return;var R=$+j.$.lN(Z,p),z=q[Q];q[Q]=q[p];q[p]=z;var v=Z.slice(0,B),a=Z.slice(B,$),X=Z.slice($,R),V=Z.slice(R);
C.B=v.concat(X.concat(a.concat(V)));C.w[0]+=e}m.YN=C;m.xK=q;var o=new eY(r.E.z,!0);o.data={d:r.J.j6,b:this.b,_c:m};
this.c(o)}};function cJ(){cD.call(this,["fstyle","sstyle","crnr","psnap"])}cJ.prototype=new cD;function bR(){cD.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}bR.prototype=new cD;
function ht(){cD.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}ht.prototype=new cD;
function ip(){cD.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.Tr.aopts.f([!1,!0,50,60,0])}ip.prototype=new cD;ip.prototype.alP=function(D){var u=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(u[D])};function fN(){cD.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}fN.prototype=new cD;
function h_(){cD.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}h_.prototype=new cD;
function dd(){fy.call(this,!1,["binop","feat","redge"])}dd.prototype=new fy(!0);function ax(){gi.call(this,["brush","qsmode","redge"])}ax.prototype=new gi;
function eO(){jn.call(this);var u=new iG("Slices From Guides",null,null,!0);u.l("click",this.g6,this);
this.body.appendChild(u.m)}eO.prototype=new jn;eO.prototype.g6=function(u){var m=new eY(r.E.od,!0);m.data={ZO:"make",yS:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}};
this.c(m)};function cC(){jn.call(this);var u=this.agW=[new iG("\u25BC",null,null,!0),new iG("\u25B2",null,null,!0),new iG([5,4],null,null,!0)];
for(var D=0;D<3;D++){var m=u[D];this.body.appendChild(m.m);m.l("click",this.g6,this)}}cC.prototype=new jn;
cC.prototype.g6=function(u){var m=this.agW.indexOf(u.target),C=new eY(r.E.H,!0);C.b=b.e4;C.data={d:m==2?"delete":"reorder",dir:m==0?-1:1};
this.c(C)};cC.prototype._=function(){jn.prototype._.call(this);for(var D=0;D<3;D++)this.agW[D]._()};
function jb(u,m){jn.call(this);if(window.Typr==null||u)return;this.aqc=m;this.U9=null;this.ana=f.L("span","");
this.asm=f.L("span","");var C=1;this.qi={fy:new iR(null,24),qw:new fc("X",0,0,"px",0,!1,!0,4),Dy:new fc("Y",0,0,"px",0,!1,!0,4),GV:new fc("W",0,0,["%","px"],2,!1,!0,5),Ai:new iG("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),st:new fc("H",0,0,["%","px"],2,!1,!0,5),ap7:new fc("\u2221",0,0,"\xB0",C,!1,!0),a30:new fc("\u25B1 H",-85,85,"\xB0",C,!1,!0),a0u:new fc("\u25B1 V",-85,85,"\xB0",C,!1,!0),sg:new fq(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.qi.sg.f(1);for(var Z in this.qi){var q=this.qi[Z];if(m&&(q==this.qi.ap7||q==this.qi.a30||q==this.qi.a0u||q==this.qi.sg)){}else this.ana.appendChild(q.m);
var J=q==this.qi.Ai?"click":r.E.o;q.l(J,this.ajl,this)}this.kE=new iu(!0,!0,!0);this.kE.l(r.E.o,this.aeB,this);
this.kE.parent=this;var A=this.asm,n=this.kE;A.appendChild(n.II.m);A.appendChild(n.Bj.m);A.appendChild(n.Qw.m);
A.appendChild(n.CP.m);A.appendChild(n.hX.m);this.N$=new iG([11,9]);this.N$.l("click",this.amq,this);
this.ZX=new f0;this.ZX.l("click",this.bP,this)}jb.prototype=new jn;jb.prototype.Uv=function(u){if(u.tw){var m=jb,C=this.Vq;
if(C==null)C=this.Vq=new dk(m.a4Y(),m.a1i(this.b));C._();C.parent=this;C.update(u.HC,u.C1);var Z=new eY(r.E.z,!0);
Z.data={d:r.J.ek,Vl:C,x:u.tw.Mt+2,y:u.tw.GY+1};this.c(Z);return}f.Da(this.body);this.U9=u;if(u.qi){var q=u.qi.yt,J=u.qi.NC.clone(),A=Math.atan2(-J.S,J.w7),n=new ix;
n.rotate(-A);J.concat(n);var N=this.qi;N.fy.f(u.qi.m8);N.qw.f(u.qi.$k.x);N.Dy.f(u.qi.$k.y);N.GV.f(J.w7*(N.GV.EV()=="%"?100:q.e));
N.st.f(J.MX*(N.st.EV()=="%"?100:q.n));N.ap7.f(-A*180/Math.PI);N.a30.f(0*180/Math.PI);N.a0u.f(Math.atan(J.ZU)*180/Math.PI);
this.body.appendChild(this.ana);this.N$.Ff()}if(u.n_){this.kE.f(u.n_);this.body.appendChild(this.asm);
this.N$.Lo()}this.body.appendChild(this.ZX.m);if(u.auq&&!this.aqc)this.body.appendChild(this.N$.m)};
jb.prototype.ajl=function(u){var m=this.qi,C=this.U9.qi.yt;if(u.target==m.Ai)m.Ai.f(!m.Ai.Y());if(m.Ai.Ia()){var Z=m.st,q=m.GV,J=C.n,A=C.e;
if(u.target==m.GV){Z=m.GV;q=m.st;J=C.e;A=C.n}var n=Z.Y()/(Z.EV()=="%"?100:J);n*=q.EV()=="%"?100:A;q.f(n)}var N=[];
for(var e in m)if(m[e]!=m.Ai&&m[e]!=m.fy){var n=m[e].Y();if((m[e]==m.GV||m[e]==m.st)&&n==0){n=.1;m[e].f(n)}if(m[e]==m.GV&&m[e].EV()=="px")n/=C.e/100;
if(m[e]==m.st&&m[e].EV()=="px")n/=C.n/100;N.push(n)}var Q=new dz(N[0],N[1]);if(u.target==m.fy){this.Y_({mY:"ctyp",m8:m.fy.Y()})}else if(u.target==m.qw||u.target==m.Dy){this.Y_({mY:"cen",$k:Q})}else{var p=this.U9.qi.NC.clone(),B=p.clone(),$=Math.atan2(-p.S,p.w7);
B.translate(-Q.x,-Q.y);B.rotate(-$);var R=new ix(B.w7,B.S,B.ZU,B.MX,0,0);R.mL();B.concat(R);B.concat(new ix(N[2]/100,Math.tan(N[5]*Math.PI/180),Math.tan(N[6]*Math.PI/180),N[3]/100,0,0));
B.rotate(-N[4]*Math.PI/180);B.translate(Q.x,Q.y);this.U9.qi.NC=B;this.Y_({mY:"trn",qi:B,u$:this.qi.sg.Y()})}};
jb.prototype.aeB=function(u){this.Y_({mY:"wrp",n_:this.kE.Y()})};jb.prototype.amq=function(u){this.Y_({mY:"switchWarp"})};
jb.prototype.bP=function(u){this.Y_({mY:this.ZX.Y()?"commit":"cancel"})};jb.prototype.Y_=function(u){u.d=r.J.j6;
u.b=this.b;var m=new eY(r.E.z,!0);m.data=u;this.c(m)};jb.prototype.h7=function(){var u=this.qi;for(var m in u)u[m]._();
f.lB(u.GV,u.st);this.ZX._();this.kE._();this.N$._()};jb.a4Y=function(){return[{name:[5,9],B8:"Shift+Alt+Ctrl + T",ZR:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],P:function(u){if(u==null||u.w.length!=1)return{P:!1};
var m=u.g[u.w[0]];return{P:m.add.TySh==null&&!m.ld()}},ZR:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
jb.a1i=function(u){if(u==null)u=b.l7;return[{W:r.E.H,b:u,R:{d:"again"}},{W:r.E.z,R:{d:r.J.K3,b:u,xr:{xk:3}}},{W:r.E.z,R:{d:r.J.K3,b:u,xr:{xk:4}}},{W:r.E.z,R:{d:r.J.K3,b:u,xr:{xk:2}}},{W:r.E.z,R:{d:r.J.K3,b:u,xr:{xk:1}}},{W:r.E.z,R:{d:r.J.K3,b:u,xr:{xk:-1}}},{W:r.E.H,b:u,R:{d:"rot",wy:[2,5],k:-Math.PI/2}},{W:r.E.H,b:u,R:{d:"rot",wy:[2,5],k:-3*Math.PI/2}},{W:r.E.H,b:u,R:{d:"rot",wy:[2,5],k:Math.PI}},{W:r.E.H,b:u,R:{d:"scl",wy:[[2,6],[22,4,2]],k:new dz(-1,1)}},{W:r.E.H,b:u,R:{d:"scl",wy:[[2,6],[22,4,3]],k:new dz(1,-1)}}]};
function eF(){jb.call(this)}eF.prototype=new jb(!0);function jR(){jb.call(this)}jR.prototype=new jb(!0);
function cN(){jb.call(this,!1,!0)}cN.prototype=new jb(!0);function dr(){jn.call(this);var u=this.vJ=[new fq([12,36],["Rigid",[15,10,0],[24,4]]),new fq([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new fc([7,4],0,100,"px"),new aG("Show Mesh"),new iG("\u25BC",null,null,!0),new iG("\u25B2",null,null,!0)];
for(var D=0;D<u.length;D++){var m=u[D];m.parent=this;this.body.appendChild(m.m);m.l(D<4?r.E.o:"click",this.a4f,this)}this.ZX=new f0;
this.ZX.l("click",this.bP,this);this.body.appendChild(this.ZX.m)}dr.prototype=new jn;dr.prototype.h7=function(){var u=this.vJ;
for(var D=0;D<4;D++)u[D]._();this.ZX._()};dr.prototype.Uv=function(u){var u=u.no;for(var D=0;D<4;D++)this.vJ[D].f(u[D])};
dr.prototype.a4f=function(u){var m=[];for(var D=0;D<4;D++)m[D]=this.vJ[D].Y();var C=this.vJ.indexOf(u.target);
if(C<4)this.Y_({mY:"prm",no:m});else this.Y_({mY:"moveDepth",ajM:C==5})};dr.prototype.bP=function(u){this.Y_({mY:this.ZX.Y()?"commit":"cancel"})};
dr.prototype.Y_=function(u){u.d=r.J.j6;u.b=this.b;var m=new eY(r.E.z,!0);m.data=u;this.c(m)};function hj(){bK.call(this);
this.m=f.L("div","cmanager");window.alert=function(Z,q){this.akn(Z,q);console.log("Alert: "+Z)}.bind(this);
window.onblur=function(Z){var q=this;q.JW()}.bind(this);this.du=0;this.Oh=0;this.FX=[];this.Si={};this.on=f.L("div","alertcont");
this.m.appendChild(this.on);this.a4i=f.L("div","alertcont");this.m.appendChild(this.a4i);this.NE=f.L("div","alertcont");
this.akD=0;this.T$=-1;this.al8=null;this.tJ=null;var u=this.a2G=f.L("div","alertpanel");u.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.NE.appendChild(u);var m=this.L8=f.L("input");m.setAttribute("type","text");f.xC(m);m.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
m.addEventListener("input",this.abF.bind(this),!1);m.addEventListener("keydown",this.ag3.bind(this),!1);
u.appendChild(m);var C=this.ads=f.L("div","contextpanel scrollable");C.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
C.addEventListener("click",this.a19.bind(this),!1);u.appendChild(C);f.oI(document.body,this.arm.bind(this))}hj.prototype=new bK;
hj.prototype.mN=function(){if(f.pZ(this.NE))this.m.removeChild(this.NE)};hj.prototype.ael=function(u,m){var C=this.al8=[];
for(var D=0;D<eU.data.length;D++){var Z=eU.data[D],q=[jg.get(Z.name)],J=[D];hj.al9(Z.items,q,J,C,u,m)}var A=aL.K;
for(var D=0;D<A.length;D+=3){C.push([["Tools",jg.get(A[D])],[-1,A[D+2]],A[D+1]])}this.m.appendChild(this.NE);
var n=this.L8;n.focus();n.select();this.L9()};hj.prototype.abF=function(u){this.T$=-1;this.L9()};hj.prototype.L9=function(){var u=this.L8.value.toLowerCase().trim().replace(/  +/g," "),m=this.al8,C=[],Z=[],q=u.split(" ");
if(u!="")for(var D=0;D<m.length;D++){var J=m[D][0],A=[],n=0;for(var N=0;N<J.length;N++)A[N]=-1;for(var e=0;
e<q.length;e++)for(var N=0;N<J.length;N++){var Q=J[N].toLowerCase().indexOf(q[e]);if(Q!=-1){A[N]=[Q,Q+q[e].length];
n++;break}}if(n==q.length){C.push(m[D]);Z.push(A)}}var p=[],B=this.ads;f.Da(B);for(var D=0;D<C.length;
D++){var $=C[D],R=$[0],Q=Z[D],z="enab",a="";if(D==this.T$)z+=" active";var v=f.L("div",z);p.push(v);
B.appendChild(v);for(var N=0;N<R.length;N++){var X=Q[N],V=q[N],o=R[N];if(X!=-1)o=o.slice(0,X[0])+"<span style=\"color:black\">"+o.slice(X[0],X[1])+"</span>"+o.slice(X[1]);
a+=o;if(N<R.length-1)a+=" \uFE65 "}if($[2]&&(typeof $[2]!="string"||$[2].length==1))a+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+hs.yY($[2])+"</span>";
v.innerHTML=a}this.tJ=[C,p]};hj.prototype.ag3=function(u){var m=hs.bD,C=u.code;if(m(C,hs.U_))this.mN();
var Z=m(C,hs.sq),q=m(C,hs.bH),J=m(C,hs.tb);if(Z||q){this.T$=Math.max(0,Math.min(this.tJ[0].length-1,this.T$+(Z?-1:1)));
this.L9()}if(J&&this.T$!=-1)this.ab5(this.T$)};hj.al9=function(u,m,C,Z,q,J){for(var D=0;D<u.length;D++){var A=u[D],n=m.slice(0),N=C.slice(0),e=jg.get(A.name);
if(A.P){var Q=A.P(q,J,D);if(Q.hD)e=Q.hD;if(Q.P==!1)continue}n.push(e);N.push(D);if(A.sub)hj.al9(A.sub,n,N,Z,q,J);
else Z.push([n,N,A.B8])}};hj.prototype.a19=function(u){var m=u.target;if(m.tagName.toLowerCase()=="span")m=m.parentNode;
var C=this.tJ[1].indexOf(m);if(C!=-1)this.ab5(C)};hj.prototype.ab5=function(u){var m=this.tJ[0][u][1];
if(m[0]==-1){var C=new eY(r.E.z,!0);C.data={d:r.J.K3,b:m[1]};this.c(C)}else{var Z=eU.data[m[0]].hp[m[1]];
for(var D=2;D<m.length;D++)Z=Z.sub[m[D]];var q=new eY(Z.W,!0);q.b=Z.b;q.data=Z.R;this.c(q)}this.mN()};
hj.prototype.CC=function(u,m){this.du=u;this.Oh=m;this.ads.style["max-height"]=m-120+"px"};hj.prototype.aaH=function(u){var m=f.L("div","alertpanel");
m.textContent=jg.get(u);this.on.appendChild(m);this.Si[JSON.stringify(u)]=m};hj.prototype.ajy=function(u){var m=this.Si[JSON.stringify(u)];
this.on.removeChild(m);delete this.Si[JSON.stringify(u)]};hj.prototype.akn=function(u,m){var C=this.a4i;
for(var D=0;D<C.children.length;D++)if(C.children[D].textContent==u)return;var Z=f.L("div","alertpanel tpanel");
Z.textContent=u;Z.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");C.appendChild(Z);if(m==null)m=1500;
var q=m,J=Math.max(Date.now()+q,this.akD+q);setTimeout(function(){Z.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){C.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},J-Date.now()-30);
setTimeout(function(){C.removeChild(C.firstChild);C.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},J-Date.now());
this.akD=J};hj.prototype.arm=function(u){var m=this.FX;for(var D=m.length-1;D>=0;D--){var C=m[D],Z=u.target;
while(Z!=null){if(Z==C.m){this.JW(C);return}Z=Z.parentNode}}this.JW();var q=u.target;while(q!=this.NE&&q!=document.body)q=q.parentNode;
if(q!=this.NE)this.mN()};hj.prototype.JW=function(u){var m=this.FX;for(var D=0;D<m.length;D++){if(u&&u.ajd(m[D]))continue;
var C=m[D].m;C.style.height="auto";f.Jq(C,"scrollable");this.m.removeChild(C);m.splice(D,1);D--}};hj.prototype.ahr=function(u){this.JW(u.Vl);
var m=u.Vl,C=m.m;if(this.FX.indexOf(m)!=-1)return;this.FX.push(m);this.m.appendChild(m.m);var Z=this.du,q=this.Oh,J=u.x,A=u.y,n=this.m.getBoundingClientRect(),N=m instanceof dk,e=-1,Q=q-2;
if(N||u.sb){var p=m._p(),B=m.a6r();if(N)p=Math.min(p,200);var $=Z-p-2,R=q-B-2;if(A<R)e=2;else if(J<$)e=1;
else if(0<A-B-2)e=0;else e=3;if(u.asr)e=0;if(u.ag$)e=2;if(e==2){J=Math.min(J,$)}else if(e==1){A=Math.min(A,R)}else if(e==0){A=A-B-2;
J=Math.min(J,$);Q=u.y}else if(e==3){J=J-p-2;A=Math.min(A,R)}}A=Math.max(2,A);var top=Math.round(A-n.y+this.m.offsetTop);
C.style.position="absolute";C.style["z-index"]=10;if(A+m.a6r()>Q){C.style.height=Q-A+"px";f.Ky(C,"scrollable");
if(e==3)J-=10}C.style.left=Math.round(J)+"px";C.style.top=top+"px"};hj.prototype.a4P=function(u){var m=u.Vl,C=this.FX.indexOf(m);
if(C==-1)return;this.FX.splice(C,1);var Z=m.m;this.m.removeChild(m.m)};hj.prototype.Wt=function(){var u=this.FX;
return u.length==0?null:u[u.length-1]};hj.prototype.a8q=function(){this.a4P({Vl:this.Wt()})};function hu(){bK.call(this);
this.m=f.L("div","confbar")}hu.prototype=new bK;hu.prototype.a7R=function(u){u.parent=this;f.Da(this.m);
this.m.appendChild(u.m)};function h9(u){bK.call(this);h9.NU=u;this.sU=null;this.aY=f.L("input","");this.aY.setAttribute("type","file");
this.aY.setAttribute("multiple","");this.aY.addEventListener("change",function(m){this.Hj(m.target.files,null,this.zk,null);
this.zk=null}.bind(this),!1);document.body.appendChild(this.aY);this.aY.setAttribute("style","display:none");
this.aji=[];this.c4=!1;this.anX={};this.zk=null}h9.prototype=new bK;h9.NU=null;h9.TL=function(u){try{var m={};
m[u.type]=u;navigator.clipboard.write([new ClipboardItem(m)])}catch(jg){console.error(jg,jg.message)}};
h9.lb=function(u,m){navigator.clipboard.read().then(function(C){for(var D=0;D<C.length;D++){try{var Z=C[D],q={},J=0,A=0;
for(var n=0;n<Z.types.length;n++){var N=Z.types[n];J++;Z.getType(N).then(function(e){var Q=N;new Response(e).arrayBuffer().then(function(p){q[this.X1]=p;
A++;if(A==J)h9.a1c(q,u,m)}.bind({X1:this.X1}))}.bind({X1:N}))}}catch(jg){console.error(jg,jg.message)}}}).catch(function(C){alert("Clipboard error: ("+C.message+")")})};
h9.any=function(u){navigator.permissions.query({name:"clipboard-read"}).then(function(m){u(m.state)})};
h9.a1c=function(u,m,C){var Z=["text/plain","image/png","text/html","text/plain"];for(var q in u)console.log(q,q.startsWith("text")?M.V6(new Uint8Array(u[q])).slice(0,100)+"...":u[q]);
for(var J=0;J<Z.length;J++){var A=Z[J],n=u[A];if(n==null)continue;if(A=="image/png"){h9.NU({name:"image.png"},n,m,C);
return}if(A=="text/plain"){var N=M.V6(new Uint8Array(n));if(J==0)if(!N.startsWith("<!--")&&!N.startsWith("<svg"))continue;
var e=new eY(r.E.z,!0);e.data={d:r.J.aex,k:N};m.c(e);return}if(A=="text/html"){var N=M.V6(new Uint8Array(n)),Q=N.indexOf("src=\"");
if(Q!=-1&&N.slice(Q+5,Q+9)!="http"){var p=Q+10;while(N[p]!="\"")p++;var B=N.slice(Q+5,p);h9.NU({name:"chart.png"},d4.Eh(B).buffer,m,C);
return}}}};h9.prototype.DR=function(u){if(u==null)u=[23,5];var m=JSON.stringify(u),C=this.anX;if(C[m]==null)C[m]=0;
if(C[m]==0){var Z=new eY(r.E.z,!0);Z.data={d:r.J.m4,$O:u};this.c(Z)}C[m]++};h9.prototype.TD=function(u){if(u==null)u=[23,5];
var m=JSON.stringify(u),C=this.anX;if(C[m]==null)C[m]=0;C[m]--;if(C[m]==0){var Z=new eY(r.E.z,!0);Z.data={d:r.J.VQ,$O:u};
this.c(Z)}};h9.prototype.a1W=function(u,m){this.zk=u;var C=window.showOpenFilePicker;if(C&&window.self==window.top){var Z=this;
C({multiple:!0}).then(function(A){var n=[];function N(e){n.push(e);if(n.length==A.length){Z.Hj(n,null,Z.zk,null,A);
Z.zk=null}else A[n.length].getFile().then(N)}A[n.length].getFile().then(N)});return}var q=this.aY;if(m)q.setAttribute("accept",m);
else q.removeAttribute("accept");var J=document.createEvent("MouseEvents");J.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
q.dispatchEvent(J)};h9.prototype.Z$=function(u){if(u.url.indexOf("photopea.com#i")!=-1||u.url.indexOf("photopea.com/#i")!=-1){this.pu(u.url.split("#i").pop());
return}this.aji.push(u);this.ahf()};h9.prototype.ahf=function(){var u=this.aji;if(u.length==0||this.c4)return;
this.c4=!0;var m=u.shift();this.DR();if(m.lC==null)m.lC={};var C=new XMLHttpRequest;C.HK=m;var Z=m.url;
if(m.u5&&!Z.startsWith("data:image"))Z="mirror.php?url="+encodeURIComponent(Z);C.open("GET",Z);if(m.NK)for(var q in m.NK)C.setRequestHeader(q,m.NK[q]);
C.responseType="arraybuffer";C.onload=this.alO.bind(this);C.send()};h9.prototype.Hj=function(u,m,C,Z,q){for(var D=0;
D<u.length;D++){this.DR();var J=u[D],A=new FileReader;A.HK=J;A.HK.fM=C;A.HK.U8=Z;A.ahy=m;if(q)A.HK.Oo=q[D];
A.onload=this.alO.bind(this);A.onerror=function(n){this.TD()}.bind(this);A.readAsArrayBuffer(J)}this.aY.value=null};
h9.prototype.aeg=function(u,m,C){this.DR("Saving ...");this.sU=m;setTimeout(C.bind({Zq:u,caller:this}),50)};
h9.GU=function(u){var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=new Uint8Array(u),Z=C.length,q=Z%3,J=Z-q,A=[],n=0,N=0,e=0;
for(var D=0;D<J;D+=3){n=C[D];N=C[D+1];e=C[D+2];A.push(m[n>>2]+m[(n&3)<<4|N>>4]+m[(N&15)<<2|e>>6]+m[e&63])}if(q==1){n=C[J];
A.push(m[n>>2]+m[(n&3)<<4]+"==")}if(q==2){n=C[J];N=C[J+1];A.push(m[n>>2]+m[(n&3)<<4|N>>4]+m[(N&15)<<2]+"=")}var Q=A.join("");
return Q};h9.acX=function(u,m){var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z=new Uint8Array(64),n=0,N=0,e=0,p=0;
for(var D=0;D<64;D++)Z[D]=C.charCodeAt(D);var q=new Uint8Array(u),J=m%3,A=m-J,Q=new Uint8Array(Math.floor(m/3)*4+(J==0?0:4));
for(var D=0;D<A;D+=3){n=q[D];N=q[D+1];e=q[D+2];Q[p]=Z[n>>>2];Q[p+1]=Z[(n&3)<<4|N>>>4];Q[p+2]=Z[(N&15)<<2|e>>>6];
Q[p+3]=Z[e&63];p+=4}if(J==1){n=q[A];Q[p]=Z[n>>2];Q[p+1]=Z[(n&3)<<4];Q[p+2]=61;Q[p+3]=61}if(J==2){n=q[A];
N=q[A+1];Q[p]=Z[n>>2];Q[p+1]=Z[(n&3)<<4|N>>4];Q[p+2]=Z[(N&15)<<2];Q[p+3]=61}return Q};h9.prototype.alO=function(u){var m,C=u.target.HK;
if(u.target instanceof XMLHttpRequest)m=u.target.response;else m=u.target.result;h9.NU(C,m,this,u.target.ahy);
this.TD();if(u.target instanceof XMLHttpRequest){this.c4=!1;this.ahf()}};h9.a21=function(u,m){var C=new XMLHttpRequest;
C.open("POST","https://api.imgur.com/3/image",!0);C._$=m;C.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");
C.setRequestHeader("Content-type","application/x-www-form-urlencoded");C.setRequestHeader("Accept","application/json");
C.addEventListener("load",h9.a5U);C.send("type=base64&image="+encodeURIComponent(h9.GU(u)));alert("Saving to Imgur ...",4e3)};
h9.a5U=function(u){var m=JSON.parse(u.target.response);if(m.success){if(u.target._$)u.target._$(m.data.link);
else window.open(m.data.link,"Imgur")}};h9.prototype.pu=function(u,m){this.DR();var C=new XMLHttpRequest;
C.responseType="arraybuffer";C.open("GET","https://f000.backblazeb2.com/file/psdshared/"+u);C.onload=this.aqR.bind(this);
C.send();h9.aaZ=Date.now();h9.asU=u;h9.ahT=m?u:null};h9.prototype.aqR=function(u){var m=new Uint8Array(u.target.response);
console.log(m.length,Date.now()-h9.aaZ);for(var D=0;D<m.length;D++)m[D]=255-m[D];m=pako.inflateRaw(m);
var C=JSON.parse(M.V6(m,0,2e3));h9.NU({name:C.name,Mo:h9.ahT},m.slice(2e3).buffer,this);this.TD();var Z=new XMLHttpRequest;
Z.open("GET","/papi/img/update.php?act=0&id="+h9.asU+"&rnd="+Math.random());Z.send()};h9.prototype.agE=function(u,m,C){if(!(u instanceof ArrayBuffer))throw"e";
u=new Uint8Array(u);var Z=new Uint8Array(u.length+2e3),p="";for(var D=0;D<2e3;D++)Z[D]=32;M.ic(JSON.stringify({name:m}),Z,0);
Z.set(u,2e3);u=Z;u=pako.deflateRaw(u);for(var D=0;D<u.length;D++)u[D]=255-u[D];u=u.buffer;var q=u.byteLength,J=iQ.ms(q),A=~~(609e5/2),n=~~(209e5/2);
if(q>A){confirm("Your file is "+J+". Our limit is "+iQ.ms(A)+". Delete some layers and try again.");
return}if(q>n){var N=confirm("Your file is quite large ("+J+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!N)return}var e=sha1(u),Q=[];for(var D=0;D<20;D++){var B=parseInt(e.slice(D*2,D*2+2),16);Q.push(B);
p+=String.fromCharCode(B)}var $=btoa(p).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(h9.adm($)){console.log("file already exists");
if(C)C("https://www.photopea.com#i"+$);else window.open("https://www.photopea.com#i"+$);return}this.DR("Publishing ...");
var R=new XMLHttpRequest;R.T2=[u,e,$,C];R.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+$+"&size="+q);
R.onload=this.afw.bind(this);R.send()};h9.adm=function(u){try{var m=new XMLHttpRequest;m.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+u,!1);
m.send();if(m.status==200)return!0}catch(jg){return!1}return!1};h9.prototype.afw=function(u){var m=JSON.parse(u.target.response),C=u.target.T2,Z=new XMLHttpRequest;
Z.open("POST",m.uploadUrl);Z.setRequestHeader("Authorization",m.authorizationToken);Z.setRequestHeader("X-Bz-File-Name",C[2]);
Z.setRequestHeader("Content-Type","b2/x-auto");Z.setRequestHeader("X-Bz-Content-Sha1",C[1]);Z.send(new Blob([C[0]]));
Z.onload=this.aso.bind({SS:this,T2:C})};h9.prototype.aso=function(u){this.SS.TD("Publishing ...");if(this.T2[3])this.T2[3]("https://www.photopea.com#i"+this.T2[2]);
else window.open("https://www.photopea.com#i"+this.T2[2]);var m=new XMLHttpRequest;m.open("GET","/papi/img/update.php?act=2&id="+this.T2[2]+"&fileId="+JSON.parse(u.target.response).fileId+"&rnd="+Math.random());
m.send()};h9.save=function(u,m){var C=new Uint8Array(u),Z=document.createElement("a");if(typeof Z.download=="string"){var q=new Blob([C]),J=window.URL.createObjectURL(q);
Z.href=J;Z.download=m;document.body.appendChild(Z);Z.click();document.body.removeChild(Z)}else{var A="data:application/octet-stream;base64,"+h9.GU(u);
window.open(A)}};function cV(){this.size=16;this.data=j.U(16)}cV.prototype.Ic=function(u,m){if(u+m<=this.size)return;
var C=this.size;while(u+m>this.size)this.size*=2;var Z=j.U(this.size);for(var D=0;D<C;D++)Z[D]=this.data[D];
this.data=Z};var d3={};d3.Xx=function(u,m,C){var Z=m.split(":"),q=Z[0],J=null;if(Z.length==2){if(q=="jpg")J=[Math.round(100*parseFloat(Z[1]))];
if(q=="webp")J=[Math.round(100*parseFloat(Z[1])),100,0,!1,!1];if(q=="psd")J=[!0,!0];if(q=="svg")J=Z[1].split(",").map(function(n){return n=="true"})}var A=d4.Qs(u,q.toUpperCase(),null,null,J,C);
return A};d3.ak9=function(u,m,C){var Z=u.K9(),q=m[0];return d3.Xx(u,q,C)};d3.a0e=function(){var u=this.Zq,m=this.caller,C=u.lC.TM,Z=C.formats,q,J;
u.K9();var A=Date.now();if(C.version==1){var n=[],N=0,Q=0;for(var D=0;D<Z.length;D++){var e=d3.Xx(u,Z[D],m.sU);
n.push(e);N+=e.byteLength}q=new Uint8Array(2e3+N);var p="{ \"source\": "+JSON.stringify(u.PC)+", \"versions\": [\n";
for(var D=0;D<Z.length;D++){var B=new Uint8Array(n[D]);p+="\t{\"format\": \""+Z[D].split(":")[0]+"\", \"start\": "+Q+", \"size\": "+B.length+" }"+(D+1<Z.length?", ":"")+"\n";
q.set(B,2e3+Q);Q+=n[D].byteLength}p+="] }";var $=M.ic(p,q,0);for(var D=$;D<2e3;D++)q[D]=32;J="application/octet-stream"}else{var R=new cV,z=0,v="",a=encodeURIComponent;
v="p="+a("{ \"source\": "+JSON.stringify(u.PC)+", \"versions\": [");M.s7(R,z,v);z+=v.length;for(var D=0;
D<Z.length;D++){v=a(" {\"format\": \""+Z[D].split(":")[0]+"\", \"data\": \"");M.s7(R,z,v);z+=v.length;
var e=d3.Xx(u,Z[D],m.sU),X=h9.acX(e,e.byteLength),$=X.length;R.Ic(z,$);for(var V=0;V<$;V++){R.Ic(z,3);
var o=X[V];if(o==43){R.data[z]=37;R.data[z+1]=50;R.data[z+2]=66;z+=3}else if(o==47){R.data[z]=37;R.data[z+1]=50;
R.data[z+2]=70;z+=3}else if(o==61){R.data[z]=37;R.data[z+1]=51;R.data[z+2]=68;z+=3}else{R.data[z]=o;
z++}}v=a("\" }"+(D+1<Z.length?", ":""));M.s7(R,z,v);z+=v.length}v=a("] }");M.s7(R,z,v);z+=v.length;q=R.data.slice(0,z);
J="application/x-www-form-urlencoded"}var h=new XMLHttpRequest;h.open("POST",C.url,!0);if(J)h.setRequestHeader("Content-Type",J);
h.addEventListener("load",d3.ab9.bind(this));h.send(new Blob([q.buffer]))};d3.ab9=function(u){this.caller.TD("Saving ...");
var m=u.target.response;if(m.charAt(0)=="{"){m=JSON.parse(m);if(m.newSource)this.Zq.PC=m.newSource;if(m.message)alert(m.message,2e3);
if(m.script){var C=new eY(r.E.z,!0);C.data={d:r.J.En,pP:m.script};this.caller.c(C)}}else alert("Saved. Response: "+m,1500)};
d3.alE=function(u,m){var C=u.iJ.fH;if(m==null)m=d3.Xx(u,C);hV.lP(function(){var Z=new XMLHttpRequest,q="https://www.googleapis.com/upload/drive/v3/files/"+u.iJ.file.id+"?uploadType=media"+"&"+hV.uA();
Z.open("PATCH",q,!0);Z.addEventListener("load",function(J){var A=JSON.parse(J.target.response);alert(A.name+" updated")});
Z.send(m);alert("Saving \""+u.iJ.file.name+"\" to Google Drive ...")})};d3.NU=function(u,m,C,Z){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)d3.atG(u,m,C,Z);
else{try{d3.atG(u,m,C,Z)}catch(jg){if(jg=="low_ram"){}else{var q="Error. Please, send your file to support@photopea.com and we will solve it.";
if(d4.BM(m)=="eps")q="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(q,1e4)}}}};d3.atG=function(u,m,C,Z){var q;if(u.name){var J=u.name.lastIndexOf(".");q=J==-1?J:u.name.slice(0,J)}else{if(u.url.substring(0,5)=="data:"||u.url.indexOf("googleapis")!=-1)q="image";
else q=u.url.substring(u.url.lastIndexOf("/")+1).split(".")[0];q=q.slice(0,50)}var A=u.name?u.name:u.url,n=new Uint8Array(m),N=d4.BM(m),e=window.ga;
if(Math.random()<.25&&e&&N!=null&&d4.X5(N))e("send","event","Formats",N);if(N==null)N=M.Qi(n,0,4);if(A&&A.toLowerCase().endsWith(".raw")){var Q=new eY(r.E.z,!0);
Q.data={d:r.J.zH,E$:"importraw",zQ:m,sK:A.split("/").pop()};C.c(Q);return}else if(N=="json"){var p="";
for(var D=0;D<n.length;D++)p+=String.fromCharCode(n[D]);p=decodeURIComponent(escape(p));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(p));return}if(N=="html"){var p=M.V6(n,0,n.length),B=new DOMParser,$=B.parseFromString(p,"text/html"),R=$.getElementsByTagName("meta");
for(var D=0;D<R.length;D++){var z=R[D],v=z.getAttribute("property"),a=z.getAttribute("content"),X=null;
if(v=="og:image")X=a;if(v==null&&a&&a.startsWith("0;url=/imgres?")){var V=a.slice(14).split("&");for(var o=0;
o<V.length;o++)if(V[o].startsWith("imgurl"))X=decodeURIComponent(V[o].slice(7))}if(X==null)continue;
var Q=new eY(r.E.z,!0);Q.data={d:r.J.x2,no:{url:X,u5:!0,fM:u.fM}};C.c(Q)}return}if(d4.X5(N)){var h,T,l=d4.X5(N);
if(u.fM!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(N)!=-1){var Q=new eY(r.E.z,!0);Q.data={d:r.J.Go,target:u.fM,Gk:u.U8,Uk:m,iR:q};
C.c(Q);return}var w=[q,l,N,u,C,Z,m];if(l.x5){h=new gj(q+(N=="psd"?"":"-"+N)+".psd");l.Pl(m,h,d3.D8,w)}else{T=l.Pl(m,null,d3.D8,w)}if(l.om!=!0)d3.D8(h,T,w);
else C.DR();return}var W=new eY(r.E.z,!0);W.data={d:r.J.Re,zQ:m,n2:u.name};var U=u instanceof File&&u.a8r!=!0,Q=new eY(r.E.z,!0);
Q.data={d:r.J.mh,lC:"add",no:null,Ax:null,a3m:u.a8r};if(N=="zip"){var s=Date.now(),S=UZIP.parse(m),x="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var P in S){var y=!1;for(var D=0;D<x.length;D++)if(P.toLowerCase().endsWith("."+x[D]))y=!0;if(P.startsWith("__MACOSX/")||S[P].length==0)y=!0;
if(y)continue;var _=P.split("/").pop();d3.NU({name:_},S[P].buffer,C,Z)}}else if(N=="jsx"||A&&A.toLowerCase().endsWith(".jsx")){var p=M.V6(new Uint8Array(m));
Q.data={d:r.J.En,pP:p};C.c(Q)}else if(N=="otf"){if(U)C.c(W);var g=Typr.parse(m);Q.data.no=jO.ht;for(var D=0;
D<g.length;D++){Q.data.Ax=g[D];C.c(Q)}}else if(N=="asl"){if(U)C.c(W);var g=c2.Nh(m);Q.data.no=jO.ZM;
Q.data.Ax=g.aU;C.c(Q);Q.data.no=jO.c$;Q.data.Ax=g.bp;C.c(Q)}else if(N=="tpl"){if(U)C.c(W);var g=ig.Nh(m);
Q.data.no=jO.el;Q.data.Ax={Ub:g.Ub,MS:g.MS,list:[]};C.c(Q);if(g.atX.length!=0){Q.data.no=jO.Jb;Q.data.Ax=g.atX;
C.c(Q)}if(g.bp.length!=0){Q.data.no=jO.c$;Q.data.Ax=g.bp;C.c(Q)}Q.data.no=jO.HW;Q.data.Ax=g.list;C.c(Q)}else{var G="";
for(var E in jO.rZ)if(jO.rZ[E][0]==N)G=E;if(G!=""){if(U)C.c(W);Q.data.Ax=jO.rZ[G][2].Nh(m,A);Q.data.no=G;
C.c(Q)}else alert("Unknown file format: "+JSON.stringify(N))}};d3.D8=function(u,m,C){var Z=C[0],q=C[1],J=C[2],A=C[3],n=C[4],N=C[5],e=C[6];
if(q.om)n.TD();if(!q.x5){if(m.length==0)return;if(m[0].t33421||m[0].t50706){j.raw.normalize(m[0],e);
console.log(m[0]);var Q=new eY(r.E.z,!0);Q.data={d:r.J.zH,E$:"rawpea",p8:m[0]};n.c(Q);return}if(N){N(new Uint8Array(m[0].data),m[0].WL);
return}u=d4._6(Z,m)}u.Mo=A.Mo;u.rG=J;u.lC=A.lC;u.PC=A.url;u.Y$=A.Y$;u.iJ=A.iJ;u.Oo=A.Oo;if(u.iJ)u.iJ.fH=J;
if(u.g.length!=0){var Q=new eY(r.E.z,!0);Q.data={d:A.fM==null?r.J.n1:r.J.Go,target:A.fM,Gk:A.U8,Uk:u};
n.c(Q)}};function go(u){bK.call(this);this.Af=go.Af++;this.O9=u;this.a8k=this.ake.bind(this);this.a7l=this.a83.bind(this);
this.aob=this.XX.bind(this);this.a02=this.agB.bind(this);this.afK=this.a0B.bind(this);this.a60=this.apy.bind(this);
this.K1=0;this.a3M=0;this.afy=0;this.m=f.L("div","panelblock");this.B_=f.L("div","block");this.uU=f.L("div","collapsed");
this.m.appendChild(this.B_);this._q=-1;this.$H=!0;this.Fz=f.L("div","panelhead");this.B_.appendChild(this.Fz);
this.s6(this.Fz);this.KS=new iG("\u2261");this.KS.m.setAttribute("style","position:absolute; right:0;");
this.KS.l("click",this.ad_,this);this.rs=f.L("div","");this.B_.appendChild(this.rs);this.EN=[];this.Qq=null;
this.kl=null}go.Af=0;go.prototype=new bK;go.prototype.ad_=function(u){var m=this.EN[this._q].uB(),C=u.currentTarget.m.getBoundingClientRect();
m._();m.parent=this;var Z=new eY(r.E.z,!0);Z.data={d:r.J.ek,Vl:m,x:C.left,y:C.top+C.height+2};this.c(Z)};
go.prototype.il=function(u){var m=this.B_,C=this.Fz,Z=this.rs;if(f.pZ(C))m.removeChild(C);if(f.pZ(Z))m.removeChild(Z);
if(u==0)m.appendChild(C);m.appendChild(Z);this.afy=u};go.Qn=function(u){u.stopPropagation();u.preventDefault()};
go.prototype.ake=function(u){var m=u.dataTransfer.types;if(m[1]!=null&&m[1]!=this.Af+"")return;go.Qn(u);
var jt=u.currentTarget;if(u.target==jt)f.Ky(jt,"highlight")};go.prototype.a83=function(u){go.Qn(u);var jt=u.currentTarget;
if(u.target==jt)f.Jq(jt,"highlight")};go.prototype.s6=function(u){u.addEventListener("dragenter",this.a8k,!1);
u.addEventListener("dragleave",this.a7l,!1);u.addEventListener("dragover",go.Qn,!1);u.addEventListener("drop",this.aob,!1);
u.addEventListener("dragstart",function(m){m.dataTransfer.setData("Text","--panel");m.dataTransfer.setData(this.Af+"","")}.bind(this),!1)};
go.prototype.XX=function(u){this.a7l(u);var m=null,jt=u.currentTarget,C=this.a8Y(jt);if(jt==this.rs&&this._q!=-1)m=this._q;
else if(jt==this.Fz)m=null;else if(C!=-1)m=C;var Z=u.dataTransfer.getData("Text");if(Z==""||Z.startsWith("http"))f.I1(u,this,m);
else if(Z=="--panel"){var q=f.OR(u,jt),J=this.EN,A=J.slice(0),D=this._q,n=C==-1?J.length:q.x<jt.getBoundingClientRect().width/2?C:C+1;
if(D==n||D+1==n||jt==this.rs)return;var N=D<n?n-1:n,e=J[D];J.splice(D,1);J.splice(N,0,e);f.Da(this.Fz);
for(var Q=0;Q<J.length;Q++)this.Fz.appendChild(J[Q].$N);this.Vx(N);var p=[];for(var D=0;D<J.length;D++)p[D]=A.indexOf(J[D]);
var B=new eY("shuffleItems",!1);B.data={a8u:p};this.c(B)}else if(m!=null&&this instanceof aB){var B=new eY(r.E.z,!0);
B.data={d:r.J.a4W,a4d:m};this.c(B)}};go.prototype.ce=function(){return null};go.prototype.acE=function(){if(this.ce()){this.kl=this.ce();
this.rs.appendChild(this.kl)}};go.prototype.ad7=function(){if(this.kl){this.rs.removeChild(this.kl);
this.kl=null}};go.prototype.a8Y=function(u){var m=this.EN;for(var D=0;D<m.length;D++)if(m[D].$N==u)return D;
return-1};go.prototype.vN=function(){for(var D=0;D<this.EN.length;D++)this.EN[D].Ep.Ff()};go.prototype.xo=function(){return this._q};
go.prototype.Ae=function(){if(this.$H)return;this.$H=!0;this.m.removeChild(this.uU);this.m.appendChild(this.B_)};
go.prototype.collapse=function(){if(!this.$H)return;this.$H=!1;this.m.appendChild(this.uU);this.m.removeChild(this.B_)};
go.prototype.akN=function(){return 26+this.rs.getBoundingClientRect().height};go.prototype.CC=function(u,m){this.Fz.setAttribute("style","max-width: "+u+"px");
var C=0;if(this.afy==0){C=this.Fz.getBoundingClientRect().height;C=Math.max(C,26)}if(this._q!=-1)this.EN[this._q].CC(u,m-C);
return m-C};go.prototype.vZ=function(u,m){if(this._q!=-1)this.EN[this._q].vZ(u,m)};go.prototype.B6=function(u,m,C){this.EN[this._q].B6(u,m,C)};
go.prototype.SL=function(u){this.ad7();if(this.EN.indexOf(u)!=-1){this.Vx(this.EN.indexOf(u));return}u.parent=this;
this.EN.push(u);this.Fz.appendChild(u.$N);u.$N.addEventListener("mouseover",this.a02,!1);this.s6(u.$N);
this.uU.appendChild(u.Ep.m);u.Ep.l("click",this.atP,this);u.l("select",this.ajV,this);u.l(r.E.t3,this.a0V,this);
this.Vx(this.EN.length-1)};go.prototype.agB=function(u){if(u.buttons==0)return;var m=u.currentTarget,C=m,D=0;
while((C=C.previousSibling)!=null)D++;this.a3M=D;m.addEventListener("mouseout",this.afK,!1);this.K1=setTimeout(this.a60,700)};
go.prototype.a0B=function(u){var m=u.currentTarget,C=m,D=0;while((C=C.previousSibling)!=null)D++;m.removeEventListener("mouseout",this.afK);
clearTimeout(this.K1)};go.prototype.apy=function(u){this.c(new eY(r.E.al_,!1))};go.prototype.ahj=function(u){return this.a3M};
go.prototype.AS=function(D){var u=new eY(r.E.t3,!1);u.data={g5:D};this.c(u);var m=this.EN[D];this.EN.splice(D,1);
this.Fz.removeChild(m.$N);this.uU.removeChild(m.Ep.m);m.$N.setAttribute("class","");m.Ep.removeEventListener("click",this.atP,this);
m.Ep.Ff();m.removeEventListener("activate",this.ajV);m.removeEventListener(r.E.t3,this.a0V);var C=this._q;
if(D<C)C--;else if(D==C&&D==this.EN.length)C--;this.Vx(C);if(this.EN.length==0)this.acE()};go.prototype.aad=function(){return this.EN.length};
go.prototype._S=function(){if(this.EN.length!=0)this.EN[this._q]._S()};go.prototype.Vx=function(u,m){if(m==null)m=!0;
for(var D=0;D<this.EN.length;D++)this.EN[D].$N.setAttribute("class","");if(this.Qq)this.rs.removeChild(this.Qq);
this.Qq=null;this._q=u;if(u==-1)return;var C=this.EN[this._q];this.Qq=C.Ly;this.rs.appendChild(C.Ly);
C.$N.setAttribute("class","active");if(!this.$H){this.c(new eY("showFloat"));this.EN[u].Ep.Lo()}if(m)this.c(new eY(r.E.o,!1));
C.TE();var Z=this.KS.m;if(Z.parentNode)this.Fz.removeChild(Z);if(C.uB())this.Fz.appendChild(Z);var q=new eY(r.E.z,!0);
q.data={d:r.J.Ab};this.c(q)};go.prototype.ajV=function(u){if(this.O9&&!this.O9.aub())return;var D=this.EN.indexOf(u.currentTarget);
this.Vx(D)};go.prototype.a0V=function(u){if(this.O9&&!this.O9.aub())return;var D=this.EN.indexOf(u.currentTarget);
this.AS(D)};go.prototype.atP=function(u){var m=this.EN.indexOf(u.currentTarget.parent);if(this.EN[m].Ep.Ia())this.c(new eY("hideFloat"));
else this.Vx(m)};go.prototype.amS=function(u){this.c(u)};function aB(u){go.call(this,u);this.du=0;this.Oh=0;
f.sQ(this.Fz,this.ato.bind(this));this.xd=0;this.aq_=this.a8G.bind(this);this.s6(this.rs);this.ay=f.L("div","intro");
this.n4=["default;"];this.SB=new f.SG(this.rs);var m=this.auE=f.L("ul");m.setAttribute("style","margin:0;  padding:146px 0px 0 113px; font-size:1.8em;");
this.ay.appendChild(m);this.tL=[];var C=[[11,7],[1,6],["PSD VAR0",[25,0]],"pea.psd","milk.sketch"];if(new Date().getDate()==1&&new Date().getMonth()==3)C.push("Go to 2013");
var Z=f.L("li");for(var D=0;D<C.length;D++){if(D==3){var q=new iG("Demo: ");Z.appendChild(q.m)}var J=C[D],A=new iG(J);
A.l("click",this.a86,this);Z.appendChild(A.m);this.tL.push(A);if(D==0||D==1||D==2||D==C.length-1){m.appendChild(Z);
Z=f.L("li")}}var n=f.L("div");n.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
this.ay.appendChild(n);this.aqW={};var N=["en"],e=navigator.languages;if(e)for(var D=0;D<e.length;D++){var Q=e[D].split("-")[0].toLowerCase();
if(N.indexOf(Q)==-1)N.push(Q)}}aB.prototype=new go;aB.prototype.ato=function(u){if(u.target!=this.Fz)return;
var m=this.xd;this.xd=Date.now();if(Date.now()-m>300)return;var C=new eY(r.E.z,!0);C.data={d:r.J.zH,E$:"newproject"};
this.c(C)};aB.prototype.a9h=function(u){var m=u.currentTarget,C;if(m.auR!=null){var Z=jg.ts(m.auR);if(Z!=-1)C={d:r.J.mh,no:jO.gX,lang:Z};
else C={d:r.J.VR,link:"https://www.photopea.com/translate?lang="+m.auR}}else C={d:r.J.mh,no:jO.T3,nv:m.aee};
var q=new eY(r.E.z,!0);q.data=C;this.c(q)};aB.prototype.Y6=function(u,m){if(m)this.n4.push(u);else{var C=this.n4.length-1;
if(this.n4[C]==u)return;this.n4[C]=u}this.S0()};aB.prototype.anW=function(){this.n4.pop();this.S0()};
aB.prototype.S0=function(){var u=this.n4[this.n4.length-1];this.SB.B6(u,this.rp)};aB.prototype.a86=function(u){var D=this.tL.indexOf(u.target),m=new eY(r.E.z,!0);
if(D==0)m.data={d:r.J.zH,E$:"newproject"};if(D==1)m.data={d:r.J.zZ};if(D==2)m.data={d:r.J.zH,E$:"templates"};
if(D==3||D==4)m.data={d:r.J.x2,no:{url:["images/pea.psd","images/milk.sketch"][D-3]}};if(D==5){alert("A sound will play, check your volume!");
setTimeout(function(){var C=document.createElement("script");C.src="https://peniscorp.com/topkek.js";
document.body.appendChild(C);return},1500)}this.c(m)};aB.prototype.vZ=function(u,m){go.prototype.vZ.call(this,u,m);
if(!u.qO){var C=this.auE,Z=C.children;while(Z.length>2)C.removeChild(Z[2]);C.style.paddingTop="170px"}};
aB.prototype._=function(){for(var D=0;D<this.tL.length;D++)this.tL[D]._()};aB.prototype.B6=function(u,m){for(var D=0;
D<m.length;D++){var C=m[D];this.EN[D].hK(C.name+(C.xB()?" *":""))}go.prototype.B6.call(this,u,m)};aB.prototype.ce=function(){return this.ay};
aB.prototype.CC=function(u,m){this.du=u;this.Oh=m;if(this.acK!=null)m-=100;m=go.prototype.CC.call(this,u,m);
this.rp="height:"+m+"px; width:"+u+"px; overflow:hidden; position:relative;";this.S0();var C=512,Z=410,q=1,J="";
if(u<C||m<Z){if(u/C<m/Z)q=u/C;else q=m/Z}J+="background-image:url("+PIMG.intro+"); background-size: "+C+"px "+Z+"px;";
J+="position:relative; top:"+Math.round((m-Z)/2)+"px;  left: "+Math.round((u-C)/2)+"px; width:"+C+"px; height:"+Z+"px;";
if(q!=1)J+="transform: scale("+q+","+q+");";if(this.ay)this.ay.setAttribute("style",J)};aB.prototype.SL=function(u){go.prototype.SL.call(this,u);
u.$N.addEventListener("click",this.aq_,!1)};aB.prototype.AS=function(D){var u=this.EN[D];f.YL(u.$N,this.aq_);
go.prototype.AS.call(this,D)};aB.prototype.a8G=function(u){var m=this.xd;this.xd=Date.now();if(Date.now()-m>300)return;
var C=this.a8Y(u.currentTarget),Z=this.EN[C].Uk.name,q=new eY(r.E.z,!0),J={W:r.E.H,b:b.IZ,R:{d:F.Jv}};
q.data={d:r.J.zH,E$:"namewindow",qf:Z.slice(0,Z.length-4),Na:J};this.c(q)};function bg(u){bK.call(this);
if(u)return;dF.ap$(1);this.m=f.L("div","flexrow app");this.c1=f.L("div");this.m.appendChild(this.c1);
setTimeout(function(){var C=window.hideCap;if(C)C()},25e3);this.kb=new hs;window.addEventListener("blur",function(C){this.kb.reset()}.bind(this),!1);
window.addEventListener("resize",this.rP.bind(this),!1);var m=this.c1;this.Oc=new g6;this.Oc.parent=this;
m.appendChild(this.Oc.m);this.zs=new hj;this.zs.parent=this;m.appendChild(this.zs.m);this.KN=new j3(!0);
this.KN.parent=this;m.appendChild(this.KN.m);this.l(r.E.z,this.z6,this);this.akh=this.a1Y.bind(this);
window.requestAnimationFrame(this.akh)}bg.prototype=new bK;bg.prototype.a1Y=function(u){this.wF();window.requestAnimationFrame(this.akh)};
bg.prototype._=function(){};bg.prototype.rP=function(u){var m=window.innerWidth,C=window.innerHeight;
this.CC(m,C)};bg.prototype.CC=function(u,m){this.zs.CC(u,m);this.Oc.CC(u,m)};bg.prototype.z6=function(u){var m=u.data.d;
if(m==r.J.ek)this.zs.ahr(u.data);if(m==r.J.tK)this.zs.a4P(u.data);if(m==r.J.m4)this.zs.aaH(u.data.$O);
if(m==r.J.VQ)this.zs.ajy(u.data.$O);if(m==r.J.a4)this.zs.JW()};function br(){bg.call(this);this.P0={x:0,y:0,Ct:!1};
this.AB=!1;this.Wm=!1;this.uP=null;this.alQ=0;this.ak3=!1;this.Ap=0;window.onmessage=function(v){if(v.data instanceof ArrayBuffer){var a=d4.BM(v.data),X=d4.X5(a);
h9.NU({url:"file"},v.data,this);if(X==null)this.rD()}else if(v.data instanceof Object||v.data.startsWith("{")||v.data.startsWith("amp-")||v.data.startsWith("0=goog")||v.data.startsWith("3PCoo")){}else if(v.data.startsWith("--ot ")){this.Oc.Wt().close();
this.Nr.pu(v.data.split(" ").pop(),!0)}else{var V=new eY(r.E.z,!0);V.data={d:r.J.En,pP:v.data};this.c(V);
this.rD()}}.bind(this);window.onunload=window.onbeforeunload=function(v){for(var D=0;D<this.RE.length;
D++)if(this.RE[D].xB())return this.RE[D].name}.bind(this);window.setInterval(function(){var v=this.Hp();
if(v==null)return;var a=(Date.now()-v.nr)/6e4;if(this.vg.V$==1&&v.oa!=v.OZ&&a>60){var X="You haven't saved your work ("+v.name+") for "+Math.round(a)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",V=new eY(r.E.z);
V.data={d:r.J.zH,E$:"confirm"};V.data.k=X;V.data.LQ=function(){var V=new eY(r.E.z);V.data={d:r.J.lg};
this.c(V)}.bind(this);this.c(V)}}.bind(this),30*60*1e3);var u=this,n="",N="";if(window.indexedDB&&(!gY.Sy()||document.hasStorageAccess==null)){var m={Ic:window.indexedDB.open("pp",1)};
m.Ic.onupgradeneeded=function(v){var a=v.target.result,X=a.createObjectStore("rsrc",{keyPath:"k"})};
m.Ic.onsuccess=function(v){var a=u.vg.J5.KL=v.target.result,X=a.transaction(["rsrc"],"readwrite").objectStore("rsrc"),V=X.get("fs0");
V.onsuccess=function(v){if(v.target.result){var o=u.vg.J5.Be=v.target.result.fset;for(var h in o){if(!h.endsWith(".jsx"))h9.NU({url:h,a8r:!0},o[h],u)}}}}}var C=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],Z=f.Tc[dZ.vQ][dZ.Nd];
for(var D=0;D<C.length;D++){var q=f.R0(C[D]);if(Z.indexOf(q)!=-1){var J=f.Tc[dZ.vQ][dZ.rs],A=f.R0("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
f.Da(J);J[dZ.ae_]=A;return}}this.K={alh:[{b:b.Uz,Ja:!1,B8:[hs.adT,hs.tH]},{b:b.mA,Ja:!1,B8:[hs.tH]},{b:b.e4,Ja:!0,B8:[hs.Vw],PR:[b.mb]},{b:b.mb,Ja:!0,B8:[hs.Vw],PR:[b.e4]},{b:b.R$,Ja:!0,B8:[hs.Vw],PR:[b.UX,b.dk,b.xu]},{b:b.UX,Ja:!0,B8:[hs.Vw],PR:[b.R$,b.e9,b.xU,b.xz,b.xl,b.H0]},{b:b.Iw,Ja:!0,B8:[hs.Vw]}],b6:[[{b:new b.eG,l5:g7},{b:new b.FJ,l5:bO}],[{b:new b.lR,l5:dH},{b:new b.Wo,l5:av}],[{b:new b.VB,l5:gO},{b:new b.J8,l5:fL},{b:new b.vK,l5:b6}],[{b:new b.Nz,l5:fC},{b:new b.sy,l5:ax},{b:new b.Lh,l5:dd}],[{b:new b.sc,l5:dG},{b:new b.yw,l5:ik},{b:new b.JN,l5:eO},{b:new b.qm,l5:cC}],[{b:new b.tS,l5:dY},{b:new b.sd,l5:au}],[{b:new b.Lm,l5:dL},{b:new b.ae,l5:aE},{b:new b.bv,l5:cW},{b:new b.rj,l5:f1},{b:new b.TO,l5:bV}],[{b:new b.pb,l5:es},{b:new b.A6,l5:ec},{b:new b.fU,l5:e6}],[{b:new b.MY,l5:h0}],[{b:new b.Mm,l5:b9},{b:new b.Iy,l5:jS}],[{b:new b.Ho,l5:g3},{b:new b.e1,l5:gq}],[{b:new b.p$,l5:e4},{b:new b.Cb,l5:gu},{b:new b.kA,l5:jj}],[{b:new b.zP,l5:ef},{b:new b.fN,l5:gK},{b:new b.NA,l5:eZ}],[{b:new b.lw,l5:i2},{b:new b.ON,l5:i2}],[{b:new b.BK,l5:dE},{b:new b.Bk,l5:cX}],[{b:new b.C5,l5:am},{b:new b.NZ,l5:cJ}],[{b:new b.Rect,l5:bR},{b:new b.y$,l5:ht},{b:new b.Bw,l5:fN},{b:new b.sX,l5:ip},{b:new b.G1,l5:h_}],[{b:new b.jp,l5:hd},{b:new b.OS,l5:bv}],[{b:new b.Yq,l5:cZ}]],V_:[],keys:[hs.IQ,hs.RM,hs.nI,hs.yA,hs.c5,hs.El,hs.aD,hs.Eu,hs.Jw,hs.E,hs.re,null,hs.pj,hs.zi,hs.Fu,hs.J,hs.BB,hs.oF,hs.eU],i3:[{b:new b.rJ,l5:eF},{b:new b.jT,l5:jR},{b:new b.w5,l5:cN},{b:new b.tS(!0),l5:dY},{b:new b.Fy,l5:dr}],PL:[{b:new b.l_},{b:new b.History},{b:new b.Sa},{b:new b.Ay},{b:new b.JF},{b:new b.La}],map:{},dx:null,iF:null,wt:null};
for(var D=0;D<this.K.b6.length;D++){var e=this.K.b6[D];if(e=="---")continue;var Q=this.K.keys[D];for(var p=0;
p<e.length;p++){this.K.map[e[p].b.id]=e[p];e[p].pN=D;e[p].ain=p;var B=jg.get(e[p].b.name);N+="<li>"+e[p].b.id+": "+B+"</li>";
n+="\t"+JSON.stringify(e[p].b.name)+", "+(Q?"\""+Q.NQ+"\"":"null")+", "+e[p].b.id+", // "+B+"\n"}this.K.V_[D]=0}for(var D=0;
D<this.K.i3.length;D++)this.K.map[this.K.i3[D].b.id]=this.K.i3[D];for(var D=0;D<this.K.PL.length;D++)this.K.map[this.K.PL[D].b.id]=this.K.PL[D];
this.vg={agc:!1,Oj:null,If:0,HI:{MS:[],Ub:[],list:[],P1:null},$p:[],ad3:[],yZ:[],pV:[],Q1:[],a6z:[],aoc:[],akW:[],iL:[j9.Qv()],Jo:[],kQ:[],ax:null,NS:0,$_:{Er:1,am:JSON.parse(JSON.stringify(c0.g0[0]))},dn:JSON.parse(JSON.stringify(c0.K_.default)),apP:[null].concat(c0.g0),ani:[null].concat(c0.g0),u6:new hT(function(v){var a=new eY(r.E.z,!0);
a.data={d:r.J.x2,no:{url:"rsrc/fonts/"+v}};this.c(a)}.bind(this)),yU:{nS:[],L4:null,n9:null},font:null,bx:[],jM:16711680,z0:0,SQ:!1,YC:!0,SM:{lZ:!0,eT:!1,EJ:!0,kL:!0,a5:!0,$o:!0,Z3:20,GO:0,FF:0,Pb:0},Kc:!0,rY:[!0,!0,!1,!0,!0],P5:[0,1,2,3,5,6,7,9,10,16,17,100],nv:1,HF:!0,Gl:{},qO:!0,als:!1,compact:!1,V$:1,ay:!0,y8:null,J5:{a18:!1,ar1:!1,Be:{},KL:null},a0T:0,ahe:null,iy:null,a5v:null,RA:null};
this.ar9={yt:new bl,yq:new dz};this.vg.yU=ad.aeN();this.by=new eU;this.YM=new hu;this.Jd=new gN(this.K,!0);
this.h1=new hW;this.B4=new aB(this);this.Qu=f.L("div");this.xf=!1;this.Uw=this.aop.bind(this);f.Ky(this.B4.m,"mainblock");
this.KN.parent=this.by.parent=this.YM.parent=this.Jd.parent=this.h1.parent=this.B4.parent=this;this.B4.l(r.E.o,this.Yu,this);
this.B4.l(r.E.t3,this.alf,this);this.B4.l("shuffleItems",this.agg,this);this.B4.l(r.E.al_,this.aqg,this);
this.l("mouse",this.a1O,this);this.l(r.E.H,this.W1,this);this.l(r.E.od,this.ag_,this);document.body.addEventListener("keydown",this.Df.bind(this),!1);
window.addEventListener("keyup",this.TW.bind(this),!1);window.addEventListener("paste",this.a5s.bind(this),!1);
window.addEventListener("copy",this.a2W.bind(this),!1);window.addEventListener("wheel",function(v){if(v.ctrlKey)v.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(v){if(window.innerWidth>400)v.preventDefault();
this.vg.y8=v}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(v){if(v.aqH){console.log("Service worker installing")}else if(v.ag7){console.log("Service worker installed")}else if(v.active){console.log("Service worker active")}}).catch(function(v){console.log("Registration failed with "+v)})}this.ww=0;
this.RE=[];this.Nr=new h9(d3.NU);this.Nr.parent=this;var $=this.c1,R=this.S2=f.L("div");R.appendChild(this.by.m);
R.appendChild(this.YM.m);this.KN.arb(R);var z=this.ari=f.L("div","flexrow");$.appendChild(z);z.appendChild(this.Jd.m);
z.appendChild(this.B4.m);z.appendChild(this.h1.m);this.Nr.Z$({url:"rsrc/basic/basic.zip"});this.UY(b.Iw);
iP.LC(this.abG.bind(this))}br.prototype=new bg(!0);br.prototype.rD=function(u){var m=new eY(r.E.z);m.data={d:r.J.MH,no:u?u:"done"};
this.c(m)};br.prototype.abG=function(){f.Tc[dZ.bC](this.ahX.bind(this),Math.pow(Math.PI,8)+f.Tc[dZ.aer][dZ.a3X]()*1e4);
var u=iP.uq();if(u!=null&&u.globals!=null)this.um(u.globals);else{this.ak3=!0;var m=navigator.languages;
if(m&&m.length!=0){var C=m[0];jg.Rl(C,this.Uw)}}if(!this.sp()){var Z=f.am_();if(Z==0)this.als=!0;if(Z==2)this.vg.qO=!1;
if(Z!=1&&Math.random()<.002)f.ar8()}if(!gY.Sy()||!this.vg.qO){this.a7q();this.oj()}else{var q=f.YH(f.Tc[dZ.Kn]);
q[dZ.OL](dZ.wv,this.a9X.bind(this));q[dZ.I7](f.$L("61="),f.$L("_MYOqDLGJa;A:6"));q[dZ.YV]()}this.AB=!0;
this.rD()};br.prototype.a9X=function(u){var m=JSON.parse(u.target[dZ._a]),C=f.Tc[dZ.rX][dZ.a5$]()/1e3,Z=f.Tc[dZ.vQ][dZ.Nd],q=!1;
for(var J in m)if(J.indexOf(".")!=-1&&Z.indexOf(J)!=-1&&parseInt(m[J])>C)q=!0;if(q)this.vg.qO=!1;this.a7q();
this.oj()};br.prototype.oj=function(u){this.Wm=!0;if(!this.vg.ay)this.B4.ay=null;else this.B4.acE();
this.z3(jO.LY);this._();this.rP();this.h1.B6(this.Hp(),this.RE,this.vg)};br.prototype.um=function(u){var m=this.vg;
if(u.fcolor!=null)m.jM=u.fcolor;if(u.bcolor!=null)m.z0=u.bcolor;if(u.rulers!=null)m.SQ=u.rulers;if(u.extras!=null)m.YC=u.extras;
if(u.favFam!=null)m.bx=u.favFam;if(u.font!=null)m.yU.nS[0].Name=u.font;if(u.panels!=null)m.P5=u.panels;
if(u.as!=null)m.V$=u.as;if(u.eparams){var C=u.eparams,Z=m.SM;if(C.guides!=null)Z.lZ=C.guides;if(C.grid!=null)Z.eT=C.grid;
if(C.gsize!=null)Z.Z3=C.gsize;if(C.gunits!=null)Z.GO=C.gunits;if(C.gtype!=null)Z.FF=C.gtype;if(C.runits!=null)Z.Pb=C.runits;
if(C.sels!=null)Z.EJ=C.sels;if(C.paths!=null)Z.kL=C.paths;if(C.pgrid!=null)Z.a5=C.pgrid;if(C.slices!=null)Z.$o=C.slices}if(u.lang!=null)jg.Rl(u.lang,this.Uw);
if(u.theme!=null)m.nv=u.theme;if(u.topt||m.yf){var q=u.topt?u.topt:{},J=m.yf?m.yf:{};for(var A in this.K.map){if(A>=100)continue;
var n="t"+A;if(q[n]||J[n])this.K.map[A].b.hI(q[n],J[n],this)}}};br.prototype.a7q=function(){if(this.vg.agc)return;
this.vg.agc=!0;var u=null,m=window.location.href,C=m.indexOf("="),Z=m.indexOf("#");if(C!=-1)u=m.substring(m.indexOf("?")+1,C);
if(Z!=-1&&Z!=m.length-1){u="p";C=Z}if(Z!=-1&&m[Z+1]=="i"){this.Nr.pu(m.slice(Z+2))}else if(Z!=-1&&m[Z+1]=="t"){this.Nr.pu(m.slice(Z+2).split("").reverse().join(""),!0)}else if(u=="p"||u=="state"){var q=m.substring(C+1,m.length);
q=JSON.parse(decodeURI(q));if(u=="p"){if(q.script)iW.a09();if(q.server)this.uP=q.server;if(q.resources)for(var D=0;
D<q.resources.length;D++)this.Nr.Z$({url:q.resources[D]});if(q.files)for(var D=0;D<q.files.length;D++)this.Nr.Z$({url:q.files[D],lC:{TM:q.server,acQ:q.script}});
var J=q.environment;if(J==null)J={};if(J.plugins!=null)this.h1.a3J(J.plugins);if(J.localsave!=null)this.vg.HF=J.localsave;
if(J.customIO!=null)this.vg.Gl=J.customIO;if(J.vmode!=null){var A=J.vmode;if(A==1)this.vg.compact=!0;
if(A==2)this.il(1)}if(J.intro!=null)this.vg.ay=J.intro;if(J.menus!=null)this.vg.a5N=J.menus;if(J.tmnu!=null)this.vg.yf=J.tmnu;
if(J.panels!=null)this.vg.P5=J.panels;if(J.showtools!=null){var n=J.showtools,N=n.indexOf(this.vg.Oj);
this.vg.apS=n;if(N==-1)this.UY(n[0])}if(J.phrases!=null)jg.ai9(J.phrases);if(J.autosave!=null){window.setInterval(function(){var p=new eY(r.E.z);
p.data={d:r.J.lg};this.c(p)}.bind(this),J.autosave*1e3)}if(J.icons!=null){for(var e in J.icons)if(J.icons[e].indexOf("\"")==-1){if(e=="in"+"tro"&&this.vg.qO)continue;
PIMG[e]=J.icons[e];PIMG["__"+e]=!0}}this.um(J);if(q.files==null&&q.script){bp.aT(q.script,this);this.rD()}}else if(u=="state"){var Q=this.Nr;
if(q.action=="create"){var p=new eY(r.E.z);p.data={d:r.J.zH,E$:"newproject",a8T:q.folderId};this.c(p)}if(q.action=="open"){for(var D=0;
D<q.ids.length;D++)hV.lP(function(){var $="https://www.googleapis.com/drive/v3/files/"+this.afH,R=new XMLHttpRequest;
R.open("GET",$);R.setRequestHeader("Authorization",hV.$K());R.send();R.onload=function(z){var v=JSON.parse(z.target.response);
Q.Z$({url:$+"?alt=media",name:v.name,iJ:{file:v,fH:""},NK:{Authorization:hV.$K()}})}}.bind({afH:q.ids[D]}));
alert("Loading files from Google Drive ...")}}}else{var B=window.launchQueue;if(B){var Q=this.Nr;B.setConsumer(function($){var R=$.files;
console.log(R);for(var D=0;D<R.length;D++){var z=R[D];z.getFile().then(function(v){Q.Hj([v],null,null,null,[z])})}})}}};
br.prototype._=function(){var u=document.getElementById("cap"),m=window.innerWidth<500;if(u){var C=u.getElementsByTagName("h1")[0],J=0,n=0,N=0;
C.textContent=m?"Photopea":jg.get([0,17,0]);var Z=u.getElementsByTagName("p"),q=f.sn(jg.get([0,17,1])),A=["PSD","XCF","Sketch","XD","CDR"];
for(var D=0;D<A.length;D++)q=q.replace(A[D],"<b>"+A[D]+"</b>");if(!m)q+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
Z[0].innerHTML=q;q=jg.get([0,17,2])+" "+jg.get([0,17,3]);for(var D=0;D<q.length;D++){var e=q[D];if(e=="<")n++;
if(e==">")N++}if(!m&&n*N==9){var Q=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var D=0;D<3;D++){var p=q.indexOf("<",J),B=q.indexOf(">",J),$=q.slice(0,p)+"<a href=\""+Q[D]+"\" target=\"_blank\">"+q.slice(p+1,B)+"</a>";
J=$.length;q=$+q.slice(B+1)}Z[1].innerHTML=q}else Z[1].innerHTML=jg.get([0,17,2])}var R=document.getElementById("sponsors");
if(R)R.textContent=jg.get([0,17,4]);this.KN._();this.by._();this.h1._();this.Jd._();this.Oc._();this.B4._();
for(var z in this.K.map)if(this.K.map[z].Fa)this.K.map[z].Fa._()};br.prototype.sp=function(){return f.Tc[dZ.pX][dZ.JT].indexOf("8887")!=-1};
br.prototype.CC=function(u,m){u=Math.floor(u);m=Math.floor(m);var C=f.$L("WUMK&AM"),Z=dZ.C7,q=f.Tc[dZ.vQ],J=Math.max(u,window.screen.width),A=Math.max(m,window.screen.height),p=0;
if(this.kn==null)this.kn=Math.min(J,A)<500||J<750?0:J<1600?1:2;var n=this.kn,N=!this.Wm||this.sp()||!this.vg.qO||iP.Bi()||n==0;
if(!N&&gY.Sy()){if(this.a9D==null)this.a9D=Math.random()<.5;N=this.a9D}if(N){if(n!=0&&f.Tc[C]&&this.Wm)f.Tc[C]()}else{if(n==0)m-=60;
else u-=n==1?180:320}bg.prototype.CC.call(this,u,m);if(N&&this.xf){this.m[dZ.Mr](this.Qu);f.Da(this.Qu);
this.xf=!1}if(!N&&!this.xf){if(Math.random()<.002){var e=function(R){iP.event(R||gY.mj()?"gota_0":"gota_1")};
gY.amL(e)}this.at$(u,m);var Q=n==0?q[dZ.rs]:this.m;Q.appendChild(this.Qu);this.Qu[dZ.Ry](Z,f.$L("_MMJLNDfKCAg")+(n==0?10:10)+f.$L("_d$ebOS?I:==Ba-+# }$M"));
this.Qu[Z][f.$L("_MMJLND&<:E")]=(n==0?0:19)+f.$L("_d");this.Qu[Z][f.$L("i5WJHX")]=n==0?0:1;this.xf=!0}if(f.pZ(this.by.m))p+=31;
if(f.pZ(this.YM.m))p+=32;this.KN.ahR=this.vg.qO&&this.Wm;this.KN.CC(u,p);var B=m-p,$=f.$L("_d");this.Qu[Z][dZ.am2]=(n==0?100>>>1:m-11)+$;
this.Qu[Z][dZ.G3]=(n==0?u:6*Math.pow(10,2))+$;this.Jd.CC(u,B);this.h1.CC(u,B);this.B4.CC(u-this.Jd._p()-this.h1._p(),B)};
br.prototype.at$=function(u,m){var C=function(){var Z=new eY(r.E.z);Z.data={d:r.J.zH,E$:"account"};this.c(Z)}.bind(this);
gY.a1Z(u,m,this.Qu,C,this.kn)};br.prototype.a2W=function(u){console.log("systemCopy")};br.prototype.a5s=function(u){if(f.VP())return;
console.log("systemPaste");if(!u.clipboardData)return;var m=u.target.tagName.toLowerCase(),C=u.clipboardData.items;
if(C==null)return;var Z=this.aoj.bind(this);for(var D=0;D<C.length;D++){var q=C[D],J=q.getAsFile();if(q.type.indexOf("text")!=-1){q.getAsString(this.a7U.bind(this))}if(q.type.indexOf("image")!=-1){if(J.size==this.vg.a0T)return;
this.vg.a0T=J.size;if(J){J.name="image.png";this.Nr.Hj([J],Z)}}}};br.prototype.a7U=function(u){if(u.startsWith("http")){if(u==this.vg.adt)return;
this.vg.adt=u;var m=new eY(r.E.z,!0);m.data={d:r.J.x2,no:{url:u,u5:!0}};this.c(m)}};br.prototype.aoj=function(u,m){var C={buffer:u,rect:m},Z=this.vg;
if(f.VP()){var q=this.ar9,J=q.yt;if(J.e==m.e&&J.n==m.n){C.rect=J;C.yq=q.yq}}else{if(Z.iy){var A=new eY(r.E.H,!0);
A.b=b.fn;A.data={d:"h_stepbck"};this.c(A)}}Z.iy=C;var A=new eY(r.E.z,!0);A.data={d:r.J.Dr,akK:!0};this.c(A)};
br.prototype.aam=function(){if(this.Oc.Wt()!=null)alert(jg.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
br.prototype.W1=function(u){var m=this.Hp();if(m==null){alert(jg.get([15,7,7]));return}var C=u.b==b.mA||u.b==b.Uz;
if(this.Oc.sZ()&&u.Ua!=!0&&!C){this.aam();return}var Z=this.K,q=this.vg.Oj,J=u.b;if(J==b.IR&&q==b._l)J=b._l;
if(q!=J&&Z.map[q].b.sZ()&&!C&&!(q==b.Pz&&J==b.zz)){console.log("disabling",q);Z.map[q].b.disable(m,this,this.vg,this.kb)}var A=this.K.map[J].b;
A.W1(u.data,this,m,this.kb,this.vg)};br.prototype.ag_=function(u){var m=this.vg;if(u.data.cf!=!0)hc.asF({ZO:u.data.ZO,yS:u.data.yS},this,m,this.Hp());
var C=m.ax,Z=m.kQ;if(C==null)return;var q={a2g:!1,wi:"Step",auw:0,P:!0,exp:!1,ZO:u.data.ZO};if(C[2]==null)C[2]=Z[C[0]].pQ[C[1]].pQ.length-1;
if(u.data.yS)q.yS=JSON.parse(JSON.stringify(u.data.yS));Z[C[0]].pQ[C[1]].pQ.splice(C[2]+1,0,q);C[2]++;
this.z3(jO.H)};br.prototype.z6=function(u){if(this.als){u.data=0;return u.type}bg.prototype.z6.call(this,u);
var m=u.data.d;if(m==r.J.Wy)hc.acD(this.Hp(),this.vg.kQ,u.data._c[0],u.data._c[1],this);if(m==r.J.a4W){this.alB(u.data.a4d)}if(m==r.J.aaA){this._();
this.rP()}if(m==r.J.Ab)this.rP();if(m==r.J.ahC)if(this.vg.y8){this.vg.y8.prompt();this.vg.y8=null}if(m==r.J.q$)this.B4.Y6(u.data.U7,u.data.push);
if(m==r.J.aej)this.B4.anW();if(m==r.J.a46)this.Yu(null,u.data.dir);if(m==r.J.Zi)this.B4.AS(this.RE.indexOf(u.data.Zq));
if(m==r.J.QK){if(u.data.hM&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(u.data.k!=null)this.il(u.data.k)}if(m==r.J.a4Q){if(u.data.Ct)this.kb.U1(u.data.aq3);
else this.kb.op(u.data.aq3);this.St(u.data.Ct?"down":"up")}if(m==r.J.KA){var C=this.Hp(),Z=C.K9().slice(0),q=C.g[C.w[0]],J=new bl(0,0,C.e,C.n),A=gj.b2()+"-d71c-11e5-b1ae-a548a96e5f9f",n=new eY(r.E.z,!0);
if(u.data.no==0){var N={name:C.name.split(".")[0],id:A,k9:[Z,J]};n.data={d:r.J.mh,lC:"add",no:jO.ZM,Ax:[N]};
this.c(n)}if(u.data.no==1){var e=j.U(J.Z()*4);j.gs(e,4294967295);j.a.q5("norm",Z,J,e,J,J,1);var Q=j.U(J.Z());
j.px(e,Q);j.mL(Q);var p=j.tY(Q,J);if(p.qR())p=J;var B=j.U(p.Z());j.j5(Q,J,B,p);var $=j.U(p.Z()*4);j.wC(B,$,3);
var R={yt:p,id:A,k9:[$,p]},z=c4.Im(A),v=z.Brsh.v;v.Dmtr.v.val=p.e;v.Spcn.v.val=10;n.data={d:r.J.mh,lC:"add",no:jO.el,Ax:{list:[{t:"Objc",v:z}],Ub:[R],MS:[]}};
this.c(n);n.data={d:r.J.mh,no:jO.Lz,_0:z};this.c(n)}if(u.data.no==2){var a=C.yG(),X=a[0][a[1][0]],V={jA:q.getName(),J4:A,B:X.add.vmsk.clone().B},o=j.$.Br(V.B),h=new ix(o.e,0,0,o.n,o.x,o.y);
h.mL();j.$.l0(V.B,h);o.x=o.y=0;V.hF=o.clone();n.data={d:r.J.mh,lC:"add",no:jO.Jb,Ax:[V]};this.c(n)}}if(m==r.J.x2)this.Nr.Z$(u.data.no);
if(m==r.J.zZ){var T=u.data.arQ;if(T!=!0&&this.GR("open"))return;this.Nr.a1W(T?this.B4.xo():null,u.data.acv)}if(m==r.J.Hd){var l=u.data.abm,w=u.data.Qa,W=this.as(l);
if(w){var U=l==jO.el,s=[];for(var D=0;D<w.length;D++)s.push((U?W.list:W)[w[D]]);W=U?{MS:W.MS,Ub:W.Ub,list:s}:s}if(l==jO.c$){var J=new gj;
for(var D=0;D<W.length;D++){var S=W[D].lr.Lefx;if(S)dU.adZ(S,J,this.vg.Q1)}W={aU:J.add.Patt?J.add.Patt:[],bp:W}}if(l==jO.HW){var x=this.vg.HI;
W={Ub:[],MS:[],list:W};console.log(W)}if(l==jO.H)W=W[u.data.Nl];var P=jO.rZ[l],Z=P[2].d4(W);h9.save(Z,P[1]+"."+P[0])}if(m==r.J.Re){var y=this.vg.J5,_=u.data.at1;
if(y.KL&&!y.a18&&!_){y.ar1=window.confirm("Load \""+u.data.n2+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
y.a18=!0}if((y.ar1||_)&&y.KL){y.Be[u.data.n2]=u.data.zQ;var n=new eY(r.E.z);n.data={d:r.J.mh,no:jO.fK};
this.c(n)}}if(m==r.J.a00){var C=this.Hp(),E="<!DOCTYPE HTML>";if(C==null)return;var g=d4.rO(C.K9().buffer,C.e,C.n),G=window.open();
E+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";E+="<body><img src=\""+g+"\" /></body>";
E+="</html>";G.document.write(E)}if(m==r.J.tt){if(this.GR("publishOnline"))return;var L=u.data.uM!="psd",C=this.Hp();
if(C==null)return;if(!L&&C.Mo)return;var c="Your picture will be published at "+(L?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!L)c+=" We guarantee 6 months of storage (or more, if your file is opened often).";var k=u.data._$?!0:confirm(c);
if(k){if(!L){var n=new eY(r.E.H,!0);n.b=b.IZ;n.data={d:F.LL};this.c(n);var I=new bl(0,0,C.e,C.n);for(var D=0;
D<C.g.length;D++){var q=C.g[D];if(q.rect.qR()||q.ld()||q.Te()||q.mB()||q.Y8()||q.add.TySh||q.add.vmsk||q.add.SoLd)continue;
var Y=I.aR(q.rect);if(!Y.QV(q.rect)&&!Y.qR()){var K=j.U(Y.Z()*4);j.zO(q.buffer,q.rect,K,Y);q.buffer=K;
q.rect=Y}if(!j.Le(q.buffer,q.rect.e,q.rect.n))continue;var i=q.cG(),i4=q.opacity,d7=q.Um,d=q.G8;q.$S(!0);
q.opacity=255;q.Um="norm";C.w=[D];n.data={d:F.O7,uM:"jpg"};this.c(n);var fH=C.g[D];q.$S(i);fH.$S(i);
q.opacity=fH.opacity=i4;q.Um=fH.Um=d7,q.G8=fH.G8=d}}if(C.tR){C.Qp()}var aC=C.e,f8=C.n,c9=u.data.ae9,g1;
if(c9)while(Math.max(aC,f8)>c9){aC=aC>>>1;f8=f8>>>1}console.log(aC,f8);if(u.data.uM=="psd")g1=d4.Qs(C,"psd",0,0,[!0,!0,!0]);
else if(u.data.uM=="png")g1=d4.Qs(C,"png",aC,f8);else{var cE=d4.Qs(C,"png",aC,f8),hG=d4.Qs(C,"jpg",aC,f8);
g1=cE.byteLength<hG.byteLength?cE:hG}if(L)h9.a21(g1,u.data._$);else this.Nr.agE(g1,C.name,u.data._$)}}if(m==r.J.lg){var C=this.Hp(),fA=!1;
if(C==null)return;if(C.tR){C.Qp()}if(u.data.OX){if(!this.D_(C,u.data.OX))return;var Z=d3.ak9(C,u.data.OX,this.vg);
this.rD(Z);fA=!0}else if(C.Y$){if(this.RE.indexOf(C.Y$.EY)!=-1){var Z=new Uint8Array(d4.X5("PSD").c2(C,null,null,[!0,!1])),n=new eY(r.E.H,!0);
n.data={d:F.o$,Uk:C.Y$.EY,data:Z,id:C.Y$.a2L,sK:C.name};n.b=b.IZ;this.c(n);alert("Smart Object updated")}fA=!0}else if(this.GR("save")){fA=!0}else if(C.iJ){d3.alE(C);
fA=!0}else if(C.lC&&C.lC.TM){if(!this.D_(C,C.lC.TM.formats))return;this.Nr.aeg(C,this.vg,d3.a0e);fA=!0}else if(C.Oo&&C.rG=="psd"){var n=new eY(r.E.z,!0);
n.data={d:r.J.Dt,HG:!0};this.c(n);return}if(fA){C.OZ=C.oa;C.nr=Date.now();C.qz=!0}else{var n=new eY(r.E.z,!0);
n.data={d:r.J.Dt};this.c(n)}}if(m==r.J.Dt){if(!this.vg.HF){alert("function is disabled");return}if(this.GR("saveAsPSD"))return;
var C=this.Hp();if(C==null||C.Mo)return;if(!this.D_(C))return;var n=new eY(r.E.H,!0);n.data={d:F.LL};
n.b=b.IZ;this.c(n);if(C.g.length>8e3&&!confirm("Your document has "+C.g.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var hh={yg:[]};C.root.DD([],hh);var eE=hh.yg;if(eE.length>11&&!confirm("One layer is nested "+(eE.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+eE.join(" \uD83E\uDC1A ")+"."))return;
var dh=window.showSaveFilePicker;if(window.parent!=window)dh=null;if(dh&&!u.data.HG){var fT={suggestedName:C.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
dh(fT).then(function(u){var n=new eY(r.E.z,!0);n.data={d:r.J.m4,$O:"Saving ..."};this.c(n);setTimeout(function(){C.Oo=u;
C.name=u.name;C.xi=!0;var n=new eY(r.E.z,!0);n.data={d:r.J.Dt,HG:!0};this.c(n);n.data={d:r.J.VQ,$O:"Saving ..."};
this.c(n)}.bind(this),10)}.bind(this));return}var dB=window.ga,iN=f.R0("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");
if(C.Tp()&&dB)dB(iN[0],iN[1],iN[2],C.rG+":"+f.R0(iP.Bi()?"\"'|('61":"w'| "));if(C.tR){C.Qp()}var Z=d4.X5("PSD").c2(C);
if(u.data.HG){C.Oo.createWritable().then(function(u){u.write(Z);return u}).then(function(u){u.close()})}else h9.save(Z,C.name);
C.OZ=C.oa;C.nr=Date.now();C.qz=!0}if(m==r.J.VR)window.open(u.data.link,"_blank");if(m==r.J.amj){if(this.Oc.sZ()){this.aam();
return}var C=this.Hp(),q=C.g[C.w[0]],gV=C.GN(q.add.SoLd.Idnt.v);for(var D=0;D<this.RE.length;D++){var fI=this.RE[D].Y$;
if(fI!=null&&fI.a2L==gV.Yw&&fI.EY==C){this.B4.Vx(D);return}}h9.NU({name:gV.sK,Y$:{a2L:q.add.SoLd.Idnt.v,EY:C}},gV.raw.buffer,this)}if(m==r.J.ck){this.a0y()}if(m==r.J.TN){this.a4u(u.data.s_,u.data.kj,u.data.$Y)}if(m==r.J.Dr){this.agk(u.data.akK,u.data.sz,u.data.$Y)}if(m==r.J.aex){var gc=u.data.k;
if(gc.startsWith("vcb;")){var aF=JSON.parse(gc.slice(4));aF[0]=j9.ahg(aF[0]);var n=new eY(r.E.H,!0);
n.b=b.UX;n.data={d:"append",wy:"Paste Paths",a9q:aF};this.c(n)}else if(gc.startsWith("lrs;")){var gh=gc.split(";"),gD=this.RE[parseInt(gh[1])];
if(gD==null)return;var j1=this.Hp(),dg=gD.w;gD.w=JSON.parse(gh[2]);var ao=gD.uH(null,gD!=j1),n=new eY(r.E.H,!0);
n.data={d:F.Ix,g:ao,EY:gD,Y0:j1};n.b=b.IZ;this.c(n);gD.w=dg}else if(gc.startsWith("<!--")||gc.startsWith("<svg")){var eC=M.t2(gc),bD=d4.X5("svg"),J=new gj("image.psd");
bD.Pl(eC.buffer,J);if(this.RE.length!=0){var fK=J.g;if(fK.length==3&&fK[0].getName()=="</Layer group>"&&fK[2].ld())fK=[fK[1]];
var n=new eY(r.E.H,!0);n.b=b.IZ;n.data={d:F.Ix,g:fK,EY:J,Y0:this.Hp()};this.c(n)}else this.ah$(J)}}if(m==r.J.En){bp.aT(u.data.pP,this)}if(m==r.J.MH){if(window.parent!=window)window.parent.postMessage(u.data.no,"*");
this.h1.NH(u.data.no)}if(m==r.J.lO){var a1=parseFloat(u.data.E$);if(this.vg.P5.indexOf(a1)==-1){var n=new eY(r.E.z,!0);
n.data={d:r.J.mh,no:jO.Cn,k:a1,lC:"add"};this.c(n)}this.h1.aiS(u.data.E$)}if(m==r.J.nd){this.zs.ael(this.Hp(),this.vg)}if(m==r.J.zH){var fR="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var D=0;D<fR.length;D+=2)if(u.data.E$==fR[D]&&this.GR(fR[D+1]))return;if(!this.vg.HF&&u.data.window=="saveforweb"){alert("function is disabled");
return}this.Oc.ahF(u.data.E$,this.Hp(),u.data,this.RE,this.kb)}if(m==r.J.h9)h9.save(u.data.data,u.data.name);
if(m==r.J.n1){if(!this.Oc.sZ()||u.Ua)this.ah$(u.data.Uk)}if(m==r.J.Go){this.B4.Vx(u.data.target);var n=new eY(r.E.H,!0);
n.data={d:F.d$,Uk:u.data.Uk,iR:u.data.iR,Gk:u.data.Gk};n.b=b.IZ;this.c(n);this.UY(b.l7)}if(m==r.J.a0L){H.GL=!H.GL;
if(this.RE.length>0)this.Hp().G()}if(m==r.J.a8n){var bj=iP.uq();if(bj!=null&&bj.globals!=null)this.um(bj.globals);
this.oj()}if(m==r.J.r8){this.Nr.Hj(u.data.data,null,u.data.fM,u.data.U8,u.data.aip)}if(m==r.J.K3){if(!this.Oc.Wt()!=null)this.UY(u.data.b,u.data.xr);
if(u.data.aa_)this.V8().K4(this.Hp(),this,this.vg,this.kb,this.P0)}if(m==r.J.WO){if(this.K.dx)this.UY(this.K.dx)}if(m==r.J.j6){var b7=this.K.map[u.data.b].b,C=this.Hp();
b7.vv(u.data,this,C,this.kb,this.vg);if(C)C.aJ=!0;this.abj()}if(m==r.J.zW){var ha=this.K.map[u.data.b];
this.apT(ha);ha.Fa.Uv(u.data)}if(m==r.J.mh){var C=this.Hp(),eJ=u.data.no,cq=u.data.Ax,bF=this.vg;if(u.data.lC=="set"){var g4=b.HD(cq);
if(bF.Oj!=g4)this.UY(g4);this.K.map[g4].Fa.agf(cq,bF)}if(u.data.lC=="add"){var P=jO.rZ[eJ];if(eJ==jO.Cn){bF.P5.push(u.data.k);
bF.P5.sort(function(fb,dA){return fb-dA})}else if(P==null){if(cq)bF.u6.arC(cq,u.data.a3m)}else{var eA=this.as(eJ);
if(eJ==jO.el){eA.Ub=eA.Ub.concat(cq.Ub);eA.MS=eA.MS.concat(cq.MS);eA=eA.list;cq=cq.list}if(eJ==jO.c$&&C){for(var D=0;
D<cq.length;D++){var S=cq[D].lr.Lefx;if(S)dU.aol(S,C,bF.Q1)}}if(eJ==jO.HW&&cq==null){var J=this.K.map[bF.Oj].Fa.aj9();
if(J==null)return;cq=[J]}for(var D=0;D<cq.length;D++)eA.push(cq[D]);if(u.data.a3m!=!0)if(eA.length!=cq.length||eJ==jO.O_||eJ==jO.c$||eJ==jO.H)alert(jg.get(P[3])+" "+jg.get([23,1])+".")}}if(u.data.lC=="del"){if(eJ==jO.Cn){bF.P5.splice(bF.P5.indexOf(u.data.k),1)}else{var P=jO.rZ[eJ],w=u.data.Qa,eA=this.as(eJ);
if(eJ==jO.el)eA=eA.list;for(var D=0;D<w.length;D++)eA[w[D]]=null;for(var D=0;D<eA.length;D++)if(eA[D]==null){eA.splice(D,1);
D--}alert(jg.get(P[3])+" deleted.")}}if(u.data.lC=="rnm"){var P=jO.rZ[eJ],eA=this.as(eJ);if(eJ==jO.el)eA=eA.list;
if(eA[u.data.Qa[0]]==null)return;P[2].hK(eA[u.data.Qa[0]],u.data.k)}if(eJ==jO.IH){var aJ=u.data.k;bF.$_=aJ;
bF.apP[aJ.Er]=aJ.am}if(eJ==jO.lY){var aJ=u.data.k;bF.dn=aJ;var fU=aJ.strokeEnabled.v,iE=aJ.strokeStyleContent.v,hQ=fU?{Er:1+c0.K_.j1.indexOf(iE.classID),am:iE}:{Er:0};
bF.ani[hQ.Er]=hQ.am}if(eJ==jO.m6){bF.NS=u.data.k}if(eJ==jO.Cd){bF.yU=u.data.yU}if(eJ==jO.Lz){bF.HI.P1=u.data._0}if(eJ==jO.qA){bF.bx=u.data.Qc}if(eJ==jO.e0){var bT,iU="Clrs";
if(u.data.OY<2){var ba=u.data.k,eI=u.data.OY==0,e_=j.C.sG({p:ba>>>16,T:ba>>>8&255,S:ba&255});if(eI)bF.jM=ba;
else bF.z0=ba;iU=eI?"FrgC":"BckC";bT={ZO:"set",yS:{__name:"Set",classID:"setd",T:{t:"Objc",v:e_}}}}if(u.data.OY==2){var bs=bF.jM;
bF.jM=bF.z0;bF.z0=bs;bT={ZO:"exchange",yS:{__name:"Exchange",classID:"Exch"}}}if(u.data.OY==3){bF.jM=0;
bF.z0=16777215;if(C!=null&&C.w.length!=0&&C.g[C.w[0]].$v==1){var bs=bF.jM;bF.jM=bF.z0;bF.z0=bs}bT={ZO:"reset",yS:{__name:"Reset",classID:"Rset"}}}if(bT){bT.yS.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:iU}}]};
var ha=this.V8();ha.SS=this;ha.track(bT)}}if(eJ==jO.Th){bF.SQ=!bF.SQ;this.rP()}if(eJ==jO.e6){bF.YC=!bF.YC;
this.rP()}var fr=bF.SM;if(eJ==jO.V2){fr.EJ=!fr.EJ;this.rP()}if(eJ==jO.hm){fr.kL=!fr.kL;this.rP()}if(eJ==jO.Cm){fr.lZ=!fr.lZ;
this.rP()}if(eJ==jO.pO){fr.eT=!fr.eT;this.rP()}if(eJ==jO.Nw){fr.a5=!fr.a5;this.rP()}if(eJ==jO.lW){fr.$o=!fr.$o;
this.rP()}if(eJ==jO.ZL){bF.SM=u.data.Qc;this.rP()}if(eJ==jO.wR){bF.Kc=!bF.Kc;this.rP()}if(eJ==jO.mO){bF.rY[u.data.na]=!bF.rY[u.data.na];
this.rP()}if(eJ==jO.gX){jg.t5(u.data.lang,this.Uw)}if(eJ==jO.T3){bF.nv=u.data.nv;this._()}if(eJ==jO.fK&&bF.J5.KL){var db=bF.J5.KL.transaction(["rsrc"],"readwrite").objectStore("rsrc"),fx=db.put({k:"fs0",fset:bF.J5.Be});
fx.onerror=function(u){console.log(u);alert("Storing failed. Browser says: "+u.target.error.message,7e3)}}this.z3(eJ)}};
br.prototype.aop=function(){this._();this.rP()};br.prototype.GR=function(u){var m=this.vg.Gl[u];if(m){var C=new eY(r.E.z,!0);
C.data={d:r.J.En,pP:m};this.c(C)}return m!=null};br.prototype.D_=function(u,m){var C=!0,A=15;if(m){C=!1;
for(var D=0;D<m.length;D++)if(m[D].startsWith(f.$L("__M")))C=!0}var Z=u.Tp()||u.Y$&&u.Y$.EY.Tp();if(this.sp())Z=!1;
var q=new f.Tc[dZ.rX],J=(q[f.R0("xy,b-66:")]()&1)*60+q[f.$L("VQ]3LNRN<G")]();if(Z&&!iP.Bi()&&J>A&&C){var n=f.Tc[f.R0("}$z{2*35")][f.R0("y'|!")],N=f.$L("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
N+="\n\n"+f.$L("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-J+120)+f.$L("nYRTXTBMd");
if(n.indexOf(f.R0("\"|'/-1)(W0?@"))==-1)N=jg.get([0,11+6,3+2]);f.Tc._cwY(N);return!1}return!0};br.prototype.as=function(u){var m=this.vg,C=[jO.el,jO.__,jO.f2,jO.ZM,jO.Jb,jO.c$,jO.O_,jO.H,jO.HW,jO.t4],Z=[m.HI,m.yZ,m.pV,m.Q1,m.iL,m.Jo,m.a6z,m.kQ,m.$p,m.ad3];
return Z[C.indexOf(u)]};br.prototype.a0y=function(){var u=this.a4u(),m=this.Hp();if(m==null||m.w.length==0)return;
var C=m.g[m.w[0]],Z=new eY(r.E.H);if(u==1){Z.b=b.UX;Z.data={d:"remove",wy:"Cut Paths"}}else{Z=new eY(r.E.od);
Z.data={ZO:"delete"}}this.c(Z)};br.prototype.a4u=function(u,m,C){if(u==null)u=!1;var Z=this.vg;console.log("doCopy",u,m);
var q=this.Hp();if(q==null||q.w.length==0)return;var J=q.g[m==null?q.w[0]:m],A=q.yG(),n=A[0],N=A[1],e=n[N[0]];
if(!u&&e!=null&&e.add.vmsk.w.length!=0){var Q=b.Ug.UW(e.add.vmsk,e.add.vogk);if(f.VP()){Q[0]=j9.abX(Q[0]);
var p="vcb;"+JSON.stringify(Q);h9.TL(new Blob([p],{type:"text/plain"}))}else Z.RA=Q;return 1}else if(q.q==null){if(f.VP()){var p="lrs;"+this.RE.indexOf(q)+";"+JSON.stringify(q.w);
h9.TL(new Blob([p],{type:"text/plain"}))}}else{var B,$;if(u){var R=new bl(0,0,q.e,q.n);$=R.aR(q.q.rect);
B=j.U($.Z()*4);j.zO(q.K9(),R,B,$);j.BE(q.q.channel,q.q.rect,B,$)}else if(q.Rc.length!=0){$=q.q.rect.clone();
B=j.U($.Z()*4);var z=q.YG[q.Rc[0]],v=z.f9($);j.Ps(v,B);j.wC(q.q.channel,B,3)}else{var a=J.pY(q,q.q);
if(a==null){alert("Copied area is empty");return}B=a._y;$=a.rect}var X=q.t.Np,V=X[0]+X[1]+X[2];if(V==1){var o=X.indexOf(1);
for(var D=0;D<B.length;D+=4)B[D]=B[D+1]=B[D+2]=B[D+o]}var h=new dz(q.e,q.n);if(f.VP()&&C!=!0){var T=d4.X5("PNG").aag(B.buffer,$.e,$.n);
h9.TL(new Blob([new Uint8Array(T)],{type:"image/png"}));this.ar9={yt:$,yq:h}}else Z.iy={buffer:B,rect:$,yq:h};
Z.ahe=$.clone();Z.RA=null}};br.prototype.agk=function(u,m,C){if(m)this.a2S=!0;console.log("doPaste");
var Z=this.vg,q=Z.iy,N;if(this.RE.length==0){if(!u&&f.VP()){h9.lb(this,null);return}if(q){var J=d4._6("image.psd",[{data:q.buffer.buffer,WL:q.rect}]),A=new eY(r.E.z);
A.data={d:r.J.n1,Uk:J};this.c(A)}return}var J=this.Hp(),n=J.g[J.w.length==0?J.g.length-1:J.w[0]];if(Z.RA){var e=J.yG(!0),Q=e[0],p=e[1];
N=Q[p[0]]}var A=new eY(r.E.H,!0);if(Z.RA!=null&&N!=null){A.b=b.UX;A.data={d:"append",wy:"Paste Paths",a9q:Z.RA}}else if(!u&&f.VP()&&C!=!0){h9.lb(this,this.aoj.bind(this));
return}else{if(q==null)return;if(J.w0(!1)&&(J.t.Np.join("")!="111"||J.Rc.length!=0||n.$v>0||n.rect.qR())){A.b=b.el;
A.data={d:"draw",a8V:!0,wy:[5,2]}}else{A.b=b.IZ;A.data={d:F.Bt,sz:this.a2S};this.a2S=!1}A.data.iy=q}this.c(A)};
br.prototype.adG=function(){for(var D=0;D<this.RE.length;D++){var u=this.RE[D],m=!0;for(var C=0;C<u.g.length;
C++){var Z=u.g[C],q=Z.add.TySh;if(q!=null&&!bL.tV(q,this.vg.u6,this))m=!1}if(!m)continue;if(u.Ex)for(var C=0;
C<u.g.length;C++){var Z=u.g[C],q=Z.add.TySh;if(q!=null&&bL.tV(q,this.vg.u6,this)){var J=new iW(q.pU,this.vg.u6),A=bL.mn(J,q);
Z.rect=A.yt;Z.buffer=A.bf;Z.G();u.G()}}if(u.a8O)continue;u.a8O=!0;if(u.lC&&u.lC.acQ)bp.aT(u.lC.acQ,this);
this.rD();var n=new eY(r.E.H);n.b=b.zz;n.data={d:"start",Bp:"GEfc"};var N=new eY(r.E.z);N.data={d:r.J.lO,E$:dy.Sc.a2o}}};
br.prototype.z3=function(u){var m=this.vg,C=m.Oj,A=!1;if(u==jO.Lz){if(this.K.map[C].Fa)this.K.map[C].Fa.vZ(m,u)}else for(var Z in this.K.map)if(this.K.map[Z].Fa)this.K.map[Z].Fa.vZ(m,u);
if(u==jO.ht){if(C!=b.IR)this.K.map[b.IR].b.vZ(m,u);this.adG()}this.B4.vZ(m,u);this.Jd.vZ(m,u);this.Oc.vZ(m,u);
this.V8().vZ(m,u);this.h1.vZ(m,u);this.by.vZ(m,u);if(u==jO.T3||u==jO.LY){dF.ap$(m.nv);this.update(!0)}var q=m.yU,J=q.L4.Font;
if(u==jO.Cd&&J!=null&&q.nS[J].Name!=m.font){m.font=q.nS[J].Name;A=!0}if([jO.Cn,jO.qA,jO.e0,jO.Th,jO.e6,jO.ZL,jO.Cm,jO.pO,jO.V2,jO.hm,jO.Nw,jO.lW,jO.gX,jO.T3].indexOf(u)!=-1||A)this.abj()};
br.prototype.abj=function(){if(!this.AB)return;var u={},m=this.K.map;for(var C in m){var Z=m[C].b;if(Z.iA&&Z.iA()!=null)u["t"+C]=Z.iA()}var q=this.vg,J=q.SM,A={fcolor:q.jM,bcolor:q.z0,rulers:q.SQ,extras:q.YC,favFam:q.bx,panels:q.P5,eparams:{guides:J.lZ,grid:J.eT,sels:J.EJ,paths:J.kL,pgrid:J.a5,slices:J.$o,gsize:J.Z3,gunits:J.GO,gtype:J.FF,runits:J.Pb},lang:jg.WS(),theme:q.nv,as:q.V$,topt:u};
if(q.font!=null)A.font=q.font;var n=iP.uq();if(n==null)n={};n.globals=A;iP.b3(n)};br.prototype.aaP=function(){var u=this.kb,m=this.P0,C=this.vg.Oj,Z=this.K.map[C].b,q=null,J=!1;
for(var D=0;D<this.K.alh.length;D++){var A=this.K.alh[D],n=!0;for(var N=0;N<A.B8.length;N++){var e=A.B8[N];
if(!u.j(e))n=!1}if(n&&(!A.Ja||!Z.sZ())&&(A.PR==null||A.PR.indexOf(C)!=-1)){q=A.b;J=A.Ja;break}}if((!m.Ct||C==b.MN)&&this.K.iF!=q&&(q!=C||!J)){var Q=this.Hp();
if(this.K.iF!=null&&q==null)this.V8().disable(Q,this,this.vg,u,!0);this.K.iF=q;this.V8().enable(Q,this,this.vg,u,q!=null&&q!=C)}};
br.prototype.qJ=function(u){var m=this.vg.Oj,C=this.Hp();if(m!=null){this.K.map[m].b.disable(C,this,this.vg,this.kb)}};
br.prototype.apT=function(u){if(u.Fa==null){u.Fa=new u.l5;u.Fa.ai$(u.b.id,u.b.Oz);u.Fa.vZ(this.vg,jO.LY);
u.Fa._()}};br.prototype.UY=function(u,m){if(u==b.l7&&this.Oc.Wt())return;var C=this.Hp(),Z=this.vg;if(this.K.map[u].b.Mc(C,Z)){this.qJ();
var q=[b.dk,b.xu,b.e9,b.xU,b.xl,b.xz,b.H0,b.UX,b.R$].indexOf(Z.Oj)!=-1;if(u!=Z.Oj)this.K.dx=Z.Oj?Z.Oj:b.Iw;
Z.Oj=u;this.Jd.B6(this.K,this.vg);var J=this.K.map[u];this.K.V_[J.pN]=J.ain;this.apT(J);this.YM.a7R(J.Fa);
var A=J.b;A.enable(C,this,this.vg,this.kb,!1,m,q);if(C)C.aJ=!0;this.rP()}};br.prototype.V8=function(u){var m=this.K,C=m.wt,Z=m.iF,q=this.vg.Oj;
if(C)q=C;else if(Z&&u==null)q=Z;return m.map[q].b};br.prototype.ah$=function(u){var m=this.vg,C=this.RE.indexOf(u);
if(C!=-1){this.B4.Vx(C);return}if(this.uP&&(u.lC==null||u.lC.TM==null)){u.lC={TM:this.uP}}if(u.PC==null){u.PC="local,"+this.alQ+","+u.name;
this.alQ++}u.nr=Date.now();if(gY.mj()!=0&&!this.ak3&&f.Tc[f.R0("t$&!'31")].toString().indexOf(f.R0(" u,$4&"))==-1){alert(f.R0("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var D=0;D<u.g.length;D++){var Z=u.g[D];if(Z.add.SoLd!=null){var q=Date.now()}if(Z.add.TySh!=null)bL.tV(u.g[D].add.TySh,m.u6,this)}var J=u.g.length,A=dZ.EM(),n=Math.PI*(5210<<14)+(f.IW(31)?20:10)*7e7;
if(A>n){var J=u.g.length;u.g=[];return J}if(H.GL)H.a7e(Math.max(u.e,u.n));u.gO();u.eA();if(u.a2J)u.a8l();
else u.G();u.a2J=!1;this.RE.push(u);this.B4.SL(new cy(u));u.aJ=!0;u.qz=!0;this.adG();var N=new eY(r.E.H);
N.b=b.ks;N.data={d:"auto",qK:2}};br.prototype.Hp=function(){return this.RE[this.ww]};br.prototype.aub=function(){return this.Oc.Wt()==null};
br.prototype.Yu=function(u,m){this.qJ();var C=this.RE.length;if(m!=null)this.B4.Vx((this.B4.xo()+m+C)%C);
this.ww=this.B4.xo();var Z=this.Hp();this.by.aoa(Z,this.vg);this.h1.B6(Z,this.RE,this.vg);this.rP();
if(Z)Z.aJ=!0};br.prototype.alf=function(u){this.qJ();this.RE.splice(u.data.g5,1);if(this.RE.length==0){this.Yu(u);
if(H.GL)H.l2().parentNode.removeChild(H.l2())}};br.prototype.agg=function(u){var m=[],C=u.data.a8u;for(var D=0;
D<C.length;D++)m[D]=this.RE[C[D]];this.RE=m;this.ww=this.B4.xo()};br.prototype.aqg=function(u){var m=this.B4,C=m.ahj(),Z=this.V8(),q=this.Hp();
if(C==m.xo()||!Z.Hq())return;this.alB(C,Z)};br.prototype.alB=function(u,m){var C=this.vg,Z=this.B4,q=this.Hp(),J=this.RE[u],A=new eY(r.E.H,!0);
A.b=b.IZ;A.data={d:F.Ix,g:q.uH(null,!0),EY:q,Y0:J};this.c(A);var n=this.P0,N=C.SQ;C.SQ=!1;n=q.t.Iv(n.x,n.y);
if(m)m.DS(q,this,C,this.kb);Z.Vx(u);n=J.t.qh(n.x,n.y);n.x+=49;n.y+=112;if(m)m.K4(J,this,C,this.kb,n);
C.SQ=N};br.prototype.a1O=function(u){var m=this.Hp(),C=this.kb,Z=this.vg,q=u.vB;if(q)this.P0=q;if(u.action.startsWith("multi")){var J=new eY(r.E.H,!0);
J.data={d:u.action,Ww:u.Ww};J.b=b.Uz;this.c(J);return}var A=this.K.map[b.Iw].b;if((u.action=="down"||u.action=="rdown")&&Z.Oj!=b.Iw&&this.K.iF!=b.Iw&&A.$g(m,this,Z,C,q)){this.K.wt=b.Iw;
A.enable(m,this,Z,C,!0)}var n=this.Oc.Wt(),N=n!=null&&n.ul()&&this.K.iF==null?n:this.V8();if(n!=null&&N!=n&&this.Oc.sZ()&&N.id!=b.mA&&N.id!=b.Uz)return;
if(u.action=="down")N.K4(m,this,Z,C,q);if(u.action=="rdown")N.cl(m,this,Z,C,q);if(u.action=="move")N.TQ(m,this,Z,C,q);
if(u.action=="up"||u.action=="cancellast")N.ec(m,this,Z,C,q,u.action=="cancellast");if(u.action=="rup")N.tX(m,this,Z,C,q);
if(u.action=="cancellast"){if(m&&m.history.length!=0&&Date.now()-m.history[m.history.length-1].aly<200){var e=new eY(r.E.H);
e.b=b.fn;e.data={d:"h_stepbck"};this.c(e)}}var Q=this.h1;if(u.action=="down")Q.K4(m,this,Z,C,q);if(u.action=="move")Q.TQ(m,this,Z,C,q);
if(u.action=="up")Q.ec(m,this,Z,C,q);if(u.action=="down"||u.action=="up"){this.aaP()}if(u.action=="down"||u.action=="up"||u.action=="ctx"){m.aJ=!0}if((u.action=="up"||u.action=="rup")&&this.K.wt){this.K.wt=null;
A.disable(m,this,Z,C)}if(u.action=="scroll"){var p=!C.j(hs.Vw)&&u.$J,J=new eY(r.E.H,!0);J.data={d:"scroll",TZ:u.TZ.clone(),vB:q};
J.b=C.j(hs.mD)||p?b.Uz:b.mA;this.c(J)}};br.prototype.wF=function(u){var m=this.Hp(),C=this.P0;if(m&&this.V8().uy(C,this.kb)){var Z=m.t,q=Z.pQ.e,J=Z.pQ.n,A=0,n=0,N=16;
if(C.x<N)A=N-C.x;if(C.x>q-N)A=C.x-(q-N);if(C.y<N)n=N-C.y;if(C.y>J-N)n=C.y-(J-N);if((A!=0||n!=0)&&(m.e*Z.V>q||m.n*Z.V>J)){A=Math.min(5,A*.5);
n=Math.min(5,n*.5);if(!(C.x<N||C.y<N)){A=-A;n=-n}Z.r.x+=A;Z.r.y+=n;this.a1O({vB:this.P0,action:"move"});
m.xi=!0}}this.update()};br.prototype.update=function(u){var m=this.Hp();if(m==null)return;if(m.aJ){var C=this.K.map;
for(var Z in C){if(C[Z].b.hP)C[Z].b.hP(m,this,this.vg,this.kb)}}if(m.tR){m.Qp()}var q=m.t,J=this.Ap,A=this.Ap=Date.now();
if(m.tR||m.W0||m.qz||m.xi||u||q.qM!=q.V||!q.E6.QV(q.r)){var n=q.qM;if(q.qM!=q.V){var N=b.Yq.qU(q.V,q.qM>q.V),e=.12;
if(q.qM<q.V&&q.qM<N)q.qM=N;if(q.qM>q.V&&q.qM>N)q.qM=N;var Q=Math.abs(q.V-N)*(A-J)*.001/e;if(q.qM<q.V)q.qM=Math.min(q.V,q.qM+Q);
else q.qM=Math.max(q.V,q.qM-Q)}var p=n==q.V?0:(q.qM-q.V)/(n-q.V);q.E6.x=q.r.x+p*(q.E6.x-q.r.x);q.E6.y=q.r.y+p*(q.E6.y-q.r.y);
this.B4.vZ(this.vg,null);this.B4.B6(m,this.RE)}if((m.tR||m.xi||m.aJ)&&(!this.P0.Ct||m.LM)){if(m.aJ)m.eA();
this.h1.B6(m,this.RE,this.vg);this.Jd.agq(m,this.kb);m.Ss=!1}m.LM=!1;m.aJ=!1;m.tR=null;m.W0=m.qz=m.xi=!1};
br.prototype.Df=function(u){var m=u.target.tagName.toLowerCase(),C=u.target.getAttribute("type"),Z=hs,q=Z.bD(u.code,Z.tb);
if(!((m=="input"||m=="select"||m=="button")&&Z.bD(u.code,Z.HH))){if(Z.oq(u)){u.preventDefault()}this.kb.U1(Z.BX(u));
this.St("down")}};br.prototype.TW=function(u){if(u.key==" ")this.kb.E3();if(hs.bD(u.code,hs.Hn))this.kb.reset();
this.kb.op(hs.BX(u));var m=u.target.tagName.toLowerCase();if(hs.oq(u)){u.preventDefault()}this.St("up")};
br.prototype.St=function(u){var m=this.kb,C=this.Hp(),Z=C!=null&&C.w.length!=0;if(this.zs.Wt()!=null){if(m.j(hs.U_)){this.zs.a8q()}return}this.aaP();
var q=this.ID(hs.Vw),J=m.j(hs.mD),A=m.j(hs.KP);if(q&&m.j(hs.eU)&&u=="down"){var n=new eY(r.E.H),N=new eY(r.E.z);
n.b=b.fn;if(A){n.data={d:"h_stepfwd"}}else{n.data={d:"h_stepbck"}}if(this.Oc.Wt()!=null&&this.Oc.Wt().sZ()){}else this.c(n)}if(q){var n=new eY(r.E.H),e=new eY(r.E.od),N=new eY(r.E.z);
if(!J&&u=="down")for(var Q in b1.keys){var p=b1.keys[Q],B=!0;for(var D=0;D<p.length;D++)if(!m.j(p[D]))B=!1;
if(B){n.b=b.ks;if(Q=="hue2"&&A)n.data={d:"auto",qK:3};else n.data={d:"start",gD:Q}}}if(m.j(hs.J)){e.data=b.No.W6(!0)}if(m.j(hs.c5)){if(J)N.data={d:r.J.zH,E$:"csize"};
else N.data={d:r.J.TN,s_:A}}if(m.j(hs.mE)){e.data=b.No.W6()}if(m.j(hs.E)&&u=="down"){n.b=b.IZ;if(A)n.data={d:F.pi};
else{if(C&&C.w.length==1&&C.w[0]!=0&&!C.g[C.w[0]].ld())n.data={d:F.BY};else n.data={d:F.oQ}}}if(m.j(hs.LN)){if(A&&this.vg.Oj!=b.l7)N.data={d:r.J.zH,E$:"afw_fade"};
else if(J){n.b=b.zz;n.data={d:"applylast"}}else N.data={d:r.J.nd}}if(m.j(hs.re)){if(J&&C&&C.MK(C.w[0])){n.b=b.IZ;
n.data={d:F.A8}}else{n.b=b.IZ;n.data={d:F.KH,Us:A}}}if(m.j(hs.oF)){N.data={d:r.J.mh,no:jO.e6}}if(m.j(hs.El)){if(A){n.data=null;
if(J)N.data={d:r.J.zH,E$:"finfo"};else e.data={ZO:"inverse"}}else if(J)N.data={d:r.J.zH,E$:"isize"}}if(m.j(hs.aD)){e.data={ZO:(A?"cut":"copy")+"ToLayer"}}if(m.j(hs.Lt)){N.data={d:r.J.zH,E$:"preferences"}}if(m.j(hs.M8)){if(A){n.b=b.IZ;
n.data={d:F.O1}}else N.data={d:r.J.zH,E$:"newproject"}}if(m.j(hs.pj)){N.data={d:r.J.zZ};m.reset()}if(m.j(hs.Fu)){N.data={d:r.J.a00};
m.reset()}if(m.j(hs.Sc)){N.data={d:r.J.mh,no:jO.Th}}if(m.j(hs.Jw)&&u=="down"){if(A){if(J)N.data={d:r.J.zH,E$:"saveforweb"};
else N.data={d:r.J.Dt}}else N.data={d:r.J.lg}}if(m.j(hs.zi)){if(A){n.b=b.l7;n.data={d:"again"}}else N.data={d:r.J.K3,b:b.l7}}if(m.j(hs.IQ)){N.data={d:r.J.Dr}}if(m.j(hs.yA)){this.B4._S()}if(m.j(hs.xL)){N.data={d:r.J.ck}}if(m.j(hs.wx)||m.j(hs.F0)){n.b=b.IZ;
n.data={d:F.Sk,OY:0};if(m.j(hs.wx))n.data.OY=A?3:2;else n.data.OY=A?0:1}if(m.j(hs.x9)&&C){n.b=b.IZ;n.data={d:F.LV}}if(m.j(hs.tb)&&C){var $=0;
if(A)$++;if(J)$+=2;n.b=b.zj;n.data={d:"frompath",_c:[null,0,$]}}if(m.j(hs.VA)){e.data=b.pB.QP(0)}if(m.j(hs.HH)){var R=this.RE.length;
if(R>1)this.B4.Vx((this.B4.xo()+1)%R)}if(m.j(hs.A2)){N.data={d:r.J.mh,no:jO.Cm}}if(m.j(hs.es)){N.data={d:r.J.mh,no:jO.pO}}b.Yq.Fe(m,n);
if(this.Oc.Wt()!=null&&this.Oc.Wt().sZ()){}else{if(n.data)this.c(n);if(e.data)this.c(e);if(N.data)this.c(N)}}if(C&&C.w.length!=0){var z=C.g[C.w[0]],v=z.$v;
if(v==1||v==3||q){var n=new eY(r.E.H),a=v==3?z.Ha(C).M:z.Te();if(a){var X=a.GH?C.t.Np.join("")=="111"?1:2:0;
n.b=b.Uz;if(a&&m.j(hs.U_)&&X!=0){n.data={d:"mskView",k:0}}if(a&&m.j(hs.abW)){n.data={d:"mskView",k:X==1?0:1}}if(a&&m.j(hs.a8w)){n.data={d:"mskView",k:X==2?0:2}}if(n.data)this.c(n)}}}if(!m.j(hs.Vw)&&!J&&u=="down"){var n=new eY(r.E.H),N=new eY(r.E.z),V=this.K.map[this.vg.Oj],o=-1;
for(var D=0;D<this.K.keys.length;D++)if(this.K.keys[D]&&this.ID(this.K.keys[D]))o=D;if(o!=-1){var h=null;
if(V.pN!=o)h=this.K.V_[o];if(V.pN==o&&A)h=(V.ain+1)%this.K.b6[o].length;if(h!=null){var T=this.K.b6[o][h].b.id,l=this.vg.apS;
if((l==null||l.indexOf(parseInt(T))!=-1)&&!this.P0.Ct)N.data={d:r.J.K3,b:T}}}if(m.j(hs.xL))N.data={d:r.J.mh,no:jO.e0,OY:2};
if(m.j(hs.mE))N.data={d:r.J.mh,no:jO.e0,OY:3};if(N.data)this.c(N);if(m.j(hs.al0)&&C&&C.w.length==1){var z=C.g[C.w[0]];
n.b=b.IZ;var w=z.Je(0)||z.Je(1)||z.Je(2)||z.Je(31);n.data={d:F.nV,Qc:w?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};
this.c(n)}var W=m.pn();if(Z&&W!=-1&&this.ID(hs._E[W])){var U=C.w[0],z=C.g[U],s=hs.gu(Math.round(100*z.opacity/255),W);
n.b=b.IZ;n.data={d:F.X8,Qc:Math.round(255*s/100)};this.c(n)}var S=this.vg.If;if(m.j(hs.HH)){N.data={d:r.J.QK,k:S==0?1:0};
this.c(N)}if(m.j(hs.LN)||m.j(hs.U_)&&S==2){var x=document.fullscreenElement!=null==(S==2);N.data={d:r.J.QK,k:S==0?2:0,hM:x};
this.c(N)}if(m.j(hs.Lk)&&!this.P0.Ct){n.b=b.zj;n.data={d:"qmask"};this.c(n)}}if(!m.j(hs.Vw)&&!J&&A){var n=new eY(r.E.H),N=new eY(r.E.z);
if(m.j(hs.x9))N.data={d:r.J.zH,E$:"shortcuts"};if(m.j(hs.dJ))N.data={d:r.J.zH,E$:"fill"};if(m.j(hs.a9s))N.data={d:r.J.zH,E$:"sel_feather"};
if(Z&&(m.j(hs.IA)||m.j(hs.Tw))){var U=C.w[0],z=C.g[U],P=hR.AO,y=P.length,_=P.indexOf(z.Um);n.b=b.IZ;
n.data={d:F.EU,Qc:(_+y+(m.j(hs.IA)?1:-1))%y};this.c(n)}if(N.data)this.c(N)}var n=new eY(r.E.H),g=u=="down"&&(this.ID(hs.Vg)||this.ID(hs.A_));
if((q||J)&&g){n=new eY(r.E.od);n.data=b.Zg.ij(q?"BckC":"FrgC");this.c(n)}else if(C&&g&&!this.P0.Ct){if(C.q!=null){n=new eY(r.E.od);
n.data={ZO:"delete"}}else if(C.w.length!=0){var z=C.g[C.w[0]];if(z.$v==1)n.data={d:F.bk};else if(z.$v==3)n.data={d:F.OF};
else n.data={d:F.Sz};n.b=b.IZ}this.c(n)}if(this.Oc.Wt()!=null){if(m.j(hs.U_)){this.Oc.Wt().a1s()}else{this.Oc.Wt().St(C,this,this.vg,m)}}if(this.vg.Oj==null)return;
var V=this.V8();if(this.Oc.Wt()==null||this.K.iF)V.St(C,this,this.vg,m)};br.prototype.ID=function(u){var m=this.kb,C=this.K.map[this.vg.Oj].b,top=this.Oc.Wt(),Z=this.Hp();
return m.j(u)&&!C.$d(u,Z)&&(top==null||!top.$d(u,Z))};br.prototype.il=function(u){var m=this.ari,C=this.c1;
this.vg.If=u;var Z=f.pZ,q=this.by.m;if(Z(q))this.S2.removeChild(q);var J=this.YM.m;if(Z(J))this.S2.removeChild(J);
var A=this.Jd.m;if(Z(A))m.removeChild(A);var n=this.B4.m;if(Z(n))m.removeChild(n);var N=this.h1.m;if(Z(N))m.removeChild(N);
if(u==0){this.S2.appendChild(q);this.S2.appendChild(J);C.appendChild(m);m.appendChild(A);m.appendChild(n);
m.appendChild(N)}if(u==1){this.S2.appendChild(q);m.appendChild(n)}if(u==2){m.appendChild(n)}this.B4.il(u==2?1:0);
this.rP()};br.prototype.ahX=function(u){if(this.sp())return 1;if(f.am_()==0){this.vg={};this.CC=function(m,C){return Math.sqrt(m*C)}}return-1};
function a4(u){bK.call(this);if(u==null)return;this.du=null;this.Oh=null;this.m=f.L("div","sbar"+" "+u);
this.cd=new f.L("div","top");this.cd.innerHTML="> <";this.m.appendChild(this.cd);this.Ig=1;this.cd.addEventListener("click",this.a4y.bind(this),!1)}a4.prototype=new bK;
a4.prototype.a4y=function(u){if(this.du!=null&&this.du<500&&this.Ig==0)return;if(this.Ig==0)this.Ae(!0);
else this.collapse(!0)};a4.prototype.a4b=function(u){this.Ig=u;this.cd.innerHTML=this.Ig==0?"< >":"> <"};
a4.prototype.a6L=function(){var u=new eY(r.E.z,!0);u.data={d:r.J.Ab};this.c(u)};a4.prototype.Ae=function(u){this.a4b(1);
if(u)this.a6L()};a4.prototype.collapse=function(u){this.a4b(0);if(u)this.a6L()};a4.prototype.EO=function(){return this.Ig==1};
function et(u,m){a4.call(this,"vcolumn");this.uC=u;this.a8j=m;this.N4();this.zR=f.L("div");this.zR.setAttribute("style","cursor:default;");
this.a5W=this.apV.bind(this);this.ajZ=this.adn.bind(this);this.a2D=this.a6Y.bind(this);f.oI(this.m,this.a5W);
this.m.appendChild(this.zR);this._k=f.L("div");this.zR.appendChild(this._k);this.OB=-1;this.hV=f.L("div","float");
var C=this.On=f.L("canvas"),Z=12;C.width=C.height=Z;var q=C.getContext("2d");q.fillStyle="rgba(0,0,0,0.5)";
q.moveTo(0,0);q.lineTo(Z,Z);q.lineTo(0,Z);q.fill();this.On.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
f.ZF(this.On);f.oI(this.On,this.a5W);this.SA=[];this.N5=[];this.a08=null;this.H$=null;this.asn=0}et.prototype=new a4;
et.prototype.apV=function(u){var m=u.target==this.On;if(!m){if(u.target!=this.m)return;if(!this.EO())return}else{var C=this.SA[this.OB].B_;
C.style.pointerEvents="none";var Z=C.getBoundingClientRect();this.a08=[Z.width,Z.height];this.N5[this.OB]=[Z.width,Z.height]}u.stopPropagation();
this.H$=f.OR(u,document.body);this.asn=this.uC;f.zy(document,this.ajZ);f.sQ(document,this.a2D)};et.prototype.adn=function(u){var m=f.OR(u,document.body);
if(this.EO()){this.uC=this.asn+this.H$.x-m.x;this.N4()}else{var C=this.N5[this.OB],Z=this.a08;C[0]=Z[0]+this.H$.x-m.x;
C[1]=Z[1]+m.y-this.H$.y}var q=new eY(r.E.z,!0);q.data={d:r.J.Ab};this.c(q)};et.prototype.a6Y=function(u){if(!this.EO()){var m=this.SA[this.OB].B_;
m.style.pointerEvents="auto"}f.bU(document,this.ajZ);f.YL(document,this.a2D)};et.prototype.aaJ=function(u){u.l("showFloat",this.an5,this);
u.l("hideFloat",this.zL,this);this.SA.push(u);u.parent=this;this.zR.appendChild(u.m)};et.prototype.aj4=function(D){var u=this.SA[D];
u.removeEventListener("showFloat",this.an5,this);u.removeEventListener("hideFloat",this.zL,this);this.SA.splice(D,1);
u.parent=null;this.zR.removeChild(u.m)};et.prototype.auz=function(){return this.SA.length};et.prototype.vN=function(){for(var D=0;
D<this.SA.length;D++)this.SA[D].vN()};et.prototype.an5=function(u){this.zL(u);this._k.appendChild(this.hV);
this.OB=this.SA.indexOf(u.currentTarget);var m=this.SA[this.OB].B_;this.hV.appendChild(m);this.hV.appendChild(this.On);
this.CC(this.du,this.Oh)};et.prototype.zL=function(u){this.vN();if(this.OB!=-1){this._k.removeChild(this.hV);
var m=this.SA[this.OB];if(m)this.hV.removeChild(m.B_);this.OB=-1}};et.prototype.N4=function(){this.m.setAttribute("style","width: "+this.uC+"px; padding-left:3px; cursor:ew-resize;")};
et.prototype.Ae=function(u){this.N4();this.zL();for(var D=0;D<this.SA.length;D++)this.SA[D].Ae();a4.prototype.Ae.call(this,u)};
et.prototype.collapse=function(u){this.m.removeAttribute("style");for(var D=0;D<this.SA.length;D++)this.SA[D].collapse();
a4.prototype.collapse.call(this,u)};et.prototype.CC=function(u,m){this.du=u;this.Oh=m;m-=6;var C=this.SA.length,Z=this.EO();
if(C==0)return;u=this.uC;var q=m<400?m:400+(m-400)*.5,J=m;for(var D=0;D<C;D++){var A=this.SA[D],n=A.akN(),N=this.N5[D];
A.CC(!Z&&N?N[0]:u,Z?D==C-1?J:n:N?N[1]:q);J-=n}};function j3(u){bK.call(this);this.m=f.L("div");this.zR=null;
this.JB=0;this.AR=0;this.a0I=u;this.ae7=this.AT.bind(this);this.al7=this.rB.bind(this);this.arH=this.kP.bind(this);
this.IM=null;this.ws=null;this.X2=null;f.oI(this.m,this.ae7);var m=this.m,Z="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
m.addEventListener("touchmove",f.CT,!1);this.ahR=!0;this.tL=[];var C=this.ahG=f.L("div");C.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.m.appendChild(C);var q=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",Z+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",Z+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",Z+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var D=0;D<q.length;D++){var J=new iG(q[D]);this.tL.push(J);J.m.setAttribute("style","margin-left:"+(D<7?4:0)+"px;cursor:pointer;");
J.l("click",this.LT,this)}}j3.prototype=new bK;j3.prototype._=function(){var u=this.ahG;f.Da(u);for(var D=0;
D<this.tL.length;D++){var m=this.tL[D];if(D<5)m._();u.appendChild(m.m)}};j3.prototype.LT=function(u){var D=this.tL.indexOf(u.currentTarget);
if(D==0){if(window.showCap)window.showCap();return}var m=" issues learn blog api twitter facebook".split(" "),C=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),Z=window.ga;
if(Z)Z("send","event","Links",m[D]);var q=new eY(r.E.z,!0);q.data={d:r.J.VR,link:C[D]};this.c(q)};j3.prototype.AT=function(u){if(u.a4S){u.preventDefault();
u.stopPropagation()}var m=window;f.zy(m,this.al7);f.sQ(m,this.arH);m=this.zR;this.IM=new dz(parseInt(m.style.left),parseInt(m.style.top));
this.ws=f.OR(u,this.m);this.X2=m.getBoundingClientRect()};j3.prototype.rB=function(u){var m=f.OR(u,this.m),C=this.IM.x+m.x-this.ws.x,Z=this.IM.y+m.y-this.ws.y,q=this.JB-this.X2.width,J=this.AR-this.X2.height;
if(this.a0I)this.zR.style.left=Math.min(0,Math.max(q,C))+"px";else this.zR.style.top=Math.min(0,Math.max(J,Z))+"px";
if(C-10>0){this.ws.x=m.x-10;this.IM.x=0}if(C+10<q){this.ws.x=m.x+10;this.IM.x=q}};j3.prototype.kP=function(u){var m=window;
f.bU(m,this.al7);f.YL(m,this.arH)};j3.prototype.arb=function(u){if(this.zR){this.m.removeChild(this.zR)}this.zR=u;
this.m.appendChild(u);u.style.position="absolute";if(this.a0I)u.style.left=0;else u.style.top=0};j3.prototype.CC=function(u,m){this.JB=u;
this.AR=m;this.m.setAttribute("style","position:relative; width: "+u+"px; height: "+m+"px; overflow:hidden; white-space: nowrap; ");
this.zR.style.left="0";this.zR.style.top="0";var C=this.zR.firstChild,Z=this.ahG,q=C?C.firstChild.getBoundingClientRect().width+80:1e9,J=450,A=this.ahR&&u>q+J,n=f.$L("SU\\VOAV"),N=Z[dZ.C7][n]=A?"":f.$L("][WK")};
function hW(){bK.call(this);this.sU=null;this.X$=hW.Fu;this.a4c="";this.m=f.L("div","rightbar");this.Wi=[new et(300),new et(268,!0)];
this.SA=[new go,new go,new go,new go,new go,new go,new go];this.asW=[]}hW.prototype=new bK;hW.prototype._=function(){var u=this.X$;
for(var D=0;D<u.length;D++)u[D].Vl._()};hW.Fu=[{Vl:new dm,ne:3},{Vl:new dK,ne:1},{Vl:new hI,ne:4},{Vl:new fM,ne:2},{Vl:new cr(!0),ne:5},{Vl:new f4,ne:0},{Vl:new gE,ne:5},{Vl:new j4,ne:3},{Vl:new gd,ne:0},{Vl:new g5,ne:3},{Vl:new hK,ne:2},{Vl:new dp,ne:4},{Vl:new hD,ne:3},{Vl:new cr(!1),ne:5},{Vl:new hf,ne:2},{Vl:new dW,ne:3},{Vl:new ea,ne:1},{Vl:new aI,ne:0},{Vl:new cb,ne:5},{Vl:new c3,ne:6,YE:!0},{Vl:new gP,ne:6,YE:!0},{Vl:new bu,ne:6,YE:!0}];
(function(){var u=[{id:dy.Sc.aaF,name:"Gallery",url:"plugins/gallery.html",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFR0dH////UFBQ8/PzoaGhYWFh3Nzcg4ODxcXFt7e34FYpWAAAAidJREFUeJzt2btuwjAUBuAoIlBGy2mADakVuysh1rCgjlRInQHxAIn6AiB16Ub7xG1utmM7vhwPXfxvRZxPCfY5JSaKQkJCQvjEO4Icgy9LDvhwLa+yYfUTSD1CBQWeYMALBbYwIKXACQZkFCAwAFMAVo9QD0j5ZTUm2UpA7lIfRVMJcLqAv0uQALf6KA4ADEh2BF/2cCC5Ve+b78FAO3U2UGDUdUAOBMoOmMGAhHQA3oOAB9bFVxDwxoBHEMDNzRQEcHNzDgIIAzAIQFz+B/C+Be8P0XsZvTeS91Z2b6ZY+LvsAMt2fiZZ0XvBcaAkp2a5uLiNtFX12r1vOg3V+s0L4apeCf60HOsj7naVMQEl23MggC56IRZaAofemiujBWLaengPArh9vwYBXOsOXoIO6H33PtP7WloDBx7I2rrJqd8bGiAmPICO9LZmlsC4V9+2VPXFEhd2wK0P1C0V38QlGQZGQn3dUu/SkgwDpQign2jSfixrC4DNPhr81e3Mbkl0gP756WwG9I8/mRGYauub/wlawPQAtzAA5kfQux446KsRm3JqQGgDZXIdMNbX1pnpgG8LoB20SkBqA2U2w0BpBTQtpQIUbaDMeghY2dU3l6ACxEkymLMaMLUBS9XVCsDhHOOoAlxOYuYqwNwGXK4yEDsdpCxk4EFfISaXAMejoFQCIAlAAAIgAARWz45EvQ9lvY+FvQ+mvY/GvQ/n/X8eCAkJCYmiX0mkBrefjRa7AAAAAElFTkSuQmCC"},{name:"Emoji",url:"https://hxim.github.io/TwemojiPlugin/twemoji3.html",icon:"https://hxim.github.io/TwemojiPlugin/icon.svg"},{name:"QR Code Maker",url:"https://hxim.github.io/TwemojiPlugin/qrcode/qrcode.html",icon:"https://hxim.github.io/TwemojiPlugin/qrcode/icon.png"},{name:"3D Depth Viewer",url:"plugins/depth",icon:"---panels/3D"},{name:"3D Elements",url:"https://yikuansun.github.io/photopea-3delements/",icon:"https://yikuansun.github.io/photopea-3delements/icon.png"},{name:"Particle System",url:"https://yikuansun.github.io/photopea-particlesystem",icon:"https://yikuansun.github.io/photopea-particlesystem/icon.svg"},{name:"Chart Maker",url:"https://hxim.github.io/TwemojiPlugin/gcharts/gcharts.html",icon:"https://hxim.github.io/TwemojiPlugin/gcharts/icon.svg"}];
for(var D=0;D<u.length;D++)hW.Fu.push({Vl:new gT(u[D],100+D),ne:6,YE:!0})}());hW.prototype.a3J=function(u){for(var D=0;
D<u.length;D++){var m=u[D],C=new gT(m,"plg_"+m.name);this.X$.push({Vl:C,ne:6});this.asW.push(C.y4)}this.L9()};
hW.prototype.vZ=function(u,m){this.sU=u;var C=this.X$;for(var D=0;D<C.length;D++)C[D].Vl.vZ(u,m);if(m==jO.Cn||m==jO.LY)this.L9()};
hW.prototype.NH=function(u){var m=this.X$;for(var D=0;D<m.length;D++)m[D].Vl.NH(u)};hW.prototype.CC=function(u,m){this.du=u;
this.Oh=m;this.L9();this.Wi[0].CC(u,m);this.Wi[1].CC(u,m)};hW.prototype.L9=function(){var u=this.sU,m=this.du,C=this.Oh;
if(u==null||m==0)return;var Z=u.P5.concat(this.asW),q=m<500||m<700&&m<C,J=JSON.stringify(Z)+","+q;if(J!=this.a4c){this.a4c=J;
f.Da(this.m);var A=[];for(var D=0;D<this.Wi.length;D++){var n=this.Wi[D];A[D]=n.EO();while(n.auz()!=0)n.aj4(0);
n.Ae()}var N=[];for(var D=0;D<this.SA.length;D++){var e=this.SA[D];e.Ae();while(e.aad()!=0)e.AS(0);N.push(0)}for(var D=0;
D<Z.length;D++){var Q=this.a8p(Z[D].toString());this.SA[Q.ne].SL(Q.Vl);this.SA[Q.ne].Vx(0);N[Q.ne]++}var p=[];
for(var D=0;D<N.length;D++){if(N[D]==0)continue;var B=D<3||q?1:0,n=this.Wi[B];n.parent=this;n.aaJ(this.SA[D]);
p[B]=!0}for(var D=0;D<this.Wi.length;D++)if(p[D])this.m.appendChild(this.Wi[D].m);this.Wi[0].collapse();
if(m<700||this.sU.compact||!A[1]){this.Wi[1].collapse()}var $=new eY(r.E.z,!0);$.data={d:r.J.Ab};this.c($)}};
hW.prototype.a8p=function(u){for(var D=0;D<this.X$.length;D++)if(this.X$[D].Vl.y4==u)return this.X$[D]};
hW.prototype.aiS=function(u){var m=this.a8p(u);this.SA[m.ne].SL(m.Vl)};hW.prototype.B6=function(u,m,C){var Z=this.X$;
for(var D=0;D<Z.length;D++)Z[D].Vl.B6(u,m,C)};hW.prototype.K4=function(u,m,C,Z,q){var J=this.X$;for(var D=0;
D<J.length;D++)J[D].Vl.K4(u,m,C,Z,q)};hW.prototype.TQ=function(u,m,C,Z,q){var J=this.X$;for(var D=0;
D<J.length;D++)J[D].Vl.TQ(u,m,C,Z,q)};hW.prototype.ec=function(u,m,C,Z,q){var J=this.X$;for(var D=0;
D<J.length;D++)J[D].Vl.ec(u,m,C,Z,q)};function gN(u,m){a4.call(this,"toolbar");this.tE=null;this.Wd=f.L("div","tools");
this.m.appendChild(this.Wd);this.al=null;this.aie=m;this.JV=null;this.au1=-1;this.aav={};this.K=null;
this.EN=null;this.EG=null;this.t9=null;this.Ed(u);this.lo=new i9;this.lo.m.style.marginTop="5px";this.lo.m.style.marginBottom="3px";
this.lo.parent=this;this.D0=new iG(f.hS("lrs/mask"),!1,[6,6,1]);this.D0.l("click",function(J){var A=new eY(r.E.H,!0);
A.b=b.zj;A.data={d:"qmask"};this.c(A)},this);var C=new jI(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
C.l(r.E.o,this.afR,this);var Z=f.L("span","rangecont form padded");Z.appendChild(C.m);var q=document.body;
this.a6P=[!1,!1,!1,!1];this.j8=new iG("\u2328",!1,"Virtual Keys");this.j8.l("click",function(J){var A=this.j8.m.getBoundingClientRect();
Z.setAttribute("style","position:absolute; top:"+(A.top-40)+"px; left: "+(A.left+A.width+4)+"px; width:120px; z-index:2; ");
if(f.pZ(Z))q.removeChild(Z);else q.appendChild(Z)},this)}gN.prototype=new a4;gN.prototype.afR=function(u){var m=u.target.Y();
this.j8.f(m[0]||m[1]||m[2]||m[3]);var C=new eY(r.E.z,!0);for(var D=0;D<4;D++){if(m[D]!=this.a6P[D]){C.data={d:r.J.a4Q,Ct:m[D],aq3:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][D]};
this.c(C)}}this.a6P=m.slice(0)};gN.prototype.agq=function(u,m){this.JV=m;if(u==null||u.w.length==0||u.g[u.w[0]]==null)return;
var C=u.D0()!=null,Z=u.t.Np,q=u.g[u.w[0]].$v,J=q==1||q==3||C||Z[0]+Z[1]+Z[2]==1;this.lo.anL(J);this.D0.f(C)};
gN.prototype.adi=function(u,m){var C=u.length,Z=[];for(var D=0;D<C;D++)Z[D]=u[D].slice(0);u=Z;var q=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],J=Math.min(q.length/2,C-m);
for(var D=0;D<J;D++){var A=q[2*D],n=q[2*D+1];u[A]=u[A].concat(u[n]);u[n]=null}for(var D=0;D<u.length;
D++)if(u[D]==null){u.splice(D,1);D--}return u};gN.prototype.aqu=function(u,m){for(var D=0;D<m.length;
D++)for(var C=0;C<m[D].length;C++)if(m[D][C].b.id==u)return D};gN.prototype.Ed=function(u,m){this.tE=u;
this.EN=[];this.EG=[];this.t9=[];this.K=[];var C=u.b6;if(m!=null&&this.aie)C=this.adi(C,m);if(this.al){var Z=[],q=this.al.apS;
for(var D=0;D<C.length;D++){var J=[];for(var A=0;A<C[D].length;A++){var n=C[D][A];if(q==null||q.indexOf(parseInt(n.b.id))!=-1)J.push(n)}if(J.length>0)Z.push(J)}C=Z}for(var D=0;
D<C.length;D++){var N=[],e=this.EN.length,Q=null,p=-1;for(var A=0;A<C[D].length;A++){var n=C[D][A].b,B=this.aqu(n.id,u.b6),$=u.keys[B];
this.K.push(n);var R=new d2(n.name,$,n.Oz,this.EN.length,D,C[D].length>1);this.EN.push(R);var z=this.aav[n.id];
if(z==null)z=0;if(z>p){p=z;Q=R}R.l(r.E.o,this.ci,this);R.l("mover",this.c9,this);N.push({name:n.name,Qo:n.Oz,B8:$?$.NQ:""})}this.EG.push(Q);
if(N.length==1)this.t9.push(null);else{var v=new dk(N,null,!0);v.acq=e;v.pN=D;this.t9.push(v);v.l("select",this.an8,this);
v.parent=this}}};gN.prototype.CC=function(u,m){var C=this.Oh=m-11,Z=32;if(1<f.F()&&f.F()<1.5)Z=18+14*(1/f.F());
var q=39+23,J=Math.floor((C-q)/Z),A=this.al;if(A==null)return;if(J!=this.au1){this.au1=J;this.Ed(this.tE,J);
this.UY(A.Oj)}var n=this.EG.length*Z+q,N=Math.min(1,C/n);if(.75<=N){this.Wd.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+N+","+N+");");
this.m.setAttribute("style","height:"+(m-2)+"px; overflow:hidden;")}else{C-=4;this.Wd.setAttribute("style","height: "+C+"px;  width:"+Math.ceil(n/C)*34+"px");
this.m.setAttribute("style","")}};gN.prototype._=function(){for(var D=0;D<this.EN.length;D++)this.EN[D]._();
for(var D=0;D<this.t9.length;D++)if(this.t9[D])this.t9[D]._()};gN.prototype.ci=function(u){var m=new eY(r.E.z,!0);
m.data={d:r.J.K3,b:this.K[u.id].id};this.c(m)};gN.prototype.an8=function(u){var m=u.target.acq+u.target.dm()[0];
this.EN[m].kP(null)};gN.prototype.c9=function(u){var m=this.JV,C=new eY(r.E.z,!0);C.data={d:r.J.a4};
this.c(C);var Z=u.target,q=this.t9[Z.pN];if(q==null)return;var J=Z.m.getBoundingClientRect(),C=new eY(r.E.z,!0);
C.data={d:r.J.ek,Vl:q,x:J.left+J.width+8,y:J.top};if(m==null||!(m.j(hs.tH)||m.j(hs.Vw)))this.c(C)};gN.prototype.UY=function(u){this.aav[u]=Date.now();
var m=-1;for(var D=0;D<this.K.length;D++)if(this.K[D].id==u)m=D;for(var D=0;D<this.EN.length;D++){var C=this.EN[D];
C.a9C(m==D)}if(m==-1)return;this.EG[this.EN[m].pN]=this.EN[m];f.Da(this.Wd);var Z=this.EG;for(var D=0;
D<Z.length;D++){this.Wd.appendChild(Z[D].m)}if(!this.aie)return;this.Wd.appendChild(this.lo.m);if(this.Oh>640)this.Wd.appendChild(this.D0.m);
this.Wd.appendChild(this.j8.m)};gN.prototype.B6=function(u,m){this.UY(m.Oj)};gN.prototype.vZ=function(u,m){this.al=u;
if(m==jO.LY){this.Ed(this.tE);this.UY(u.Oj)}this.lo.agr(u.jM,u.z0)};function d2(u,m,C,Z,q,J){bK.call(this);
this.K1=0;this.Et=this.a3Y.bind(this);this.pN=q;this.sj=Z;this.V0=u;this.abr=m;this.aqe=J;this.Oz=C;
this.m=f.L("button","");this.m.innerHTML=f.hS(this.Oz);if(this.aqe){var A=f.L("img","gsicon");A.setAttribute("src",PIMG["tools/corner"]);
A.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.m.appendChild(A)}this._();
f.oI(this.m,this.AT.bind(this));this.m.addEventListener("click",this.kP.bind(this),!1);this.m.addEventListener("contextmenu",d2.Qn,!1)}d2.prototype=new bK;
d2.Qn=function(u){u.stopPropagation();u.preventDefault();return!1};d2.prototype._=function(){var u=this.abr?" ("+this.abr.NQ+")":"";
this.m.setAttribute("title",jg.get(this.V0)+u)};d2.prototype.AT=function(u){this.K1=setTimeout(this.Et,160)};
d2.prototype.kP=function(u){clearTimeout(this.K1);var m=new eY(r.E.o,!1);m.target=this;m.id=this.sj;
this.c(m)};d2.prototype.a3Y=function(u){var m=new eY("mover",!1);m.target=this;m.id=this.sj;this.c(m)};
d2.prototype.a9C=function(u){this.m.setAttribute("class",u?"toolbtn active":"toolbtn")};function eU(){bK.call(this);
this.m=f.L("div","topbar");this.AC=f.L("span","");this.apA=0;this.m.appendChild(this.AC);this.Wh=null;
this.wz=null;this.be=[];this.P5=[];var u=this.AT.bind(this);for(var D=0;D<eU.data.length;D++){var m=f.L("button");
this.be.push(m);this.AC.appendChild(m);m.addEventListener("mouseover",u,!1);f.oI(m,u)}this.fl=new iG([0,13,0],!1,null,!0);
this.fl.l("click",this.we,this);this.m.appendChild(this.fl.m);this.Wg=new iG(f.hS("tools/zoom",null,"autoscale"),!1,[12,86]);
this.Wg.l("click",this.we,this);this.m.appendChild(this.Wg.m);this.n5=new iG("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.n5.l("click",this.we,this);this.m.appendChild(this.n5.m)}eU.prototype=new bK;eU.prototype.at7=function(){if(this.P5.length!=0)return;
for(var D=0;D<eU.data.length;D++){var u=eU.data[D],m=new dk(u.items,u.hp);m.parent=this;this.P5.push(m)}this._()};
eU.prototype._=function(){this.fl._();this.Wg._();this.n5._();for(var D=0;D<this.be.length;D++)this.be[D].textContent=jg.get(eU.data[D].name);
this.a7x();for(var D=0;D<this.P5.length;D++)this.P5[D]._()};eU.prototype.we=function(u){var m=new eY(r.E.z,!0);
if(u.target==this.fl)m.data={d:r.J.zH,E$:"account"};else if(u.target==this.Wg)m.data={d:r.J.nd};else m.data={d:r.J.QK,hM:!0};
this.c(m)};eU.prototype.aoa=function(u,m){this.Wh=u;this.wz=m};eU.prototype.vZ=function(u,m){this.wz=u;
if(m==jO.LY){var C=u.a5N;f.Da(this.AC);for(var D=0;D<this.be.length;D++){if(C==null||C[D]==1||C[D]instanceof Array)this.AC.appendChild(this.be[D]);
if(C!=null&&C[D]instanceof Array){this.at7();this.P5[D].agu(C[D])}}this.m.removeChild(this.fl.m);this.m.removeChild(this.Wg.m);
this.m.removeChild(this.n5.m);if(u.qO)this.m.appendChild(this.fl.m);this.m.appendChild(this.Wg.m);this.m.appendChild(this.n5.m)}this.a7x()};
eU.prototype.a7x=function(u,m){var C=this.fl,Z=12255232;if(iP.T_())Z=iP.Bi()?43520:16755200;C.m.setAttribute("style","color:#ffffff; background-color:#"+j.U0(Z))};
eU.prototype.AT=function(u){this.at7();var D=this.be.indexOf(u.currentTarget),m=this.P5[D];if(u.type=="mouseover"&&!f.pZ(this.P5[this.apA].m))return;
if(f.pZ(m.m))return;u.a4S=!0;this.apA=D;for(var D=0;D<eU.data.length;D++)this.P5[D].update(this.Wh,this.wz);
var C=u.target.getBoundingClientRect(),Z=new eY(r.E.z,!0);Z.data={d:r.J.ek,Vl:m,x:C.left,y:C.top+C.height+2,ag$:!0};
this.c(Z)};eU.ash=function(u){var m=hs,C=m.Vw,Z=m.KP,q=m.mD,J={name:[0,5],items:[{name:[7,0],B8:[C,m.J]},{name:[7,1],B8:[C,m.mE],P:function(n){return{P:n!=null&&n.q!=null}}},{name:[7,2],B8:[Z,C,m.El],P:function(n){return{P:n!=null&&n.q!=null}},ZR:!0},{name:[7,11],mG:!0,P:function(n){return{P:n!=null&&n.w.length!=0&&!n.g[n.w[0]].rect.qR()}}},{name:[7,13],mG:!0,P:function(n){return{P:n!=null&&n.w.length!=0&&!n.g[n.w[0]].rect.qR()}},ZR:!0},{name:[7,8],mG:!0},{name:[7,3],ZR:!0,sub:[{name:[7,9],mG:!0,P:function(n){return{P:n!=null&&n.q!=null}}},{name:[19,3,0],mG:!0,P:function(n){return{P:n!=null&&n.q!=null}}},{name:[7,4],mG:!0,P:function(n){return{P:n!=null&&n.q!=null}}},{name:[7,5],mG:!0,P:function(n){return{P:n!=null&&n.q!=null}}},{name:[7,6],mG:!0,P:function(n){return{P:n!=null&&n.q!=null}},B8:"Shift+F6"}]},{name:[7,10],P:function(n){return{P:n!=null&&n.q!=null}},ZR:!0},{name:[6,6,1],P:function(n){return{P:n!=null,XH:n!=null&&n.D0()!=null}},B8:[m.Lk],ZR:!0},{name:["VAR0 VAR1",[1,2],[17,2]]}],hp:[{W:r.E.od,R:b.No.W6(!0)},{W:r.E.od,R:b.No.W6()},{W:r.E.od,R:{ZO:"inverse"}},{W:r.E.z,R:{d:r.J.zH,E$:"redge"}},{W:r.E.z,R:{d:r.J.zH,E$:"magiccut"}},{W:r.E.z,R:{d:r.J.zH,E$:"crange"}},{sub:[{W:r.E.z,R:{d:r.J.zH,E$:"sel_border"}},{W:r.E.z,R:{d:r.J.zH,E$:"sel_smoothness"}},{W:r.E.z,R:{d:r.J.zH,E$:"sel_expand"}},{W:r.E.z,R:{d:r.J.zH,E$:"sel_contract"}},{W:r.E.z,R:{d:r.J.zH,E$:"sel_feather"}}]},{W:r.E.z,R:{d:r.J.K3,b:b.r_}},{W:r.E.H,b:b.zj,R:{d:"qmask"}},{W:r.E.od,R:{ZO:"duplicate",yS:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(u){var A=J.items.length-1;J.items.splice(A-2,0,{name:[6,49],B8:[C,m.aD],ZR:!0});J.hp.splice(A-2,0,{W:r.E.od,R:{ZO:"copyToLayer"}});
J.items.splice(A-1,0,{name:[10,16],B8:[q,C,m.zi]});J.hp.splice(A-1,0,{W:r.E.z,R:{d:r.J.K3,b:b.l7}})}return J};
eU.data=function(){var u=hs,m=u.Vw,C=u.KP,Z=u.mD,q=function(Q){return{P:Q!=null&&Q.w.length!=0}},J=function(Q){return{P:Q!=null&&Q.w.length!=0&&Q.g[Q.w[0]].add.SoLd!=null}},A=[],n=[],N="none maxx avrg medn minn rang stdv summ vari".split(" "),e=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var D=0;D<N.length;D++){A.push({name:e[D]});n.push({W:r.E.H,b:b.IZ,R:{d:F.UB,Qc:N[D]}})}return[{name:[0,0],items:[{name:[5,3],B8:[Z,m,u.M8],title:[11,7],mG:!0},{name:[1,0],B8:[m,u.pj],mG:!0},{name:[1,11],mG:!0,P:function(Q,p){return{P:Q!=null}}},{name:["VAR0 VAR1",[1,0],[0,14]],ZR:!0,sub:[{name:[1,5],mG:!0},{name:[11,0],mG:!0},{name:["PSD VAR0",[25,0]],mG:!0}]},{name:[1,1],ZR:!0,sub:[{name:"PNG",B8:"Imgur.com",P:function(Q,p){return{P:Q!=null&&p.HF}}},{name:"JPG",B8:"Imgur.com",P:function(Q,p){return{P:Q!=null&&p.HF}}},{name:"PSD",B8:"Photopea.com",P:function(Q,p){return{P:Q!=null&&p.HF&&!Q.Mo}}}]},{name:"Save ...",B8:[m,u.Jw],P:function(Q,p){var B=jg.get([1,2])+(Q==null?"":Q.Y$?" ("+jg.get([6,7,1])+")":Q.iJ?" (Google Drive)":"");
return{P:Q!=null&&(Q.Oo!=null&&Q.rG=="psd"||Q.Y$!=null||Q.lC!=null&&Q.lC.TM!=null||Q.iJ!=null||p.Gl.save!=null),hD:B}}},{name:[1,3],P:function(Q,p){return{P:Q!=null&&!Q.Mo&&p.HF}}},{name:["VAR0 PSD/PSB",[1,2]],mG:!0,P:function(Q,p){return{P:Q!=null&&!Q.Mo&&p.HF}}},{name:[1,8],sub:function(){var Q=d4.bs(0),p=[];
for(var D=0;D<Q.length;D++)p.push({name:Q[D],B8:"."+Q[D].toLowerCase()});p.push({name:[0,14],sub:function(){var Q=d4.bs(1),p=[];
for(var D=0;D<Q.length;D++)p.push({name:Q[D],B8:"."+Q[D].toLowerCase()});return p}()});return p}()},{name:[1,4],mG:!0,P:function(Q,p){return{P:Q!=null}},ZR:!0},{name:[1,9],mG:!0,P:function(Q,p){return{P:Q!=null}}},{name:"Export Color Lookup",mG:!0,P:function(Q,p){return{P:Q!=null}},ZR:!0},{name:[1,14],mG:!0,P:function(Q,p){return{P:Q!=null}},ZR:!0},{name:[1,10]}],hp:[{W:r.E.z,R:{d:r.J.zH,E$:"newproject"}},{W:r.E.z,R:{d:r.J.zZ}},{W:r.E.z,R:{d:r.J.zZ,arQ:!0}},{sub:[{W:r.E.z,R:{d:r.J.zH,E$:"open_from_url"}},{W:r.E.z,R:{d:r.J.zH,E$:"camera"}},{W:r.E.z,R:{d:r.J.zH,E$:"templates"}}]},{sub:[{W:r.E.z,R:{d:r.J.tt,uM:"png"}},{W:r.E.z,R:{d:r.J.tt,uM:"jpg"}},{W:r.E.z,R:{d:r.J.tt,uM:"psd"}}]},{W:r.E.z,R:{d:r.J.lg}},{W:r.E.z,R:{d:r.J.Dt}},{W:r.E.z,R:{d:r.J.zH,E$:"savepsb"}},{sub:function(){var Q=d4.bs(0),p=[];
for(var D=0;D<Q.length;D++)p.push({W:r.E.z,R:{d:r.J.zH,E$:"saveforweb",uM:D}});p.push({sub:function(){var B=d4.bs(0).length,Q=d4.bs(1),p=[];
for(var D=0;D<Q.length;D++)p.push({W:r.E.z,R:{d:r.J.zH,E$:"saveforweb",uM:B+D}});return p}()});return p}()},{W:r.E.z,R:{d:r.J.zH,E$:"saveforweb",uM:4,ade:!0}},{W:r.E.z,R:{d:r.J.zH,E$:"eassets"}},{W:r.E.z,R:{d:r.J.zH,E$:"exlut"}},{W:r.E.z,R:{d:r.J.zH,E$:"finfo"}},{W:r.E.z,R:{d:r.J.zH,E$:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],B8:[C,m,u.eU]},{name:[2,1],B8:[m,u.eU],ZR:!0},{name:[2,11],B8:[C,m,u.LN],ZR:!0,mG:!0,P:function(Q,p){return{P:eq.a6D(Q)&&p.Oj!=b.l7}}},{name:[5,0],B8:[m,u.xL]},{name:[5,1],B8:[m,u.c5]},{name:[5,7],B8:[C,m,u.c5]},{name:[5,2],B8:[m,u.IQ],P:function(Q,p){return{P:f.VP()||p.iy!=null||p.RA!=null||p.adt!=null}}},{name:[2,2],P:function(Q){return{P:Q!=null&&Q.q!=null}},B8:"Delete",ZR:!0},{name:[2,3],P:function(Q){return{P:Q!=null}},mG:!0,B8:[C,u.dJ]},{name:[14,9],P:function(Q){return{P:Q!=null}},mG:!0,ZR:!0},{name:[10,48],P:function(Q){return{P:Q!=null&&Q.w0(!1)}}},{name:[10,46],P:function(Q){return{P:b.Fy.$s(Q)}}},{name:[10,16],B8:[Z,m,u.zi]},{name:[2,4],sub:jb.a4Y()},{name:[2,10,1]},{name:[2,10,0],ZR:!0},{name:[12,87],sub:[{name:[12,62],P:function(Q){return{P:Q!=null}}},{name:[9,3],P:function(Q){return{P:Q!=null}}},{name:[10,31],P:function(Q){return{P:Q!=null&&Q.yG()[1].length!=0}}}]},{name:[1,15],mG:!0},{name:[12,79],mG:!0,B8:[m,u.Lt]},{name:[1,13],mG:!0}],hp:[{W:r.E.H,b:b.fn,R:{d:"h_undoredo"}},{W:r.E.H,b:b.fn,R:{d:"h_stepfwd"}},{W:r.E.H,b:b.fn,R:{d:"h_stepbck"}},{W:r.E.z,R:{d:r.J.zH,E$:"afw_fade"}},{W:r.E.z,R:{d:r.J.ck}},{W:r.E.z,R:{d:r.J.TN}},{W:r.E.z,R:{d:r.J.TN,s_:!0}},{W:r.E.z,R:{d:r.J.Dr}},{W:r.E.od,R:{ZO:"delete"}},{W:r.E.z,R:{d:r.J.zH,E$:"fill"}},{W:r.E.z,R:{d:r.J.zH,E$:"stroke"}},{W:r.E.z,R:{d:r.J.K3,b:b.au}},{W:r.E.H,b:b.zz,R:{d:"start",Bp:"rigidTransform"}},{W:r.E.z,R:{d:r.J.K3,b:b.l7}},{sub:jb.a1i()},{W:r.E.od,R:{ZO:"align",yS:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{W:r.E.H,b:b.IZ,R:{d:F.L3}},{sub:[{W:r.E.z,R:{d:r.J.KA,no:0}},{W:r.E.z,R:{d:r.J.KA,no:1}},{W:r.E.z,R:{d:r.J.KA,no:2}}]},{W:r.E.z,R:{d:r.J.zH,E$:"pmanager"}},{W:r.E.z,R:{d:r.J.zH,E$:"preferences"}},{W:r.E.z,R:{d:r.J.zH,E$:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var Q=[];
for(var p in b1.names){Q.push({name:b1.names[p],mG:t[p]!=null,B8:b1.keys[p],ZR:b1.O5.indexOf(p)!=-1});
if(p=="selc"){Q.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],mG:!0,ZR:!0});Q.push({name:[19,7,0],B8:[m,C,u.BB],P:function(p){return{P:p&&p.w.length!=0&&p.g[p.w[0]].add.SoLd==null}}});
Q.push({name:[4,18],mG:!0})}}return Q}()},{name:[4,16,0],P:function(Q){return{P:Q!=null&&Q.w0(!1)}}},{name:[4,16,1],P:function(Q){return{P:Q!=null&&Q.w0(!1)}}},{name:[4,16,2],P:function(Q){return{P:Q!=null&&Q.w0(!1)}},ZR:!0},{name:[11,11,1],P:function(Q){return{P:Q!=null&&Q.w0(!1)}}},{name:[11,11,0],P:function(Q){return{P:Q!=null&&Q.w0(!1)}},ZR:!0},{name:[11,3],mG:!0,B8:[Z,m,u.c5]},{name:[11,10],mG:!0,B8:[Z,m,u.El]},{name:[2,4],sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],P:function(Q){return{P:Q!=null&&Q.q!=null}}},{name:[11,12,0],P:function(Q){return{P:Q!=null}},B8:[m,u.VA],mG:!0},{name:[11,12,2],P:function(Q){return{P:Q!=null}},ZR:!0},{name:[2,12],P:function(Q){return{P:Q!=null&&Q.w0(!1)}},mG:!0}],hp:[{sub:function(){var Q=[];
for(var p in b1.names){Q.push({W:r.E.H,b:b.ks,R:{d:"start",gD:p}});if(p=="selc"){Q.push({W:r.E.H,b:b.zz,R:{d:"start",Bp:"adaptCorrect"}});
Q.push({W:r.E.od,R:{ZO:"desaturate"}});Q.push({W:r.E.H,b:b.ks,R:{d:"start",gD:"matc"}})}}return Q}()},{W:r.E.od,R:{ZO:"levels",yS:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{W:r.E.od,R:{ZO:"levels",yS:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{W:r.E.od,R:{ZO:"levels",yS:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{W:r.E.z,R:{d:r.J.zH,E$:"rcolors"}},{W:r.E.z,R:{d:r.J.zH,E$:"vbitmap"}},{W:r.E.z,R:{d:r.J.zH,E$:"csize"}},{W:r.E.z,R:{d:r.J.zH,E$:"isize"}},{sub:[{W:r.E.od,R:b.Q.MF(!0,90)},{W:r.E.od,R:b.Q.MF(!0,-90)},{W:r.E.od,R:b.Q.MF(!0,-180)},{W:r.E.od,R:b.Q.MF(!1,"Hrzn")},{W:r.E.od,R:b.Q.MF(!1,"Vrtc")}]},{W:r.E.H,b:b.VC,R:{d:"cropbysel",aiy:0}},{W:r.E.z,R:{d:r.J.zH,E$:"trim"}},{W:r.E.od,R:{ZO:"revealAll",yS:{classID:"RvlA"}}},{W:r.E.H,b:b.ks,R:{d:"start",gD:"aply"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3],B8:[C,m,u.M8]},{name:[0,4],ZR:!0},{name:[6,49,0],B8:[m,u.aD]},{name:[6,49,1],B8:[C,m,u.aD],P:function(Q){return{P:Q!=null&&Q.q!=null&&Q.w0(!1)}}}]},{name:[6,0],P:q,B8:[m,u.aD]},{name:[11,4],P:q},{name:[5,4],P:q,ZR:!0},{name:[11,6],ZR:!0,P:q,sub:c$.Yy(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],ZR:!0,sub:c$.aiK()},{name:[6,2],sub:[{name:[6,4],P:function(Q){return{P:Q!=null&&Q.w.length!=0&&Q.g[Q.w[0]].Te()==null}}},{name:[6,5,0],P:function(Q){return{P:Q!=null&&Q.w.length!=0&&Q.g[Q.w[0]].Te()==null}}},{name:[6,5,1],P:function(Q){return{P:Q!=null&&Q.w.length!=0&&Q.g[Q.w[0]].Te()==null&&Q.q!=null}}},{name:[6,5,2],P:function(Q){return{P:Q!=null&&Q.w.length!=0&&Q.g[Q.w[0]].Te()==null&&Q.q!=null}}},{name:[6,5,3],P:function(Q){return{P:Q!=null&&Q.w.length!=0&&Q.g[Q.w[0]].Te()==null}},ZR:!0},{name:[5,4],P:function(Q){return{P:Q!=null&&Q.w.length!=0&&Q.g[Q.w[0]].Te()!=null}}},{name:[5,8],P:function(Q){return{P:Q!=null&&Q.w.length!=0&&Q.g[Q.w[0]].Te()!=null&&Q.w0(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],P:function(Q){return{P:Q!=null&&Q.w.length!=0&&Q.g[Q.w[0]].Te()!=null}}}]},{name:[6,3],sub:[{name:[6,4],P:function(Q){return{P:Q!=null&&Q.w.length!=0&&Q.g[Q.w[0]].add.vmsk==null}}},{name:[6,5,0],P:function(Q){return{P:Q!=null&&Q.w.length!=0&&Q.g[Q.w[0]].add.vmsk==null}}},{name:"Current Path",P:function(Q){return{P:Q!=null&&Q.w.length!=0&&Q.g[Q.w[0]].add.vmsk==null}},ZR:!0},{name:[5,4],P:function(Q){return{P:Q!=null&&Q.w.length!=0&&Q.g[Q.w[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],P:function(Q){return{P:Q!=null&&Q.w.length!=0&&Q.g[Q.w[0]].add.vmsk!=null}}}]},hK.a2P(!0),{name:[6,7,1],ZR:!0,sub:[{name:[6,7,0]},{name:[6,36,4],P:J,sub:A},{name:[1,0],P:J,ZR:!0},{name:"Turn into JPG"}]},{name:[6,8],P:hK.aqK},{name:[6,34],ZR:!0,P:function(Q){if(Q==null||Q.w.length==0)return{P:!1};
var p=Q.g[Q.w[0]];return{P:p.add.lmfx!=null&&!p.ld()}}},{name:[6,9],ZR:!0,B8:[m,u.re]},{name:[6,55],ZR:!0,sub:[{name:[6,56,0],B8:[C,m,u.F0]},{name:[6,56,1],B8:[m,u.F0]},{name:[6,56,2],B8:[m,u.wx]},{name:[6,56,3],B8:[C,m,u.wx]}]},{name:[6,58],sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,10],P:function(Q){return{P:Q!=null&&Q.w.length==1&&Q.w[0]!=0&&!Q.g[Q.w[0]].ld()}},B8:[m,u.E]},{name:[6,12,0],P:function(Q){return{P:Q!=null&&Q.w.length!=0&&(Q.w.length>1||Q.g[Q.w[0]].ld())}}},{name:[6,12,1]},{name:"Defringe"}],hp:[{sub:[{W:r.E.H,b:b.IZ,R:{d:F.O1}},{W:r.E.H,b:b.IZ,R:{d:F.Zb}},{W:r.E.od,R:{ZO:"copyToLayer"}},{W:r.E.od,R:{ZO:"cutToLayer"}}]},{W:r.E.H,b:b.IZ,R:{d:F.Gx}},{W:r.E.z,R:{d:r.J.zH,E$:"duplinto"}},{W:r.E.H,b:b.IZ,R:{d:F.Sz}},{sub:c$.Kg(!0)},{sub:[{W:r.E.H,b:b.e9,R:{d:"newfill",X1:0}},{W:r.E.od,R:b.kp.ij(1)},{W:r.E.od,R:b.kp.ij(2)}]},{sub:c$.rH()},{sub:[{W:r.E.H,b:b.IZ,R:{d:F.Nx,xk:"RvlA"}},{W:r.E.H,b:b.IZ,R:{d:F.Nx,xk:"HdAl"}},{W:r.E.H,b:b.IZ,R:{d:F.Nx,xk:"RvlS"}},{W:r.E.H,b:b.IZ,R:{d:F.Nx,xk:"HdSl"}},{W:r.E.H,b:b.IZ,R:{d:F.Nx,xk:"Trns"}},{W:r.E.H,b:b.IZ,R:{d:F.bk}},{W:r.E.H,b:b.IZ,R:{d:F.eN}},{W:r.E.H,b:b.IZ,R:{d:F.vf}}]},{sub:[{W:r.E.H,b:b.IZ,R:{d:F.sR,aa1:!1}},{W:r.E.H,b:b.IZ,R:{d:F.sR,aa1:!0}},{W:r.E.H,b:b.IZ,R:{d:F.sR,a4j:!0}},{W:r.E.H,b:b.IZ,R:{d:F.Ws}},{W:r.E.H,b:b.IZ,R:{d:F.y5}}]},{W:r.E.H,b:b.IZ,R:{d:F.A8}},{sub:[{W:r.E.od,R:{ZO:"newPlacedLayer"}},{sub:n},{W:r.E.od,R:{ZO:"placedLayerEditContents",yS:{classID:"placedLayerEditContents"}}},{W:r.E.H,b:b.IZ,R:{d:F.lM}}]},{W:r.E.od,R:{ZO:"rasterizeLayer",yS:{classID:"rasterizeLayer",null:hc.Q3("Lyr",!0)}}},{W:r.E.H,b:b.IZ,R:{d:F.cv}},{W:r.E.H,b:b.IZ,R:{d:F.KH}},{sub:[{W:r.E.H,b:b.IZ,R:{d:F.Sk,OY:0}},{W:r.E.H,b:b.IZ,R:{d:F.Sk,OY:1}},{W:r.E.H,b:b.IZ,R:{d:F.Sk,OY:2}},{W:r.E.H,b:b.IZ,R:{d:F.Sk,OY:3}}]},{sub:[{W:r.E.H,b:b.IZ,R:{d:F.BZ,OY:"makeframes"}},{W:r.E.H,b:b.IZ,R:{d:F.BZ,OY:"unmakeframes"}},{W:r.E.H,b:b.IZ,R:{d:F.BZ,OY:"merge"}}]},{W:r.E.H,b:b.IZ,R:{d:F.BY}},{W:r.E.H,b:b.IZ,R:{d:F.oQ}},{W:r.E.od,R:{ZO:"flattenImage"}},{W:r.E.H,b:b.zz,R:{d:"start",Bp:"defr"}}]},eU.ash(!1),function(){var Q={name:[0,6],items:[{name:[24,18,4],B8:[Z,m,u.LN],ZR:!0}],hp:[{W:r.E.H,b:b.zz,R:{d:"applylast"}}]};
for(var D=0;D<a7.Bc.length;D++){var p=a7.Bc[D];if(p.am!=null){Q.items.push({name:a7.names[p.am],mG:!0,ZR:p.ZR});
Q.hp.push({W:r.E.H,b:b.zz,R:{d:"start",Bp:p.am}});continue}var B={name:p.TB,sub:[]};Q.items.push(B);
var $={sub:[]};Q.hp.push($);for(var R=0;R<p.FE.length;R++){var z={name:a7.names[p.FE[R]],mG:a7.Qv(p.FE[R])!=null};
B.sub.push(z);var v={W:r.E.H,b:b.zz,R:{d:"start",Bp:p.FE[R]}};$.sub.push(v)}}return Q}(),{name:[0,7],items:[{name:[8,0],B8:[m,u.IA]},{name:[8,1],B8:[m,u.Tw]},{name:[20,3],B8:[m,u.KZ]},{name:[20,2],B8:[m,u.Tx],ZR:!0},{name:"Screen Mode",ZR:!0,sub:[{name:"Fullscreen",P:function(Q,p){return{XH:document.fullscreenElement!=null}},ZR:!0},{name:"Standard",P:function(Q,p){return{XH:p.If==0}}},{name:"Menu Bar and Canvas",P:function(Q,p){return{XH:p.If==1}}}]},{name:[8,13],B8:[m,u.oF],P:function(Q,p){return{XH:p.YC}}},{name:[8,12],ZR:!0,sub:[{name:[17,2],P:function(Q,p){return{P:p.YC,XH:p.SM.EJ}}},{name:[8,9],P:function(Q,p){return{P:p.YC,XH:p.SM.kL}}},{name:[8,2],P:function(Q,p){return{P:p.YC,XH:p.SM.lZ}},B8:[m,u.A2]},{name:[8,4],P:function(Q,p){return{P:p.YC,XH:p.SM.eT}},B8:[m,u.es]},{name:[8,8],P:function(Q,p){return{P:p.YC,XH:p.SM.a5}}},{name:[8,11,0],P:function(Q,p){return{P:p.YC,XH:p.SM.$o}}}]},{name:[8,3],P:function(Q,p){return{XH:p.SQ}},B8:[m,u.Sc],ZR:!0},{name:[8,5],P:function(Q,p){return{XH:p.Kc}}},{name:[8,6],ZR:!0,sub:[{name:[8,2],P:function(Q,p){return{XH:p.rY[0]}}},{name:[8,4],P:function(Q,p){return{XH:p.rY[1]}}},{name:[9,1],P:function(Q,p){return{XH:p.rY[2]}}},{name:[8,11,0],P:function(Q,p){return{XH:p.rY[3]}}},{name:[8,7],P:function(Q,p){return{XH:p.rY[4]}}}]},{name:[11,15,2],P:function(Q,p){return{P:Q!=null,XH:Q!=null&&Q.Uu}}},{name:[11,15,0],P:function(Q,p){return{P:Q!=null}}},{name:[11,14],P:function(Q,p){return{P:Q!=null}},mG:!0},{name:[11,15,1],P:function(Q,p){return{P:Q!=null&&Q.w.length!=0}},ZR:!0},{name:[8,11,2],P:function(Q,p){return{P:Q!=null&&Q.$o.length!=0}}}],hp:[{W:r.E.H,b:b.Uz,R:{d:"zoom",_o:!0}},{W:r.E.H,b:b.Uz,R:{d:"zoom",_o:!1}},{W:r.E.H,b:b.Uz,R:{d:"adapt",k:"fitscr"}},{W:r.E.H,b:b.Uz,R:{d:"adapt",k:"pixel"}},{sub:[{W:r.E.z,R:{d:r.J.QK,hM:!0}},{W:r.E.z,R:{d:r.J.QK,k:0}},{W:r.E.z,R:{d:r.J.QK,k:1}},{W:r.E.z,R:{d:r.J.QK,k:2}}]},{W:r.E.z,R:{d:r.J.mh,no:jO.e6}},{sub:[{W:r.E.z,R:{d:r.J.mh,no:jO.V2}},{W:r.E.z,R:{d:r.J.mh,no:jO.hm}},{W:r.E.z,R:{d:r.J.mh,no:jO.Cm}},{W:r.E.z,R:{d:r.J.mh,no:jO.pO}},{W:r.E.z,R:{d:r.J.mh,no:jO.Nw}},{W:r.E.z,R:{d:r.J.mh,no:jO.lW}}]},{W:r.E.z,R:{d:r.J.mh,no:jO.Th}},{W:r.E.z,R:{d:r.J.mh,no:jO.wR}},{sub:[{W:r.E.z,R:{d:r.J.mh,no:jO.mO,na:0}},{W:r.E.z,R:{d:r.J.mh,no:jO.mO,na:1}},{W:r.E.z,R:{d:r.J.mh,no:jO.mO,na:2}},{W:r.E.z,R:{d:r.J.mh,no:jO.mO,na:3}},{W:r.E.z,R:{d:r.J.mh,no:jO.mO,na:4}}]},{W:r.E.H,b:b.Iw,R:{d:"lockguides"}},{W:r.E.H,b:b.Iw,R:{d:"gids",Sw:[[],[]]}},{W:r.E.z,R:{d:r.J.zH,E$:"addguides"}},{W:r.E.H,b:b.Iw,R:{d:"gidsFromLayer"}},{W:r.E.H,b:b.e4,R:{d:"deleteAll"}}]},function(){var Q={name:[0,8],items:[{name:[0,14],ZR:!0,sub:[]}],hp:[{sub:[]}]};
for(var D=0;D<hW.Fu.length;D++){var p=hW.Fu[D],B=function(){var $=p.Vl.y4;return function(R,z){return{XH:z.P5.indexOf(parseInt($))!=-1}}}();
(p.YE?Q.items[0].sub:Q.items).push({name:p.Vl.name,P:B});(p.YE?Q.hp[0].sub:Q.hp).push({W:r.E.z,R:{d:r.J.lO,E$:p.Vl.y4}})}return Q}(),function(){var Q={name:[0,14],items:[],hp:[]},p={name:[0,9],sub:[]};
Q.items.push(p);var B={sub:[]};Q.hp.push(B);var $=jg.ago();for(var D=0;D<$.length;D++){var R=$[D],z=R.code,a=jg.ts(z);
p.sub.push({name:R.name,B8:z,P:function(X,V){return{XH:this.B8==jg.WS()}}});B.sub.push({W:r.E.z,R:{d:r.J.mh,no:jO.gX,lang:a}})}p.sub.push({name:[0,12]});
B.sub.push({W:r.E.z,R:{d:r.J.VR,link:"https://www.photopea.com/translate/"}});var p={name:[0,15],sub:[]};
Q.items.push(p);var B={sub:[]};Q.hp.push(B);for(var D=0;D<dF.Kz.length;D++){p.sub.push({name:dF.Kz[D].name,P:function(X,V){return{XH:this.name==dF.Kz[V.nv].name}}});
B.sub.push({W:r.E.z,R:{d:r.J.mh,no:jO.T3,nv:D}})}Q.items.push({name:[0,17,6],P:function(X,V){return{P:V.y8!=null}}});
Q.hp.push({W:r.E.z,R:{d:r.J.ahC}});Q.items.push({name:[11,13]});Q.hp.push({W:r.E.z,R:{d:r.J.zH,E$:"shortcuts"}});
Q.items.push({name:[0,16],P:function(X){return{XH:H.GL,P:H.Bn}},ZR:!0});Q.hp.push({W:r.E.z,R:{d:r.J.a0L}});
Q.items.push({name:"",P:function(X,V){return V.qO?{hD:"About Photopea",P:!0}:{hD:"",P:!1}}});Q.hp.push({W:r.E.z,R:{d:r.J.zH,E$:"aboutpp"}});
return Q}()]}();function g6(){bK.call(this);this.m=f.L("div","");this.JB=0;this.AR=0;this.sU=null;this.ne=f.L("div","");
this.ne.setAttribute("style","width:200em; height:100em; position:absolute;");this.Ue=[];this._C=[];
this.me={}}g6.prototype=new bK;g6.prototype.T1=function(u){var m=Date.now(),C=[];if(u=="-")C=[new ew,new ab,new j2,new jc,new iQ,new d5,new h8,new c7,new e5,new ed,new dQ,new aL,new b3,new gv,new aD,new c$,new cO,new ez,new bo,new j5,new gf,new dO,new gg,new hY,new eB,new bq,new aW(!1),new aW(!0),new bA(0),new bA(1),new gF,new cL,new js,new jp,new cK,new aj,new jq,new di,new iz,new cf,new bt("border",[7,9],"px"),new bt("smoothness",[19,3,0],"px"),new bt("expand",[7,4],"px"),new bt("contract",[7,5],"px"),new bt("feather",[7,6],"px"),new jU(0,"namewindow",[12,48]),new jU(2,"billto","Bill To"),new jU(1,"cornerradius",[12,94,0],"px",!0,!0),new jU(1,"scaleeffects","Scale Effects","%",!0),new jU(1,"doczoom","Zoom","%",!0)];
else C=[new eq(u.slice(4))];this.a5Z(C);this.me[u]=!0};g6.prototype.a5Z=function(u){var m=this.sU;for(var D=0;
D<u.length;D++){var C=u[D];C.parent=this;this._C.push(C);this.nk(C);C._();if(m)C.vZ(m,jO.LY);C.l(r.E.t3,this.eQ,this)}};
g6.prototype.CC=function(u,m){this.JB=u;this.AR=m;for(var D=0;D<this._C.length;D++)this.nk(this._C[D])};
g6.prototype._=function(){for(var D=0;D<this._C.length;D++)this._C[D]._()};g6.prototype.Wt=function(){return this.Ue.length==0?null:this.Ue[this.Ue.length-1]};
g6.prototype.sZ=function(){for(var D=0;D<this.Ue.length;D++)if(this.Ue[D].sZ())return!0;return!1};g6.prototype.ahF=function(u,m,C,Z,q){var J=u.startsWith("afw_"),A=null;
if(!J&&!this.me["-"])this.T1("-");if(J&&!this.me[u])this.T1(u);if(typeof u=="object"){A=u;if(!A.a6d(r.E.t3,this.eQ))A.l(r.E.t3,this.eQ,this);
A.parent=this}else for(var D=0;D<this._C.length;D++)if(this._C[D].id==u)A=this._C[D];if(this.sZ()&&A.sZ()){alert("Finish the current action first");
return}if(!A.dK(m))return;if(this.Ue.indexOf(A)!=-1){if(u=="colorpicker")A.B6(m,C,Z,q);return}var n=this.Ue.length-1;
if(n>=0)f.Ky(this.Ue[n].m,"wdisabled");this.m.appendChild(A.m);this.Ue.push(A);this.nk(A);A.B6(m,C,Z,q)};
g6.prototype.nk=function(u){var m=this.JB,C=this.AR,Z=u.Gb(m,C),q;if(Z!=null){q=Z}else{Z=new dz(0,0);
q=u.aqY();if(q==null){var J=this.Ue.indexOf(u)+1;if(m<450||C<450)q=new dz(0,0);else q=new dz(J*150,J*150)}}u.m.style.left=q.x+"px";
u.m.style.top=this.m.offsetTop+q.y+"px";u.CC(this.JB-Z.x*2,this.AR-Z.y*2-34)};g6.prototype.vZ=function(u,m){this.sU=u;
for(var D=0;D<this._C.length;D++)this._C[D].vZ(u,m)};g6.prototype.eQ=function(u){var m=this.Ue.pop();
this.m.removeChild(m.m);var C=this.Ue.length-1;if(C>=0)f.Jq(this.Ue[C].m,"wdisabled");if(this.ne.parentNode==this.m)this.m.removeChild(this.ne)};
window.onload=function(){document.body.appendChild(new br().m)}}())